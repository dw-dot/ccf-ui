<div class="ccf-ui-body wrapper">
  <div class="container">
    <div class="body-details-container">
      <svg class="body" viewBox="0 0 500 1000">
        <use attr.href="{{ bodyImagePath$ | async }}body.svg#body" #image></use>
        <ng-container *ngFor="let overlay of bodyOverlays$ | async">
          <use class="overlay" attr.href="{{ overlay.path }}#overlay"
            [routerLink]="navigator.createOrganPath(overlay.id)" (mouseenter)="organHover(overlay.id)"
            (mouseleave)="clearOrganHover()" #overlayElem></use>
          <g *ngIf="bodyService.getCounts(overlay) | async as counts" ccf-callout class="callout" [boundary]="image"
            [centroid]="overlayElem" forcePosition="left">
            <xhtml:div>
              {{ counts.patientsCount }} <strong>{{ pluralizeSuffix(counts.patientsCount, 'Patient') }}</strong><br />
              {{ pluralize(counts.tissueSamplesCount, 'Tissue sample') }} <br />
              {{ pluralize(counts.tissueSlicesCount, 'Tissue slice') }}<br />
              {{ pluralize(counts.tissueImagesCount, 'Tissue image') }}<br />
              {{ pluralize(counts.cells, 'Cell') }}
            </xhtml:div>
          </g>
        </ng-container>
      </svg>
      <div class="organ-metadata" *ngIf="metadata">
        <div class="body">
          <div class="header">
            <div class="heading">ORGAN:</div>
            <div class="organ">{{ capitalize(hoverOrganName) }}</div>
          </div>
          <ccf-metadata [metadata]="metadata"></ccf-metadata>
        </div>
      </div>
    </div>
  </div>
</div>
