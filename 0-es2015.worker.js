!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,(function(t){return e[t]}).bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="7N0h")}({"+2nh":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n("FZPO");class i{fromRdf(e,t){switch(t&&!e.value.match(i.VALIDATORS[e.datatype.value.substr(33,e.datatype.value.length)])&&r.Translator.incorrectRdfDataType(e),e.datatype.value){case"http://www.w3.org/2001/XMLSchema#gDay":return new Date(0,0,parseInt(e.value,10));case"http://www.w3.org/2001/XMLSchema#gMonthDay":const t=e.value.split("-");return new Date(0,parseInt(t[0],10)-1,parseInt(t[1],10));case"http://www.w3.org/2001/XMLSchema#gYear":return new Date(e.value+"-01-01");case"http://www.w3.org/2001/XMLSchema#gYearMonth":return new Date(e.value+"-01");default:return new Date(e.value)}}toRdf(e,{datatype:t,dataFactory:n}){if(t=t||n.namedNode(i.TYPES[0]),!(e instanceof Date))return null;const r=e;let o;switch(t.value){case"http://www.w3.org/2001/XMLSchema#gDay":o=String(r.getUTCDate());break;case"http://www.w3.org/2001/XMLSchema#gMonthDay":o=r.getUTCMonth()+1+"-"+r.getUTCDate();break;case"http://www.w3.org/2001/XMLSchema#gYear":o=String(r.getUTCFullYear());break;case"http://www.w3.org/2001/XMLSchema#gYearMonth":o=r.getUTCFullYear()+"-"+(r.getUTCMonth()+1);break;case"http://www.w3.org/2001/XMLSchema#date":o=r.toISOString().replace(/T.*$/,"");break;default:o=r.toISOString()}return n.literal(o,t)}}t.TypeHandlerDate=i,i.TYPES=["http://www.w3.org/2001/XMLSchema#dateTime","http://www.w3.org/2001/XMLSchema#date","http://www.w3.org/2001/XMLSchema#gDay","http://www.w3.org/2001/XMLSchema#gMonthDay","http://www.w3.org/2001/XMLSchema#gYear","http://www.w3.org/2001/XMLSchema#gYearMonth"],i.VALIDATORS={date:/^[0-9]+-[0-9][0-9]-[0-9][0-9]Z?$/,dateTime:/^[0-9]+-[0-9][0-9]-[0-9][0-9]T[0-9][0-9]:[0-9][0-9]:[0-9][0-9](\.[0-9][0-9][0-9])?((Z?)|([\+-][0-9][0-9]:[0-9][0-9]))$/,gDay:/^[0-9]+$/,gMonthDay:/^[0-9]+-[0-9][0-9]$/,gYear:/^[0-9]+$/,gYearMonth:/^[0-9]+-[0-9][0-9]$/}},"04/w":function(e,t){function n(e){Object.defineProperty(this,"_next",{writable:!1,enumerable:!1,value:e}),this.done=!1}n.prototype.next=function(){if(this.done)return{done:!0};var e=this._next();return e.done&&(this.done=!0),e},"undefined"!=typeof Symbol&&(n.prototype[Symbol.iterator]=function(){return this}),n.of=function(){var e=arguments,t=e.length,r=0;return new n((function(){return r>=t?{done:!0}:{done:!1,value:e[r++]}}))},n.empty=function(){var e=new n(null);return e.done=!0,e},n.is=function(e){return e instanceof n||"object"==typeof e&&null!==e&&"function"==typeof e.next},e.exports=n},"12xR":function(e,t){function n(){this.value=""}n.prototype.equals=function(e){return!!e&&e.termType===this.termType},n.prototype.termType="DefaultGraph",e.exports=n},"4cw7":function(e,t,n){var r=n("12xR");function i(e,t,n,i){this.subject=e,this.predicate=t,this.object=n,this.graph=i||new r}i.prototype.equals=function(e){return!!e&&e.subject.equals(this.subject)&&e.predicate.equals(this.predicate)&&e.object.equals(this.object)&&e.graph.equals(this.graph)},e.exports=i},"6smP":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class r{fromRdf(e){return e.value}toRdf(e,{datatype:t,dataFactory:n}){return n.literal(e,t)}}t.TypeHandlerString=r,r.TYPES=["http://www.w3.org/2001/XMLSchema#string","http://www.w3.org/2001/XMLSchema#normalizedString","http://www.w3.org/2001/XMLSchema#anyURI","http://www.w3.org/2001/XMLSchema#base64Binary","http://www.w3.org/2001/XMLSchema#language","http://www.w3.org/2001/XMLSchema#Name","http://www.w3.org/2001/XMLSchema#NCName","http://www.w3.org/2001/XMLSchema#NMTOKEN","http://www.w3.org/2001/XMLSchema#token","http://www.w3.org/2001/XMLSchema#hexBinary","http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","http://www.w3.org/2001/XMLSchema#time","http://www.w3.org/2001/XMLSchema#duration"]},"7N0h":function(e,t,n){"use strict";function r(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}n.r(t);var i=n("JFj6");function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function u(e,t,n){return(u=s()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&a(i,n.prototype),i}).apply(null,arguments)}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){if(!e)throw new Error("math.gl assertion ".concat(t))}Math;var h=1/180*Math.PI,d={};function f(e){return Math.round(e/d.EPSILON)*d.EPSILON}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.precision,r=void 0===n?d.precision||4:n;return e=f(e),"".concat(parseFloat(e.toPrecision(r)))}function g(e){return Array.isArray(e)||ArrayBuffer.isView(e)&&!(e instanceof DataView)}function y(e){return function(e,t){return function(e,t,n){if(g(e)){n=n||((i=e).clone?i.clone():new Array(i.length));for(var r=0;r<n.length&&r<e.length;++r)n[r]=t(e[r]);return n}var i;return t(e)}(e,(function(e){return e*h}),void 0)}(e)}function v(e,t,n){var r=d.EPSILON;n&&(d.EPSILON=n);try{if(e===t)return!0;if(g(e)&&g(t)){if(e.length!==t.length)return!1;for(var i=0;i<e.length;++i)if(!v(e[i],t[i]))return!1;return!0}return e&&e.equals?e.equals(t):t&&t.equals?t.equals(e):!(!Number.isFinite(e)||!Number.isFinite(t))&&Math.abs(e-t)<=d.EPSILON*Math.max(1,Math.abs(e),Math.abs(t))}finally{d.EPSILON=r}}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e,t,n){return t&&w(e.prototype,t),n&&w(e,n),e}function S(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}function E(e,t){if(e.length!==t)return!1;for(var n=0;n<e.length;++n)if(!Number.isFinite(e[n]))return!1;return!0}function T(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(d.debug&&!E(e,t))throw new Error("math.gl: ".concat(n," some fields set to invalid numbers'"));return e}d.EPSILON=1e-12,d.debug=!1,d.precision=4,d.printTypes=!1,d.printDegrees=!1,d.printRowMajor=!0;var N={};function j(e,t){N[e]||(N[e]=!0,console.warn("".concat(e," has been removed in version ").concat(t,", see upgrade guide for more information")))}function I(e){var t="function"==typeof Map?new Map:void 0;return(I=function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return u(e,arguments,_(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),a(n,e)})(e)}var k,A=function(e){function t(){return b(this,t),m(this,_(t).apply(this,arguments))}return S(t,e),x(t,[{key:"toString",value:function(){var e="[";if(d.printRowMajor){e+="row-major:";for(var t=0;t<this.RANK;++t)for(var n=0;n<this.RANK;++n)e+=" ".concat(this[n*this.RANK+t])}else{e+="column-major:";for(var r=0;r<this.ELEMENTS;++r)e+=" ".concat(this[r])}return e+"]"}},{key:"getElementIndex",value:function(e,t){return t*this.RANK+e}},{key:"getElement",value:function(e,t){return this[t*this.RANK+e]}},{key:"setElement",value:function(e,t,n){return this[t*this.RANK+e]=function(e){if(!Number.isFinite(e))throw new Error("Invalid number ".concat(e));return e}(n),this}},{key:"getColumn",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Array(this.RANK).fill(-0),n=e*this.RANK,r=0;r<this.RANK;++r)t[r]=this[n+r];return t}},{key:"setColumn",value:function(e,t){for(var n=e*this.RANK,r=0;r<this.RANK;++r)this[n+r]=t[r];return this}}]),t}(function(e){function t(){return b(this,t),m(this,_(t).apply(this,arguments))}return S(t,e),x(t,[{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"from",value:function(e){return Array.isArray(e)?this.copy(e):this.fromObject(e)}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<this.ELEMENTS;++n)this[n]=e[n+t];return this.check()}},{key:"to",value:function(e){return e===this?this:g(e)?this.toArray(e):this.toObject(e)}},{key:"toTarget",value:function(e){return e?this.to(e):this}},{key:"toArray",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<this.ELEMENTS;++n)e[t+n]=this[n];return e}},{key:"toFloat32Array",value:function(){return new Float32Array(this)}},{key:"toString",value:function(){return this.formatString(d)}},{key:"formatString",value:function(e){for(var t="",n=0;n<this.ELEMENTS;++n)t+=(n>0?", ":"")+p(this[n],e);return"".concat(e.printTypes?this.constructor.name:"","[").concat(t,"]")}},{key:"equals",value:function(e){if(!e||this.length!==e.length)return!1;for(var t=0;t<this.ELEMENTS;++t)if(!v(this[t],e[t]))return!1;return!0}},{key:"exactEquals",value:function(e){if(!e||this.length!==e.length)return!1;for(var t=0;t<this.ELEMENTS;++t)if(this[t]!==e[t])return!1;return!0}},{key:"negate",value:function(){for(var e=0;e<this.ELEMENTS;++e)this[e]=-this[e];return this.check()}},{key:"lerp",value:function(e,t,n){void 0===n&&(n=t,t=e,e=this);for(var r=0;r<this.ELEMENTS;++r){var i=e[r];this[r]=i+n*(t[r]-i)}return this.check()}},{key:"min",value:function(e){for(var t=0;t<this.ELEMENTS;++t)this[t]=Math.min(e[t],this[t]);return this.check()}},{key:"max",value:function(e){for(var t=0;t<this.ELEMENTS;++t)this[t]=Math.max(e[t],this[t]);return this.check()}},{key:"clamp",value:function(e,t){for(var n=0;n<this.ELEMENTS;++n)this[n]=Math.min(Math.max(this[n],e[n]),t[n]);return this.check()}},{key:"add",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0,i=t;r<i.length;r++)for(var o=i[r],a=0;a<this.ELEMENTS;++a)this[a]+=o[a];return this.check()}},{key:"subtract",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0,i=t;r<i.length;r++)for(var o=i[r],a=0;a<this.ELEMENTS;++a)this[a]-=o[a];return this.check()}},{key:"scale",value:function(e){if(Array.isArray(e))return this.multiply(e);for(var t=0;t<this.ELEMENTS;++t)this[t]*=e;return this.check()}},{key:"sub",value:function(e){return this.subtract(e)}},{key:"setScalar",value:function(e){for(var t=0;t<this.ELEMENTS;++t)this[t]=e;return this.check()}},{key:"addScalar",value:function(e){for(var t=0;t<this.ELEMENTS;++t)this[t]+=e;return this.check()}},{key:"subScalar",value:function(e){return this.addScalar(-e)}},{key:"multiplyScalar",value:function(e){for(var t=0;t<this.ELEMENTS;++t)this[t]*=e;return this.check()}},{key:"divideScalar",value:function(e){return this.scale(1/e)}},{key:"clampScalar",value:function(e,t){for(var n=0;n<this.ELEMENTS;++n)this[n]=Math.min(Math.max(this[n],e),t);return this.check()}},{key:"multiplyByScalar",value:function(e){return this.scale(e)}},{key:"check",value:function(){if(d.debug&&!this.validate())throw new Error("math.gl: ".concat(this.constructor.name," some fields set to invalid numbers'"));return this}},{key:"validate",value:function(){for(var e=this.length===this.ELEMENTS,t=0;t<this.ELEMENTS;++t)e=e&&Number.isFinite(this[t]);return e}},{key:"ELEMENTS",get:function(){return l(!1),0}},{key:"RANK",get:function(){return l(!1),0}},{key:"elements",get:function(){return this}}]),t}(I(Array))),O="undefined"!=typeof Float32Array?Float32Array:Array;function R(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],c=t[6],l=t[7],h=t[8],d=t[9],f=t[10],p=t[11],g=t[12],y=t[13],v=t[14],b=t[15],m=n[0],_=n[1],w=n[2],x=n[3];return e[0]=m*r+_*s+w*h+x*g,e[1]=m*i+_*u+w*d+x*y,e[2]=m*o+_*c+w*f+x*v,e[3]=m*a+_*l+w*p+x*b,e[4]=(m=n[4])*r+(_=n[5])*s+(w=n[6])*h+(x=n[7])*g,e[5]=m*i+_*u+w*d+x*y,e[6]=m*o+_*c+w*f+x*v,e[7]=m*a+_*l+w*p+x*b,e[8]=(m=n[8])*r+(_=n[9])*s+(w=n[10])*h+(x=n[11])*g,e[9]=m*i+_*u+w*d+x*y,e[10]=m*o+_*c+w*f+x*v,e[11]=m*a+_*l+w*p+x*b,e[12]=(m=n[12])*r+(_=n[13])*s+(w=n[14])*h+(x=n[15])*g,e[13]=m*i+_*u+w*d+x*y,e[14]=m*o+_*c+w*f+x*v,e[15]=m*a+_*l+w*p+x*b,e}function L(e,t,n){var r=n[0],i=n[1],o=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*o,e[9]=t[9]*o,e[10]=t[10]*o,e[11]=t[11]*o,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function C(e,t,n,r,i){var o,a=1/Math.tan(t/2);return e[0]=a/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=i&&i!==1/0?(e[10]=(i+r)*(o=1/(r-i)),e[14]=2*i*r*o):(e[10]=-1,e[14]=-2*r),e}function M(e,t,n,r){var i,o,a,s,u,c,l,h,d,f,p=t[0],g=t[1],y=t[2],v=r[0],b=r[1],m=r[2],_=n[0],w=n[1],x=n[2];return Math.abs(p-_)<1e-6&&Math.abs(g-w)<1e-6&&Math.abs(y-x)<1e-6?function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}(e):(l=p-_,h=g-w,d=y-x,i=b*(d*=f=1/Math.hypot(l,h,d))-m*(h*=f),o=m*(l*=f)-v*d,a=v*h-b*l,(f=Math.hypot(i,o,a))?(i*=f=1/f,o*=f,a*=f):(i=0,o=0,a=0),s=h*a-d*o,u=d*i-l*a,c=l*o-h*i,(f=Math.hypot(s,u,c))?(s*=f=1/f,u*=f,c*=f):(s=0,u=0,c=0),e[0]=i,e[1]=s,e[2]=l,e[3]=0,e[4]=o,e[5]=u,e[6]=h,e[7]=0,e[8]=a,e[9]=c,e[10]=d,e[11]=0,e[12]=-(i*p+o*g+a*y),e[13]=-(s*p+u*g+c*y),e[14]=-(l*p+h*g+d*y),e[15]=1,e)}Math,Math,Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)}),k=new O(2),O!=Float32Array&&(k[0]=0,k[1]=0),function(){var e=new O(3);O!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0)}(),function(){var e=new O(4);O!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0)}();var D=Object.freeze([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),P=Object.freeze([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),B=Object.freeze({COL0ROW0:0,COL0ROW1:1,COL0ROW2:2,COL0ROW3:3,COL1ROW0:4,COL1ROW1:5,COL1ROW2:6,COL1ROW3:7,COL2ROW0:8,COL2ROW1:9,COL2ROW2:10,COL2ROW3:11,COL3ROW0:12,COL3ROW1:13,COL3ROW2:14,COL3ROW3:15}),F={},U=function(e){function t(e){var n;return b(this,t),n=m(this,_(t).call(this,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0)),1===arguments.length&&Array.isArray(e)?n.copy(e):n.identity(),n}return S(t,e),x(t,[{key:"INDICES",get:function(){return B}},{key:"ELEMENTS",get:function(){return 16}},{key:"RANK",get:function(){return 4}}],[{key:"IDENTITY",get:function(){return F.IDENTITY=F.IDENTITY||Object.freeze(new t(D)),F.IDENTITY}},{key:"ZERO",get:function(){return F.ZERO=F.ZERO||Object.freeze(new t(P)),F.ZERO}}]),x(t,[{key:"copy",value:function(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=e[3],this[4]=e[4],this[5]=e[5],this[6]=e[6],this[7]=e[7],this[8]=e[8],this[9]=e[9],this[10]=e[10],this[11]=e[11],this[12]=e[12],this[13]=e[13],this[14]=e[14],this[15]=e[15],this.check()}},{key:"set",value:function(e,t,n,r,i,o,a,s,u,c,l,h,d,f,p,g){return this[0]=e,this[1]=t,this[2]=n,this[3]=r,this[4]=i,this[5]=o,this[6]=a,this[7]=s,this[8]=u,this[9]=c,this[10]=l,this[11]=h,this[12]=d,this[13]=f,this[14]=p,this[15]=g,this.check()}},{key:"setRowMajor",value:function(e,t,n,r,i,o,a,s,u,c,l,h,d,f,p,g){return this[0]=e,this[1]=i,this[2]=u,this[3]=d,this[4]=t,this[5]=o,this[6]=c,this[7]=f,this[8]=n,this[9]=a,this[10]=l,this[11]=p,this[12]=r,this[13]=s,this[14]=h,this[15]=g,this.check()}},{key:"toRowMajor",value:function(e){return e[0]=this[0],e[1]=this[4],e[2]=this[8],e[3]=this[12],e[4]=this[1],e[5]=this[5],e[6]=this[9],e[7]=this[13],e[8]=this[2],e[9]=this[6],e[10]=this[10],e[11]=this[14],e[12]=this[3],e[13]=this[7],e[14]=this[11],e[15]=this[15],e}},{key:"identity",value:function(){return this.copy(D)}},{key:"fromQuaternion",value:function(e){return function(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=n+n,s=r+r,u=i+i,c=n*a,l=r*a,h=r*s,d=i*a,f=i*s,p=i*u,g=o*a,y=o*s,v=o*u;e[0]=1-h-p,e[1]=l+v,e[2]=d-y,e[3]=0,e[4]=l-v,e[5]=1-c-p,e[6]=f+g,e[7]=0,e[8]=d+y,e[9]=f-g,e[10]=1-c-h,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1}(this,e),this.check()}},{key:"frustum",value:function(e){var n=e.left,r=e.right,i=e.bottom,o=e.top,a=e.near,s=e.far;return s===1/0?t._computeInfinitePerspectiveOffCenter(this,n,r,i,o,a):function(e,t,n,r,i,o,a){var s=1/(n-t),u=1/(i-r),c=1/(o-a);e[0]=2*o*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*o*u,e[6]=0,e[7]=0,e[8]=(n+t)*s,e[9]=(i+r)*u,e[10]=(a+o)*c,e[11]=-1,e[12]=0,e[13]=0,e[14]=a*o*2*c,e[15]=0}(this,n,r,i,o,a,s),this.check()}},{key:"lookAt",value:function(e,t,n){if(1===arguments.length){var r=e;e=r.eye,t=r.center,n=r.up}return M(this,e,t=t||[0,0,0],n=n||[0,1,0]),this.check()}},{key:"ortho",value:function(e){var t=e.near,n=e.far;return function(e,t,n,r,i,o,a){var s=1/(t-n),u=1/(r-i),c=1/(o-a);e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*u,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*c,e[11]=0,e[12]=(t+n)*s,e[13]=(i+r)*u,e[14]=(a+o)*c,e[15]=1}(this,e.left,e.right,e.bottom,e.top,void 0===t?.1:t,void 0===n?500:n),this.check()}},{key:"orthographic",value:function(e){var n=e.fovy,r=void 0===n?45*Math.PI/180:n,i=e.aspect,o=void 0===i?1:i,a=e.focalDistance,s=void 0===a?1:a,u=e.near,c=void 0===u?.1:u,l=e.far,h=void 0===l?500:l;if(r>2*Math.PI)throw Error("radians");var d=s*Math.tan(r/2),f=d*o;return(new t).ortho({left:-f,right:f,bottom:-d,top:d,near:c,far:h})}},{key:"perspective",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.fovy,n=void 0===t?void 0:t,r=e.fov,i=void 0===r?45*Math.PI/180:r,o=e.aspect,a=void 0===o?1:o,s=e.near,u=void 0===s?.1:s,c=e.far,l=void 0===c?500:c;if((n=n||i)>2*Math.PI)throw Error("radians");return C(this,n,a,u,l),this.check()}},{key:"determinant",value:function(){return((t=(e=this)[0])*(a=e[5])-(n=e[1])*(o=e[4]))*((h=e[10])*(y=e[15])-(d=e[11])*(g=e[14]))-(t*(s=e[6])-(r=e[2])*o)*((l=e[9])*y-d*(p=e[13]))+(t*(u=e[7])-(i=e[3])*o)*(l*g-h*p)+(n*s-r*a)*((c=e[8])*y-d*(f=e[12]))-(n*u-i*a)*(c*g-h*f)+(r*u-i*s)*(c*p-l*f);var e,t,n,r,i,o,a,s,u,c,l,h,d,f,p,g,y}},{key:"getScale",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[-0,-0,-0];return e[0]=Math.sqrt(this[0]*this[0]+this[1]*this[1]+this[2]*this[2]),e[1]=Math.sqrt(this[4]*this[4]+this[5]*this[5]+this[6]*this[6]),e[2]=Math.sqrt(this[8]*this[8]+this[9]*this[9]+this[10]*this[10]),e}},{key:"getTranslation",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[-0,-0,-0];return e[0]=this[12],e[1]=this[13],e[2]=this[14],e}},{key:"getRotation",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.getScale(t||[-0,-0,-0]),r=1/n[0],i=1/n[1],o=1/n[2];return e[0]=this[0]*r,e[1]=this[1]*i,e[2]=this[2]*o,e[3]=0,e[4]=this[4]*r,e[5]=this[5]*i,e[6]=this[6]*o,e[7]=0,e[8]=this[8]*r,e[9]=this[9]*i,e[10]=this[10]*o,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},{key:"getRotationMatrix3",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[-0,-0,-0,-0,-0,-0,-0,-0,-0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.getScale(t||[-0,-0,-0]),r=1/n[0],i=1/n[1],o=1/n[2];return e[0]=this[0]*r,e[1]=this[1]*i,e[2]=this[2]*o,e[3]=this[4]*r,e[4]=this[5]*i,e[5]=this[6]*o,e[6]=this[8]*r,e[7]=this[9]*i,e[8]=this[10]*o,e}},{key:"transpose",value:function(){return function(e,t){if(e===t){var n=t[1],r=t[2],i=t[3],o=t[6],a=t[7],s=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=n,e[6]=t[9],e[7]=t[13],e[8]=r,e[9]=o,e[11]=t[14],e[12]=i,e[13]=a,e[14]=s}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15]}(this,this),this.check()}},{key:"invert",value:function(){return function(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],c=t[7],l=t[8],h=t[9],d=t[10],f=t[11],p=t[12],g=t[13],y=t[14],v=t[15],b=n*s-r*a,m=n*u-i*a,_=n*c-o*a,w=r*u-i*s,x=r*c-o*s,S=i*c-o*u,E=l*g-h*p,T=l*y-d*p,N=l*v-f*p,j=h*y-d*g,I=h*v-f*g,k=d*v-f*y,A=b*k-m*I+_*j+w*N-x*T+S*E;A&&(e[0]=(s*k-u*I+c*j)*(A=1/A),e[1]=(i*I-r*k-o*j)*A,e[2]=(g*S-y*x+v*w)*A,e[3]=(d*x-h*S-f*w)*A,e[4]=(u*N-a*k-c*T)*A,e[5]=(n*k-i*N+o*T)*A,e[6]=(y*_-p*S-v*m)*A,e[7]=(l*S-d*_+f*m)*A,e[8]=(a*I-s*N+c*E)*A,e[9]=(r*N-n*I-o*E)*A,e[10]=(p*x-g*_+v*b)*A,e[11]=(h*_-l*x-f*b)*A,e[12]=(s*T-a*j-u*E)*A,e[13]=(n*j-r*T+i*E)*A,e[14]=(g*m-p*w-y*b)*A,e[15]=(l*w-h*m+d*b)*A)}(this,this),this.check()}},{key:"multiplyLeft",value:function(e){return R(this,e,this),this.check()}},{key:"multiplyRight",value:function(e){return R(this,this,e),this.check()}},{key:"rotateX",value:function(e){return function(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[4],a=t[5],s=t[6],u=t[7],c=t[8],l=t[9],h=t[10],d=t[11];t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=o*i+c*r,e[5]=a*i+l*r,e[6]=s*i+h*r,e[7]=u*i+d*r,e[8]=c*i-o*r,e[9]=l*i-a*r,e[10]=h*i-s*r,e[11]=d*i-u*r}(this,this,e),this.check()}},{key:"rotateY",value:function(e){return function(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[0],a=t[1],s=t[2],u=t[3],c=t[8],l=t[9],h=t[10],d=t[11];t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*i-c*r,e[1]=a*i-l*r,e[2]=s*i-h*r,e[3]=u*i-d*r,e[8]=o*r+c*i,e[9]=a*r+l*i,e[10]=s*r+h*i,e[11]=u*r+d*i}(this,this,e),this.check()}},{key:"rotateZ",value:function(e){return function(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[0],a=t[1],s=t[2],u=t[3],c=t[4],l=t[5],h=t[6],d=t[7];t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*i+c*r,e[1]=a*i+l*r,e[2]=s*i+h*r,e[3]=u*i+d*r,e[4]=c*i-o*r,e[5]=l*i-a*r,e[6]=h*i-s*r,e[7]=d*i-u*r}(this,this,e),this.check()}},{key:"rotateXYZ",value:function(e){var t,n,r=(n=3,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(t,n)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=r[1],o=r[2];return this.rotateX(r[0]).rotateY(i).rotateZ(o)}},{key:"rotateAxis",value:function(e,t){return function(e,t,n,r){var i,o,a,s,u,c,l,h,d,f,p,g,y,v,b,m,_,w,x,S,E,T,N,j,I=r[0],k=r[1],A=r[2],O=Math.hypot(I,k,A);O<1e-6||(I*=O=1/O,k*=O,A*=O,i=Math.sin(n),o=Math.cos(n),u=t[1],c=t[2],l=t[3],d=t[5],f=t[6],p=t[7],y=t[9],v=t[10],b=t[11],x=I*k*(a=1-o)-A*i,S=k*k*a+o,E=A*k*a+I*i,T=I*A*a+k*i,N=k*A*a-I*i,j=A*A*a+o,e[0]=(s=t[0])*(m=I*I*a+o)+(h=t[4])*(_=k*I*a+A*i)+(g=t[8])*(w=A*I*a-k*i),e[1]=u*m+d*_+y*w,e[2]=c*m+f*_+v*w,e[3]=l*m+p*_+b*w,e[4]=s*x+h*S+g*E,e[5]=u*x+d*S+y*E,e[6]=c*x+f*S+v*E,e[7]=l*x+p*S+b*E,e[8]=s*T+h*N+g*j,e[9]=u*T+d*N+y*j,e[10]=c*T+f*N+v*j,e[11]=l*T+p*N+b*j,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]))}(this,this,e,t),this.check()}},{key:"scale",value:function(e){return Array.isArray(e)?L(this,this,e):L(this,this,[e,e,e]),this.check()}},{key:"translate",value:function(e){return function(e,t,n){var r,i,o,a,s,u,c,l,h,d,f,p,g=n[0],y=n[1],v=n[2];t===e?(e[12]=t[0]*g+t[4]*y+t[8]*v+t[12],e[13]=t[1]*g+t[5]*y+t[9]*v+t[13],e[14]=t[2]*g+t[6]*y+t[10]*v+t[14],e[15]=t[3]*g+t[7]*y+t[11]*v+t[15]):(i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],c=t[6],l=t[7],h=t[8],d=t[9],f=t[10],p=t[11],e[0]=r=t[0],e[1]=i,e[2]=o,e[3]=a,e[4]=s,e[5]=u,e[6]=c,e[7]=l,e[8]=h,e[9]=d,e[10]=f,e[11]=p,e[12]=r*g+s*y+h*v+t[12],e[13]=i*g+u*y+d*v+t[13],e[14]=o*g+c*y+f*v+t[14],e[15]=a*g+l*y+p*v+t[15])}(this,this,e),this.check()}},{key:"transform",value:function(e,t){return 4===e.length?(T(t=function(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3];return e[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*a,e[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*a,e[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*a,e[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*a,e}(t||[-0,-0,-0,-0],e,this),4),t):this.transformAsPoint(e,t)}},{key:"transformAsPoint",value:function(e,t){switch(e.length){case 2:t=function(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[4]*i+n[12],e[1]=n[1]*r+n[5]*i+n[13],e}(t||[-0,-0],e,this);break;case 3:t=function(e,t,n){var r=t[0],i=t[1],o=t[2],a=n[3]*r+n[7]*i+n[11]*o+n[15];return e[0]=(n[0]*r+n[4]*i+n[8]*o+n[12])/(a=a||1),e[1]=(n[1]*r+n[5]*i+n[9]*o+n[13])/a,e[2]=(n[2]*r+n[6]*i+n[10]*o+n[14])/a,e}(t||[-0,-0,-0],e,this);break;default:throw new Error("Illegal vector")}return T(t,e.length),t}},{key:"transformAsVector",value:function(e,t){switch(e.length){case 2:t=function(e,t,n){var r=t[0],i=t[1],o=n[3]*r+n[7]*i||1;return e[0]=(n[0]*r+n[4]*i)/o,e[1]=(n[1]*r+n[5]*i)/o,e}(t||[-0,-0],e,this);break;case 3:t=function(e,t,n){var r=t[0],i=t[1],o=t[2],a=n[3]*r+n[7]*i+n[11]*o||1;return e[0]=(n[0]*r+n[4]*i+n[8]*o)/a,e[1]=(n[1]*r+n[5]*i+n[9]*o)/a,e[2]=(n[2]*r+n[6]*i+n[10]*o)/a,e}(t||[-0,-0,-0],e,this);break;default:throw new Error("Illegal vector")}return T(t,e.length),t}},{key:"makeRotationX",value:function(e){return this.identity().rotateX(e)}},{key:"makeTranslation",value:function(e,t,n){return this.identity().translate([e,t,n])}},{key:"transformPoint",value:function(e,t){return j("Matrix4.transformPoint","3.0"),this.transformAsPoint(e,t)}},{key:"transformVector",value:function(e,t){return j("Matrix4.transformVector","3.0"),this.transformAsPoint(e,t)}},{key:"transformDirection",value:function(e,t){return j("Matrix4.transformDirection","3.0"),this.transformAsVector(e,t)}}],[{key:"_computeInfinitePerspectiveOffCenter",value:function(e,t,n,r,i,o){var a=2*o/(i-r),s=(n+t)/(n-t),u=(i+r)/(i-r),c=-2*o;return e[0]=2*o/(n-t),e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=s,e[9]=u,e[10]=-1,e[11]=-1,e[12]=0,e[13]=0,e[14]=c,e[15]=0,e}}]),t}(A),G=n("HXBs"),z=n("mtbl"),q=n.n(z),V=n("YXac"),W=n("l/hW"),H=n.n(W),K=n("LvDl"),J=n("L1/z");const X=i.Util.prefixes({ccf:"http://purl.org/ccf/latest/ccf.owl#",entity:"http://purl.org/ccf/latest/ccf-entity.owl#",obo:"http://purl.obolibrary.org/obo/",uberon:"http://purl.obolibrary.org/obo/UBERON_",lmha:"http://purl.obolibrary.org/obo/LMHA_",rdf:"http://www.w3.org/2000/01/rdf-schema#",dc:"http://purl.org/dc/elements/1.1/"},i.DataFactory),$={x:X("rdf"),type:i.DataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type")},Q=X("entity")("id"),Y={x:X("entity"),id:Q,sex:X("entity")("sex"),age:X("entity")("age"),bmi:X("entity")("bmi"),Male:i.DataFactory.literal("Male"),Female:i.DataFactory.literal("Female"),donor:X("entity")("donor"),entityType:X("entity")("entityType"),groupName:X("entity")("groupName"),groupUUID:X("entity")("groupUUID"),ontologyTerms:X("entity")("ontologyTerms"),spatialEntity:X("entity")("spatialEntity"),images:X("entity")("hasImage"),imageProviders:X("entity")("hasImageProvider")},Z=X("ccf"),ee={x:Z,spatial:{Body:Z("VHBody"),Female:Z("VHFemale"),Male:Z("VHMale"),BothSexes:Z("VHBothSexes"),FemaleOrgans:Z("VHFemaleOrgans"),MaleOrgans:Z("VHMaleOrgans")},SpatialObjectReference:Z("SpatialObjectReference"),SpatialEntity:Z("SpatialEntity"),SpatialPlacement:Z("SpatialPlacement"),spatialObjectReference:{file:Z("has_object_file"),file_format:Z("has_object_file_format"),file_subpath:Z("has_object_file_subpath")},spatialEntity:{label:X("rdf")("label"),creator:X("dc")("creator"),creator_first_name:Z("creator_first_name"),creator_last_name:Z("creator_last_name"),creator_orcid:Z("creator_orcid"),creation_date:Z("creation_date"),x_dimension:Z("has_x_dimension"),y_dimension:Z("has_y_dimension"),z_dimension:Z("has_z_dimension"),dimension_units:Z("has_dimension_units"),object:Z("has_object_reference")},spatialPlacement:{source:Z("has_placement_source"),target:Z("has_placement_target"),placement_date:Z("has_placement_date"),x_scaling:Z("has_x_scaling"),y_scaling:Z("has_y_scaling"),z_scaling:Z("has_z_scaling"),scaling_units:Z("has_scaling_units"),x_rotation:Z("has_x_rotation"),y_rotation:Z("has_y_rotation"),z_rotation:Z("has_z_rotation"),w_rotation:Z("has_theta_rotation"),rotation_order:Z("has_rotation_order"),rotation_units:Z("has_rotation_units"),x_translation:Z("has_x_translation"),y_translation:Z("has_y_translation"),z_translation:Z("has_z_translation"),translation_units:Z("has_translation_units")}},te=X("uberon"),ne=X("lmha"),re={body:te("0013702"),heart:te("0000948"),lung:ne("00211"),left_lung:te("0002168"),right_lung:te("0002167"),kidney:te("0002113"),left_kidney:te("0004538"),right_kidney:te("0004539"),spleen:te("0002106"),colon:te("0001155"),small_intestine:te("0002108"),rectum:te("0001052"),liver:te("0002107"),bladder:te("0001255"),ureter:te("0000056"),left_ureter:te("0001223"),right_ureter:te("0001222"),thymus:te("0002370"),lymph_node:te("0000029")};function ie(e){const t={};return Object.entries(e).forEach(([e,n])=>{t[n.id]=e}),t}const oe={spatialObjectReference:ie(ee.spatialObjectReference),spatialEntity:ie(ee.spatialEntity),spatialPlacement:ie(ee.spatialPlacement)};function ae(e,t,n,r){const o={"@id":t,"@type":n};return e.some(e=>{const t=r[e.predicate.id];if(t){const n="Literal"===e.object.termType?Object(J.fromRdf)(e.object):e.object.id;Object(K.set)(o,t,n)}return!1},i.DataFactory.namedNode(t),null,null,null),o}function se(e,t){return ae(e,t,"SpatialObjectReference",oe.spatialObjectReference)}function ue(e,t){const n=ae(e,t,"SpatialEntity",oe.spatialEntity);return n.object&&(n.object=se(e,n.object)),e.forSubjects(e=>n.entityId=e.id,Y.spatialEntity,t,null),n}function ce(e,t){const n=t;let r;switch(n.translation_units){case"centimeter":r=.01;break;case"millimeter":r=.001;break;case"meter":default:r=1}const i=[n.x_translation,n.y_translation,n.z_translation].map(e=>e*r),o=[n.x_rotation,n.y_rotation,n.z_rotation].map(y),a=H()(Object(V.fromEuler)(o[1],o[0],o[2],"XYZ").toVector()),s=[n.x_scaling,n.y_scaling,n.z_scaling];return e.translate(i).rotateXYZ(a).scale(s)}class le{constructor(e){this.db=e,this.createGraph()}createGraph(){this.graph=new G.DirectedGraph;const e=this.db.store;e.forSubjects(t=>{this.addSpatialObjectReference(se(e,t.id))},$.type,ee.SpatialObjectReference,null),e.forSubjects(t=>{this.addSpatialEntity(ue(e,t.id))},$.type,ee.SpatialEntity,null),e.forSubjects(t=>{this.addSpatialPlacement(function(e,t){const n=ae(e,t,"SpatialPlacement",oe.spatialPlacement);return n.source&&(n.source=ue(e,n.source)),n.target&&(n.target=ue(e,n.target)),n}(e,t.id))},$.type,ee.SpatialPlacement,null)}addSpatialEntity(e){this.graph.mergeNode(e["@id"],{type:"SpatialEntity",object:e})}addSpatialObjectReference(e){this.graph.mergeNode(e["@id"],{type:"SpatialObjectReference",object:e})}addSpatialPlacement(e){this.graph.mergeDirectedEdge(e.source["@id"],e.target["@id"],{type:"SpatialPlacement",placement:e})}getTransformationMatrix(e,t){if(e===t)return new U;if(!this.graph.hasNode(e)||!this.graph.hasNode(t))return;const n=new U,r=q()(this.graph,e,t);if(r&&r.length>0){r.reverse();let e="";for(const t of r)e&&ce(n,this.graph.getEdgeAttribute(t,e,"placement")),e=t;return n}}}class he{constructor(e){this.db=e}getReferenceBody(e){var t;let n;switch(null===(t=e)||void 0===t?void 0:t.sex){case"Male":n=ee.spatial.Male.id;break;case"Female":n=ee.spatial.Female.id;break;case"Both":default:n=ee.spatial.BothSexes.id}return ue(this.db.store,n)}getReferenceOrgans(e){var t;let n;switch(null===(t=e)||void 0===t?void 0:t.sex){case"Male":n=ee.spatial.MaleOrgans.id;break;case"Female":n=ee.spatial.FemaleOrgans.id;break;case"Both":default:n=ee.spatial.FemaleOrgans.id}return[ue(this.db.store,n)]}getReferenceSceneNodes(e){var t,n;const r=ue(this.db.store,ee.spatial.Body.id),i=this.getReferenceBody(e),o=(ue(this.db.store,ee.spatial.MaleOrgans.id),this.db.store),a=(null===(t=e)||void 0===t?void 0:t.ontologyTerms)||[],s={body:0===a.indexOf(re.body.id),kidney:0===a.indexOf(re.kidney.id),right_kidney:0===a.indexOf(re.right_kidney.id),left_kidney:0===a.indexOf(re.left_kidney.id),spleen:0===a.indexOf(re.spleen.id)};let u=[this.getSceneNode(i,r,{unpickable:!0,color:[255,255,255,255]}),...this.getReferenceOrgans(e).map(e=>this.getSceneNode(e,i,{unpickable:!0,_lighting:"pbr",zoomBasedOpacity:!0,color:[255,0,0,255]})),this.getSceneNode(ue(o,ee.x("VHRightKidney").id),i,{color:[255,255,255,1],unpickable:s.kidney||s.right_kidney,zoomToOnLoad:s.right_kidney}),this.getSceneNode(ue(o,ee.x("VHLeftKidney").id),i,{color:[255,255,255,1],unpickable:s.kidney||s.left_kidney,zoomToOnLoad:s.left_kidney}),this.getSceneNode(ue(o,ee.x("VHSpleen").id),i,{color:[255,255,255,1],unpickable:s.spleen,zoomToOnLoad:s.spleen})];return(null===(n=e)||void 0===n?void 0:n.debug)&&(u=u.concat([this.getSceneNode(ue(o,ee.x("VHRightKidney").id),r,{color:[0,0,255,127.5],wireframe:!0}),this.getSceneNode(ue(o,ee.x("VHLeftKidney").id),r,{color:[255,0,0,127.5],wireframe:!0}),this.getSceneNode(ue(o,ee.x("VHSpleenCC1").id),r,{color:[0,255,0,127.5],wireframe:!0}),this.getSceneNode(ue(o,ee.x("VHSpleenCC2").id),r,{color:[0,255,0,127.5],wireframe:!0}),this.getSceneNode(ue(o,ee.x("VHSpleenCC3").id),r,{color:[0,255,0,127.5],wireframe:!0})])),u.filter(e=>void 0!==e)}getEntitySceneNodes(e){var t;const n=this.getReferenceBody(e),r=new Set(null===(t=e)||void 0===t?void 0:t.highlightedEntities);return this.db.getSpatialEntities(e).map(e=>this.getSceneNode(e,n,{color:r.has(e.entityId)?[10,10,229,229.5]:[255,255,255,229.5]})).filter(e=>void 0!==e)}getSceneNode(e,t,n={}){var r,i,o;const a=e.object&&(null===(r=e.object.file_format)||void 0===r?void 0:r.startsWith("model/gltf"));let s=this.db.graph.getTransformationMatrix(a&&e.object?e.object["@id"]:e["@id"],t["@id"]);if(s){if(a)s=(new U).rotateX(y(90)).multiplyLeft(s);else{let t;switch(e.dimension_units){case"centimeter":t=.01;break;case"millimeter":t=.001;break;case"meter":default:t=1}const n=[e.x_dimension,e.y_dimension,e.z_dimension].map(e=>e*t/2);s.scale(n)}return Object.assign({"@id":e["@id"],"@type":"SpatialSceneNode",entityId:e.entityId||void 0,scenegraph:a?null===(i=e.object)||void 0===i?void 0:i.file:void 0,scenegraphNode:a?null===(o=e.object)||void 0===o?void 0:o.file_subpath:void 0,transformMatrix:s,tooltip:e.label},n)}}getScene(e){return[...this.getReferenceSceneNodes(e),...this.getEntitySceneNodes(e)]}}function de(e){return"string"==typeof e?parseFloat(e.replace(/[^\d\-\.]/g,"")):e}function fe(e){const{x:t,y:n,z:r}=e;return{x:de(t),y:de(n),z:de(r)}}const pe="https://entity-api.hubmapconsortium.org/entities/",ge=new Set(["VAN0003-LK-32-21-AF_preIMS_registered_thumbnail.png","VAN0003-LK-32-21-IMS_NegMode_multilayer_thumbnail.png","VAN0003-LK-32-21-IMS_PosMode_multilayer_thumbnail.png","VAN0003-LK-32-21-PAS_registered_thumbnail.png","VAN0003-LK-32-22-AF_preMxIF_registered_thumbnail.png","VAN0003-LK-32-22-MxIF_cyc1_registered_thumbnail.png","VAN0003-LK-32-22-MxIF_cyc2_registered_thumbnail.png","VAN0003-LK-32-22-MxIF_cyc3_registered_thumbnail.png","VAN0005-RK-1-1-AF_preIMS_registered_thumbnail.png","VAN0005-RK-1-1-IMS_NegMode_multilayer_thumbnail.png","VAN0005-RK-1-1-IMS_PosMode_multilayer_thumbnail.png","VAN0005-RK-1-1-PAS_registered_thumbnail.png","VAN0005-RK-4-172-AF_preIMS_registered_thumbnail.png","VAN0005-RK-4-172-IMS_NegMode_multilayer_thumbnail.png","VAN0005-RK-4-172-IMS_PosMode_multilayer_thumbnail.png","VAN0005-RK-4-172-PAS_registered_thumbnail.png","VAN0006-LK-2-85-AF_preIMS_registered_thumbnail.png","VAN0006-LK-2-85-IMS_NegMode_multilayer_thumbnail.png","VAN0006-LK-2-85-IMS_PosMode_multilayer_thumbnail.png","VAN0006-LK-2-85-PAS_registered_thumbnail.png","VAN0006-LK-2-86-AF_preMxIF_registered_thumbnail.png","VAN0006-LK-2-86-MxIF_cyc1_registered_thumbnail.png","VAN0006-LK-2-86-MxIF_cyc2_registered_thumbnail.png","VAN0006-LK-2-86-MxIF_cyc3_registered_thumbnail.png","VAN0007-LK-203-103-AF_preIMS_registered_thumbnail.png","VAN0007-LK-203-103-IMS_NegMode_multilayer_thumbnail.png","VAN0007-LK-203-103-IMS_PosMode_multilayer_thumbnail.png","VAN0007-LK-203-103-PAS_registered_thumbnail.png","VAN0008-RK-403-100-AF_preIMS_registered_thumbnail.png","VAN0008-RK-403-100-IMS_NegMode_multilayer_thumbnail.png","VAN0008-RK-403-100-IMS_PosMode_multilayer_thumbnail.png","VAN0008-RK-403-100-PAS_registered_thumbnail.png","VAN0008-RK-403-101-AF_preMxIF_registered_thumbnail.png","VAN0008-RK-403-101-MxIF_cyc1_registered_thumbnail.png","VAN0008-RK-403-101-MxIF_cyc2_registered_thumbnail.png","VAN0008-RK-403-101-MxIF_cyc3_registered_thumbnail.png","VAN0011-RK-3-10-AF_preIMS_registered_thumbnail.png","VAN0011-RK-3-10-IMS_NegMode_multilayer_thumbnail.png","VAN0011-RK-3-10-IMS_PosMode_multilayer_thumbnail.png","VAN0011-RK-3-10-PAS_registered_thumbnail.png","VAN0011-RK-3-11-AF_preMxIF_registered_thumbnail.png","VAN0011-RK-3-11-MxIF_cyc1_registered_thumbnail.png","VAN0011-RK-3-11-MxIF_cyc2_registered_thumbnail.png","VAN0011-RK-3-11-MxIF_cyc3_registered_thumbnail.png","VAN0012-RK-103-75-AF_preIMS_registered_thumbnail.png","VAN0012-RK-103-75-IMS_NegMode_multilayer_thumbnail.png","VAN0012-RK-103-75-IMS_PosMode_multilayer_thumbnail.png","VAN0012-RK-103-75-PAS_registered_thumbnail.png","VAN0012-RK-103-76-AF_preMxIF_registered_thumbnail.png","VAN0012-RK-103-76-MxIF_cyc1_registered_thumbnail.png","VAN0012-RK-103-76-MxIF_cyc2_registered_thumbnail.png","VAN0012-RK-103-76-MxIF_cyc3_registered_thumbnail.png"]),ye={"03b3d854-ed44-11e8-8bce-0e368f3075e8":"TMC-UCSD","07a29e4c-ed43-11e8-b56a-0e8017bdda58":"TMC-Florida","308f5ffc-ed43-11e8-b56a-0e8017bdda58":"TMC-CalTech","5bd084c8-edc2-11e8-802f-0e368f3075e8":"HBM-TestingGroup","73bb26e4-ed43-11e8-8f19-0a7c1eab007a":"TMC-Vanderbilt","def5fd76-ed43-11e8-b56a-0e8017bdda58":"TMC-Stanford"};function ve(){const e={};return Object.entries(re).forEach(([t,n])=>e[t]=n.id),e}const be=ve(),me={BL:[be.body,be.bladder],RK:[be.body,be.kidney,be.right_kidney],LK:[be.body,be.kidney,be.left_kidney],HT:[be.body,be.heart],LI:[be.body,be.colon],SI:[be.body,be.small_instestine],LL:[be.body,be.lung,be.left_lung],RL:[be.body,be.lung,be.right_lung],LY:[be.body,be.lymph_node],SP:[be.body,be.spleen],TH:[be.body,be.thymus],UR:[be.body,be.ureter],LV:[be.body,be.liver],OT:[be.body]},_e={BL:"Bladder",RK:"Right Kidney",LK:"Left Kidney",HT:"Heart",LI:"Large Intestine",SI:"Small Intestine",LL:"Left Lung",RL:"Right Lung",LY:"Lymph Node",SP:"Spleen",TH:"Thymus",UR:"Ureter",LV:"Liver",OT:"Other Organ"};class we{constructor(e,t="",n="",r){var i,o,a,s;this.data=e,this.assetsApi=t,this.id=this.data.uuid,this.entityType=this.data.entity_type,this.ancestors=this.data.ancestors||[],this.descendants=this.data.descendants||[],this.donor="Donor"===this.entityType?e:this.ancestors.find(e=>"Donor"===e.entity_type),this.organSample="Sample"===this.entityType&&"organ"===e.specimen_type?e:this.ancestors.find(e=>"Sample"===e.entity_type&&"organ"===e.specimen_type);const u=(this.donor.description||"").toLowerCase();let c;u.includes("female")?c="Female":u.includes("male")&&(c="Male");const l=u.match(/age\ ([0-9]+)/);let h,d,f;l&&(h=Object(K.toNumber)(l[1]));for(const S of Object(K.get)(this.donor,"metadata.organ_donor_data",[]))"Feminine gender"===S.preferred_term||"Female"===S.preferred_term?c="Female":"Masculine gender"===S.preferred_term||"Male"===S.preferred_term?c="Male":"Current chronological age"===S.preferred_term||"Age"===S.preferred_term?h=Object(K.toNumber)(S.data_value):"Body mass index"===S.preferred_term?d=Object(K.toNumber)(S.data_value):"Racial group"!==S.grouping_concept_preferred_term&&"Race"!==S.grouping_concept_preferred_term||(f=S.preferred_term);let p="";c&&h&&(p+=`${c}, Age ${h}`,d&&(p+=", BMI "+d.toFixed(1))),this.age=h,this.sex=c,this.bmi=d,this.ethnicity=f,this.label=p,this.doi=e.display_doi,this.description=e.description;const g=this.groupUUID=e.group_uuid||this.donor.group_uuid;this.groupName=ye[g]||e.group_name||this.donor.group_name,this.organName=[e,...this.ancestors,...this.descendants].map(e=>e.organ).find(e=>!!e),this.ontologyTerms=me[this.organName]||[be.body],this.organ=this.ontologyTerms[this.ontologyTerms.length-1],this.protocolUrl=this.donor.protocol_url;let y=e.rui_location||this.ancestors[0].rui_location;if(y){let t;"string"==typeof y&&(y=JSON.parse(y)),"07a29e4c-ed43-11e8-b56a-0e8017bdda58"===g&&(y=function(e,t){e=function(e){return e=Object.assign(Object.assign({},e),{tissue_object_size:fe(e.tissue_object_size),tissue_object_rotation:fe(e.tissue_object_rotation),tissue_position_mass_point:fe(e.tissue_position_mass_point)}),Object.entries(e).forEach(([t,n])=>{"string"==typeof n&&Object(K.set)(e,t,n.replace(/^_|mm_$|_$/g,""))}),e}(e);const n=t.lab_tissue_sample_id||"";return n.match(/CC1|CC\-1/)?(e.reference_organ_id="http://purl.org/ccf/latest/ccf.owl#VHSpleenCC1",e.tissue_position_mass_point={x:29.95+e.tissue_position_mass_point.x,y:40.7-60,z:0},e.tissue_object_size.x=10):n.match(/CC2|CC\-2/)?(e.reference_organ_id="http://purl.org/ccf/latest/ccf.owl#VHSpleenCC2",e.tissue_position_mass_point={x:31.5+e.tissue_position_mass_point.x,y:-19.9,z:0},e.tissue_object_size.x=10):n.match(/CC3|CC\-3/)?(e.reference_organ_id="http://purl.org/ccf/latest/ccf.owl#VHSpleenCC3",e.tissue_position_mass_point={x:29.35+e.tissue_position_mass_point.x,y:-16.6,z:0},e.tissue_object_size.x=10):e.reference_organ_id="http://purl.org/ccf/latest/ccf.owl#VHSpleen",e}(y,e)),this.organ===be.left_kidney?t=ee.x("VHLeftKidney").id:this.organ===be.right_kidney&&(t=ee.x("VHRightKidney").id),this.spatialEntity=function(e,t,n){var r;let i;n?i=n:"uuid-1234-5678"===e.reference_organ_id?i=ee.x("VHKidney").id:e.reference_organ_id&&(i=e.reference_organ_id),(null===(r=i)||void 0===r?void 0:r.endsWith("Kidney"))&&(e=function(e){return Object.assign(Object.assign({},e),{tissue_position_mass_point:{x:e.tissue_position_mass_point.x-30,y:e.tissue_position_mass_point.y-50,z:e.tissue_position_mass_point.z-30}})}(e));const o=e.tissue_object_size,a=e.tissue_object_rotation,s=e.tissue_position_mass_point;return{"@context":"https://hubmapconsortium.github.io/hubmap-ontology/ccf-context.jsonld","@id":"http://purl.org/ccf/0.5/"+e.alignment_id,"@type":"SpatialEntity",label:t||void 0,creator:`${e.alignment_operator_first_name} ${e.alignment_operator_last_name}`,creator_first_name:e.alignment_operator_first_name,creator_last_name:e.alignment_operator_last_name,creation_date:e.alignment_datetime,ccf_annotations:[],x_dimension:o.x,y_dimension:o.y,z_dimension:o.z,dimension_units:"millimeter",placement:{"@context":"https://hubmapconsortium.github.io/hubmap-ontology/ccf-context.jsonld","@id":"http://purl.org/ccf/0.5/"+e.alignment_id+"_placement","@type":"SpatialPlacement",target:i,placement_date:e.alignment_datetime,x_scaling:1,y_scaling:1,z_scaling:1,scaling_units:"ratio",x_rotation:a.x,y_rotation:a.y,z_rotation:a.z,rotation_order:"XYZ",rotation_units:"degree",x_translation:s.x,y_translation:s.y,z_translation:s.z,translation_units:"millimeter"}}}(y,"SpatialEntity for "+this.label,t)}let v=[];const b=[];for(const S of[e,...this.ancestors,...this.descendants]){const e=Object(K.get)(S,"metadata.files",[]).filter(e=>/\.(ome\.tif|ome\.tiff)$/.test(e.rel_path)).map(e=>`${this.assetsApi}/${S.uuid}/${e.rel_path}`+(r?"?token="+r:""));e.length>0&&(v=v.concat(e),b.push(pe+S.uuid))}v.length>0&&(this.images=v,this.imageProviders=b);const m=new Map,_=new Map;let w=!1;for(const S of[...this.ancestors,e,...this.descendants]){(S.data_types||[]).forEach(e=>m.set(e,S));const e=null===(o=null===(i=S.metadata)||void 0===i?void 0:i.metadata)||void 0===o?void 0:o.assay_type;e&&_.set(e,S),"yes"===S.contains_human_genetic_sequences&&(w=!0)}this.containsHumanGeneticSequences=w,this.dataTypes=[...m.keys()].sort(),this.assayTypes=[..._.keys()].sort();const x=[...this.dataTypes,...this.assayTypes].map(e=>e.toLowerCase()).join("|");if(-1!==x.indexOf("10x")?(this.thumbnailUrl="assets/icons/ico-bulk-10x.svg",this.spatialOrBulk="Bulk"):-1!==x.indexOf("af")?(this.thumbnailUrl="assets/icons/ico-spatial-af.svg",this.spatialOrBulk="Spatial"):-1!==x.indexOf("codex")?(this.thumbnailUrl="assets/icons/ico-spatial-codex.svg",this.spatialOrBulk="Spatial"):-1!==x.indexOf("imc")?(this.thumbnailUrl="assets/icons/ico-spatial-imc.svg",this.spatialOrBulk="Spatial"):-1!==x.indexOf("lc")&&-1===x.indexOf("af")?(this.thumbnailUrl="assets/icons/ico-bulk-lc.svg",this.spatialOrBulk="Bulk"):(this.thumbnailUrl="assets/icons/ico-unknown.svg",this.spatialOrBulk="Bulk"),this.portalUrl=`${n}browse/sample/${this.id}`,v.length>0&&-1===x.indexOf("codex")){if(this.resultUrl=v[0],this.resultType="image_viewer",this.thumbnailUrl="assets/histology3.jpg","73bb26e4-ed43-11e8-8f19-0a7c1eab007a"===g){const e=this.resultUrl.split("/").slice(-1)[0].split("?")[0].replace(".ome.tif","_thumbnail.png");ge.has(e)&&(this.thumbnailUrl="assets/thumbnails/DR1-VU/"+e)}}else{if(m.has("codex_cytokit")){const e=null===(a=m.get("codex_cytokit"))||void 0===a?void 0:a.uuid;this.resultUrl=`${n}browse/dataset/${e}#visualization`}else if(m.has("salmon_rnaseq_10x")){const e=null===(s=m.get("salmon_rnaseq_10x"))||void 0===s?void 0:s.uuid;this.resultUrl=`${n}browse/dataset/${e}#visualization`}else this.resultUrl=this.portalUrl;this.resultType="external_link"}}toJsonLd(){var e;const t=this.data;return Object.assign(Object.assign({"@id":pe+this.id,"@type":"Entity"},Object(K.omit)(this,["data","donor","organ_sample","ancestors","descendants","assetsApi"])),{donor:pe+this.donor.uuid,shortInfo0:this.doi,shortInfo1:this.groupName,shortInfo2:t.description||this.donor.description,downloadUrl:this.portalUrl,downloadTooltip:"View in the HuBMAP Data Portal",organName:_e[this.organName]||this.organName,sex:this.sex,age:this.age,bmi:null===(e=this.bmi)||void 0===e?void 0:e.toFixed(1),ethnicity:this.ethnicity,authorGroup:this.groupName,creator:t.created_by_user_displayname,creation_date:new Date(t.create_timestamp||0).toLocaleDateString(),modified_date:new Date(t.last_modified_timestamp||0).toLocaleDateString(),donor_id:this.donor.display_doi,organ_id:this.organSample.display_doi,tissue_id:this.doi,specimen_type:this.data.specimen_type,data_types:this.dataTypes.join(", "),assay_types:this.assayTypes.join(", "),spatial_bulk:this.spatialOrBulk,contains_sequence:this.containsHumanGeneticSequences?"Yes":"No",description:t.description||this.donor.description})}}function xe(e,t){return n=>e.has(n.id)?t.add(n.id):void 0}const Se={[Y.id.id]:"id",[Y.x("label").id]:"label",[Y.x("organName").id]:"organName"},Ee={[Y.sex.id]:"Sex",[Y.age.id]:"Age",[Y.x("bmi").id]:"BMI",[Y.x("ethnicity").id]:"Ethnicity",[Y.groupName.id]:"Author Group",[Y.x("creator").id]:"Creator",[Y.x("creation_date").id]:"Date Created",[Y.x("modified_date").id]:"Date Modified",[Y.x("donor_id").id]:"HuBMAP Donor ID",[Y.x("organ_id").id]:"HuBMAP Organ ID",[Y.x("tissue_id").id]:"HUBMAP Tissue ID",[Y.x("specimen_type").id]:"Specimen Type",[Y.x("data_types").id]:"Data Type(s)",[Y.x("assay_types").id]:"Assay(s)",[Y.x("spatial_bulk").id]:"Spatial/Bulk",[Y.x("contains_sequence").id]:"Contains Sequence",[Y.x("description").id]:"Description"},Te={[Y.id.id]:"id",[Y.x("label").id]:"label",[Y.x("shortInfo0").id]:["shortInfo","0"],[Y.x("shortInfo1").id]:["shortInfo","1"],[Y.x("shortInfo2").id]:["shortInfo","2"],[Y.x("thumbnailUrl").id]:"thumbnailUrl",[Y.x("downloadUrl").id]:"downloadUrl",[Y.x("downloadTooltip").id]:"downloadTooltip",[Y.x("resultUrl").id]:"resultUrl",[Y.x("resultType").id]:"resultType"},Ne={ccfOwlUrl:"https://purl.org/ccf/latest/ccf.owl",ccfContextUrl:"https://purl.org/ccf/latest/ccf-context.jsonld",hubmapDataService:"static",hubmapPortalUrl:"https://portal.hubmapconsortium.org/",hubmapDataUrl:"",hubmapAssetsUrl:"https://assets.hubmapconsortium.org"},je=Symbol("Comlink.proxy"),Ie=Symbol("Comlink.endpoint"),ke=Symbol("Comlink.releaseProxy"),Ae=Symbol("Comlink.thrown"),Oe=e=>"object"==typeof e&&null!==e||"function"==typeof e,Re=new Map([["proxy",{canHandle:e=>Oe(e)&&e[je],serialize(e){const{port1:t,port2:n}=new MessageChannel;return Le(e,t),[n,[n]]},deserialize:e=>(e.start(),function e(t,n=[],r=function(){}){let i=!1;const o=new Proxy(r,{get(r,a){if(Me(i),a===ke)return()=>Ue(t,{type:5,path:n.map(e=>e.toString())}).then(()=>{Ce(t),i=!0});if("then"===a){if(0===n.length)return{then:()=>o};const e=Ue(t,{type:0,path:n.map(e=>e.toString())}).then(Fe);return e.then.bind(e)}return e(t,[...n,a])},set(e,r,o){Me(i);const[a,s]=Be(o);return Ue(t,{type:1,path:[...n,r].map(e=>e.toString()),value:a},s).then(Fe)},apply(r,o,a){Me(i);const s=n[n.length-1];if(s===Ie)return Ue(t,{type:4}).then(Fe);if("bind"===s)return e(t,n.slice(0,-1));const[u,c]=De(a);return Ue(t,{type:2,path:n.map(e=>e.toString()),argumentList:u},c).then(Fe)},construct(e,r){Me(i);const[o,a]=De(r);return Ue(t,{type:3,path:n.map(e=>e.toString()),argumentList:o},a).then(Fe)}});return o}(e,[],void 0))}],["throw",{canHandle:e=>Oe(e)&&Ae in e,serialize({value:e}){let t;return t=e instanceof Error?{isError:!0,value:{message:e.message,name:e.name,stack:e.stack}}:{isError:!1,value:e},[t,[]]},deserialize(e){if(e.isError)throw Object.assign(new Error(e.value.message),e.value);throw e.value}}]]);function Le(e,t=self){t.addEventListener("message",(function n(r){if(!r||!r.data)return;const{id:i,type:o,path:a}=Object.assign({path:[]},r.data),s=(r.data.argumentList||[]).map(Fe);let u;try{const t=a.slice(0,-1).reduce((e,t)=>e[t],e),n=a.reduce((e,t)=>e[t],e);switch(o){case 0:u=n;break;case 1:t[a.slice(-1)[0]]=Fe(r.data.value),u=!0;break;case 2:u=n.apply(t,s);break;case 3:u=function(e){return Object.assign(e,{[je]:!0})}(new n(...s));break;case 4:{const{port1:t,port2:n}=new MessageChannel;Le(e,n),u=function(e,t){return Pe.set(e,t),e}(t,[t])}break;case 5:u=void 0}}catch(c){u={value:c,[Ae]:0}}Promise.resolve(u).catch(e=>({value:e,[Ae]:0})).then(e=>{const[r,a]=Be(e);t.postMessage(Object.assign(Object.assign({},r),{id:i}),a),5===o&&(t.removeEventListener("message",n),Ce(t))})})),t.start&&t.start()}function Ce(e){(function(e){return"MessagePort"===e.constructor.name})(e)&&e.close()}function Me(e){if(e)throw new Error("Proxy has been released and is not useable")}function De(e){const t=e.map(Be);return[t.map(e=>e[0]),(n=t.map(e=>e[1]),Array.prototype.concat.apply([],n))];var n}const Pe=new WeakMap;function Be(e){for(const[t,n]of Re)if(n.canHandle(e)){const[r,i]=n.serialize(e);return[{type:3,name:t,value:r},i]}return[{type:0,value:e},Pe.get(e)||[]]}function Fe(e){switch(e.type){case 3:return Re.get(e.name).deserialize(e.value);case 0:return e.value}}function Ue(e,t,n){return new Promise(r=>{const i=new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-");e.addEventListener("message",(function t(n){n.data&&n.data.id&&n.data.id===i&&(e.removeEventListener("message",t),r(n.data))})),e.start&&e.start(),e.postMessage(Object.assign({id:i},t),n)})}Le(new class{constructor(e=Ne){this.options=e,this.store=new i.Store,this.graph=new le(this),this.scene=new he(this)}connect(e){return r(this,void 0,void 0,(function*(){if(e&&(this.options=e),0===this.store.size){const e=[];this.options.ccfOwlUrl.endsWith(".n3")?e.push(Object(i.addN3ToStore)(this.options.ccfOwlUrl,this.store)):e.push(Object(i.addRdfXmlToStore)(this.options.ccfOwlUrl,this.store)),this.options.hubmapDataUrl&&(this.options.hubmapDataUrl.endsWith(".jsonld")?e.push(Object(i.addJsonLdToStore)(this.options.hubmapDataUrl,this.store)):e.push(function(e,t,n,o,a="",s=""){return r(this,void 0,void 0,(function*(){let r;if("static"===n)r=yield fetch(t).then(e=>e.ok?e.json():void 0).catch(()=>{});else if("search-api"===n){const e={"Content-type":"application/json"};o&&o.length>0&&(e.Authorization="Bearer "+o),r=yield fetch(t,{method:"POST",headers:e,body:JSON.stringify({version:!0,size:1e4,_source:{excludes:["donor","immediate_ancestors","immediate_descendants","origin_sample","ancestor_ids","descendant_ids"]},stored_fields:["*"],script_fields:{},docvalue_fields:[],query:{exists:{field:"rui_location"}}})}).then(e=>e.ok?e.json():void 0).catch(()=>{})}r?yield Object(i.addJsonLdToStore)(function(e,t="",n="",r){return{"@context":{"@vocab":"http://purl.org/ccf/latest/ccf-entity.owl#",ontologyTerms:{"@type":"@id"},ancestors:{"@type":"@id"},descendants:{"@type":"@id"},organ:{"@type":"@id"},images:{"@id":"hasImage","@type":"@id"},imageProviders:{"@id":"hasImageProvider","@type":"@id"}},"@graph":Object(K.get)(e,"hits.hits",[]).map(e=>Object(K.get)(e,"_source",{})).map(e=>new we(e,t,n,r).toJsonLd())}}(r,a,s,o),e):console.warn(`Unable to load ${t} as HuBMAP Data`)}))}(this.store,this.options.hubmapDataUrl,this.options.hubmapDataService,this.options.hubmapToken,this.options.hubmapAssetsUrl,this.options.hubmapPortalUrl))),yield Promise.all(e),yield new Promise(e=>setTimeout(e,500)),this.graph.createGraph()}return this.store.size>0}))}getIds(e={}){return function(e,t){var n,r,o,a;let s=function(e){const t=new Set;return e.forSubjects(e=>t.add(e.id),Y.id,null,null),t}(e);if(s.size>0&&(!0===t.hasSpatialEntity||!1===t.hasSpatialEntity)&&(s=function(e,t,n){const r=new Set;if(e.forSubjects(xe(t,r),Y.spatialEntity,null,null),!n){const e=new Set;return t.forEach(t=>r.has(t)?void 0:e.add(t)),e}return r}(e,s,t.hasSpatialEntity)),s.size>0&&("Male"===t.sex||"Female"===t.sex)&&(s=function(e,t,n){const r=new Set;return e.forSubjects(xe(t,r),Y.sex,Y[n],null),r}(e,s,t.sex)),s.size>0&&(null===(n=t.tmc)||void 0===n?void 0:n.length)>0&&(s=function(e,t,n){const r=new Set;for(const o of n){const n=i.DataFactory.literal(o);e.forSubjects(xe(t,r),Y.groupName,n,null)}return r}(e,s,t.tmc)),s.size>0&&(null===(r=t.ontologyTerms)||void 0===r?void 0:r.length)>0&&(s=function(e,t,n){const r=new Set;for(const o of n){const n=i.DataFactory.namedNode(o);e.forSubjects(xe(t,r),Y.ontologyTerms,n,null)}return r}(e,s,t.ontologyTerms)),s.size>0&&2===(null===(o=t.ageRange)||void 0===o?void 0:o.length)&&Object(K.isFinite)(t.ageRange[0])&&Object(K.isFinite)(t.ageRange[1])){const n=Math.max(...t.ageRange),r=Math.min(...t.ageRange);1===r&&110===n||(s=function(e,t,n,r){const i=new Set;return e.some(e=>{if(t.has(e.subject.id)){const t=Object(J.fromRdf)(e.object);t>=n&&t<=r&&i.add(e.subject.id)}return!1},null,Y.age,null,null),i}(e,s,r,n))}if(s.size>0&&2===(null===(a=t.bmiRange)||void 0===a?void 0:a.length)&&Object(K.isFinite)(t.bmiRange[0])&&Object(K.isFinite)(t.bmiRange[1])){const n=Math.max(...t.bmiRange),r=Math.min(...t.bmiRange);13===r&&83===n||(s=function(e,t,n,r){const i=new Set;return e.some(e=>{if(t.has(e.subject.id)){const t=Object(J.fromRdf)(e.object);t>=n&&t<=r&&i.add(e.subject.id)}return!1},null,Y.bmi,null,null),i}(e,s,r,n))}return s}(this.store,e)}get(e){return this.store.getQuads(i.DataFactory.namedNode(e),null,null,null)}search(e={}){return[...this.getIds(e)].map(e=>this.get(e))}getSpatialEntities(e){return e=Object.assign(Object.assign({},e),{hasSpatialEntity:!0}),[...this.getIds(e)].map(e=>function(e,t){const n=e.getObjects(i.DataFactory.namedNode(t),Y.spatialEntity,null);return n.length>0?ue(e,n[0].id):void 0}(this.store,e))}getListResults(e){return r(this,void 0,void 0,(function*(){e=Object.assign(Object.assign({},e),{hasSpatialEntity:!0});const t=new Set(e.highlightedEntities);return[...this.getIds(e)].map(e=>function(e,t){const n={"@id":t,"@type":"ListResult"};return e.some(e=>{const t=Te[e.predicate.id];if(t){const r="Literal"===e.object.termType?Object(J.fromRdf)(e.object):e.object.id;Object(K.set)(n,t,r)}return!1},i.DataFactory.namedNode(t),null,null,null),n}(this.store,e)).map(e=>Object.assign(e,{highlighted:t.has(e["@id"])})).sort((e,t)=>(e.highlighted?0:1)-(t.highlighted?0:1))}))}getAggregateResults(e){return r(this,void 0,void 0,(function*(){return function(e,t){const n=new Set;t.some(t=>(e.has(t.subject.id)&&n.add(t.object.id),!1),null,Y.groupUUID,null,null);const r=new Set;t.some(t=>(e.has(t.subject.id)&&r.add(t.object.id),!1),null,Y.donor,null,null);const i=new Set;return t.forSubjects(t=>{e.has(t.id)&&i.add(t.id)},Y.spatialEntity,null,null),Object.entries({Centers:n.size,Donors:r.size,Samples:i.size}).map(([e,t])=>({label:e,count:t}))}(this.getIds(e),this.store)}))}getOntologyTermOccurences(e){return r(this,void 0,void 0,(function*(){return function(e,t){const n={};return t.some(t=>(e.has(t.subject.id)&&(n[t.object.id]=1+(n[t.object.id]||0)),!1),null,Y.ontologyTerms,null,null),n}(this.getIds(e),this.store)}))}getImageViewerData(e){return r(this,void 0,void 0,(function*(){return function(e,t){const n={"@id":e,"@type":"ImageViewerData"},r={};return t.some(e=>{const t=Se[e.predicate.id];if(Ee[e.predicate.id]){const t="Literal"===e.object.termType?Object(J.fromRdf)(e.object):e.object.id;r[e.predicate.id]=""+t}if(t){const r="Literal"===e.object.termType?Object(J.fromRdf)(e.object):e.object.id;Object(K.set)(n,t,r)}return!1},i.DataFactory.namedNode(e),null,null,null),n.metadata=Object.entries(Ee).map(([e,t])=>({label:t,value:r[e]})).filter(e=>e.value),n}(e,this.store)}))}getScene(e){return r(this,void 0,void 0,(function*(){return this.graph.createGraph(),this.scene.getScene(e)}))}})},"8Xj3":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n("FZPO");class i{fromRdf(e,t){switch(e.value){case"true":return!0;case"false":return!1;case"1":return!0;case"0":return!1}return t&&r.Translator.incorrectRdfDataType(e),!1}toRdf(e,{datatype:t,dataFactory:n}){return n.literal(e?"true":"false",t||n.namedNode(i.TYPE))}}t.TypeHandlerBoolean=i,i.TYPE="http://www.w3.org/2001/XMLSchema#boolean"},Eagr:function(e,t){function n(e){this.value=e}n.prototype.equals=function(e){return!!e&&e.termType===this.termType&&e.value===this.value},n.prototype.termType="NamedNode",e.exports=n},FZPO:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Translator=class{constructor(){this.supportedRdfDatatypes=[],this.fromRdfHandlers={},this.toRdfHandlers={}}static incorrectRdfDataType(e){throw new Error(`Invalid RDF ${e.datatype.value} value: '${e.value}'`)}registerHandler(e,t,n){for(const r of t)this.supportedRdfDatatypes.push(r),this.fromRdfHandlers[r.value]=e;for(const r of n){let t=this.toRdfHandlers[r];t||(this.toRdfHandlers[r]=t=[]),t.push(e)}}fromRdf(e,t){const n=this.fromRdfHandlers[e.datatype.value];return n?n.fromRdf(e,t):e.value}toRdf(e,t){const n=this.toRdfHandlers[typeof e];if(n)for(const r of n){const n=r.toRdf(e,t);if(n)return n}throw new Error(`Invalid JavaScript value: '${e}'`)}getSupportedRdfDatatypes(){return this.supportedRdfDatatypes}getSupportedJavaScriptPrimitives(){return Object.keys(this.toRdfHandlers)}}},HXBs:function(e,t,n){e.exports=function(){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function n(e){return(n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function o(e,t,n){return(o=i()?Reflect.construct:function(e,t,n){var i=[null];i.push.apply(i,t);var o=new(Function.bind.apply(e,i));return n&&r(o,n.prototype),o}).apply(null,arguments)}function a(e){var t="function"==typeof Map?new Map:void 0;return(a=function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,i)}function i(){return o(e,arguments,n(this).constructor)}return i.prototype=Object.create(e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),r(i,e)})(e)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(){for(var e=arguments[0]||{},t=1,n=arguments.length;t<n;t++)if(arguments[t])for(var r in arguments[t])e[r]=arguments[t][r];return e}function c(e,t,n,r){var i=e._nodes.get(t),o=null;return i?o="mixed"===r?i.out&&i.out[n]||i.undirected&&i.undirected[n]:"directed"===r?i.out&&i.out[n]:i.undirected&&i.undirected[n]:o}function l(t){return null!==t&&"object"===e(t)&&"function"==typeof t.addUndirectedEdgeWithKey&&"function"==typeof t.dropNode}function h(t){return"object"===e(t)&&null!==t&&t.constructor===Object}function d(e){for(var t=""+e,n="",r=0,i=t.length;r<i;r++)n=t[i-r-1]+n,(r-2)%3||r===i-1||(n=","+n);return n}function f(e,t,n){Object.defineProperty(e,t,{enumerable:!1,configurable:!1,writable:!0,value:n})}function p(e,t,n){var r={enumerable:!0,configurable:!0};"function"==typeof n?r.get=n:(r.value=n,r.writable=!1),Object.defineProperty(e,t,r)}function g(){}function y(){y.init.call(this)}function v(e){return void 0===e._maxListeners?y.defaultMaxListeners:e._maxListeners}function b(e,t,n){if(t)e.call(n);else for(var r=e.length,i=N(e,r),o=0;o<r;++o)i[o].call(n)}function m(e,t,n,r){if(t)e.call(n,r);else for(var i=e.length,o=N(e,i),a=0;a<i;++a)o[a].call(n,r)}function _(e,t,n,r,i){if(t)e.call(n,r,i);else for(var o=e.length,a=N(e,o),s=0;s<o;++s)a[s].call(n,r,i)}function w(e,t,n,r,i,o){if(t)e.call(n,r,i,o);else for(var a=e.length,s=N(e,a),u=0;u<a;++u)s[u].call(n,r,i,o)}function x(e,t,n,r){if(t)e.apply(n,r);else for(var i=e.length,o=N(e,i),a=0;a<i;++a)o[a].apply(n,r)}function S(e,t,n,r){var i,o,a,s;if("function"!=typeof n)throw new TypeError('"listener" argument must be a function');if((o=e._events)?(o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),a=o[t]):(o=e._events=new g,e._eventsCount=0),a){if("function"==typeof a?a=o[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),!a.warned&&(i=v(e))&&i>0&&a.length>i){a.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+t+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=a.length,s=u,"function"==typeof console.warn?console.warn(s):console.log(s)}}else a=o[t]=n,++e._eventsCount;return e}function E(e,t,n){var r=!1;function i(){e.removeListener(t,i),r||(r=!0,n.apply(e,arguments))}return i.listener=n,i}function T(e){var t=this._events;if(t){var n=t[e];if("function"==typeof n)return 1;if(n)return n.length}return 0}function N(e,t){for(var n=new Array(t);t--;)n[t]=e[t];return n}function j(e){Object.defineProperty(this,"_next",{writable:!1,enumerable:!1,value:e}),this.done=!1}g.prototype=Object.create(null),y.EventEmitter=y,y.usingDomains=!1,y.prototype.domain=void 0,y.prototype._events=void 0,y.prototype._maxListeners=void 0,y.defaultMaxListeners=10,y.init=function(){this.domain=null,y.usingDomains&&(void 0).active,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new g,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},y.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this},y.prototype.getMaxListeners=function(){return v(this)},y.prototype.emit=function(e){var t,n,r,i,o,a,s,u="error"===e;if(a=this._events)u=u&&null==a.error;else if(!u)return!1;if(s=this.domain,u){if(t=arguments[1],!s){if(t instanceof Error)throw t;var c=new Error('Uncaught, unspecified "error" event. ('+t+")");throw c.context=t,c}return t||(t=new Error('Uncaught, unspecified "error" event')),t.domainEmitter=this,t.domain=s,t.domainThrown=!1,s.emit("error",t),!1}if(!(n=a[e]))return!1;var l="function"==typeof n;switch(r=arguments.length){case 1:b(n,l,this);break;case 2:m(n,l,this,arguments[1]);break;case 3:_(n,l,this,arguments[1],arguments[2]);break;case 4:w(n,l,this,arguments[1],arguments[2],arguments[3]);break;default:for(i=new Array(r-1),o=1;o<r;o++)i[o-1]=arguments[o];x(n,l,this,i)}return!0},y.prototype.on=y.prototype.addListener=function(e,t){return S(this,e,t,!1)},y.prototype.prependListener=function(e,t){return S(this,e,t,!0)},y.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.on(e,E(this,e,t)),this},y.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.prependListener(e,E(this,e,t)),this},y.prototype.removeListener=function(e,t){var n,r,i,o,a;if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');if(!(r=this._events))return this;if(!(n=r[e]))return this;if(n===t||n.listener&&n.listener===t)0==--this._eventsCount?this._events=new g:(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length;o-- >0;)if(n[o]===t||n[o].listener&&n[o].listener===t){a=n[o].listener,i=o;break}if(i<0)return this;if(1===n.length){if(n[0]=void 0,0==--this._eventsCount)return this._events=new g,this;delete r[e]}else!function(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}(n,i);r.removeListener&&this.emit("removeListener",e,a||t)}return this},y.prototype.removeAllListeners=function(e){var t,n;if(!(n=this._events))return this;if(!n.removeListener)return 0===arguments.length?(this._events=new g,this._eventsCount=0):n[e]&&(0==--this._eventsCount?this._events=new g:delete n[e]),this;if(0===arguments.length){for(var r,i=Object.keys(n),o=0;o<i.length;++o)"removeListener"!==(r=i[o])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=new g,this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(t)do{this.removeListener(e,t[t.length-1])}while(t[0]);return this},y.prototype.listeners=function(e){var t,n=this._events;return n&&(t=n[e])?"function"==typeof t?[t.listener||t]:function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(t):[]},y.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):T.call(e,t)},y.prototype.listenerCount=T,y.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]},j.prototype.next=function(){if(this.done)return{done:!0};var e=this._next();return e.done&&(this.done=!0),e},"undefined"!=typeof Symbol&&(j.prototype[Symbol.iterator]=function(){return this}),j.of=function(){var e=arguments,t=e.length,n=0;return new j((function(){return n>=t?{done:!0}:{done:!1,value:e[n++]}}))},j.empty=function(){var e=new j(null);return e.done=!0,e},j.is=function(e){return e instanceof j||"object"==typeof e&&null!==e&&"function"==typeof e.next};var I=j,k=function(e,t){for(var n,r=arguments.length>1?t:1/0,i=r!==1/0?new Array(r):[],o=0;;){if(o===r)return i;if((n=e.next()).done)return o!==t?i.slice(0,o):i;i[o++]=n.value}},A=function(e){function n(t,n){var r;return(r=e.call(this)||this).name="GraphError",r.message=t||"",r.data=n||{},r}return t(n,e),n}(a(Error)),O=function(e){function n(t,r){var i;return(i=e.call(this,t,r)||this).name="InvalidArgumentsGraphError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(s(i),n.prototype.constructor),i}return t(n,e),n}(A),R=function(e){function n(t,r){var i;return(i=e.call(this,t,r)||this).name="NotFoundGraphError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(s(i),n.prototype.constructor),i}return t(n,e),n}(A),L=function(e){function n(t,r){var i;return(i=e.call(this,t,r)||this).name="UsageGraphError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(s(i),n.prototype.constructor),i}return t(n,e),n}(A);function C(e,t){this.key=e,this.attributes=t,this.inDegree=0,this.outDegree=0,this.undirectedDegree=0,this.directedSelfLoops=0,this.undirectedSelfLoops=0,this.in={},this.out={},this.undirected={}}function M(e,t){this.key=e,this.attributes=t||{},this.inDegree=0,this.outDegree=0,this.directedSelfLoops=0,this.in={},this.out={}}function D(e,t){this.key=e,this.attributes=t||{},this.undirectedDegree=0,this.undirectedSelfLoops=0,this.undirected={}}function P(e,t,n,r,i){this.key=e,this.attributes=i,this.source=n,this.target=r,this.generatedKey=t}function B(e,t,n,r,i){this.key=e,this.attributes=i,this.source=n,this.target=r,this.generatedKey=t}function F(e,t,n,r,i,o,a){var s=e.multi,u=t?"undirected":"out",c=t?"undirected":"in",l=o[u][i];void 0===l&&(l=s?new Set:n,o[u][i]=l),s&&l.add(n),r!==i&&void 0===a[c][r]&&(a[c][r]=l)}function U(e,t,n){var r=e.multi,i=n.source,o=n.target,a=i.key,s=o.key,u=i[t?"undirected":"out"],c=t?"undirected":"in";if(s in u)if(r){var l=u[s];1===l.size?(delete u[s],delete o[c][a]):l.delete(n)}else delete u[s];r||delete o[c][a]}M.prototype.upgradeToMixed=function(){this.undirectedDegree=0,this.undirectedSelfLoops=0,this.undirected={}},D.prototype.upgradeToMixed=function(){this.inDegree=0,this.outDegree=0,this.directedSelfLoops=0,this.in={},this.out={}};var G=[{name:function(e){return"get".concat(e,"Attribute")},attacher:function(e,t,n,r){e.prototype[t]=function(e,i){var o;if("mixed"!==this.type&&"mixed"!==n&&n!==this.type)throw new L("Graph.".concat(t,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new L("Graph.".concat(t,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var a=""+e,s=""+i;if(i=arguments[2],!(o=c(this,a,s,n)))throw new R("Graph.".concat(t,': could not find an edge for the given path ("').concat(a,'" - "').concat(s,'").'))}else if(!(o=this._edges.get(e=""+e)))throw new R("Graph.".concat(t,': could not find the "').concat(e,'" edge in the graph.'));if("mixed"!==n&&!(o instanceof r))throw new R("Graph.".concat(t,': could not find the "').concat(e,'" ').concat(n," edge in the graph."));return o.attributes[i]}}},{name:function(e){return"get".concat(e,"Attributes")},attacher:function(e,t,n,r){e.prototype[t]=function(e){var i;if("mixed"!==this.type&&"mixed"!==n&&n!==this.type)throw new L("Graph.".concat(t,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>1){if(this.multi)throw new L("Graph.".concat(t,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var o=""+e,a=""+arguments[1];if(!(i=c(this,o,a,n)))throw new R("Graph.".concat(t,': could not find an edge for the given path ("').concat(o,'" - "').concat(a,'").'))}else if(!(i=this._edges.get(e=""+e)))throw new R("Graph.".concat(t,': could not find the "').concat(e,'" edge in the graph.'));if("mixed"!==n&&!(i instanceof r))throw new R("Graph.".concat(t,': could not find the "').concat(e,'" ').concat(n," edge in the graph."));return i.attributes}}},{name:function(e){return"has".concat(e,"Attribute")},attacher:function(e,t,n,r){e.prototype[t]=function(e,i){var o;if("mixed"!==this.type&&"mixed"!==n&&n!==this.type)throw new L("Graph.".concat(t,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new L("Graph.".concat(t,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var a=""+e,s=""+i;if(i=arguments[2],!(o=c(this,a,s,n)))throw new R("Graph.".concat(t,': could not find an edge for the given path ("').concat(a,'" - "').concat(s,'").'))}else if(!(o=this._edges.get(e=""+e)))throw new R("Graph.".concat(t,': could not find the "').concat(e,'" edge in the graph.'));if("mixed"!==n&&!(o instanceof r))throw new R("Graph.".concat(t,': could not find the "').concat(e,'" ').concat(n," edge in the graph."));return o.attributes.hasOwnProperty(i)}}},{name:function(e){return"set".concat(e,"Attribute")},attacher:function(e,t,n,r){e.prototype[t]=function(e,i,o){var a;if("mixed"!==this.type&&"mixed"!==n&&n!==this.type)throw new L("Graph.".concat(t,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>3){if(this.multi)throw new L("Graph.".concat(t,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var s=""+e,u=""+i;if(i=arguments[2],o=arguments[3],!(a=c(this,s,u,n)))throw new R("Graph.".concat(t,': could not find an edge for the given path ("').concat(s,'" - "').concat(u,'").'))}else if(!(a=this._edges.get(e=""+e)))throw new R("Graph.".concat(t,': could not find the "').concat(e,'" edge in the graph.'));if("mixed"!==n&&!(a instanceof r))throw new R("Graph.".concat(t,': could not find the "').concat(e,'" ').concat(n," edge in the graph."));return a.attributes[i]=o,this.emit("edgeAttributesUpdated",{key:a.key,type:"set",meta:{name:i,value:o}}),this}}},{name:function(e){return"update".concat(e,"Attribute")},attacher:function(e,t,n,r){e.prototype[t]=function(e,i,o){var a;if("mixed"!==this.type&&"mixed"!==n&&n!==this.type)throw new L("Graph.".concat(t,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>3){if(this.multi)throw new L("Graph.".concat(t,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var s=""+e,u=""+i;if(i=arguments[2],o=arguments[3],!(a=c(this,s,u,n)))throw new R("Graph.".concat(t,': could not find an edge for the given path ("').concat(s,'" - "').concat(u,'").'))}else if(!(a=this._edges.get(e=""+e)))throw new R("Graph.".concat(t,': could not find the "').concat(e,'" edge in the graph.'));if("function"!=typeof o)throw new O("Graph.".concat(t,": updater should be a function."));if("mixed"!==n&&!(a instanceof r))throw new R("Graph.".concat(t,': could not find the "').concat(e,'" ').concat(n," edge in the graph."));return a.attributes[i]=o(a.attributes[i]),this.emit("edgeAttributesUpdated",{key:a.key,type:"set",meta:{name:i,value:a.attributes[i]}}),this}}},{name:function(e){return"remove".concat(e,"Attribute")},attacher:function(e,t,n,r){e.prototype[t]=function(e,i){var o;if("mixed"!==this.type&&"mixed"!==n&&n!==this.type)throw new L("Graph.".concat(t,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new L("Graph.".concat(t,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var a=""+e,s=""+i;if(i=arguments[2],!(o=c(this,a,s,n)))throw new R("Graph.".concat(t,': could not find an edge for the given path ("').concat(a,'" - "').concat(s,'").'))}else if(!(o=this._edges.get(e=""+e)))throw new R("Graph.".concat(t,': could not find the "').concat(e,'" edge in the graph.'));if("mixed"!==n&&!(o instanceof r))throw new R("Graph.".concat(t,': could not find the "').concat(e,'" ').concat(n," edge in the graph."));return delete o.attributes[i],this.emit("edgeAttributesUpdated",{key:o.key,type:"remove",meta:{name:i}}),this}}},{name:function(e){return"replace".concat(e,"Attributes")},attacher:function(e,t,n,r){e.prototype[t]=function(e,i){var o;if("mixed"!==this.type&&"mixed"!==n&&n!==this.type)throw new L("Graph.".concat(t,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new L("Graph.".concat(t,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var a=""+e,s=""+i;if(i=arguments[2],!(o=c(this,a,s,n)))throw new R("Graph.".concat(t,': could not find an edge for the given path ("').concat(a,'" - "').concat(s,'").'))}else if(!(o=this._edges.get(e=""+e)))throw new R("Graph.".concat(t,': could not find the "').concat(e,'" edge in the graph.'));if(!h(i))throw new O("Graph.".concat(t,": provided attributes are not a plain object."));if("mixed"!==n&&!(o instanceof r))throw new R("Graph.".concat(t,': could not find the "').concat(e,'" ').concat(n," edge in the graph."));var u=o.attributes;return o.attributes=i,this.emit("edgeAttributesUpdated",{key:o.key,type:"replace",meta:{before:u,after:i}}),this}}},{name:function(e){return"merge".concat(e,"Attributes")},attacher:function(e,t,n,r){e.prototype[t]=function(e,i){var o;if("mixed"!==this.type&&"mixed"!==n&&n!==this.type)throw new L("Graph.".concat(t,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new L("Graph.".concat(t,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var a=""+e,s=""+i;if(i=arguments[2],!(o=c(this,a,s,n)))throw new R("Graph.".concat(t,': could not find an edge for the given path ("').concat(a,'" - "').concat(s,'").'))}else if(!(o=this._edges.get(e=""+e)))throw new R("Graph.".concat(t,': could not find the "').concat(e,'" edge in the graph.'));if(!h(i))throw new O("Graph.".concat(t,": provided attributes are not a plain object."));if("mixed"!==n&&!(o instanceof r))throw new R("Graph.".concat(t,': could not find the "').concat(e,'" ').concat(n," edge in the graph."));return u(o.attributes,i),this.emit("edgeAttributesUpdated",{key:o.key,type:"merge",meta:{data:i}}),this}}}],z=function(){var e,t=arguments,n=-1;return new I((function r(){if(!e){if(++n>=t.length)return{done:!0};e=t[n]}var i=e.next();return i.done?(e=null,r()):i}))},q=[{name:"edges",type:"mixed"},{name:"inEdges",type:"directed",direction:"in"},{name:"outEdges",type:"directed",direction:"out"},{name:"inboundEdges",type:"mixed",direction:"in"},{name:"outboundEdges",type:"mixed",direction:"out"},{name:"directedEdges",type:"directed"},{name:"undirectedEdges",type:"undirected"}];function V(e,t){for(var n in t)t[n]instanceof Set?t[n].forEach((function(t){return e.push(t.key)})):e.push(t[n].key)}function W(e,t){for(var n in e){var r=e[n];t(r.key,r.attributes,r.source.key,r.target.key,r.source.attributes,r.target.attributes)}}function H(e,t){for(var n in e)e[n].forEach((function(e){return t(e.key,e.attributes,e.source.key,e.target.key,e.source.attributes,e.target.attributes)}))}function K(e){var t=Object.keys(e),n=t.length,r=null,i=0;return new I((function o(){var a;if(r){var s=r.next();if(s.done)return r=null,i++,o();a=s.value}else{if(i>=n)return{done:!0};if((a=e[t[i]])instanceof Set)return r=a.values(),o();i++}return{done:!1,value:[a.key,a.attributes,a.source.key,a.target.key,a.source.attributes,a.target.attributes]}}))}function J(e,t,n){n in t&&(t[n]instanceof Set?t[n].forEach((function(t){return e.push(t.key)})):e.push(t[n].key))}function X(e,t,n){if(t in e)if(e[t]instanceof Set)e[t].forEach((function(e){return n(e.key,e.attributes,e.source.key,e.target.key,e.source.attributes,e.target.attributes)}));else{var r=e[t];n(r.key,r.attributes,r.source.key,r.target.key,r.source.attributes,r.target.attributes)}}function $(e,t){var n=e[t];if(n instanceof Set){var r=n.values();return new I((function(){var e=r.next();if(e.done)return e;var t=e.value;return{done:!1,value:[t.key,t.attributes,t.source.key,t.target.key,t.source.attributes,t.target.attributes]}}))}return I.of([n.key,n.attributes,n.source.key,n.target.key,n.source.attributes,n.target.attributes])}function Q(e,t){if(0===e.size)return[];if("mixed"===t||t===e.type)return k(e._edges.keys(),e._edges.size);var n=new Array("undirected"===t?e.undirectedSize:e.directedSize),r="undirected"===t,i=0;return e._edges.forEach((function(e,t){e instanceof B===r&&(n[i++]=t)})),n}function Y(e,t,n){if(0!==e.size)if("mixed"===t||t===e.type)e._edges.forEach((function(e,t){var r=e.source,i=e.target;n(t,e.attributes,r.key,i.key,r.attributes,i.attributes)}));else{var r="undirected"===t;e._edges.forEach((function(e,t){if(e instanceof B===r){var i=e.source,o=e.target;n(t,e.attributes,i.key,o.key,i.attributes,o.attributes)}}))}}function Z(e,t){return 0===e.size?I.empty():"mixed"===t?(n=e._edges.values(),new I((function(){var e=n.next();if(e.done)return e;var t=e.value;return{value:[t.key,t.attributes,t.source.key,t.target.key,t.source.attributes,t.target.attributes],done:!1}}))):(n=e._edges.values(),new I((function e(){var r=n.next();if(r.done)return r;var i=r.value;return i instanceof B==("undirected"===t)?{value:[i.key,i.attributes,i.source.key,i.target.key,i.source.attributes,i.target.attributes],done:!1}:e()})));var n}function ee(e,t,n){var r=[];return"undirected"!==e&&("out"!==t&&V(r,n.in),"in"!==t&&V(r,n.out)),"directed"!==e&&V(r,n.undirected),r}function te(e,t,n,r,i){var o=e?H:W;"undirected"!==t&&("out"!==n&&o(r.in,i),"in"!==n&&o(r.out,i)),"directed"!==t&&o(r.undirected,i)}function ne(e,t,n){var r=I.empty();return"undirected"!==e&&("out"!==t&&void 0!==n.in&&(r=z(r,K(n.in))),"in"!==t&&void 0!==n.out&&(r=z(r,K(n.out)))),"directed"!==e&&void 0!==n.undirected&&(r=z(r,K(n.undirected))),r}function re(e,t,n,r){var i=[];return"undirected"!==e&&(void 0!==n.in&&"out"!==t&&J(i,n.in,r),void 0!==n.out&&"in"!==t&&J(i,n.out,r)),"directed"!==e&&void 0!==n.undirected&&J(i,n.undirected,r),i}function ie(e,t,n,r,i){"undirected"!==e&&(void 0!==n.in&&"out"!==t&&X(n.in,r,i),void 0!==n.out&&"in"!==t&&X(n.out,r,i)),"directed"!==e&&void 0!==n.undirected&&X(n.undirected,r,i)}function oe(e,t,n,r){var i=I.empty();return"undirected"!==e&&(void 0!==n.in&&"out"!==t&&r in n.in&&(i=z(i,$(n.in,r))),void 0!==n.out&&"in"!==t&&r in n.out&&(i=z(i,$(n.out,r)))),"directed"!==e&&void 0!==n.undirected&&r in n.undirected&&(i=z(i,$(n.undirected,r))),i}var ae=[{name:"neighbors",type:"mixed"},{name:"inNeighbors",type:"directed",direction:"in"},{name:"outNeighbors",type:"directed",direction:"out"},{name:"inboundNeighbors",type:"mixed",direction:"in"},{name:"outboundNeighbors",type:"mixed",direction:"out"},{name:"directedNeighbors",type:"directed"},{name:"undirectedNeighbors",type:"undirected"}];function se(e,t){if(void 0!==t)for(var n in t)e.add(n)}function ue(e,t,n){if("mixed"!==e){if("undirected"===e)return Object.keys(n.undirected);if("string"==typeof t)return Object.keys(n[t])}var r=new Set;return"undirected"!==e&&("out"!==t&&se(r,n.in),"in"!==t&&se(r,n.out)),"directed"!==e&&se(r,n.undirected),k(r.values(),r.size)}function ce(e,t,n){for(var r in t){var i=t[r];i instanceof Set&&(i=i.values().next().value);var o=i.source,a=o===e?i.target:o;n(a.key,a.attributes)}}function le(e,t,n,r){for(var i in n){var o=n[i];o instanceof Set&&(o=o.values().next().value);var a=o.source,s=a===t?o.target:a;e.has(s.key)||(e.add(s.key),r(s.key,s.attributes))}}function he(e,t){var n=Object.keys(t),r=n.length,i=0;return new I((function(){if(i>=r)return{done:!0};var o=t[n[i++]];o instanceof Set&&(o=o.values().next().value);var a=o.source,s=a===e?o.target:a;return{done:!1,value:[s.key,s.attributes]}}))}function de(e,t,n){var r=Object.keys(n),i=r.length,o=0;return new I((function a(){if(o>=i)return{done:!0};var s=n[r[o++]];s instanceof Set&&(s=s.values().next().value);var u=s.source,c=u===t?s.target:u;return e.has(c.key)?a():(e.add(c.key),{done:!1,value:[c.key,c.attributes]})}))}function fe(e,t,n,r,i){var o=e._nodes.get(r);if("undirected"!==t){if("out"!==n&&void 0!==o.in)for(var a in o.in)if(a===i)return!0;if("in"!==n&&void 0!==o.out)for(var s in o.out)if(s===i)return!0}if("directed"!==t&&void 0!==o.undirected)for(var u in o.undirected)if(u===i)return!0;return!1}function pe(e,t){var n={key:e};return Object.keys(t.attributes).length&&(n.attributes=u({},t.attributes)),n}function ge(e,t){var n={source:t.source.key,target:t.target.key};return t.generatedKey||(n.key=e),Object.keys(t.attributes).length&&(n.attributes=u({},t.attributes)),t instanceof B&&(n.undirected=!0),n}function ye(e){return h(e)?"key"in e?!("attributes"in e)||h(e.attributes)&&null!==e.attributes?null:"invalid-attributes":"no-key":"not-object"}function ve(e){return h(e)?"source"in e?"target"in e?!("attributes"in e)||h(e.attributes)&&null!==e.attributes?"undirected"in e&&"boolean"!=typeof e.undirected?"invalid-undirected":null:"invalid-attributes":"no-target":"no-source":"not-object"}var be=new Set(["directed","undirected","mixed"]),me=new Set(["domain","_events","_eventsCount","_maxListeners"]),_e={allowSelfLoops:!0,edgeKeyGenerator:null,multi:!1,type:"mixed"};function we(e,t,n,r,i,o,a,s){if(!r&&"undirected"===e.type)throw new L("Graph.".concat(t,": you cannot add a directed edge to an undirected graph. Use the #.addEdge or #.addUndirectedEdge instead."));if(r&&"directed"===e.type)throw new L("Graph.".concat(t,": you cannot add an undirected edge to a directed graph. Use the #.addEdge or #.addDirectedEdge instead."));if(s&&!h(s))throw new O("Graph.".concat(t,': invalid attributes. Expecting an object but got "').concat(s,'"'));if(o=""+o,a=""+a,s=s||{},!e.allowSelfLoops&&o===a)throw new L("Graph.".concat(t,': source & target are the same ("').concat(o,"\"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false."));var u=e._nodes.get(o),c=e._nodes.get(a);if(!u)throw new R("Graph.".concat(t,': source node "').concat(o,'" not found.'));if(!c)throw new R("Graph.".concat(t,': target node "').concat(a,'" not found.'));var l={key:null,undirected:r,source:o,target:a,attributes:s};if(n&&(i=e._edgeKeyGenerator(l)),e._edges.has(i=""+i))throw new L("Graph.".concat(t,': the "').concat(i,'" edge already exists in the graph.'));if(!e.multi&&(r?void 0!==u.undirected[a]:void 0!==u.out[a]))throw new L("Graph.".concat(t,': an edge linking "').concat(o,'" to "').concat(a,"\" already exists. If you really want to add multiple edges linking those nodes, you should create a multi graph by using the 'multi' option."));var d=new(r?B:P)(i,n,u,c,s);return e._edges.set(i,d),o===a?r?u.undirectedSelfLoops++:u.directedSelfLoops++:r?(u.undirectedDegree++,c.undirectedDegree++):(u.outDegree++,c.inDegree++),F(e,r,d,o,a,u,c),r?e._undirectedSize++:e._directedSize++,l.key=i,e.emit("edgeAdded",l),i}function xe(e,t,n,r,i,o,a,s){if(!r&&"undirected"===e.type)throw new L("Graph.".concat(t,": you cannot add a directed edge to an undirected graph. Use the #.addEdge or #.addUndirectedEdge instead."));if(r&&"directed"===e.type)throw new L("Graph.".concat(t,": you cannot add an undirected edge to a directed graph. Use the #.addEdge or #.addDirectedEdge instead."));if(s&&!h(s))throw new O("Graph.".concat(t,': invalid attributes. Expecting an object but got "').concat(s,'"'));if(o=""+o,a=""+a,s=s||{},!e.allowSelfLoops&&o===a)throw new L("Graph.".concat(t,': source & target are the same ("').concat(o,"\"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false."));var l,d,f=e._nodes.get(o),p=e._nodes.get(a),g=null;if(!n&&(l=e._edges.get(i))){if(l.source!==o||l.target!==a||r&&(l.source!==a||l.target!==o))throw new L("Graph.".concat(t,': inconsistency detected when attempting to merge the "').concat(i,'" edge with "').concat(o,'" source & "').concat(a,'" target vs. (').concat(l.source,", ").concat(l.target,")."));g=i}if(g||e.multi||!f||(r?void 0===f.undirected[a]:void 0===f.out[a])||(d=c(e,o,a,r?"undirected":"directed")),d)return s?(u(d.attributes,s),g):g;var y={key:null,undirected:r,source:o,target:a,attributes:s};if(n&&(i=e._edgeKeyGenerator(y)),e._edges.has(i=""+i))throw new L("Graph.".concat(t,': the "').concat(i,'" edge already exists in the graph.'));return f||(e.addNode(o),f=e._nodes.get(o),o===a&&(p=f)),p||(e.addNode(a),p=e._nodes.get(a)),l=new(r?B:P)(i,n,f,p,s),e._edges.set(i,l),o===a?r?f.undirectedSelfLoops++:f.directedSelfLoops++:r?(f.undirectedDegree++,p.undirectedDegree++):(f.outDegree++,p.inDegree++),F(e,r,l,o,a,f,p),r?e._undirectedSize++:e._directedSize++,y.key=i,e.emit("edgeAdded",y),i}var Se=function(e){function n(t){var n;if(n=e.call(this)||this,(t=u({},_e,t)).edgeKeyGenerator&&"function"!=typeof t.edgeKeyGenerator)throw new O("Graph.constructor: invalid 'edgeKeyGenerator' option. Expecting a function but got \"".concat(t.edgeKeyGenerator,'".'));if("boolean"!=typeof t.multi)throw new O("Graph.constructor: invalid 'multi' option. Expecting a boolean but got \"".concat(t.multi,'".'));if(!be.has(t.type))throw new O('Graph.constructor: invalid \'type\' option. Should be one of "mixed", "directed" or "undirected" but got "'.concat(t.type,'".'));if("boolean"!=typeof t.allowSelfLoops)throw new O("Graph.constructor: invalid 'allowSelfLoops' option. Expecting a boolean but got \"".concat(t.allowSelfLoops,'".'));var r,i="mixed"===t.type?C:"directed"===t.type?M:D;return f(s(n),"NodeDataClass",i),f(s(n),"_attributes",{}),f(s(n),"_nodes",new Map),f(s(n),"_edges",new Map),f(s(n),"_directedSize",0),f(s(n),"_undirectedSize",0),f(s(n),"_edgeKeyGenerator",t.edgeKeyGenerator||(r=0,function(){return"_geid".concat(r++,"_")})),f(s(n),"_options",t),me.forEach((function(e){return f(s(n),e,n[e])})),p(s(n),"order",(function(){return n._nodes.size})),p(s(n),"size",(function(){return n._edges.size})),p(s(n),"directedSize",(function(){return n._directedSize})),p(s(n),"undirectedSize",(function(){return n._undirectedSize})),p(s(n),"multi",n._options.multi),p(s(n),"type",n._options.type),p(s(n),"allowSelfLoops",n._options.allowSelfLoops),n}t(n,e);var r=n.prototype;return r.hasNode=function(e){return this._nodes.has(""+e)},r.hasDirectedEdge=function(e,t){if("undirected"===this.type)return!1;if(1===arguments.length){var n=""+e,r=this._edges.get(n);return!!r&&r instanceof P}if(2===arguments.length){t=""+t;var i=this._nodes.get(e=""+e);if(!i)return!1;var o=i.out[t];return!(!o||this.multi&&!o.size)}throw new O("Graph.hasDirectedEdge: invalid arity (".concat(arguments.length,", instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target."))},r.hasUndirectedEdge=function(e,t){if("directed"===this.type)return!1;if(1===arguments.length){var n=""+e,r=this._edges.get(n);return!!r&&r instanceof B}if(2===arguments.length){t=""+t;var i=this._nodes.get(e=""+e);if(!i)return!1;var o=i.undirected[t];return!(!o||this.multi&&!o.size)}throw new O("Graph.hasDirectedEdge: invalid arity (".concat(arguments.length,", instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target."))},r.hasEdge=function(e,t){if(1===arguments.length){var n=""+e;return this._edges.has(n)}if(2===arguments.length){t=""+t;var r=this._nodes.get(e=""+e);if(!r)return!1;var i=void 0!==r.out&&r.out[t];return i||(i=void 0!==r.undirected&&r.undirected[t]),!(!i||this.multi&&!i.size)}throw new O("Graph.hasEdge: invalid arity (".concat(arguments.length,", instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target."))},r.directedEdge=function(e,t){if("undirected"!==this.type){if(e=""+e,t=""+t,this.multi)throw new L("Graph.directedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.directedEdges instead.");var n=this._nodes.get(e);if(!n)throw new R('Graph.directedEdge: could not find the "'.concat(e,'" source node in the graph.'));if(!this._nodes.has(t))throw new R('Graph.directedEdge: could not find the "'.concat(t,'" target node in the graph.'));var r=n.out&&n.out[t]||void 0;return r?r.key:void 0}},r.undirectedEdge=function(e,t){if("directed"!==this.type){if(e=""+e,t=""+t,this.multi)throw new L("Graph.undirectedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.undirectedEdges instead.");var n=this._nodes.get(e);if(!n)throw new R('Graph.undirectedEdge: could not find the "'.concat(e,'" source node in the graph.'));if(!this._nodes.has(t))throw new R('Graph.undirectedEdge: could not find the "'.concat(t,'" target node in the graph.'));var r=n.undirected&&n.undirected[t]||void 0;return r?r.key:void 0}},r.edge=function(e,t){if(this.multi)throw new L("Graph.edge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.edges instead.");t=""+t;var n=this._nodes.get(e=""+e);if(!n)throw new R('Graph.edge: could not find the "'.concat(e,'" source node in the graph.'));if(!this._nodes.has(t))throw new R('Graph.edge: could not find the "'.concat(t,'" target node in the graph.'));var r=n.out&&n.out[t]||n.undirected&&n.undirected[t]||void 0;if(r)return r.key},r.inDegree=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("boolean"!=typeof t)throw new O('Graph.inDegree: Expecting a boolean but got "'.concat(t,'" for the second parameter (allowing self-loops to be counted).'));var n=this._nodes.get(e=""+e);if(!n)throw new R('Graph.inDegree: could not find the "'.concat(e,'" node in the graph.'));if("undirected"===this.type)return 0;var r=t?n.directedSelfLoops:0;return n.inDegree+r},r.outDegree=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("boolean"!=typeof t)throw new O('Graph.outDegree: Expecting a boolean but got "'.concat(t,'" for the second parameter (allowing self-loops to be counted).'));var n=this._nodes.get(e=""+e);if(!n)throw new R('Graph.outDegree: could not find the "'.concat(e,'" node in the graph.'));if("undirected"===this.type)return 0;var r=t?n.directedSelfLoops:0;return n.outDegree+r},r.directedDegree=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("boolean"!=typeof t)throw new O('Graph.directedDegree: Expecting a boolean but got "'.concat(t,'" for the second parameter (allowing self-loops to be counted).'));if(!this.hasNode(e=""+e))throw new R('Graph.directedDegree: could not find the "'.concat(e,'" node in the graph.'));return"undirected"===this.type?0:this.inDegree(e,t)+this.outDegree(e,t)},r.undirectedDegree=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("boolean"!=typeof t)throw new O('Graph.undirectedDegree: Expecting a boolean but got "'.concat(t,'" for the second parameter (allowing self-loops to be counted).'));if(!this.hasNode(e=""+e))throw new R('Graph.undirectedDegree: could not find the "'.concat(e,'" node in the graph.'));if("directed"===this.type)return 0;var n=this._nodes.get(e),r=t?2*n.undirectedSelfLoops:0;return n.undirectedDegree+r},r.degree=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("boolean"!=typeof t)throw new O('Graph.degree: Expecting a boolean but got "'.concat(t,'" for the second parameter (allowing self-loops to be counted).'));if(!this.hasNode(e=""+e))throw new R('Graph.degree: could not find the "'.concat(e,'" node in the graph.'));var n=0;return"undirected"!==this.type&&(n+=this.directedDegree(e,t)),"directed"!==this.type&&(n+=this.undirectedDegree(e,t)),n},r.source=function(e){var t=this._edges.get(e=""+e);if(!t)throw new R('Graph.source: could not find the "'.concat(e,'" edge in the graph.'));return t.source.key},r.target=function(e){var t=this._edges.get(e=""+e);if(!t)throw new R('Graph.target: could not find the "'.concat(e,'" edge in the graph.'));return t.target.key},r.extremities=function(e){var t=this._edges.get(e=""+e);if(!t)throw new R('Graph.extremities: could not find the "'.concat(e,'" edge in the graph.'));return[t.source.key,t.target.key]},r.opposite=function(e,t){if(t=""+t,!this._nodes.has(e=""+e))throw new R('Graph.opposite: could not find the "'.concat(e,'" node in the graph.'));var n=this._edges.get(t);if(!n)throw new R('Graph.opposite: could not find the "'.concat(t,'" edge in the graph.'));var r=n.source.key,i=n.target.key;if(e!==r&&e!==i)throw new R('Graph.opposite: the "'.concat(e,'" node is not attached to the "').concat(t,'" edge (').concat(r,", ").concat(i,")."));return e===r?i:r},r.undirected=function(e){var t=this._edges.get(e=""+e);if(!t)throw new R('Graph.undirected: could not find the "'.concat(e,'" edge in the graph.'));return t instanceof B},r.directed=function(e){var t=this._edges.get(e=""+e);if(!t)throw new R('Graph.directed: could not find the "'.concat(e,'" edge in the graph.'));return t instanceof P},r.selfLoop=function(e){var t=this._edges.get(e=""+e);if(!t)throw new R('Graph.selfLoop: could not find the "'.concat(e,'" edge in the graph.'));return t.source===t.target},r.addNode=function(e,t){if(t&&!h(t))throw new O('Graph.addNode: invalid attributes. Expecting an object but got "'.concat(t,'"'));if(t=t||{},this._nodes.has(e=""+e))throw new L('Graph.addNode: the "'.concat(e,'" node already exist in the graph.'));var n=new this.NodeDataClass(e,t);return this._nodes.set(e,n),this.emit("nodeAdded",{key:e,attributes:t}),e},r.mergeNode=function(e,t){if(t&&!h(t))throw new O('Graph.mergeNode: invalid attributes. Expecting an object but got "'.concat(t,'"'));t=t||{};var n=this._nodes.get(e=""+e);return n?(t&&u(n.attributes,t),e):(n=new this.NodeDataClass(e,t),this._nodes.set(e,n),this.emit("nodeAdded",{key:e,attributes:t}),e)},r.dropNode=function(e){if(!this.hasNode(e=""+e))throw new R('Graph.dropNode: could not find the "'.concat(e,'" node in the graph.'));for(var t=this.edges(e),n=0,r=t.length;n<r;n++)this.dropEdge(t[n]);var i=this._nodes.get(e);this._nodes.delete(e),this.emit("nodeDropped",{key:e,attributes:i.attributes})},r.dropEdge=function(e){var t;if(arguments.length>1){var n=""+arguments[0],r=""+arguments[1];if(!(t=c(this,n,r,this.type)))throw new R('Graph.dropEdge: could not find the "'.concat(n,'" -> "').concat(r,'" edge in the graph.'))}else if(!(t=this._edges.get(e=""+e)))throw new R('Graph.dropEdge: could not find the "'.concat(e,'" edge in the graph.'));this._edges.delete(t.key);var i=t,o=i.source,a=i.target,s=i.attributes,u=t instanceof B;return o===a?o.selfLoops--:u?(o.undirectedDegree--,a.undirectedDegree--):(o.outDegree--,a.inDegree--),U(this,u,t),u?this._undirectedSize--:this._directedSize--,this.emit("edgeDropped",{key:e,attributes:s,source:o.key,target:a.key,undirected:u}),this},r.clear=function(){this._edges.clear(),this._nodes.clear(),this.emit("cleared")},r.clearEdges=function(){this._edges.clear(),this.clearIndex(),this.emit("edgesCleared")},r.getAttribute=function(e){return this._attributes[e]},r.getAttributes=function(){return this._attributes},r.hasAttribute=function(e){return this._attributes.hasOwnProperty(e)},r.setAttribute=function(e,t){return this._attributes[e]=t,this.emit("attributesUpdated",{type:"set",meta:{name:e,value:t}}),this},r.updateAttribute=function(e,t){if("function"!=typeof t)throw new O("Graph.updateAttribute: updater should be a function.");return this._attributes[e]=t(this._attributes[e]),this.emit("attributesUpdated",{type:"set",meta:{name:e,value:this._attributes[e]}}),this},r.removeAttribute=function(e){return delete this._attributes[e],this.emit("attributesUpdated",{type:"remove",meta:{name:e}}),this},r.replaceAttributes=function(e){if(!h(e))throw new O("Graph.replaceAttributes: provided attributes are not a plain object.");var t=this._attributes;return this._attributes=e,this.emit("attributesUpdated",{type:"replace",meta:{before:t,after:e}}),this},r.mergeAttributes=function(e){if(!h(e))throw new O("Graph.mergeAttributes: provided attributes are not a plain object.");return this._attributes=u(this._attributes,e),this.emit("attributesUpdated",{type:"merge",meta:{data:this._attributes}}),this},r.getNodeAttribute=function(e,t){var n=this._nodes.get(e=""+e);if(!n)throw new R('Graph.getNodeAttribute: could not find the "'.concat(e,'" node in the graph.'));return n.attributes[t]},r.getNodeAttributes=function(e){var t=this._nodes.get(e=""+e);if(!t)throw new R('Graph.getNodeAttributes: could not find the "'.concat(e,'" node in the graph.'));return t.attributes},r.hasNodeAttribute=function(e,t){var n=this._nodes.get(e=""+e);if(!n)throw new R('Graph.hasNodeAttribute: could not find the "'.concat(e,'" node in the graph.'));return n.attributes.hasOwnProperty(t)},r.setNodeAttribute=function(e,t,n){var r=this._nodes.get(e=""+e);if(!r)throw new R('Graph.setNodeAttribute: could not find the "'.concat(e,'" node in the graph.'));if(arguments.length<3)throw new O("Graph.setNodeAttribute: not enough arguments. Either you forgot to pass the attribute's name or value, or you meant to use #.replaceNodeAttributes / #.mergeNodeAttributes instead.");return r.attributes[t]=n,this.emit("nodeAttributesUpdated",{key:e,type:"set",meta:{name:t,value:n}}),this},r.updateNodeAttribute=function(e,t,n){var r=this._nodes.get(e=""+e);if(!r)throw new R('Graph.updateNodeAttribute: could not find the "'.concat(e,'" node in the graph.'));if(arguments.length<3)throw new O("Graph.updateNodeAttribute: not enough arguments. Either you forgot to pass the attribute's name or updater, or you meant to use #.replaceNodeAttributes / #.mergeNodeAttributes instead.");if("function"!=typeof n)throw new O("Graph.updateAttribute: updater should be a function.");var i=r.attributes;return i[t]=n(i[t]),this.emit("nodeAttributesUpdated",{key:e,type:"set",meta:{name:t,value:i[t]}}),this},r.removeNodeAttribute=function(e,t){var n=this._nodes.get(e=""+e);if(!n)throw new R('Graph.hasNodeAttribute: could not find the "'.concat(e,'" node in the graph.'));return delete n.attributes[t],this.emit("nodeAttributesUpdated",{key:e,type:"remove",meta:{name:t}}),this},r.replaceNodeAttributes=function(e,t){var n=this._nodes.get(e=""+e);if(!n)throw new R('Graph.replaceNodeAttributes: could not find the "'.concat(e,'" node in the graph.'));if(!h(t))throw new O("Graph.replaceNodeAttributes: provided attributes are not a plain object.");var r=n.attributes;return n.attributes=t,this.emit("nodeAttributesUpdated",{key:e,type:"replace",meta:{before:r,after:t}}),this},r.mergeNodeAttributes=function(e,t){var n=this._nodes.get(e=""+e);if(!n)throw new R('Graph.mergeNodeAttributes: could not find the "'.concat(e,'" node in the graph.'));if(!h(t))throw new O("Graph.mergeNodeAttributes: provided attributes are not a plain object.");return u(n.attributes,t),this.emit("nodeAttributesUpdated",{key:e,type:"merge",meta:{data:t}}),this},r.forEach=function(e){if("function"!=typeof e)throw new O("Graph.forEach: expecting a callback.");this._edges.forEach((function(t,n){var r=t.source,i=t.target;e(r.key,i.key,r.attributes,i.attributes,n,t.attributes)}))},r.adjacency=function(){var e=this._edges.values();return new I((function(){var t=e.next();if(t.done)return t;var n=t.value,r=n.source,i=n.target;return{done:!1,value:[r.key,i.key,r.attributes,i.attributes,n.key,n.attributes]}}))},r.nodes=function(){return k(this._nodes.keys(),this._nodes.size)},r.forEachNode=function(e){if("function"!=typeof e)throw new O("Graph.forEachNode: expecting a callback.");this._nodes.forEach((function(t,n){e(n,t.attributes)}))},r.nodeEntries=function(){var e=this._nodes.values();return new I((function(){var t=e.next();if(t.done)return t;var n=t.value;return{value:[n.key,n.attributes],done:!1}}))},r.exportNode=function(e){var t=this._nodes.get(e=""+e);if(!t)throw new R('Graph.exportNode: could not find the "'.concat(e,'" node in the graph.'));return pe(e,t)},r.exportEdge=function(e){var t=this._edges.get(e=""+e);if(!t)throw new R('Graph.exportEdge: could not find the "'.concat(e,'" edge in the graph.'));return ge(e,t)},r.export=function(){var e=new Array(this._nodes.size),t=0;this._nodes.forEach((function(n,r){e[t++]=pe(r,n)}));var n=new Array(this._edges.size);return t=0,this._edges.forEach((function(e,r){n[t++]=ge(r,e)})),{attributes:this.getAttributes(),nodes:e,edges:n}},r.importNode=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=ye(e);if(n){if("not-object"===n)throw new O('Graph.importNode: invalid serialized node. A serialized node should be a plain object with at least a "key" property.');if("no-key"===n)throw new O("Graph.importNode: no key provided.");if("invalid-attributes"===n)throw new O("Graph.importNode: invalid attributes. Attributes should be a plain object, null or omitted.")}var r=e.key,i=e.attributes,o=void 0===i?{}:i;return t?this.mergeNode(r,o):this.addNode(r,o),this},r.importEdge=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=ve(e);if(n){if("not-object"===n)throw new O('Graph.importEdge: invalid serialized edge. A serialized edge should be a plain object with at least a "source" & "target" property.');if("no-source"===n)throw new O("Graph.importEdge: missing souce.");if("no-target"===n)throw new O("Graph.importEdge: missing target.");if("invalid-attributes"===n)throw new O("Graph.importEdge: invalid attributes. Attributes should be a plain object, null or omitted.");if("invalid-undirected"===n)throw new O("Graph.importEdge: invalid undirected. Undirected should be boolean or omitted.")}var r=e.source,i=e.target,o=e.attributes,a=void 0===o?{}:o,s=e.undirected,u=void 0!==s&&s;return"key"in e?(t?u?this.mergeUndirectedEdgeWithKey:this.mergeDirectedEdgeWithKey:u?this.addUndirectedEdgeWithKey:this.addDirectedEdgeWithKey).call(this,e.key,r,i,a):(t?u?this.mergeUndirectedEdge:this.mergeDirectedEdge:u?this.addUndirectedEdge:this.addDirectedEdge).call(this,r,i,a),this},r.import=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(l(e))return this.import(e.export(),n),this;if(!h(e))throw new O("Graph.import: invalid argument. Expecting a serialized graph or, alternatively, a Graph instance.");if(e.attributes){if(!h(e.attributes))throw new O("Graph.import: invalid attributes. Expecting a plain object.");n?this.mergeAttributes(e.attributes):this.replaceAttributes(e.attributes)}return e.nodes&&e.nodes.forEach((function(e){return t.importNode(e,n)})),e.edges&&e.edges.forEach((function(e){return t.importEdge(e,n)})),this},r.nullCopy=function(e){return new n(u({},this._options,e))},r.emptyCopy=function(e){var t=new n(u({},this._options,e));return this._nodes.forEach((function(e,n){e=new t.NodeDataClass(n,u({},e.attributes)),t._nodes.set(n,e)})),t},r.copy=function(){var e=new n(this._options);return e.import(this),e},r.upgradeToMixed=function(){return"mixed"===this.type||(this._nodes.forEach((function(e){return e.upgradeToMixed()})),this._options.type="mixed",p(this,"type",this._options.type),f(this,"NodeDataClass",C)),this},r.upgradeToMulti=function(){return this.multi||(this._options.multi=!0,p(this,"multi",!0),(e=this)._nodes.forEach((function(t,n){if(t.out)for(var r in t.out){var i=new Set;i.add(t.out[r]),t.out[r]=i,e._nodes.get(r).in[n]=i}if(t.undirected)for(var o in t.undirected)if(!(o>n)){var a=new Set;a.add(t.undirected[o]),t.undirected[o]=a,e._nodes.get(o).undirected[n]=a}}))),this;var e},r.clearIndex=function(){return this._nodes.forEach((function(e){void 0!==e.in&&(e.in={},e.out={}),void 0!==e.undirected&&(e.undirected={})})),this},r.toJSON=function(){return this.export()},r.toString=function(){var e=this.order>1||0===this.order,t=this.size>1||0===this.size;return"Graph<".concat(d(this.order)," node").concat(e?"s":"",", ").concat(d(this.size)," edge").concat(t?"s":"",">")},r.inspect=function(){var e=this,t={};this._nodes.forEach((function(e,n){t[n]=e.attributes}));var n={},r={};this._edges.forEach((function(t,i){var o=t instanceof B?"--":"->",a="",s="(".concat(t.source.key,")").concat(o,"(").concat(t.target.key,")");t.generatedKey?e.multi&&(void 0===r[s]?r[s]=0:r[s]++,a+="".concat(r[s],". ")):a+="[".concat(i,"]: "),n[a+=s]=t.attributes}));var i={};for(var o in this)this.hasOwnProperty(o)&&!me.has(o)&&"function"!=typeof this[o]&&(i[o]=this[o]);return i.attributes=this._attributes,i.nodes=t,i.edges=n,f(i,"constructor",this.constructor),i},n}(y);"undefined"!=typeof Symbol&&(Se.prototype[Symbol.for("nodejs.util.inspect.custom")]=Se.prototype.inspect),[{name:function(e){return"".concat(e,"Edge")},generateKey:!0},{name:function(e){return"".concat(e,"DirectedEdge")},generateKey:!0,type:"directed"},{name:function(e){return"".concat(e,"UndirectedEdge")},generateKey:!0,type:"undirected"},{name:function(e){return"".concat(e,"EdgeWithKey")}},{name:function(e){return"".concat(e,"DirectedEdgeWithKey")},type:"directed"},{name:function(e){return"".concat(e,"UndirectedEdgeWithKey")},type:"undirected"}].forEach((function(e){["add","merge"].forEach((function(t){var n=e.name(t),r="add"===t?we:xe;Se.prototype[n]=e.generateKey?function(t,i,o){return r(this,n,!0,"undirected"===(e.type||this.type),null,t,i,o)}:function(t,i,o,a){return r(this,n,!1,"undirected"===(e.type||this.type),t,i,o,a)}}))})),"undefined"!=typeof Symbol&&(Se.prototype[Symbol.iterator]=Se.prototype.adjacency),function(e){G.forEach((function(t){var n=t.name,r=t.attacher;r(e,n("Edge"),"mixed",P),r(e,n("DirectedEdge"),"directed",P),r(e,n("UndirectedEdge"),"undirected",B)}))}(Se),function(e){q.forEach((function(t){!function(e,t){var n=t.name,r=t.type,i=t.direction;e.prototype[n]=function(e,t){if("mixed"!==r&&"mixed"!==this.type&&r!==this.type)return[];if(!arguments.length)return Q(this,r);if(1===arguments.length){var o=this._nodes.get(e=""+e);if(void 0===o)throw new R("Graph.".concat(n,': could not find the "').concat(e,'" node in the graph.'));return ee("mixed"===r?this.type:r,i,o)}if(2===arguments.length){t=""+t;var a=this._nodes.get(e=""+e);if(!a)throw new R("Graph.".concat(n,':  could not find the "').concat(e,'" source node in the graph.'));if(!this._nodes.has(t))throw new R("Graph.".concat(n,':  could not find the "').concat(t,'" target node in the graph.'));return re(r,i,a,t)}throw new O("Graph.".concat(n,": too many arguments (expecting 0, 1 or 2 and got ").concat(arguments.length,")."))}}(e,t),function(e,t){var n=t.name,r=t.type,i=t.direction,o="forEach"+n[0].toUpperCase()+n.slice(1,-1);e.prototype[o]=function(e,t,n){if("mixed"===r||"mixed"===this.type||r===this.type){if(1===arguments.length)return Y(this,r,n=e);if(2===arguments.length){n=t;var a=this._nodes.get(e=""+e);if(void 0===a)throw new R("Graph.".concat(o,': could not find the "').concat(e,'" node in the graph.'));return te(this.multi,"mixed"===r?this.type:r,i,a,n)}if(3===arguments.length){t=""+t;var s=this._nodes.get(e=""+e);if(!s)throw new R("Graph.".concat(o,':  could not find the "').concat(e,'" source node in the graph.'));if(!this._nodes.has(t))throw new R("Graph.".concat(o,':  could not find the "').concat(t,'" target node in the graph.'));return ie(r,i,s,t,n)}throw new O("Graph.".concat(o,": too many arguments (expecting 1, 2 or 3 and got ").concat(arguments.length,")."))}}}(e,t),function(e,t){var n=t.type,r=t.direction,i=t.name.slice(0,-1)+"Entries";e.prototype[i]=function(e,t){if("mixed"!==n&&"mixed"!==this.type&&n!==this.type)return I.empty();if(!arguments.length)return Z(this,n);if(1===arguments.length){var o=this._nodes.get(e=""+e);if(!o)throw new R("Graph.".concat(i,': could not find the "').concat(e,'" node in the graph.'));return ne(n,r,o)}if(2===arguments.length){t=""+t;var a=this._nodes.get(e=""+e);if(!a)throw new R("Graph.".concat(i,':  could not find the "').concat(e,'" source node in the graph.'));if(!this._nodes.has(t))throw new R("Graph.".concat(i,':  could not find the "').concat(t,'" target node in the graph.'));return oe(n,r,a,t)}throw new O("Graph.".concat(i,": too many arguments (expecting 0, 1 or 2 and got ").concat(arguments.length,")."))}}(e,t)}))}(Se),function(e){ae.forEach((function(t){!function(e,t){var n=t.name,r=t.type,i=t.direction;e.prototype[n]=function(e){if("mixed"!==r&&"mixed"!==this.type&&r!==this.type)return[];if(2===arguments.length){var t=""+arguments[0],o=""+arguments[1];if(!this._nodes.has(t))throw new R("Graph.".concat(n,': could not find the "').concat(t,'" node in the graph.'));if(!this._nodes.has(o))throw new R("Graph.".concat(n,': could not find the "').concat(o,'" node in the graph.'));return fe(this,r,i,t,o)}if(1===arguments.length){var a=this._nodes.get(e=""+e);if(void 0===a)throw new R("Graph.".concat(n,': could not find the "').concat(e,'" node in the graph.'));var s=ue("mixed"===r?this.type:r,i,a);return s}throw new O("Graph.".concat(n,": invalid number of arguments (expecting 1 or 2 and got ").concat(arguments.length,")."))}}(e,t),function(e,t){var n=t.name,r=t.type,i=t.direction,o="forEach"+n[0].toUpperCase()+n.slice(1,-1);e.prototype[o]=function(e,t){if("mixed"===r||"mixed"===this.type||r===this.type){var n=this._nodes.get(e=""+e);if(void 0===n)throw new R("Graph.".concat(o,': could not find the "').concat(e,'" node in the graph.'));!function(e,t,n,r){if("mixed"!==e){if("undirected"===e)return ce(n,n.undirected,r);if("string"==typeof t)return ce(n,n[t],r)}var i=new Set;"undirected"!==e&&("out"!==t&&le(i,n,n.in,r),"in"!==t&&le(i,n,n.out,r)),"directed"!==e&&le(i,n,n.undirected,r)}("mixed"===r?this.type:r,i,n,t)}}}(e,t),function(e,t){var n=t.type,r=t.direction,i=t.name.slice(0,-1)+"Entries";e.prototype[i]=function(e){if("mixed"!==n&&"mixed"!==this.type&&n!==this.type)return I.empty();var t=this._nodes.get(e=""+e);if(void 0===t)throw new R("Graph.".concat(i,': could not find the "').concat(e,'" node in the graph.'));return function(e,t,n){if("mixed"!==e){if("undirected"===e)return he(n,n.undirected);if("string"==typeof t)return he(n,n[t])}var r=I.empty(),i=new Set;return"undirected"!==e&&("out"!==t&&(r=z(r,de(i,n,n.in))),"in"!==t&&(r=z(r,de(i,n,n.out)))),"directed"!==e&&(r=z(r,de(i,n,n.undirected))),r}("mixed"===n?this.type:n,r,t)}}(e,t)}))}(Se);var Ee=function(e){function n(t){return e.call(this,u({type:"directed"},t))||this}return t(n,e),n}(Se),Te=function(e){function n(t){return e.call(this,u({type:"undirected"},t))||this}return t(n,e),n}(Se),Ne=function(e){function n(t){return e.call(this,u({multi:!0},t))||this}return t(n,e),n}(Se),je=function(e){function n(t){return e.call(this,u({multi:!0,type:"directed"},t))||this}return t(n,e),n}(Se),Ie=function(e){function n(t){return e.call(this,u({multi:!0,type:"undirected"},t))||this}return t(n,e),n}(Se);function ke(e){e.from=function(t,n){var r=new e(n);return r.import(t),r}}return ke(Se),ke(Ee),ke(Te),ke(Ne),ke(je),ke(Ie),Se.Graph=Se,Se.DirectedGraph=Ee,Se.UndirectedGraph=Te,Se.MultiGraph=Ne,Se.MultiDirectedGraph=je,Se.MultiUndirectedGraph=Ie,Se.InvalidArgumentsGraphError=O,Se.NotFoundGraphError=R,Se.UsageGraphError=L,Se}()},JFj6:function(e,t,n){e.exports=function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[a]={exports:{}};t[a][0].call(c.exports,(function(e){return i(t[a][1][e]||e)}),c,c.exports,e,t,n,r)}return n[a].exports}for(var o=!1,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){!function(r,i){"object"==typeof n&&void 0!==t?i(n,e("jsonld"),e("n3"),e("rdfxml-streaming-parser"),e("readable-stream")):i((r=r||self).tripleStoreUtils={},r.jsonld,r.n3,r.rdfxmlStreamingParser,r.readablestream)}(this,(function(e,t,n,r,i){"use strict";function o(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function a(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function s(e){var t=e.length,n=0;return new i.Readable({objectMode:!0,read:function(){this.push(n<t?e[n++]:null)}})}Object.keys(n).forEach((function(t){"default"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}})})),e.addJsonLdToStore=function(e,n){return o(this,void 0,void 0,(function(){var r,i,o;return a(this,(function(a){switch(a.label){case 0:return"string"!=typeof e?[3,4]:[4,fetch(e,{redirect:"follow"})];case 1:return(i=a.sent()).ok?[4,i.json()]:[3,3];case 2:r=a.sent(),a.label=3;case 3:return[3,5];case 4:r=e,a.label=5;case 5:return r?[4,t.toRDF(r)]:[3,7];case 6:o=a.sent(),n.import(s(o)),a.label=7;case 7:return[2,n]}}))}))},e.addN3ToStore=function(e,t){var r;return o(this,void 0,void 0,(function(){var i,o,u;return a(this,(function(a){switch(a.label){case 0:return"string"==typeof e&&(null===(r=e)||void 0===r?void 0:r.startsWith("http"))?[4,fetch(e,{redirect:"follow"})]:[3,4];case 1:return(o=a.sent()).ok?[4,o.text()]:[3,3];case 2:i=a.sent(),a.label=3;case 3:return[3,5];case 4:i=e,a.label=5;case 5:return i&&(u=new n.Parser({format:"n3"}).parse(i),t.import(s(u))),[2,t]}}))}))},e.addRdfXmlToStore=function(e,t){var i;return o(this,void 0,void 0,(function(){var o,s,u,c;return a(this,(function(a){switch(a.label){case 0:return"string"==typeof e&&(null===(i=e)||void 0===i?void 0:i.startsWith("http"))?[4,fetch(e,{redirect:"follow"})]:[3,4];case 1:return(s=a.sent()).ok?[4,s.text()]:[3,3];case 2:o=a.sent(),a.label=3;case 3:return[3,5];case 4:o=e,a.label=5;case 5:return o?(u=new r.RdfXmlParser({dataFactory:n.DataFactory,strict:!0}),c=new Promise((function(e){return u.once("end",(function(){return e(t)}))})),t.import(u),u.write(o),u.end(),[2,c]):[2,t]}}))}))},e.arrayToStream=s,e.streamToArray=function(e){return new Promise((function(t,n){var r=[];e.on("data",(function(e){r.push(e)})).once("end",(function(){t(r)})).once("error",(function(e){n(e)}))}))},Object.defineProperty(e,"__esModule",{value:!0})}))},{jsonld:38,n3:54,"rdfxml-streaming-parser":75,"readable-stream":92}],2:[function(e,t,n){var r=e("./lib/data-factory");t.exports=r},{"./lib/data-factory":4}],3:[function(e,t,n){function r(e){this.value=e||"b"+ ++r.nextId}r.prototype.equals=function(e){return!!e&&e.termType===this.termType&&e.value===this.value},r.prototype.termType="BlankNode",r.nextId=0,t.exports=r},{}],4:[function(e,t,n){var r=e("./blank-node"),i=e("./default-graph"),o=e("./literal"),a=e("./named-node"),s=e("./quad"),u=e("./variable");function c(){}c.namedNode=function(e){return new a(e)},c.blankNode=function(e){return new r(e)},c.literal=function(e,t){return"string"==typeof t?-1===t.indexOf(":")?new o(e,t):new o(e,null,c.namedNode(t)):new o(e,null,t)},c.defaultGraph=function(){return c.defaultGraphInstance},c.variable=function(e){return new u(e)},c.triple=function(e,t,n){return c.quad(e,t,n)},c.quad=function(e,t,n,r){return new s(e,t,n,r||c.defaultGraphInstance)},c.defaultGraphInstance=new i,t.exports=c},{"./blank-node":3,"./default-graph":5,"./literal":6,"./named-node":7,"./quad":8,"./variable":9}],5:[function(e,t,n){function r(){this.value=""}r.prototype.equals=function(e){return!!e&&e.termType===this.termType},r.prototype.termType="DefaultGraph",t.exports=r},{}],6:[function(e,t,n){var r=e("./named-node");function i(e,t,n){this.value=e,this.datatype=i.stringDatatype,this.language="",t?(this.language=t,this.datatype=i.langStringDatatype):n&&(this.datatype=n)}i.prototype.equals=function(e){return!!e&&e.termType===this.termType&&e.value===this.value&&e.language===this.language&&e.datatype.equals(this.datatype)},i.prototype.termType="Literal",i.langStringDatatype=new r("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),i.stringDatatype=new r("http://www.w3.org/2001/XMLSchema#string"),t.exports=i},{"./named-node":7}],7:[function(e,t,n){function r(e){this.value=e}r.prototype.equals=function(e){return!!e&&e.termType===this.termType&&e.value===this.value},r.prototype.termType="NamedNode",t.exports=r},{}],8:[function(e,t,n){var r=e("./default-graph");function i(e,t,n,i){this.subject=e,this.predicate=t,this.object=n,this.graph=i||new r}i.prototype.equals=function(e){return!!e&&e.subject.equals(this.subject)&&e.predicate.equals(this.predicate)&&e.object.equals(this.object)&&e.graph.equals(this.graph)},t.exports=i},{"./default-graph":5}],9:[function(e,t,n){function r(e){this.value=e}r.prototype.equals=function(e){return!!e&&e.termType===this.termType&&e.value===this.value},r.prototype.termType="Variable",t.exports=r},{}],10:[function(e,t,n){"use strict";n.byteLength=function(e){var t=c(e),n=t[1];return 3*(t[0]+n)/4-n},n.toByteArray=function(e){var t,n,r=c(e),a=r[0],s=r[1],u=new o(function(e,t,n){return 3*(t+n)/4-n}(0,a,s)),l=0,h=s>0?a-4:a;for(n=0;n<h;n+=4)t=i[e.charCodeAt(n)]<<18|i[e.charCodeAt(n+1)]<<12|i[e.charCodeAt(n+2)]<<6|i[e.charCodeAt(n+3)],u[l++]=t>>16&255,u[l++]=t>>8&255,u[l++]=255&t;return 2===s&&(t=i[e.charCodeAt(n)]<<2|i[e.charCodeAt(n+1)]>>4,u[l++]=255&t),1===s&&(t=i[e.charCodeAt(n)]<<10|i[e.charCodeAt(n+1)]<<4|i[e.charCodeAt(n+2)]>>2,u[l++]=t>>8&255,u[l++]=255&t),u},n.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],a=0,s=n-i;a<s;a+=16383)o.push(l(e,a,a+16383>s?s:a+16383));return 1===i?o.push(r[(t=e[n-1])>>2]+r[t<<4&63]+"=="):2===i&&o.push(r[(t=(e[n-2]<<8)+e[n-1])>>10]+r[t>>4&63]+r[t<<2&63]+"="),o.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)r[s]=a[s],i[a.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e,t,n){for(var i,o=[],a=t;a<n;a+=3)o.push(r[(i=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]))>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},{}],11:[function(e,t,n){},{}],12:[function(e,t,n){(function(t){"use strict";var r=e("base64-js"),i=e("ieee754");function o(e){if(e>2147483647)throw new RangeError('The value "'+e+'" is invalid for option "size"');var n=new Uint8Array(e);return n.__proto__=t.prototype,n}function t(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return u(e)}return a(e,t,n)}function a(e,n,r){if("string"==typeof e)return function(e,n){if("string"==typeof n&&""!==n||(n="utf8"),!t.isEncoding(n))throw new TypeError("Unknown encoding: "+n);var r=0|h(e,n),i=o(r),a=i.write(e,n);return a!==r&&(i=i.slice(0,a)),i}(e,n);if(ArrayBuffer.isView(e))return c(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(P(e,ArrayBuffer)||e&&P(e.buffer,ArrayBuffer))return function(e,n,r){if(n<0||e.byteLength<n)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<n+(r||0))throw new RangeError('"length" is outside of buffer bounds');var i;return(i=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r)).__proto__=t.prototype,i}(e,n,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var i=e.valueOf&&e.valueOf();if(null!=i&&i!==e)return t.from(i,n,r);var a=function(e){if(t.isBuffer(e)){var n=0|l(e.length),r=o(n);return 0===r.length||e.copy(r,0,0,n),r}return void 0!==e.length?"number"!=typeof e.length||B(e.length)?o(0):c(e):"Buffer"===e.type&&Array.isArray(e.data)?c(e.data):void 0}(e);if(a)return a;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return t.from(e[Symbol.toPrimitive]("string"),n,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function s(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function u(e){return s(e),o(e<0?0:0|l(e))}function c(e){for(var t=e.length<0?0:0|l(e.length),n=o(t),r=0;r<t;r+=1)n[r]=255&e[r];return n}function l(e){if(e>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+2147483647..toString(16)+" bytes");return 0|e}function h(e,n){if(t.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||P(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,i=arguments.length>2&&!0===arguments[2];if(!i&&0===r)return 0;for(var o=!1;;)switch(n){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return C(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return M(e).length;default:if(o)return i?-1:C(e).length;n=(""+n).toLowerCase(),o=!0}}function d(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return N(this,t,n);case"utf8":case"utf-8":return S(this,t,n);case"ascii":return E(this,t,n);case"latin1":case"binary":return T(this,t,n);case"base64":return x(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function f(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function p(e,n,r,i,o){if(0===e.length)return-1;if("string"==typeof r?(i=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),B(r=+r)&&(r=o?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(o)return-1;r=e.length-1}else if(r<0){if(!o)return-1;r=0}if("string"==typeof n&&(n=t.from(n,i)),t.isBuffer(n))return 0===n.length?-1:g(e,n,r,i,o);if("number"==typeof n)return n&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,n,r):Uint8Array.prototype.lastIndexOf.call(e,n,r):g(e,[n],r,i,o);throw new TypeError("val must be string, number or Buffer")}function g(e,t,n,r,i){var o,a=1,s=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,n/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var l=-1;for(o=n;o<s;o++)if(c(e,o)===c(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*a}else-1!==l&&(o-=o-l),l=-1}else for(n+u>s&&(n=s-u),o=n;o>=0;o--){for(var h=!0,d=0;d<u;d++)if(c(e,o+d)!==c(t,d)){h=!1;break}if(h)return o}return-1}function y(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(B(s))return a;e[n+a]=s}return a}function v(e,t,n,r){return D(C(t,e.length-n),e,n,r)}function b(e,t,n,r){return D(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function m(e,t,n,r){return b(e,t,n,r)}function _(e,t,n,r){return D(M(t),e,n,r)}function w(e,t,n,r){return D(function(e,t){for(var n,r,i=[],o=0;o<e.length&&!((t-=2)<0);++o)r=(n=e.charCodeAt(o))>>8,i.push(n%256),i.push(r);return i}(t,e.length-n),e,n,r)}function x(e,t,n){return r.fromByteArray(0===t&&n===e.length?e:e.slice(t,n))}function S(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,a,s,u,c=e[i],l=null,h=c>239?4:c>223?3:c>191?2:1;if(i+h<=n)switch(h){case 1:c<128&&(l=c);break;case 2:128==(192&(o=e[i+1]))&&(u=(31&c)<<6|63&o)>127&&(l=u);break;case 3:a=e[i+2],128==(192&(o=e[i+1]))&&128==(192&a)&&(u=(15&c)<<12|(63&o)<<6|63&a)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:a=e[i+2],s=e[i+3],128==(192&(o=e[i+1]))&&128==(192&a)&&128==(192&s)&&(u=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(l=u)}null===l?(l=65533,h=1):l>65535&&(r.push((l-=65536)>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=h}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=4096));return n}(r)}function E(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function T(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function N(e,t,n){var r,i=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>i)&&(n=i);for(var o="",a=t;a<n;++a)o+=(r=e[a])<16?"0"+r.toString(16):r.toString(16);return o}function j(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function I(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function k(e,n,r,i,o,a){if(!t.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(n>o||n<a)throw new RangeError('"value" argument is out of bounds');if(r+i>e.length)throw new RangeError("Index out of range")}function A(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function O(e,t,n,r,o){return t=+t,n>>>=0,o||A(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function R(e,t,n,r,o){return t=+t,n>>>=0,o||A(e,0,n,8),i.write(e,t,n,r,52,8),n+8}n.Buffer=t,n.SlowBuffer=function(e){return+e!=e&&(e=0),t.alloc(+e)},n.INSPECT_MAX_BYTES=50,n.kMaxLength=2147483647,(t.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(t){return!1}}())||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(t.prototype,"parent",{enumerable:!0,get:function(){if(t.isBuffer(this))return this.buffer}}),Object.defineProperty(t.prototype,"offset",{enumerable:!0,get:function(){if(t.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&t[Symbol.species]===t&&Object.defineProperty(t,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),t.poolSize=8192,t.from=function(e,t,n){return a(e,t,n)},t.prototype.__proto__=Uint8Array.prototype,t.__proto__=Uint8Array,t.alloc=function(e,t,n){return function(e,t,n){return s(e),e<=0?o(e):void 0!==t?"string"==typeof n?o(e).fill(t,n):o(e).fill(t):o(e)}(e,t,n)},t.allocUnsafe=function(e){return u(e)},t.allocUnsafeSlow=function(e){return u(e)},t.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==t.prototype},t.compare=function(e,n){if(P(e,Uint8Array)&&(e=t.from(e,e.offset,e.byteLength)),P(n,Uint8Array)&&(n=t.from(n,n.offset,n.byteLength)),!t.isBuffer(e)||!t.isBuffer(n))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===n)return 0;for(var r=e.length,i=n.length,o=0,a=Math.min(r,i);o<a;++o)if(e[o]!==n[o]){r=e[o],i=n[o];break}return r<i?-1:i<r?1:0},t.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},t.concat=function(e,n){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return t.alloc(0);var r;if(void 0===n)for(n=0,r=0;r<e.length;++r)n+=e[r].length;var i=t.allocUnsafe(n),o=0;for(r=0;r<e.length;++r){var a=e[r];if(P(a,Uint8Array)&&(a=t.from(a)),!t.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(i,o),o+=a.length}return i},t.byteLength=h,t.prototype._isBuffer=!0,t.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)f(this,t,t+1);return this},t.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)f(this,t,t+3),f(this,t+1,t+2);return this},t.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)f(this,t,t+7),f(this,t+1,t+6),f(this,t+2,t+5),f(this,t+3,t+4);return this},t.prototype.toLocaleString=t.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?S(this,0,e):d.apply(this,arguments)},t.prototype.equals=function(e){if(!t.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===t.compare(this,e)},t.prototype.inspect=function(){var e="",t=n.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},t.prototype.compare=function(e,n,r,i,o){if(P(e,Uint8Array)&&(e=t.from(e,e.offset,e.byteLength)),!t.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===n&&(n=0),void 0===r&&(r=e?e.length:0),void 0===i&&(i=0),void 0===o&&(o=this.length),n<0||r>e.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&n>=r)return 0;if(i>=o)return-1;if(n>=r)return 1;if(this===e)return 0;for(var a=(o>>>=0)-(i>>>=0),s=(r>>>=0)-(n>>>=0),u=Math.min(a,s),c=this.slice(i,o),l=e.slice(n,r),h=0;h<u;++h)if(c[h]!==l[h]){a=c[h],s=l[h];break}return a<s?-1:s<a?1:0},t.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},t.prototype.indexOf=function(e,t,n){return p(this,e,t,n,!0)},t.prototype.lastIndexOf=function(e,t,n){return p(this,e,t,n,!1)},t.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return y(this,e,t,n);case"utf8":case"utf-8":return v(this,e,t,n);case"ascii":return b(this,e,t,n);case"latin1":case"binary":return m(this,e,t,n);case"base64":return _(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},t.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},t.prototype.slice=function(e,n){var r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(n=void 0===n?r:~~n)<0?(n+=r)<0&&(n=0):n>r&&(n=r),n<e&&(n=e);var i=this.subarray(e,n);return i.__proto__=t.prototype,i},t.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||I(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},t.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||I(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},t.prototype.readUInt8=function(e,t){return e>>>=0,t||I(e,1,this.length),this[e]},t.prototype.readUInt16LE=function(e,t){return e>>>=0,t||I(e,2,this.length),this[e]|this[e+1]<<8},t.prototype.readUInt16BE=function(e,t){return e>>>=0,t||I(e,2,this.length),this[e]<<8|this[e+1]},t.prototype.readUInt32LE=function(e,t){return e>>>=0,t||I(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},t.prototype.readUInt32BE=function(e,t){return e>>>=0,t||I(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},t.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||I(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},t.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||I(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},t.prototype.readInt8=function(e,t){return e>>>=0,t||I(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},t.prototype.readInt16LE=function(e,t){e>>>=0,t||I(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},t.prototype.readInt16BE=function(e,t){e>>>=0,t||I(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},t.prototype.readInt32LE=function(e,t){return e>>>=0,t||I(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},t.prototype.readInt32BE=function(e,t){return e>>>=0,t||I(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},t.prototype.readFloatLE=function(e,t){return e>>>=0,t||I(e,4,this.length),i.read(this,e,!0,23,4)},t.prototype.readFloatBE=function(e,t){return e>>>=0,t||I(e,4,this.length),i.read(this,e,!1,23,4)},t.prototype.readDoubleLE=function(e,t){return e>>>=0,t||I(e,8,this.length),i.read(this,e,!0,52,8)},t.prototype.readDoubleBE=function(e,t){return e>>>=0,t||I(e,8,this.length),i.read(this,e,!1,52,8)},t.prototype.writeUIntLE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||k(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},t.prototype.writeUIntBE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||k(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},t.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||k(this,e,t,1,255,0),this[t]=255&e,t+1},t.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||k(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},t.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||k(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},t.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||k(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},t.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||k(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},t.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);k(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},t.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);k(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},t.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||k(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},t.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||k(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},t.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||k(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},t.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||k(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},t.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||k(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},t.prototype.writeFloatLE=function(e,t,n){return O(this,e,t,!0,n)},t.prototype.writeFloatBE=function(e,t,n){return O(this,e,t,!1,n)},t.prototype.writeDoubleLE=function(e,t,n){return R(this,e,t,!0,n)},t.prototype.writeDoubleBE=function(e,t,n){return R(this,e,t,!1,n)},t.prototype.copy=function(e,n,r,i){if(!t.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),i||0===i||(i=this.length),n>=e.length&&(n=e.length),n||(n=0),i>0&&i<r&&(i=r),i===r)return 0;if(0===e.length||0===this.length)return 0;if(n<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-n<i-r&&(i=e.length-n+r);var o=i-r;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(n,r,i);else if(this===e&&r<n&&n<i)for(var a=o-1;a>=0;--a)e[a+n]=this[a+r];else Uint8Array.prototype.set.call(e,this.subarray(r,i),n);return o},t.prototype.fill=function(e,n,r,i){if("string"==typeof e){if("string"==typeof n?(i=n,n=0,r=this.length):"string"==typeof r&&(i=r,r=this.length),void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!t.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(1===e.length){var o=e.charCodeAt(0);("utf8"===i&&o<128||"latin1"===i)&&(e=o)}}else"number"==typeof e&&(e&=255);if(n<0||this.length<n||this.length<r)throw new RangeError("Out of range index");if(r<=n)return this;var a;if(n>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(a=n;a<r;++a)this[a]=e;else{var s=t.isBuffer(e)?e:t.from(e,i),u=s.length;if(0===u)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(a=0;a<r-n;++a)this[a+n]=s[a%u]}return this};var L=/[^+/0-9A-Za-z-_]/g;function C(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function M(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(L,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function D(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function P(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function B(e){return e!=e}}).call(this,e("buffer").Buffer)},{"base64-js":10,buffer:12,ieee754:17}],13:[function(e,t,n){var r=Object.create||function(e){var t=function(){};return t.prototype=e,new t},i=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return n},o=Function.prototype.bind||function(e){var t=this;return function(){return t.apply(e,arguments)}};function a(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=r(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}t.exports=a,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._maxListeners=void 0;var s,u=10;try{var c={};Object.defineProperty&&Object.defineProperty(c,"x",{value:0}),s=0===c.x}catch(x){s=!1}function l(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function h(e,t,n){if(t)e.call(n);else for(var r=e.length,i=w(e,r),o=0;o<r;++o)i[o].call(n)}function d(e,t,n,r){if(t)e.call(n,r);else for(var i=e.length,o=w(e,i),a=0;a<i;++a)o[a].call(n,r)}function f(e,t,n,r,i){if(t)e.call(n,r,i);else for(var o=e.length,a=w(e,o),s=0;s<o;++s)a[s].call(n,r,i)}function p(e,t,n,r,i,o){if(t)e.call(n,r,i,o);else for(var a=e.length,s=w(e,a),u=0;u<a;++u)s[u].call(n,r,i,o)}function g(e,t,n,r){if(t)e.apply(n,r);else for(var i=e.length,o=w(e,i),a=0;a<i;++a)o[a].apply(n,r)}function y(e,t,n,i){var o,a,s;if("function"!=typeof n)throw new TypeError('"listener" argument must be a function');if((a=e._events)?(a.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),a=e._events),s=a[t]):(a=e._events=r(null),e._eventsCount=0),s){if("function"==typeof s?s=a[t]=i?[n,s]:[s,n]:i?s.unshift(n):s.push(n),!s.warned&&(o=l(e))&&o>0&&s.length>o){s.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+s.length+' "'+String(t)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=s.length,"object"==typeof console&&console.warn&&console.warn("%s: %s",u.name,u.message)}}else s=a[t]=n,++e._eventsCount;return e}function v(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var e=new Array(arguments.length),t=0;t<e.length;++t)e[t]=arguments[t];this.listener.apply(this.target,e)}}function b(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=o.call(v,r);return i.listener=n,r.wrapFn=i,i}function m(e,t,n){var r=e._events;if(!r)return[];var i=r[t];return i?"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):w(i,i.length):[]}function _(e){var t=this._events;if(t){var n=t[e];if("function"==typeof n)return 1;if(n)return n.length}return 0}function w(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}s?Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(e){if("number"!=typeof e||e<0||e!=e)throw new TypeError('"defaultMaxListeners" must be a positive number');u=e}}):a.defaultMaxListeners=u,a.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return l(this)},a.prototype.emit=function(e){var t,n,r,i,o,a,s="error"===e;if(a=this._events)s=s&&null==a.error;else if(!s)return!1;if(s){if(arguments.length>1&&(t=arguments[1]),t instanceof Error)throw t;var u=new Error('Unhandled "error" event. ('+t+")");throw u.context=t,u}if(!(n=a[e]))return!1;var c="function"==typeof n;switch(r=arguments.length){case 1:h(n,c,this);break;case 2:d(n,c,this,arguments[1]);break;case 3:f(n,c,this,arguments[1],arguments[2]);break;case 4:p(n,c,this,arguments[1],arguments[2],arguments[3]);break;default:for(i=new Array(r-1),o=1;o<r;o++)i[o-1]=arguments[o];g(n,c,this,i)}return!0},a.prototype.on=a.prototype.addListener=function(e,t){return y(this,e,t,!1)},a.prototype.prependListener=function(e,t){return y(this,e,t,!0)},a.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.on(e,b(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.prependListener(e,b(this,e,t)),this},a.prototype.removeListener=function(e,t){var n,i,o,a,s;if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');if(!(i=this._events))return this;if(!(n=i[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=r(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(o=-1,a=n.length-1;a>=0;a--)if(n[a]===t||n[a].listener===t){s=n[a].listener,o=a;break}if(o<0)return this;0===o?n.shift():function(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}(n,o),1===n.length&&(i[e]=n[0]),i.removeListener&&this.emit("removeListener",e,s||t)}return this},a.prototype.removeAllListeners=function(e){var t,n,o;if(!(n=this._events))return this;if(!n.removeListener)return 0===arguments.length?(this._events=r(null),this._eventsCount=0):n[e]&&(0==--this._eventsCount?this._events=r(null):delete n[e]),this;if(0===arguments.length){var a,s=i(n);for(o=0;o<s.length;++o)"removeListener"!==(a=s[o])&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=r(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(t)for(o=t.length-1;o>=0;o--)this.removeListener(e,t[o]);return this},a.prototype.listeners=function(e){return m(this,e,!0)},a.prototype.rawListeners=function(e){return m(this,e,!1)},a.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):_.call(e,t)},a.prototype.listenerCount=_,a.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],14:[function(e,t,n){(function(t,r){var i=e("process/browser.js").nextTick,o=Function.prototype.apply,a=Array.prototype.slice,s={},u=0;function c(e,t){this._id=e,this._clearFn=t}n.setTimeout=function(){return new c(o.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new c(o.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(e){e.close()},c.prototype.unref=c.prototype.ref=function(){},c.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},n.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},n._unrefActive=n.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n.setImmediate="function"==typeof t?t:function(e){var t=u++,r=!(arguments.length<2)&&a.call(arguments,1);return s[t]=!0,i((function(){s[t]&&(r?e.apply(null,r):e.call(null),n.clearImmediate(t))})),t},n.clearImmediate="function"==typeof r?r:function(e){delete s[e]}}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":62,timers:14}],15:[function(e,t,n){"use strict";t.exports=function(e){return function e(t){if(null===t||"object"!=typeof t||null!=t.toJSON)return JSON.stringify(t);if(Array.isArray(t)&&0===t.length)return"[]";if(Array.isArray(t)&&1===t.length)return"["+e(t[0])+"]";if(Array.isArray(t))return"["+t.reduce((t,n,r)=>(t=1===r?e(t):t)+","+e(n))+"]";const n=Object.keys(t);return 0===n.length?"{}":1===n.length?"{"+e(n[0])+":"+e(t[n[0]])+"}":"{"+n.sort().reduce((n,r,i)=>(n=1===i?e(n)+":"+e(t[n]):n)+","+e(r)+":"+e(t[r]))+"}"}(e)}},{}],16:[function(e,t,n){(function(e){function t(e){return Object.prototype.toString.call(e)}n.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===t(e)},n.isBoolean=function(e){return"boolean"==typeof e},n.isNull=function(e){return null===e},n.isNullOrUndefined=function(e){return null==e},n.isNumber=function(e){return"number"==typeof e},n.isString=function(e){return"string"==typeof e},n.isSymbol=function(e){return"symbol"==typeof e},n.isUndefined=function(e){return void 0===e},n.isRegExp=function(e){return"[object RegExp]"===t(e)},n.isObject=function(e){return"object"==typeof e&&null!==e},n.isDate=function(e){return"[object Date]"===t(e)},n.isError=function(e){return"[object Error]"===t(e)||e instanceof Error},n.isFunction=function(e){return"function"==typeof e},n.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},n.isBuffer=e.isBuffer}).call(this,{isBuffer:e("../../is-buffer/index.js")})},{"../../is-buffer/index.js":19}],17:[function(e,t,n){n.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,c=u>>1,l=-7,h=n?i-1:0,d=n?-1:1,f=e[t+h];for(h+=d,o=f&(1<<-l)-1,f>>=-l,l+=s;l>0;o=256*o+e[t+h],h+=d,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=r;l>0;a=256*a+e[t+h],h+=d,l-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:1/0*(f?-1:1);a+=Math.pow(2,r),o-=c}return(f?-1:1)*a*Math.pow(2,o-r)},n.write=function(e,t,n,r,i,o){var a,s,u,c=8*o-i-1,l=(1<<c)-1,h=l>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:o-1,p=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+h>=1?d/u:d*Math.pow(2,1-h))*u>=2&&(a++,u/=2),a+h>=l?(s=0,a=l):a+h>=1?(s=(t*u-1)*Math.pow(2,i),a+=h):(s=t*Math.pow(2,h-1)*Math.pow(2,i),a=0));i>=8;e[n+f]=255&s,f+=p,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[n+f]=255&a,f+=p,a/=256,c-=8);e[n+f-p]|=128*g}},{}],18:[function(e,t,n){t.exports="function"==typeof Object.create?function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},{}],19:[function(e,t,n){function r(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}t.exports=function(e){return null!=e&&(r(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&r(e.slice(0,0))}(e)||!!e._isBuffer)}},{}],20:[function(e,t,n){var r={}.toString;t.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},{}],21:[function(e,t,n){"use strict";const{isArray:r,isObject:i,isString:o}=e("./types"),{asArray:a}=e("./util"),{prependBase:s}=e("./url"),u=e("./JsonLdError"),c=e("./ResolvedContext");function l(e){throw new u("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:e})}t.exports=class{constructor({sharedCache:e}){this.perOpCache=new Map,this.sharedCache=e}async resolve({activeCtx:e,context:t,documentLoader:n,base:s,cycles:u=new Set}){t&&i(t)&&t["@context"]&&(t=t["@context"]),t=a(t);const h=[];for(const a of t){if(o(a)){let t=this._get(a);t||(t=await this._resolveRemoteContext({activeCtx:e,url:a,documentLoader:n,base:s,cycles:u})),r(t)?h.push(...t):h.push(t);continue}if(null===a){h.push(new c({document:null}));continue}i(a)||l(t);const d=JSON.stringify(a);let f=this._get(d);f||(f=new c({document:a}),this._cacheResolvedContext({key:d,resolved:f,tag:"static"})),h.push(f)}return h}_get(e){let t=this.perOpCache.get(e);if(!t){const n=this.sharedCache.get(e);n&&(t=n.get("static"),t&&this.perOpCache.set(e,t))}return t}_cacheResolvedContext({key:e,resolved:t,tag:n}){if(this.perOpCache.set(e,t),void 0!==n){let r=this.sharedCache.get(e);r||(r=new Map,this.sharedCache.set(e,r)),r.set(n,t)}return t}async _resolveRemoteContext({activeCtx:e,url:t,documentLoader:n,base:a,cycles:u}){t=s(a,t);const{context:c,remoteDoc:l}=await this._fetchContext({activeCtx:e,url:t,documentLoader:n,cycles:u});!function e({context:t,base:n}){if(!t)return;const a=t["@context"];if(o(a))t["@context"]=s(n,a);else if(r(a))for(let r=0;r<a.length;++r){const t=a[r];o(t)?a[r]=s(n,t):i(t)&&e({context:{"@context":t},base:n})}else if(i(a))for(const r in a)e({context:a[r],base:n})}({context:c,base:a=l.documentUrl||t});const h=await this.resolve({activeCtx:e,context:c,documentLoader:n,base:a,cycles:u});return this._cacheResolvedContext({key:t,resolved:h,tag:l.tag}),h}async _fetchContext({activeCtx:e,url:t,documentLoader:n,cycles:a}){if(a.size>10)throw new u("Maximum number of @context URLs exceeded.","jsonld.ContextUrlError",{code:"json-ld-1.0"===e.processingMode?"loading remote context failed":"context overflow",max:10});if(a.has(t))throw new u("Cyclical @context URLs detected.","jsonld.ContextUrlError",{code:"json-ld-1.0"===e.processingMode?"recursive context inclusion":"context overflow",url:t});let s,c;a.add(t);try{c=await n(t),s=c.document||null,o(s)&&(s=JSON.parse(s))}catch(l){throw new u("Dereferencing a URL did not result in a valid JSON-LD object. Possible causes are an inaccessible URL perhaps due to a same-origin policy (ensure the server uses CORS if you are using client-side JavaScript), too many redirects, a non-JSON response, or more than one HTTP Link Header was provided for a remote context.","jsonld.InvalidUrl",{code:"loading remote context failed",url:t,cause:l})}if(!i(s))throw new u("Dereferencing a URL did not result in a JSON object. The response was valid JSON, but it was not a JSON object.","jsonld.InvalidUrl",{code:"invalid remote context",url:t});return s="@context"in s?{"@context":s["@context"]}:{"@context":{}},c.contextUrl&&(r(s["@context"])||(s["@context"]=[s["@context"]]),s["@context"].push(c.contextUrl)),{context:s,remoteDoc:c}}}},{"./JsonLdError":22,"./ResolvedContext":27,"./types":41,"./url":42,"./util":43}],22:[function(e,t,n){"use strict";t.exports=class extends Error{constructor(e="An unspecified JSON-LD error occurred.",t="jsonld.Error",n={}){super(e),this.name=t,this.message=e,this.details=n}}},{}],23:[function(e,t,n){"use strict";t.exports=e=>{class t{toString(){return"[object JsonLdProcessor]"}}return Object.defineProperty(t,"prototype",{writable:!1,enumerable:!1}),Object.defineProperty(t.prototype,"constructor",{writable:!0,enumerable:!1,configurable:!0,value:t}),t.compact=function(t,n){return arguments.length<2?Promise.reject(new TypeError("Could not compact, too few arguments.")):e.compact(t,n)},t.expand=function(t){return arguments.length<1?Promise.reject(new TypeError("Could not expand, too few arguments.")):e.expand(t)},t.flatten=function(t){return arguments.length<1?Promise.reject(new TypeError("Could not flatten, too few arguments.")):e.flatten(t)},t}},{}],24:[function(e,t,n){"use strict";t.exports=e("rdf-canonize").NQuads},{"rdf-canonize":73}],25:[function(e,t,n){"use strict";const{RDF_LANGSTRING:r,RDF_PLAIN_LITERAL:i,RDF_OBJECT:o,RDF_XML_LITERAL:a,XSD_STRING:s}=e("./constants");let u;u="undefined"!=typeof Node?Node:{ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12},t.exports=class{parse(t){const n={"@default":[]},c=t.getSubjects();for(let l=0;l<c.length;++l){const h=c[l];if(null===h)continue;const d=t.getSubjectTriples(h);if(null===d)continue;const f=d.predicates;for(const t in f){const c=f[t].objects;for(let l=0;l<c.length;++l){const d=c[l],f={};f.subject=0===h.indexOf("_:")?{type:"blank node",value:h}:{type:"IRI",value:h},f.predicate=0===t.indexOf("_:")?{type:"blank node",value:t}:{type:"IRI",value:t};let p=d.value;if(d.type===a){const t=new("undefined"==typeof XMLSerializer?e("xmldom").XMLSerializer:XMLSerializer);p="";for(let e=0;e<d.value.length;e++)d.value[e].nodeType===u.ELEMENT_NODE?p+=t.serializeToString(d.value[e]):d.value[e].nodeType===u.TEXT_NODE&&(p+=d.value[e].nodeValue)}f.object={},d.type===o?f.object.type=0===d.value.indexOf("_:")?"blank node":"IRI":(f.object.type="literal",d.type===i?d.language?(f.object.datatype=r,f.object.language=d.language):f.object.datatype=s:f.object.datatype=d.type),f.object.value=p,n["@default"].push(f)}}}return n}}},{"./constants":29,xmldom:11}],26:[function(e,t,n){"use strict";t.exports=class{constructor(){this._requests={}}wrapLoader(e){const t=this;return t._loader=e,function(){return t.add.apply(t,arguments)}}async add(e){let t=this._requests[e];if(t)return Promise.resolve(t);t=this._requests[e]=this._loader(e);try{return await t}finally{delete this._requests[e]}}}},{}],27:[function(e,t,n){"use strict";const r=e("lru-cache");t.exports=class{constructor({document:e}){this.document=e,this.cache=new r({max:10})}getProcessed(e){return this.cache.get(e)}setProcessed(e,t){this.cache.set(e,t)}}},{"lru-cache":44}],28:[function(e,t,n){"use strict";const r=e("./JsonLdError"),{isArray:i,isObject:o,isString:a,isUndefined:s}=e("./types"),{isList:u,isValue:c,isGraph:l,isSimpleGraph:h,isSubjectReference:d}=e("./graphTypes"),{expandIri:f,getContextValue:p,isKeyword:g,process:y,processingMode:v}=e("./context"),{removeBase:b,prependBase:m}=e("./url"),{addValue:_,asArray:w,compareShortestLeast:x}=e("./util"),S={};function E(e,t,n){if("@nest"!==f(e,t,{vocab:!0},n))throw new r("JSON-LD compact error; nested property must have an @nest value resolving to @nest.","jsonld.SyntaxError",{code:"invalid @nest value"})}t.exports=S,S.compact=async({activeCtx:e,activeProperty:t=null,element:n,options:f={},compactionMap:b=(()=>{})})=>{if(i(n)){let r=[];for(let i=0;i<n.length;++i){let o=await S.compact({activeCtx:e,activeProperty:t,element:n[i],options:f,compactionMap:b});null===o&&(o=await b({unmappedValue:n[i],activeCtx:e,activeProperty:t,parent:n,index:i,options:f}),void 0===o)||r.push(o)}return f.compactArrays&&1===r.length&&0===(p(e,t,"@container")||[]).length&&(r=r[0]),r}const m=p(e,t,"@context");if(s(m)||(e=await y({activeCtx:e,localCtx:m,propagate:!0,overrideProtected:!0,options:f})),o(n)){if(f.link&&"@id"in n&&f.link.hasOwnProperty(n["@id"])){const e=f.link[n["@id"]];for(let t=0;t<e.length;++t)if(e[t].expanded===n)return e[t].compacted}if(c(n)||d(n)){const r=S.compactValue({activeCtx:e,activeProperty:t,value:n,options:f});return f.link&&d(n)&&(f.link.hasOwnProperty(n["@id"])||(f.link[n["@id"]]=[]),f.link[n["@id"]].push({expanded:n,compacted:r})),r}if(u(n)&&(p(e,t,"@container")||[]).includes("@list"))return S.compact({activeCtx:e,activeProperty:t,element:n["@list"],options:f,compactionMap:b});const m="@reverse"===t,x={},T=e;c(n)||d(n)||(e=e.revertToPreviousContext());const N=p(T,t,"@context");s(N)||(e=await y({activeCtx:e,localCtx:N,propagate:!0,overrideProtected:!0,options:f})),f.link&&"@id"in n&&(f.link.hasOwnProperty(n["@id"])||(f.link[n["@id"]]=[]),f.link[n["@id"]].push({expanded:n,compacted:x}));let j=n["@type"]||[];j.length>1&&(j=Array.from(j).sort());const I=e;for(const t of j){const n=S.compactIri({activeCtx:I,iri:t,relativeTo:{vocab:!0}}),r=p(T,n,"@context");s(r)||(e=await y({activeCtx:e,localCtx:r,options:f,propagate:!1}))}const k=Object.keys(n).sort();for(const s of k){const d=n[s];if("@id"!==s)if("@type"!==s)if("@reverse"!==s)if("@preserve"!==s)if("@index"!==s)if("@graph"!==s&&"@list"!==s&&"@included"!==s&&g(s)){const t=S.compactIri({activeCtx:e,iri:s,relativeTo:{vocab:!0}});_(x,t,d)}else{if(!i(d))throw new r("JSON-LD expansion error; expanded value must be an array.","jsonld.SyntaxError");if(0===d.length){const t=S.compactIri({activeCtx:e,iri:s,value:d,relativeTo:{vocab:!0},reverse:m}),n=e.mappings.has(t)?e.mappings.get(t)["@nest"]:null;let r=x;n&&(E(e,n,f),o(x[n])||(x[n]={}),r=x[n]),_(r,t,d,{propertyIsArray:!0})}for(const t of d){const n=S.compactIri({activeCtx:e,iri:s,value:t,relativeTo:{vocab:!0},reverse:m}),r=e.mappings.has(n)?e.mappings.get(n)["@nest"]:null;let d=x;r&&(E(e,r,f),o(x[r])||(x[r]={}),d=x[r]);const g=p(e,n,"@container")||[],y=l(t),v=u(t);let T;v?T=t["@list"]:y&&(T=t["@graph"]);let N=await S.compact({activeCtx:e,activeProperty:n,element:v||y?T:t,options:f,compactionMap:b});if(v){if(i(N)||(N=[N]),g.includes("@list")){_(d,n,N,{valueIsArray:!0,allowDuplicate:!0});continue}N={[S.compactIri({activeCtx:e,iri:"@list",relativeTo:{vocab:!0}})]:N},"@index"in t&&(N[S.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=t["@index"])}if(y)if(g.includes("@graph")&&(g.includes("@id")||g.includes("@index")&&h(t))){let r;d.hasOwnProperty(n)?r=d[n]:d[n]=r={};const i=(g.includes("@id")?t["@id"]:t["@index"])||S.compactIri({activeCtx:e,iri:"@none",relativeTo:{vocab:!0}});_(r,i,N,{propertyIsArray:!f.compactArrays||g.includes("@set")})}else g.includes("@graph")&&h(t)?(i(N)&&N.length>1&&(N={"@included":N}),_(d,n,N,{propertyIsArray:!f.compactArrays||g.includes("@set")})):(i(N)&&1===N.length&&f.compactArrays&&(N=N[0]),N={[S.compactIri({activeCtx:e,iri:"@graph",relativeTo:{vocab:!0}})]:N},"@id"in t&&(N[S.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}})]=t["@id"]),"@index"in t&&(N[S.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=t["@index"]),_(d,n,N,{propertyIsArray:!f.compactArrays||g.includes("@set")}));else if(g.includes("@language")||g.includes("@index")||g.includes("@id")||g.includes("@type")){let r,i;if(d.hasOwnProperty(n)?r=d[n]:d[n]=r={},g.includes("@language"))c(N)&&(N=N["@value"]),i=t["@language"];else if(g.includes("@index")){const r=p(e,n,"@index")||"@index",o=S.compactIri({activeCtx:e,iri:r,relativeTo:{vocab:!0}});if("@index"===r)i=t["@index"],delete N[o];else{let e;if([i,...e]=w(N[r]||[]),a(i))switch(e.length){case 0:delete N[r];break;case 1:N[r]=e[0];break;default:N[r]=e}else i=null}}else if(g.includes("@id")){const t=S.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}});i=N[t],delete N[t]}else if(g.includes("@type")){const r=S.compactIri({activeCtx:e,iri:"@type",relativeTo:{vocab:!0}});let o;switch([i,...o]=w(N[r]||[]),o.length){case 0:delete N[r];break;case 1:N[r]=o[0];break;default:N[r]=o}1===Object.keys(N).length&&"@id"in t&&(N=await S.compact({activeCtx:e,activeProperty:n,element:{"@id":t["@id"]},options:f,compactionMap:b}))}i||(i=S.compactIri({activeCtx:e,iri:"@none",relativeTo:{vocab:!0}})),_(r,i,N,{propertyIsArray:g.includes("@set")})}else{const e=!f.compactArrays||g.includes("@set")||g.includes("@list")||i(N)&&0===N.length||"@list"===s||"@graph"===s;_(d,n,N,{propertyIsArray:e})}}}else{if((p(e,t,"@container")||[]).includes("@index"))continue;const n=S.compactIri({activeCtx:e,iri:s,relativeTo:{vocab:!0}});_(x,n,d)}else{const n=await S.compact({activeCtx:e,activeProperty:t,element:d,options:f,compactionMap:b});i(n)&&0===n.length||_(x,s,n)}else{const t=await S.compact({activeCtx:e,activeProperty:"@reverse",element:d,options:f,compactionMap:b});for(const n in t)if(e.mappings.has(n)&&e.mappings.get(n).reverse){const r=t[n],i=(p(e,n,"@container")||[]).includes("@set")||!f.compactArrays;_(x,n,r,{propertyIsArray:i}),delete t[n]}if(Object.keys(t).length>0){const n=S.compactIri({activeCtx:e,iri:s,relativeTo:{vocab:!0}});_(x,n,t)}}else{let t=w(d).map(e=>S.compactIri({activeCtx:T,iri:e,relativeTo:{vocab:!0}}));1===t.length&&(t=t[0]);const n=S.compactIri({activeCtx:e,iri:"@type",relativeTo:{vocab:!0}}),r=(p(e,n,"@container")||[]).includes("@set")&&v(e,1.1)||i(t)&&0===d.length;_(x,n,t,{propertyIsArray:r})}else{let t=w(d).map(t=>S.compactIri({activeCtx:e,iri:t,relativeTo:{vocab:!1},base:f.base}));1===t.length&&(t=t[0]),x[S.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}})]=t}}return x}return n},S.compactIri=({activeCtx:e,iri:t,value:n=null,relativeTo:i={vocab:!1},reverse:a=!1,base:s=null})=>{if(null===t)return t;e.isPropertyTermScoped&&e.previousContext&&(e=e.previousContext);const h=e.getInverse();if(g(t)&&t in h&&"@none"in h[t]&&"@type"in h[t]["@none"]&&"@none"in h[t]["@none"]["@type"])return h[t]["@none"]["@type"]["@none"];if(i.vocab&&t in h){const r=e["@language"]||"@none",i=[];o(n)&&"@index"in n&&!("@graph"in n)&&i.push("@index","@index@set"),o(n)&&"@preserve"in n&&(n=n["@preserve"][0]),l(n)?("@index"in n&&i.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in n&&i.push("@graph@id","@graph@id@set"),i.push("@graph","@graph@set","@set"),"@index"in n||i.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in n||i.push("@graph@id","@graph@id@set")):o(n)&&!c(n)&&i.push("@id","@id@set","@type","@set@type");let s="@language",h="@null";if(a)s="@type",h="@reverse",i.push("@set");else if(u(n)){"@index"in n||i.push("@list");const e=n["@list"];if(0===e.length)s="@any",h="@none";else{let t=0===e.length?r:null,n=null;for(let r=0;r<e.length;++r){const i=e[r];let o="@none",a="@none";if(c(i)?"@direction"in i?o=`${(i["@language"]||"").toLowerCase()}_${i["@direction"]}`:"@language"in i?o=i["@language"].toLowerCase():"@type"in i?a=i["@type"]:o="@null":a="@id",null===t?t=o:o!==t&&c(i)&&(t="@none"),null===n?n=a:a!==n&&(n="@none"),"@none"===t&&"@none"===n)break}t=t||"@none",n=n||"@none","@none"!==n?(s="@type",h=n):h=t}}else{if(c(n))if("@language"in n&&!("@index"in n)){i.push("@language","@language@set"),h=n["@language"];const e=n["@direction"];e&&(h=`${h}_${e}`)}else"@direction"in n&&!("@index"in n)?h="_"+n["@direction"]:"@type"in n&&(s="@type",h=n["@type"]);else s="@type",h="@id";i.push("@set")}i.push("@none"),o(n)&&!("@index"in n)&&i.push("@index","@index@set"),c(n)&&1===Object.keys(n).length&&i.push("@language","@language@set");const d=function(e,t,n,r,i,a){null===a&&(a="@null");const s=[];if(("@id"===a||"@reverse"===a)&&o(n)&&"@id"in n){"@reverse"===a&&s.push("@reverse");const t=S.compactIri({activeCtx:e,iri:n["@id"],relativeTo:{vocab:!0}});e.mappings.has(t)&&e.mappings.get(t)&&e.mappings.get(t)["@id"]===n["@id"]?s.push.apply(s,["@vocab","@id"]):s.push.apply(s,["@id","@vocab"])}else{s.push(a);const e=s.find(e=>e.includes("_"));e&&s.push(e.replace(/^[^_]+_/,"_"))}s.push("@none");const u=e.inverse[t];for(const o of r){if(!(o in u))continue;const e=u[o][i];for(const t of s)if(t in e)return e[t]}return null}(e,t,n,i,s,h);if(null!==d)return d}if(i.vocab&&"@vocab"in e){const n=e["@vocab"];if(0===t.indexOf(n)&&t!==n){const r=t.substr(n.length);if(!e.mappings.has(r))return r}}let d=null;const f=[];let p=e.fastCurieMap;const y=t.length-1;for(let r=0;r<y&&t[r]in p;++r)p=p[t[r]],""in p&&f.push(p[""][0]);for(let r=f.length-1;r>=0;--r){const i=f[r],o=i.terms;for(const r of o){const o=r+":"+t.substr(i.iri.length);e.mappings.get(r)._prefix&&(!e.mappings.has(o)||null===n&&e.mappings.get(o)["@id"]===t)&&(null===d||x(o,d)<0)&&(d=o)}}if(null!==d)return d;for(const[o,u]of e.mappings)if(u&&u._prefix&&t.startsWith(o+":"))throw new r(`Absolute IRI "${t}" confused with prefix "${o}".`,"jsonld.SyntaxError",{code:"IRI confused with prefix",context:e});return i.vocab?t:"@base"in e?e["@base"]?b(m(s,e["@base"]),t):t:b(s,t)},S.compactValue=({activeCtx:e,activeProperty:t,value:n,options:r})=>{if(c(n)){const r=p(e,t,"@type"),i=p(e,t,"@language"),o=p(e,t,"@direction"),s=p(e,t,"@container")||[],u="@index"in n&&!s.includes("@index");if(!u&&"@none"!==r){if(n["@type"]===r)return n["@value"];if("@language"in n&&n["@language"]===i&&"@direction"in n&&n["@direction"]===o)return n["@value"];if("@language"in n&&n["@language"]===i)return n["@value"];if("@direction"in n&&n["@direction"]===o)return n["@value"]}const c=Object.keys(n).length,l=1===c||2===c&&"@index"in n&&!u,h="@language"in e,d=a(n["@value"]),f=e.mappings.has(t)&&null===e.mappings.get(t)["@language"];if(l&&"@none"!==r&&(!h||!d||f))return n["@value"];const g={};return u&&(g[S.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=n["@index"]),"@type"in n?g[S.compactIri({activeCtx:e,iri:"@type",relativeTo:{vocab:!0}})]=S.compactIri({activeCtx:e,iri:n["@type"],relativeTo:{vocab:!0}}):"@language"in n&&(g[S.compactIri({activeCtx:e,iri:"@language",relativeTo:{vocab:!0}})]=n["@language"]),"@direction"in n&&(g[S.compactIri({activeCtx:e,iri:"@direction",relativeTo:{vocab:!0}})]=n["@direction"]),g[S.compactIri({activeCtx:e,iri:"@value",relativeTo:{vocab:!0}})]=n["@value"],g}const i=f(e,t,{vocab:!0},r),o=p(e,t,"@type"),s=S.compactIri({activeCtx:e,iri:n["@id"],relativeTo:{vocab:"@vocab"===o},base:r.base});return"@id"===o||"@vocab"===o||"@graph"===i?s:{[S.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}})]:s}}},{"./JsonLdError":22,"./context":30,"./graphTypes":37,"./types":41,"./url":42,"./util":43}],29:[function(e,t,n){"use strict";const r="http://www.w3.org/1999/02/22-rdf-syntax-ns#",i="http://www.w3.org/2001/XMLSchema#";t.exports={LINK_HEADER_REL:"http://www.w3.org/ns/json-ld#context",LINK_HEADER_CONTEXT:"http://www.w3.org/ns/json-ld#context",RDF:r,RDF_LIST:r+"List",RDF_FIRST:r+"first",RDF_REST:r+"rest",RDF_NIL:r+"nil",RDF_TYPE:r+"type",RDF_PLAIN_LITERAL:r+"PlainLiteral",RDF_XML_LITERAL:r+"XMLLiteral",RDF_JSON_LITERAL:r+"JSON",RDF_OBJECT:r+"object",RDF_LANGSTRING:r+"langString",XSD:i,XSD_BOOLEAN:i+"boolean",XSD_DOUBLE:i+"double",XSD_INTEGER:i+"integer",XSD_STRING:i+"string"}},{}],30:[function(e,t,n){"use strict";const r=e("./util"),i=e("./JsonLdError"),{isArray:o,isObject:a,isString:s,isUndefined:u}=e("./types"),{isAbsolute:c,isRelative:l,prependBase:h}=e("./url"),{asArray:d,compareShortestLeast:f}=e("./util"),p=new Map,g=/^@[a-zA-Z]+$/,y={};function v(e,t,n,r,i,o){if(null===t||!s(t)||y.isKeyword(t))return t;if(t.match(g))return null;if(r&&r.hasOwnProperty(t)&&!0!==i.get(t)&&y.createTermDefinition({activeCtx:e,localCtx:r,term:t,defined:i,options:o}),(n=n||{}).vocab){const n=e.mappings.get(t);if(null===n)return null;if(a(n)&&"@id"in n)return n["@id"]}const u=t.indexOf(":");if(u>0){const n=t.substr(0,u),a=t.substr(u+1);if("_"===n||0===a.indexOf("//"))return t;r&&r.hasOwnProperty(n)&&y.createTermDefinition({activeCtx:e,localCtx:r,term:n,defined:i,options:o});const s=e.mappings.get(n);if(s&&s._prefix)return s["@id"]+a;if(c(t))return t}if(n.vocab&&"@vocab"in e)return e["@vocab"]+t;if(n.base&&"@base"in e){if(e["@base"])return h(h(o.base,e["@base"]),t)}else if(n.base)return h(o.base,t);return t}t.exports=y,y.process=async({activeCtx:e,localCtx:t,options:n,propagate:u=!0,overrideProtected:f=!1,cycles:p=new Set})=>{if(a(t)&&"@context"in t&&o(t["@context"])&&(t=t["@context"]),0===d(t).length)return e;const g=await n.contextResolver.resolve({activeCtx:e,context:t,documentLoader:n.documentLoader,base:n.base});a(g[0].document)&&"boolean"==typeof g[0].document["@propagate"]&&(u=g[0].document["@propagate"]);let b=e;u||b.previousContext||(b=b.clone(),b.previousContext=e);for(const o of g){let{document:u}=o;if(e=b,null===u){if(!f&&0!==Object.keys(e.protected).length){const a=n&&n.protectedMode||"error";if("error"===a)throw new i("Tried to nullify a context with protected terms outside of a term definition.","jsonld.SyntaxError",{code:"invalid context nullification"});if("warn"===a){console.warn("WARNING: invalid context nullification");const t=o.getProcessed(e);if(t){b=e=t;continue}const i=e;b=e=y.getInitialContext(n).clone();for(const[n,o]of Object.entries(i.protected))o&&(e.mappings[n]=r.clone(i.mappings[n]));e.protected=r.clone(i.protected),o.setProcessed(i,b);continue}throw new i("Invalid protectedMode.","jsonld.SyntaxError",{code:"invalid protected mode",context:t,protectedMode:a})}b=e=y.getInitialContext(n).clone();continue}const d=o.getProcessed(e);if(d){b=e=d;continue}if(a(u)&&"@context"in u&&(u=u["@context"]),!a(u))throw new i("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:u});b=b.clone();const g=new Map;if("@version"in u){if(1.1!==u["@version"])throw new i("Unsupported JSON-LD version: "+u["@version"],"jsonld.UnsupportedVersion",{code:"invalid @version value",context:u});if(e.processingMode&&"json-ld-1.0"===e.processingMode)throw new i("@version: "+u["@version"]+" not compatible with "+e.processingMode,"jsonld.ProcessingModeConflict",{code:"processing mode conflict",context:u});b.processingMode="json-ld-1.1",b["@version"]=u["@version"],g.set("@version",!0)}if(b.processingMode=b.processingMode||e.processingMode,"@base"in u){let e=u["@base"];if(null===e||c(e));else{if(!l(e))throw new i('Invalid JSON-LD syntax; the value of "@base" in a @context must be an absolute IRI, a relative IRI, or null.',"jsonld.SyntaxError",{code:"invalid base IRI",context:u});e=h(b["@base"],e)}b["@base"]=e,g.set("@base",!0)}if("@vocab"in u){const e=u["@vocab"];if(null===e)delete b["@vocab"];else{if(!s(e))throw new i('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:u});if(!c(e)&&y.processingMode(b,1))throw new i('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be an absolute IRI.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:u});b["@vocab"]=v(b,e,{vocab:!0,base:!0},void 0,void 0,n)}g.set("@vocab",!0)}if("@language"in u){const e=u["@language"];if(null===e)delete b["@language"];else{if(!s(e))throw new i('Invalid JSON-LD syntax; the value of "@language" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid default language",context:u});b["@language"]=e.toLowerCase()}g.set("@language",!0)}if("@direction"in u){const t=u["@direction"];if("json-ld-1.0"===e.processingMode)throw new i("Invalid JSON-LD syntax; @direction not compatible with "+e.processingMode,"jsonld.SyntaxError",{code:"invalid context member",context:u});if(null===t)delete b["@direction"];else{if("ltr"!==t&&"rtl"!==t)throw new i('Invalid JSON-LD syntax; the value of "@direction" in a @context must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:u});b["@direction"]=t}g.set("@direction",!0)}if("@propagate"in u){const n=u["@propagate"];if("json-ld-1.0"===e.processingMode)throw new i("Invalid JSON-LD syntax; @propagate not compatible with "+e.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:u});if("boolean"!=typeof n)throw new i("Invalid JSON-LD syntax; @propagate value must be a boolean.","jsonld.SyntaxError",{code:"invalid @propagate value",context:t});g.set("@propagate",!0)}if("@import"in u){const r=u["@import"];if("json-ld-1.0"===e.processingMode)throw new i("Invalid JSON-LD syntax; @import not compatible with "+e.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:u});if(!s(r))throw new i("Invalid JSON-LD syntax; @import must be a string.","jsonld.SyntaxError",{code:"invalid @import value",context:t});const o=await n.contextResolver.resolve({activeCtx:e,context:r,documentLoader:n.documentLoader,base:n.base});if(1!==o.length)throw new i("Invalid JSON-LD syntax; @import must reference a single context.","jsonld.SyntaxError",{code:"invalid remote context",context:t});const a=o[0].getProcessed(e);if(a)u=a;else{const n=o[0].document;if("@import"in n)throw new i("Invalid JSON-LD syntax: imported context must not include @import.","jsonld.SyntaxError",{code:"invalid context entry",context:t});for(const e in n)u.hasOwnProperty(e)||(u[e]=n[e]);o[0].setProcessed(e,u)}g.set("@import",!0)}g.set("@protected",u["@protected"]||!1);for(const e in u)if(y.createTermDefinition({activeCtx:b,localCtx:u,term:e,defined:g,options:n,overrideProtected:f}),a(u[e])&&"@context"in u[e]){const t=u[e]["@context"];let r=!0;if(s(t)){const e=h(n.base,t);p.has(e)?r=!1:p.add(e)}if(r)try{await y.process({activeCtx:b,localCtx:u[e]["@context"],overrideProtected:!0,options:n,cycles:p})}catch(m){throw new i("Invalid JSON-LD syntax; invalid scoped context.","jsonld.SyntaxError",{code:"invalid scoped context",context:u[e]["@context"],term:e})}}o.setProcessed(e,b)}return b},y.createTermDefinition=({activeCtx:e,localCtx:t,term:n,defined:r,options:u,overrideProtected:l=!1})=>{if(r.has(n)){if(r.get(n))return;throw new i("Cyclical context definition detected.","jsonld.CyclicalContext",{code:"cyclic IRI mapping",context:t,term:n})}let h;if(r.set(n,!1),t.hasOwnProperty(n)&&(h=t[n]),"@type"===n&&a(h)&&"@set"===(h["@container"]||"@set")&&y.processingMode(e,1.1)){const e=["@container","@id","@protected"],r=Object.keys(h);if(0===r.length||r.some(t=>!e.includes(t)))throw new i("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:t,term:n})}else{if(y.isKeyword(n))throw new i("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:t,term:n});if(n.match(g))return void console.warn('WARNING: terms beginning with "@" are reserved for future use and ignored',{term:n});if(""===n)throw new i("Invalid JSON-LD syntax; a term cannot be an empty string.","jsonld.SyntaxError",{code:"invalid term definition",context:t})}const d=e.mappings.get(n);e.mappings.has(n)&&e.mappings.delete(n);let f=!1;if((s(h)||null===h)&&(f=!0,h={"@id":h}),!a(h))throw new i("Invalid JSON-LD syntax; @context term values must be strings or objects.","jsonld.SyntaxError",{code:"invalid term definition",context:t});const p={};e.mappings.set(n,p),p.reverse=!1;const b=["@container","@id","@language","@reverse","@type"];y.processingMode(e,1.1)&&b.push("@context","@direction","@index","@nest","@prefix","@protected");for(const o in h)if(!b.includes(o))throw new i("Invalid JSON-LD syntax; a term definition must not contain "+o,"jsonld.SyntaxError",{code:"invalid term definition",context:t});const m=n.indexOf(":");if(p._termHasColon=m>0,"@reverse"in h){if("@id"in h)throw new i("Invalid JSON-LD syntax; a @reverse term definition must not contain @id.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});if("@nest"in h)throw new i("Invalid JSON-LD syntax; a @reverse term definition must not contain @nest.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});const o=h["@reverse"];if(!s(o))throw new i("Invalid JSON-LD syntax; a @context @reverse value must be a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(!y.isKeyword(o)&&o.match(g))return console.warn('WARNING: values beginning with "@" are reserved for future use and ignored',{reverse:o}),void(d?e.mappings.set(n,d):e.mappings.delete(n));const a=v(e,o,{vocab:!0,base:!1},t,r,u);if(!c(a))throw new i("Invalid JSON-LD syntax; a @context @reverse value must be an absolute IRI or a blank node identifier.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});p["@id"]=a,p.reverse=!0}else if("@id"in h){let o=h["@id"];if(o&&!s(o))throw new i("Invalid JSON-LD syntax; a @context @id value must be an array of strings or a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(null===o)p["@id"]=null;else{if(!y.isKeyword(o)&&o.match(g))return console.warn('WARNING: values beginning with "@" are reserved for future use and ignored',{id:o}),void(d?e.mappings.set(n,d):e.mappings.delete(n));if(o!==n){if(o=v(e,o,{vocab:!0,base:!1},t,r,u),!c(o)&&!y.isKeyword(o))throw new i("Invalid JSON-LD syntax; a @context @id value must be an absolute IRI, a blank node identifier, or a keyword.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(n.match(/(?::[^:])|\//)&&v(e,n,{vocab:!0,base:!1},t,new Map(r).set(n,!0),u)!==o)throw new i("Invalid JSON-LD syntax; term in form of IRI must expand to definition.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});p["@id"]=o,p._prefix=f&&!p._termHasColon&&o.match(/[:\/\?#\[\]@]$/)}}}if(!("@id"in p))if(p._termHasColon){const i=n.substr(0,m);if(t.hasOwnProperty(i)&&y.createTermDefinition({activeCtx:e,localCtx:t,term:i,defined:r,options:u}),e.mappings.has(i)){const t=n.substr(m+1);p["@id"]=e.mappings.get(i)["@id"]+t}else p["@id"]=n}else if("@type"===n)p["@id"]=n;else{if(!("@vocab"in e))throw new i("Invalid JSON-LD syntax; @context terms must define an @id.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t,term:n});p["@id"]=e["@vocab"]+n}if((!0===h["@protected"]||!0===r.get("@protected")&&!1!==h["@protected"])&&(e.protected[n]=!0,p.protected=!0),r.set(n,!0),"@type"in h){let n=h["@type"];if(!s(n))throw new i("Invalid JSON-LD syntax; an @context @type value must be a string.","jsonld.SyntaxError",{code:"invalid type mapping",context:t});if("@json"===n||"@none"===n){if(y.processingMode(e,1))throw new i(`Invalid JSON-LD syntax; an @context @type value must not be "${n}" in JSON-LD 1.0 mode.`,"jsonld.SyntaxError",{code:"invalid type mapping",context:t})}else if("@id"!==n&&"@vocab"!==n){if(n=v(e,n,{vocab:!0,base:!1},t,r,u),!c(n))throw new i("Invalid JSON-LD syntax; an @context @type value must be an absolute IRI.","jsonld.SyntaxError",{code:"invalid type mapping",context:t});if(0===n.indexOf("_:"))throw new i("Invalid JSON-LD syntax; an @context @type value must be an IRI, not a blank node identifier.","jsonld.SyntaxError",{code:"invalid type mapping",context:t})}p["@type"]=n}if("@container"in h){const n=s(h["@container"])?[h["@container"]]:h["@container"]||[],r=["@list","@set","@index","@language"];let a=!0;const u=n.includes("@set");if(y.processingMode(e,1.1)){if(r.push("@graph","@id","@type"),n.includes("@list")){if(1!==n.length)throw new i("Invalid JSON-LD syntax; @context @container with @list must have no other values","jsonld.SyntaxError",{code:"invalid container mapping",context:t})}else if(n.includes("@graph")){if(n.some(e=>"@graph"!==e&&"@id"!==e&&"@index"!==e&&"@set"!==e))throw new i("Invalid JSON-LD syntax; @context @container with @graph must have no other values other than @id, @index, and @set","jsonld.SyntaxError",{code:"invalid container mapping",context:t})}else a&=n.length<=(u?2:1);if(n.includes("@type")&&(p["@type"]=p["@type"]||"@id",!["@id","@vocab"].includes(p["@type"])))throw new i("Invalid JSON-LD syntax; container: @type requires @type to be @id or @vocab.","jsonld.SyntaxError",{code:"invalid type mapping",context:t})}else a&=!o(h["@container"]),a&=n.length<=1;if(a&=n.every(e=>r.includes(e)),a&=!(u&&n.includes("@list")),!a)throw new i("Invalid JSON-LD syntax; @context @container value must be one of the following: "+r.join(", "),"jsonld.SyntaxError",{code:"invalid container mapping",context:t});if(p.reverse&&!n.every(e=>["@index","@set"].includes(e)))throw new i("Invalid JSON-LD syntax; @context @container value for a @reverse type definition must be @index or @set.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});p["@container"]=n}if("@index"in h){if(!("@container"in h)||!p["@container"].includes("@index"))throw new i(`Invalid JSON-LD syntax; @index without @index in @container: "${h["@index"]}" on term "${n}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:t});if(!s(h["@index"])||0===h["@index"].indexOf("@"))throw new i(`Invalid JSON-LD syntax; @index must expand to an IRI: "${h["@index"]}" on term "${n}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:t});p["@index"]=h["@index"]}if("@context"in h&&(p["@context"]=h["@context"]),"@language"in h&&!("@type"in h)){let e=h["@language"];if(null!==e&&!s(e))throw new i("Invalid JSON-LD syntax; @context @language value must be a string or null.","jsonld.SyntaxError",{code:"invalid language mapping",context:t});null!==e&&(e=e.toLowerCase()),p["@language"]=e}if("@prefix"in h){if(n.match(/:|\//))throw new i("Invalid JSON-LD syntax; @context @prefix used on a compact IRI term","jsonld.SyntaxError",{code:"invalid term definition",context:t});if(y.isKeyword(p["@id"]))throw new i("Invalid JSON-LD syntax; keywords may not be used as prefixes","jsonld.SyntaxError",{code:"invalid term definition",context:t});if("boolean"!=typeof h["@prefix"])throw new i("Invalid JSON-LD syntax; @context value for @prefix must be boolean","jsonld.SyntaxError",{code:"invalid @prefix value",context:t});p._prefix=!0===h["@prefix"]}if("@direction"in h){const e=h["@direction"];if(null!==e&&"ltr"!==e&&"rtl"!==e)throw new i('Invalid JSON-LD syntax; @direction value must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:t});p["@direction"]=e}if("@nest"in h){const e=h["@nest"];if(!s(e)||"@nest"!==e&&0===e.indexOf("@"))throw new i("Invalid JSON-LD syntax; @context @nest value must be a string which is not a keyword other than @nest.","jsonld.SyntaxError",{code:"invalid @nest value",context:t});p["@nest"]=e}const _=p["@id"];if("@context"===_||"@preserve"===_)throw new i("Invalid JSON-LD syntax; @context and @preserve cannot be aliased.","jsonld.SyntaxError",{code:"invalid keyword alias",context:t});if(d&&d.protected&&!l&&(e.protected[n]=!0,p.protected=!0,!function e(t,n){if(!t||"object"!=typeof t||!n||"object"!=typeof n)return t===n;const r=Array.isArray(t);if(r!==Array.isArray(n))return!1;if(r){if(t.length!==n.length)return!1;for(let r=0;r<t.length;++r)if(!e(t[r],n[r]))return!1;return!0}const i=Object.keys(t),o=Object.keys(n);if(i.length!==o.length)return!1;for(const a in t){let r=t[a],i=n[a];if("@container"===a&&Array.isArray(r)&&Array.isArray(i)&&(r=r.slice().sort(),i=i.slice().sort()),!e(r,i))return!1}return!0}(d,p))){const e=u&&u.protectedMode||"error";if("error"===e)throw new i("Invalid JSON-LD syntax; tried to redefine a protected term.","jsonld.SyntaxError",{code:"protected term redefinition",context:t,term:n});if("warn"===e)return void console.warn("WARNING: protected term redefinition",{term:n});throw new i("Invalid protectedMode.","jsonld.SyntaxError",{code:"invalid protected mode",context:t,term:n,protectedMode:e})}},y.expandIri=(e,t,n,r)=>v(e,t,n,void 0,void 0,r),y.getInitialContext=e=>{const t=JSON.stringify({processingMode:e.processingMode}),n=p.get(t);if(n)return n;const i={processingMode:e.processingMode,mappings:new Map,inverse:null,getInverse:function(){if(this.inverse)return this.inverse;const e=this.inverse={},t=this.fastCurieMap={},n={},r=(this["@language"]||"@none").toLowerCase(),i=this["@direction"],s=this.mappings,u=[...s.keys()].sort(f);for(const o of u){const u=s.get(o);if(null===u)continue;let c=u["@container"]||"@none";if(c=[].concat(c).sort().join(""),null===u["@id"])continue;const l=d(u["@id"]);for(const s of l){let l=e[s];const h=y.isKeyword(s);if(l)h||u._termHasColon||n[s].push(o);else if(e[s]=l={},!h&&!u._termHasColon){n[s]=[o];const e={iri:s,terms:n[s]};s[0]in t?t[s[0]].push(e):t[s[0]]=[e]}if(l[c]||(l[c]={"@language":{},"@type":{},"@any":{}}),l=l[c],a(o,l["@any"],"@none"),u.reverse)a(o,l["@type"],"@reverse");else if("@none"===u["@type"])a(o,l["@any"],"@none"),a(o,l["@language"],"@none"),a(o,l["@type"],"@none");else if("@type"in u)a(o,l["@type"],u["@type"]);else if("@language"in u&&"@direction"in u){const e=u["@language"],t=u["@direction"];a(o,l["@language"],e&&t?`${e}_${t}`.toLowerCase():e?e.toLowerCase():t?"_"+t:"@null")}else"@language"in u?a(o,l["@language"],(u["@language"]||"@null").toLowerCase()):"@direction"in u?a(o,l["@language"],u["@direction"]?"_"+u["@direction"]:"@none"):i?(a(o,l["@language"],"_"+i),a(o,l["@language"],"@none"),a(o,l["@type"],"@none")):(a(o,l["@language"],r),a(o,l["@language"],"@none"),a(o,l["@type"],"@none"))}}for(const a in t)o(t,a,1);return e},clone:function(){const e={};return e.mappings=r.clone(this.mappings),e.clone=this.clone,e.inverse=null,e.getInverse=this.getInverse,e.protected=r.clone(this.protected),this.previousContext&&(e.previousContext=this.previousContext.clone()),e.revertToPreviousContext=this.revertToPreviousContext,"@base"in this&&(e["@base"]=this["@base"]),"@language"in this&&(e["@language"]=this["@language"]),"@vocab"in this&&(e["@vocab"]=this["@vocab"]),e},revertToPreviousContext:function(){return this.previousContext?this.previousContext.clone():this},protected:{}};return 1e4===p.size&&p.clear(),p.set(t,i),i;function o(e,t,n){const r=e[t],i=e[t]={};let a,s;for(const o of r)a=o.iri,s=n>=a.length?"":a[n],s in i?i[s].push(o):i[s]=[o];for(const u in i)""!==u&&o(i,u,n+1)}function a(e,t,n){t.hasOwnProperty(n)||(t[n]=e)}},y.getContextValue=(e,t,n)=>{if(null===t){if("@context"===n)return;return null}if(e.mappings.has(t)){const r=e.mappings.get(t);if(u(n))return r;if(r.hasOwnProperty(n))return r[n]}return"@language"===n&&n in e||"@direction"===n&&n in e?e[n]:"@context"!==n?null:void 0},y.processingMode=(e,t)=>t.toString()>="1.1"?!e.processingMode||e.processingMode>="json-ld-"+t.toString():"json-ld-1.0"===e.processingMode,y.isKeyword=e=>{if(!s(e)||"@"!==e[0])return!1;switch(e){case"@base":case"@container":case"@context":case"@default":case"@direction":case"@embed":case"@explicit":case"@graph":case"@id":case"@included":case"@index":case"@json":case"@language":case"@list":case"@nest":case"@none":case"@omitDefault":case"@prefix":case"@preserve":case"@protected":case"@requireAll":case"@reverse":case"@set":case"@type":case"@value":case"@version":case"@vocab":return!0}return!1}},{"./JsonLdError":22,"./types":41,"./url":42,"./util":43}],31:[function(e,t,n){"use strict";const{parseLinkHeader:r,buildHeaders:i}=e("../util"),{LINK_HEADER_CONTEXT:o}=e("../constants"),a=e("../JsonLdError"),s=e("../RequestQueue"),{prependBase:u}=e("../url");t.exports=({secure:t,strictSSL:n=!0,maxRedirects:c=-1,request:l,headers:h={}}={strictSSL:!0,maxRedirects:-1,headers:{}})=>{h=i(h),l=l||e("request");const d=e("http");return(new s).wrapLoader((function(e){return async function e(i,s){if(0!==i.indexOf("http:")&&0!==i.indexOf("https:"))throw new a('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:i});if(t&&0!==i.indexOf("https"))throw new a('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:i});let f,p=null;if(null!==p)return p;let g=null;try{f=await function(e,t){return new Promise((n,r)=>{e(t,(e,t,i)=>{e?r(e):n({res:t,body:i})})})}(l,{url:i,headers:h,strictSSL:n,followRedirect:!1})}catch(b){throw new a("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:i,cause:b})}const{res:y,body:v}=f;if(p={contextUrl:null,documentUrl:i,document:v||null},y.statusCode>=400)throw new a(`URL "${i}" could not be dereferenced: ${d.STATUS_CODES[y.statusCode]}`,"jsonld.InvalidUrl",{code:"loading document failed",url:i,httpStatusCode:y.statusCode});if(y.headers.link&&"application/ld+json"!==y.headers["content-type"]){const e=r(y.headers.link),t=e[o];if(Array.isArray(t))throw new a("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:i});t&&(p.contextUrl=t.target),g=e.alternate,g&&"application/ld+json"==g.type&&!(y.headers["content-type"]||"").match(/^application\/(\w*\+)?json$/)&&(y.headers.location=u(i,g.target))}if((g||y.statusCode>=300&&y.statusCode<400)&&y.headers.location){if(s.length===c)throw new a("URL could not be dereferenced; there were too many redirects.","jsonld.TooManyRedirects",{code:"loading document failed",url:i,httpStatusCode:y.statusCode,redirects:s});if(-1!==s.indexOf(i))throw new a("URL could not be dereferenced; infinite redirection was detected.","jsonld.InfiniteRedirectDetected",{code:"recursive context inclusion",url:i,httpStatusCode:y.statusCode,redirects:s});return s.push(i),e(y.headers.location,s)}return s.push(i),p}(e,[])}))}},{"../JsonLdError":22,"../RequestQueue":26,"../constants":29,"../url":42,"../util":43,http:11,request:11}],32:[function(e,t,n){"use strict";const{parseLinkHeader:r,buildHeaders:i}=e("../util"),{LINK_HEADER_CONTEXT:o}=e("../constants"),a=e("../JsonLdError"),s=e("../RequestQueue"),{prependBase:u}=e("../url"),c=/(^|(\r\n))link:/i;t.exports=({secure:e,headers:t={},xhr:n}={headers:{}})=>(t=i(t),(new s).wrapLoader((async function i(s){if(0!==s.indexOf("http:")&&0!==s.indexOf("https:"))throw new a('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:s});if(e&&0!==s.indexOf("https"))throw new a('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:s});let l;try{l=await function(e,t,n){const r=new(e=e||XMLHttpRequest);return new Promise((e,i)=>{r.onload=()=>e(r),r.onerror=e=>i(e),r.open("GET",t,!0);for(const t in n)r.setRequestHeader(t,n[t]);r.send()})}(n,s,t)}catch(g){throw new a("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:s,cause:g})}if(l.status>=400)throw new a("URL could not be dereferenced: "+l.statusText,"jsonld.LoadDocumentError",{code:"loading document failed",url:s,httpStatusCode:l.status});let h={contextUrl:null,documentUrl:s,document:l.response},d=null;const f=l.getResponseHeader("Content-Type");let p;if(c.test(l.getAllResponseHeaders())&&(p=l.getResponseHeader("Link")),p&&"application/ld+json"!==f){const e=r(p),t=e[o];if(Array.isArray(t))throw new a("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:s});t&&(h.contextUrl=t.target),d=e.alternate,d&&"application/ld+json"==d.type&&!(f||"").match(/^application\/(\w*\+)?json$/)&&(h=await i(u(s,d.target)))}return h})))},{"../JsonLdError":22,"../RequestQueue":26,"../constants":29,"../url":42,"../util":43}],33:[function(e,t,n){"use strict";const r=e("./JsonLdError"),{isArray:i,isObject:o,isEmptyObject:a,isString:s,isUndefined:u}=e("./types"),{isList:c,isValue:l,isGraph:h,isSubject:d}=e("./graphTypes"),{expandIri:f,getContextValue:p,isKeyword:g,process:y,processingMode:v}=e("./context"),{isAbsolute:b}=e("./url"),{addValue:m,asArray:_,getValues:w,validateTypeValue:x}=e("./util"),S={};t.exports=S;const E=/^[a-zA-Z]{1,8}(-[a-zA-Z0-9]{1,8})*$/;function T({activeCtx:e,activeProperty:t,value:n,options:r}){if(null==n)return null;const i=f(e,t,{vocab:!0},r);if("@id"===i)return f(e,n,{base:!0},r);if("@type"===i)return f(e,n,{vocab:!0,base:!0},r);const o=p(e,t,"@type");if(("@id"===o||"@graph"===i)&&s(n))return{"@id":f(e,n,{base:!0},r)};if("@vocab"===o&&s(n))return{"@id":f(e,n,{vocab:!0,base:!0},r)};if(g(i))return n;const a={};if(o&&!["@id","@vocab","@none"].includes(o))a["@type"]=o;else if(s(n)){const n=p(e,t,"@language");null!==n&&(a["@language"]=n);const r=p(e,t,"@direction");null!==r&&(a["@direction"]=r)}return["boolean","number","string"].includes(typeof n)||(n=n.toString()),a["@value"]=n,a}function N(e,t,n,o){const a=[],u=Object.keys(t).sort();for(const c of u){const u=f(e,c,{vocab:!0},o);let l=t[c];i(l)||(l=[l]);for(const e of l){if(null===e)continue;if(!s(e))throw new r("Invalid JSON-LD syntax; language map values must be strings.","jsonld.SyntaxError",{code:"invalid language map value",languageMap:t});const i={"@value":e};"@none"!==u&&(i["@language"]=c.toLowerCase()),n&&(i["@direction"]=n),a.push(i)}}return a}async function j({activeCtx:e,options:t,activeProperty:n,value:o,expansionMap:a,asGraph:s,indexKey:c,propertyIndex:d}){const g=[],v=Object.keys(o).sort(),b="@type"===c;for(let _ of v){if(b){const n=p(e,_,"@context");u(n)||(e=await y({activeCtx:e,localCtx:n,propagate:!1,options:t}))}let v,w=o[_];i(w)||(w=[w]),w=await S.expand({activeCtx:e,activeProperty:n,element:w,options:t,insideList:!1,insideIndex:!0,expansionMap:a}),v=d?"@none"===_?"@none":T({activeCtx:e,activeProperty:c,value:_,options:t}):f(e,_,{vocab:!0},t),"@id"===c?_=f(e,_,{base:!0},t):b&&(_=v);for(let e of w){if(s&&!h(e)&&(e={"@graph":[e]}),"@type"===c)"@none"===v||(e["@type"]=e["@type"]?[_].concat(e["@type"]):[_]);else{if(l(e)&&!["@language","@type","@index"].includes(c))throw new r(`Invalid JSON-LD syntax; Attempt to add illegal key to value object: "${c}".`,"jsonld.SyntaxError",{code:"invalid value object",value:e});d?"@none"!==v&&m(e,d,v,{propertyIsArray:!0,prependValue:!0}):"@none"===v||c in e||(e[c]=_)}g.push(e)}}return g}S.expand=async({activeCtx:e,activeProperty:t=null,element:n,options:h={},insideList:I=!1,insideIndex:k=!1,typeScopedContext:A=null,expansionMap:O=(()=>{})})=>{if(null==n)return null;if("@default"===t&&(h=Object.assign({},h,{isFrame:!1})),!i(n)&&!o(n)){if(!I&&(null===t||"@graph"===f(e,t,{vocab:!0},h))){const r=await O({unmappedValue:n,activeCtx:e,activeProperty:t,options:h,insideList:I});return void 0===r?null:r}return T({activeCtx:e,activeProperty:t,value:n,options:h})}if(i(n)){let r=[];const o=p(e,t,"@container")||[];I=I||o.includes("@list");for(let a=0;a<n.length;++a){let o=await S.expand({activeCtx:e,activeProperty:t,element:n[a],options:h,expansionMap:O,insideIndex:k,typeScopedContext:A});I&&i(o)&&(o={"@list":o}),null===o&&(o=await O({unmappedValue:n[a],activeCtx:e,activeProperty:t,parent:n,index:a,options:h,expandedParent:r,insideList:I}),void 0===o)||(i(o)?r=r.concat(o):r.push(o))}return r}const R=f(e,t,{vocab:!0},h),L=p(e,t,"@context");A=A||(e.previousContext?e:null);let C=Object.keys(n).sort(),M=!k;if(M&&A&&C.length<=2&&!C.includes("@context"))for(const r of C){const t=f(A,r,{vocab:!0},h);if("@value"===t){M=!1,e=A;break}if("@id"===t&&1===C.length){M=!1;break}}M&&(e=e.revertToPreviousContext()),u(L)||(e=await y({activeCtx:e,localCtx:L,propagate:!0,overrideProtected:!0,options:h})),"@context"in n&&(e=await y({activeCtx:e,localCtx:n["@context"],options:h})),A=e;let D=null;for(const r of C)if("@type"===f(e,r,{vocab:!0},h)){D=D||r;const t=n[r],i=Array.isArray(t)?t.length>1?t.slice().sort():t:[t];for(const n of i){const t=p(A,n,"@context");u(t)||(e=await y({activeCtx:e,localCtx:t,options:h,propagate:!1}))}}let P={};await async function e({activeCtx:t,activeProperty:n,expandedActiveProperty:h,element:w,expandedParent:T,options:I={},insideList:k,typeKey:A,typeScopedContext:O,expansionMap:R}){const L=Object.keys(w).sort(),C=[];let M;const D=w[A]&&"@json"===f(t,i(w[A])?w[A][0]:w[A],{vocab:!0},I);for(const P of L){let e,A=w[P];if("@context"===P)continue;let L=f(t,P,{vocab:!0},I);if((null===L||!b(L)&&!g(L))&&(L=R({unmappedProperty:P,activeCtx:t,activeProperty:n,parent:w,options:I,insideList:k,value:A,expandedParent:T}),void 0===L))continue;if(g(L)){if("@reverse"===h)throw new r("Invalid JSON-LD syntax; a keyword cannot be used as a @reverse property.","jsonld.SyntaxError",{code:"invalid reverse property map",value:A});if(L in T&&"@included"!==L&&"@type"!==L)throw new r("Invalid JSON-LD syntax; colliding keywords detected.","jsonld.SyntaxError",{code:"colliding keywords",keyword:L})}if("@id"===L){if(!s(A)){if(!I.isFrame)throw new r('Invalid JSON-LD syntax; "@id" value must a string.',"jsonld.SyntaxError",{code:"invalid @id value",value:A});if(o(A)){if(!a(A))throw new r('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:A})}else{if(!i(A))throw new r('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:A});if(!A.every(e=>s(e)))throw new r('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:A})}}m(T,"@id",_(A).map(e=>s(e)?f(t,e,{base:!0},I):e),{propertyIsArray:I.isFrame});continue}if("@type"===L){o(A)&&(A=Object.fromEntries(Object.entries(A).map(([e,t])=>[f(O,e,{vocab:!0}),_(t).map(e=>f(O,e,{base:!0,vocab:!0}))]))),x(A,I.isFrame),m(T,"@type",_(A).map(e=>s(e)?f(O,e,{base:!0,vocab:!0},I):e),{propertyIsArray:I.isFrame});continue}if("@included"===L&&v(t,1.1)){const e=_(await S.expand({activeCtx:t,activeProperty:n,element:A,options:I,expansionMap:R}));if(!e.every(e=>d(e)))throw new r("Invalid JSON-LD syntax; values of @included must expand to node objects.","jsonld.SyntaxError",{code:"invalid @included value",value:A});m(T,"@included",e,{propertyIsArray:!0});continue}if("@graph"===L&&!o(A)&&!i(A))throw new r('Invalid JSON-LD syntax; "@graph" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid @graph value",value:A});if("@value"===L){M=A,D&&v(t,1.1)?T["@value"]=A:m(T,"@value",A,{propertyIsArray:I.isFrame});continue}if("@language"===L){if(null===A)continue;if(!s(A)&&!I.isFrame)throw new r('Invalid JSON-LD syntax; "@language" value must be a string.',"jsonld.SyntaxError",{code:"invalid language-tagged string",value:A});A=_(A).map(e=>s(e)?e.toLowerCase():e);for(const e of A)s(e)&&!e.match(E)&&console.warn("@language must be valid BCP47: "+e);m(T,"@language",A,{propertyIsArray:I.isFrame});continue}if("@direction"===L){if(!s(A)&&!I.isFrame)throw new r('Invalid JSON-LD syntax; "@direction" value must be a string.',"jsonld.SyntaxError",{code:"invalid base direction",value:A});A=_(A);for(const e of A)if(s(e)&&"ltr"!==e&&"rtl"!==e)throw new r('Invalid JSON-LD syntax; "@direction" must be "ltr" or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",value:A});m(T,"@direction",A,{propertyIsArray:I.isFrame});continue}if("@index"===L){if(!s(A))throw new r('Invalid JSON-LD syntax; "@index" value must be a string.',"jsonld.SyntaxError",{code:"invalid @index value",value:A});m(T,"@index",A);continue}if("@reverse"===L){if(!o(A))throw new r('Invalid JSON-LD syntax; "@reverse" value must be an object.',"jsonld.SyntaxError",{code:"invalid @reverse value",value:A});if(e=await S.expand({activeCtx:t,activeProperty:"@reverse",element:A,options:I,expansionMap:R}),"@reverse"in e)for(const t in e["@reverse"])m(T,t,e["@reverse"][t],{propertyIsArray:!0});let n=T["@reverse"]||null;for(const t in e){if("@reverse"===t)continue;null===n&&(n=T["@reverse"]={}),m(n,t,[],{propertyIsArray:!0});const i=e[t];for(let o=0;o<i.length;++o){const a=i[o];if(l(a)||c(a))throw new r('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:e});m(n,t,a,{propertyIsArray:!0})}}continue}if("@nest"===L){C.push(P);continue}let B=t;const F=p(t,P,"@context");u(F)||(B=await y({activeCtx:t,localCtx:F,propagate:!0,overrideProtected:!0,options:I}));const U=p(B,P,"@container")||[];if(U.includes("@language")&&o(A))e=N(B,A,p(B,P,"@direction"),I);else if(U.includes("@index")&&o(A)){const n=U.includes("@graph"),r=p(B,P,"@index")||"@index",i="@index"!==r&&f(t,r,{vocab:!0},I);e=await j({activeCtx:B,options:I,activeProperty:P,value:A,expansionMap:R,asGraph:n,indexKey:r,propertyIndex:i})}else if(U.includes("@id")&&o(A)){const t=U.includes("@graph");e=await j({activeCtx:B,options:I,activeProperty:P,value:A,expansionMap:R,asGraph:t,indexKey:"@id"})}else if(U.includes("@type")&&o(A))e=await j({activeCtx:B.revertToPreviousContext(),options:I,activeProperty:P,value:A,expansionMap:R,asGraph:!1,indexKey:"@type"});else{const r="@list"===L;if(r||"@set"===L){let t=n;r&&"@graph"===h&&(t=null),e=await S.expand({activeCtx:B,activeProperty:t,element:A,options:I,insideList:r,expansionMap:R})}else e="@json"===p(t,P,"@type")?{"@type":"@json","@value":A}:await S.expand({activeCtx:B,activeProperty:P,element:A,options:I,insideList:!1,expansionMap:R})}if(null!==e||"@value"===L||(e=R({unmappedValue:A,expandedProperty:L,activeCtx:B,activeProperty:n,parent:w,options:I,insideList:k,key:P,expandedParent:T}),void 0!==e))if("@list"!==L&&!c(e)&&U.includes("@list")&&(e={"@list":_(e)}),U.includes("@graph")&&!U.some(e=>"@id"===e||"@index"===e)&&(e=_(e).map(e=>({"@graph":_(e)}))),B.mappings.has(P)&&B.mappings.get(P).reverse){const t=T["@reverse"]=T["@reverse"]||{};e=_(e);for(let n=0;n<e.length;++n){const i=e[n];if(l(i)||c(i))throw new r('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:e});m(t,L,i,{propertyIsArray:!0})}}else m(T,L,e,{propertyIsArray:!0})}if("@value"in T)if("@json"===T["@type"]&&v(t,1.1));else if((o(M)||i(M))&&!I.isFrame)throw new r('Invalid JSON-LD syntax; "@value" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid value object value",value:M});for(const a of C){const s=i(w[a])?w[a]:[w[a]];for(const i of s){if(!o(i)||Object.keys(i).some(e=>"@value"===f(t,e,{vocab:!0},I)))throw new r("Invalid JSON-LD syntax; nested value must be a node object.","jsonld.SyntaxError",{code:"invalid @nest value",value:i});await e({activeCtx:t,activeProperty:n,expandedActiveProperty:h,element:i,expandedParent:T,options:I,insideList:k,typeScopedContext:O,typeKey:A,expansionMap:R})}}}({activeCtx:e,activeProperty:t,expandedActiveProperty:R,element:n,expandedParent:P,options:h,insideList:I,typeKey:D,typeScopedContext:A,expansionMap:O}),C=Object.keys(P);let B=C.length;if("@value"in P){if("@type"in P&&("@language"in P||"@direction"in P))throw new r('Invalid JSON-LD syntax; an element containing "@value" may not contain both "@type" and either "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:P});let i=B-1;if("@type"in P&&(i-=1),"@index"in P&&(i-=1),"@language"in P&&(i-=1),"@direction"in P&&(i-=1),0!==i)throw new r('Invalid JSON-LD syntax; an element containing "@value" may only have an "@index" property and either "@type" or either or both "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:P});const o=null===P["@value"]?[]:_(P["@value"]),u=w(P,"@type");if(v(e,1.1)&&u.includes("@json")&&1===u.length);else if(0===o.length){const r=await O({unmappedValue:P,activeCtx:e,activeProperty:t,element:n,options:h,insideList:I});P=void 0!==r?r:null}else{if(!o.every(e=>s(e)||a(e))&&"@language"in P)throw new r("Invalid JSON-LD syntax; only strings may be language-tagged.","jsonld.SyntaxError",{code:"invalid language-tagged value",element:P});if(!u.every(e=>b(e)&&!(s(e)&&0===e.indexOf("_:"))||a(e)))throw new r('Invalid JSON-LD syntax; an element containing "@value" and "@type" must have an absolute IRI for the value of "@type".',"jsonld.SyntaxError",{code:"invalid typed value",element:P})}}else if("@type"in P&&!i(P["@type"]))P["@type"]=[P["@type"]];else if("@set"in P||"@list"in P){if(B>1&&(2!==B||!("@index"in P)))throw new r('Invalid JSON-LD syntax; if an element has the property "@set" or "@list", then it can have at most one other property that is "@index".',"jsonld.SyntaxError",{code:"invalid set or list object",element:P});"@set"in P&&(P=P["@set"],C=Object.keys(P),B=C.length)}else if(1===B&&"@language"in P){const r=await O(P,{unmappedValue:P,activeCtx:e,activeProperty:t,element:n,options:h,insideList:I});P=void 0!==r?r:null}if(o(P)&&!h.keepFreeFloatingNodes&&!I&&(null===t||"@graph"===R)&&(0===B||"@value"in P||"@list"in P||1===B&&"@id"in P)){const r=await O({unmappedValue:P,activeCtx:e,activeProperty:t,element:n,options:h,insideList:I});P=void 0!==r?r:null}return P}},{"./JsonLdError":22,"./context":30,"./graphTypes":37,"./types":41,"./url":42,"./util":43}],34:[function(e,t,n){"use strict";const{isSubjectReference:r}=e("./graphTypes"),{createMergedNodeMap:i}=e("./nodeMap"),o={};t.exports=o,o.flatten=e=>{const t=i(e),n=[],o=Object.keys(t).sort();for(let i=0;i<o.length;++i){const e=t[o[i]];r(e)||n.push(e)}return n}},{"./graphTypes":37,"./nodeMap":39}],35:[function(e,t,n){"use strict";const{isKeyword:r}=e("./context"),i=e("./graphTypes"),o=e("./types"),a=e("./util"),s=e("./url"),u=e("./JsonLdError"),{createNodeMap:c,mergeNodeMapGraphs:l}=e("./nodeMap"),h={};function d(e){const t={};for(const n in e)void 0!==e[n]&&(t["@"+n]=[e[n]]);return[t]}function f(e,t,n){for(let r=n.length-1;r>=0;--r){const i=n[r];if(i.graph===t&&i.subject["@id"]===e["@id"])return!0}return!1}function p(e,t,n){const r="@"+n;let i=r in e?e[r][0]:t[n];if("embed"===n)if(!0===i)i="@once";else if(!1===i)i="@never";else if("@always"!==i&&"@never"!==i&&"@link"!==i&&"@first"!==i&&"@last"!==i&&"@once"!==i)throw new u("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:e});return i}function g(e){if(!o.isArray(e)||1!==e.length||!o.isObject(e[0]))throw new u("Invalid JSON-LD syntax; a JSON-LD frame must be a single object.","jsonld.SyntaxError",{frame:e});if("@id"in e[0])for(const t of a.asArray(e[0]["@id"]))if(!o.isObject(t)&&!s.isAbsolute(t)||o.isString(t)&&0===t.indexOf("_:"))throw new u("Invalid JSON-LD syntax; invalid @id in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:e});if("@type"in e[0])for(const t of a.asArray(e[0]["@type"]))if(!o.isObject(t)&&!s.isAbsolute(t)||o.isString(t)&&0===t.indexOf("_:"))throw new u("Invalid JSON-LD syntax; invalid @type in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:e})}function y(e,t,n,s){let u=!0,c=!1;for(const l in n){let h=!1;const d=a.getValues(t,l),f=0===a.getValues(n,l).length;if("@id"===l){if(o.isEmptyObject(n["@id"][0]||{})?h=!0:n["@id"].length>=0&&(h=n["@id"].includes(d[0])),!s.requireAll)return h}else if("@type"===l){if(u=!1,f){if(d.length>0)return!1;h=!0}else if(1===n["@type"].length&&o.isEmptyObject(n["@type"][0]))h=d.length>0;else for(const e of n["@type"])h=!(!o.isObject(e)||!("@default"in e))||h||d.some(t=>t===e);if(!s.requireAll)return h}else{if(r(l))continue;{const t=a.getValues(n,l)[0];let r=!1;if(t&&(g([t]),r="@default"in t),u=!1,0===d.length&&r)continue;if(d.length>0&&f)return!1;if(void 0===t){if(d.length>0)return!1;h=!0}else if(i.isList(t)){const n=t["@list"][0];if(i.isList(d[0])){const t=d[0]["@list"];i.isValue(n)?h=t.some(e=>_(n,e)):(i.isSubject(n)||i.isSubjectReference(n))&&(h=t.some(t=>m(e,n,t,s)))}}else h=i.isValue(t)?d.some(e=>_(t,e)):i.isSubjectReference(t)?d.some(n=>m(e,t,n,s)):!!o.isObject(t)&&d.length>0}}if(!h&&s.requireAll)return!1;c=c||h}return u||c}function v(e,t){const n=e.uniqueEmbeds[e.graph],r=n[t],i=r.parent,s=r.property,u={"@id":t};if(o.isArray(i)){for(let e=0;e<i.length;++e)if(a.compareValues(i[e],u)){i[e]=u;break}}else{const e=o.isArray(i[s]);a.removeValue(i,s,u,{propertyIsArray:e}),a.addValue(i,s,u,{propertyIsArray:e})}const c=e=>{const t=Object.keys(n);for(const r of t)r in n&&o.isObject(n[r].parent)&&n[r].parent["@id"]===e&&(delete n[r],c(r))};c(t)}function b(e,t,n){o.isObject(e)?a.addValue(e,t,n,{propertyIsArray:!0}):e.push(n)}function m(e,t,n,r){if(!("@id"in n))return!1;const i=e.subjects[n["@id"]];return i&&y(e,i,t,r)}function _(e,t){const n=t["@value"],r=t["@type"],i=t["@language"],a=e["@value"]?o.isArray(e["@value"])?e["@value"]:[e["@value"]]:[],s=e["@type"]?o.isArray(e["@type"])?e["@type"]:[e["@type"]]:[],u=e["@language"]?o.isArray(e["@language"])?e["@language"]:[e["@language"]]:[];return 0===a.length&&0===s.length&&0===u.length||!(!a.includes(n)&&!o.isEmptyObject(a[0]))&&!!(!r&&0===s.length||s.includes(r)||r&&o.isEmptyObject(s[0]))&&!!(!i&&0===u.length||u.includes(i)||i&&o.isEmptyObject(u[0]))}t.exports=h,h.frameMergedOrDefault=(e,t,n)=>{const r={options:n,embedded:!1,graph:"@default",graphMap:{"@default":{}},subjectStack:[],link:{},bnodeMap:{}},s=new a.IdentifierIssuer("_:b");c(e,r.graphMap,"@default",s),n.merged&&(r.graphMap["@merged"]=l(r.graphMap),r.graph="@merged"),r.subjects=r.graphMap[r.graph];const u=[];return h.frame(r,Object.keys(r.subjects).sort(),t,u),n.pruneBlankNodeIdentifiers&&(n.bnodesToClear=Object.keys(r.bnodeMap).filter(e=>1===r.bnodeMap[e].length)),n.link={},function e(t,n){if(o.isArray(t))return t.map(t=>e(t,n));if(o.isObject(t)){if("@preserve"in t)return t["@preserve"][0];if(i.isValue(t))return t;if(i.isList(t))return t["@list"]=e(t["@list"],n),t;if("@id"in t){const e=t["@id"];if(n.link.hasOwnProperty(e)){const r=n.link[e].indexOf(t);if(-1!==r)return n.link[e][r];n.link[e].push(t)}else n.link[e]=[t]}for(const r in t)"@id"===r&&n.bnodesToClear.includes(t[r])?delete t["@id"]:t[r]=e(t[r],n)}return t}(u,n)},h.frame=(e,t,n,s,c=null)=>{g(n);const l=e.options,m={embed:p(n=n[0],l,"embed"),explicit:p(n,l,"explicit"),requireAll:p(n,l,"requireAll")};e.link.hasOwnProperty(e.graph)||(e.link[e.graph]={});const w=e.link[e.graph],x=function(e,t,n,r){const i={};for(const o of t){const t=e.graphMap[e.graph][o];y(e,t,n,r)&&(i[o]=t)}return i}(e,t,n,m),S=Object.keys(x).sort();for(const g of S){const y=x[g];if(null===c?e.uniqueEmbeds={[e.graph]:{}}:e.uniqueEmbeds[e.graph]=e.uniqueEmbeds[e.graph]||{},"@link"===m.embed&&g in w){b(s,c,w[g]);continue}const S={"@id":g};if(0===g.indexOf("_:")&&a.addValue(e.bnodeMap,g,S,{propertyIsArray:!0}),w[g]=S,("@first"===m.embed||"@last"===m.embed)&&e.is11)throw new u("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:n});if(e.embedded||!e.uniqueEmbeds[e.graph].hasOwnProperty(g))if(!e.embedded||"@never"!==m.embed&&!f(y,e.graph,e.subjectStack))if(!e.embedded||"@first"!=m.embed&&"@once"!=m.embed||!e.uniqueEmbeds[e.graph].hasOwnProperty(g)){if("@last"===m.embed&&g in e.uniqueEmbeds[e.graph]&&v(e,g),e.uniqueEmbeds[e.graph][g]={parent:s,property:c},e.subjectStack.push({subject:y,graph:e.graph}),g in e.graphMap){let t=!1,r=null;"@graph"in n?(r=n["@graph"][0],t=!("@merged"===g||"@default"===g),o.isObject(r)||(r={})):(t="@merged"!==e.graph,r={}),t&&h.frame({...e,graph:g,embedded:!1},Object.keys(e.graphMap[g]).sort(),[r],S,"@graph")}"@included"in n&&h.frame({...e,embedded:!1},t,n["@included"],S,"@included");for(const t of Object.keys(y).sort())if(r(t)){if(S[t]=a.clone(y[t]),"@type"===t)for(const t of y["@type"])0===t.indexOf("_:")&&a.addValue(e.bnodeMap,t,S,{propertyIsArray:!0})}else if(!m.explicit||t in n)for(const r of y[t]){const o=t in n?n[t]:d(m);if(i.isList(r)){const o=n[t]&&n[t][0]&&n[t][0]["@list"]?n[t][0]["@list"]:d(m),s={"@list":[]};b(S,t,s);const u=r["@list"];for(const t of u)i.isSubjectReference(t)?h.frame({...e,embedded:!0},[t["@id"]],o,s,"@list"):b(s,"@list",a.clone(t))}else i.isSubjectReference(r)?h.frame({...e,embedded:!0},[r["@id"]],o,S,t):_(o[0],r)&&b(S,t,a.clone(r))}for(const e of Object.keys(n).sort()){if("@type"===e){if(!o.isObject(n[e][0])||!("@default"in n[e][0]))continue}else if(r(e))continue;const t=n[e][0]||{};if(!p(t,l,"omitDefault")&&!(e in S)){let n="@null";"@default"in t&&(n=a.clone(t["@default"])),o.isArray(n)||(n=[n]),S[e]=[{"@preserve":n}]}}for(const t of Object.keys(n["@reverse"]||{}).sort()){const r=n["@reverse"][t];for(const n of Object.keys(e.subjects))a.getValues(e.subjects[n],t).some(e=>e["@id"]===g)&&(S["@reverse"]=S["@reverse"]||{},a.addValue(S["@reverse"],t,[],{propertyIsArray:!0}),h.frame({...e,embedded:!0},[n],r,S["@reverse"][t],c))}b(s,c,S),e.subjectStack.pop()}else b(s,c,S);else b(s,c,S)}},h.cleanupNull=(e,t)=>{if(o.isArray(e))return e.map(e=>h.cleanupNull(e,t)).filter(e=>e);if("@null"===e)return null;if(o.isObject(e)){if("@id"in e){const n=e["@id"];if(t.link.hasOwnProperty(n)){const r=t.link[n].indexOf(e);if(-1!==r)return t.link[n][r];t.link[n].push(e)}else t.link[n]=[e]}for(const n in e)e[n]=h.cleanupNull(e[n],t)}return e}},{"./JsonLdError":22,"./context":30,"./graphTypes":37,"./nodeMap":39,"./types":41,"./url":42,"./util":43}],36:[function(e,t,n){"use strict";const r=e("./JsonLdError"),i=e("./graphTypes"),o=e("./types"),a=e("./util"),{RDF_LIST:s,RDF_FIRST:u,RDF_REST:c,RDF_NIL:l,RDF_TYPE:h,RDF_JSON_LITERAL:d,XSD_BOOLEAN:f,XSD_DOUBLE:p,XSD_INTEGER:g,XSD_STRING:y}=e("./constants"),v=/^[a-zA-Z]{1,8}(-[a-zA-Z0-9]{1,8})*$/,b={};function m(e,t,n){if(e.termType.endsWith("Node"))return{"@id":e.value};const i={"@value":e.value};if(e.language)i["@language"]=e.language;else{let s=e.datatype.value;if(s||(s=y),s===d){s="@json";try{i["@value"]=JSON.parse(i["@value"])}catch(a){throw new r("JSON literal could not be parsed.","jsonld.InvalidJsonLiteral",{code:"invalid JSON literal",value:i["@value"],cause:a})}}if(t){if(s===f)"true"===i["@value"]?i["@value"]=!0:"false"===i["@value"]&&(i["@value"]=!1);else if(o.isNumeric(i["@value"]))if(s===g){const e=parseInt(i["@value"],10);e.toFixed(0)===i["@value"]&&(i["@value"]=e)}else s===p&&(i["@value"]=parseFloat(i["@value"]));[f,g,p,y].includes(s)||(i["@type"]=s)}else if("i18n-datatype"===n&&s.startsWith("https://www.w3.org/ns/i18n#")){const[,e,t]=s.split(/[#_]/);e.length>0&&(i["@language"]=e,e.match(v)||console.warn("@language must be valid BCP47: "+e)),i["@direction"]=t}else s!==y&&(i["@type"]=s)}return i}t.exports=b,b.fromRDF=async(e,{useRdfType:t=!1,useNativeTypes:n=!1,rdfDirection:r=null})=>{const d={},f={"@default":d},p={};for(const i of e){const e="DefaultGraph"===i.graph.termType?"@default":i.graph.value;e in f||(f[e]={}),"@default"===e||e in d||(d[e]={"@id":e});const o=f[e],s=i.subject.value,u=i.predicate.value,c=i.object;s in o||(o[s]={"@id":s});const g=o[s],y=c.termType.endsWith("Node");if(y&&!(c.value in o)&&(o[c.value]={"@id":c.value}),u===h&&!t&&y){a.addValue(g,"@type",c.value,{propertyIsArray:!0});continue}const v=m(c,n,r);if(a.addValue(g,u,v,{propertyIsArray:!0}),y)if(c.value===l){const e=o[c.value];"usages"in e||(e.usages=[]),e.usages.push({node:g,property:u,value:v})}else p[c.value]=!(c.value in p)&&{node:g,property:u,value:v}}for(const a in f){const e=f[a];if(!(l in e))continue;const t=e[l];if(t.usages){for(let n of t.usages){let t=n.node,r=n.property,a=n.value;const l=[],h=[];let d=Object.keys(t).length;for(;r===c&&o.isObject(p[t["@id"]])&&o.isArray(t[u])&&1===t[u].length&&o.isArray(t[c])&&1===t[c].length&&(3===d||4===d&&o.isArray(t["@type"])&&1===t["@type"].length&&t["@type"][0]===s)&&(l.push(t[u][0]),h.push(t["@id"]),n=p[t["@id"]],t=n.node,r=n.property,a=n.value,d=Object.keys(t).length,i.isBlankNode(t)););delete a["@id"],a["@list"]=l.reverse();for(const n of h)delete e[n]}delete t.usages}}const g=[],y=Object.keys(d).sort();for(const o of y){const e=d[o];if(o in f){const t=e["@graph"]=[],n=f[o],r=Object.keys(n).sort();for(const e of r){const r=n[e];i.isSubjectReference(r)||t.push(r)}}i.isSubjectReference(e)||g.push(e)}return g}},{"./JsonLdError":22,"./constants":29,"./graphTypes":37,"./types":41,"./util":43}],37:[function(e,t,n){"use strict";const r=e("./types"),i={};t.exports=i,i.isSubject=e=>!(!r.isObject(e)||"@value"in e||"@set"in e||"@list"in e)&&(Object.keys(e).length>1||!("@id"in e)),i.isSubjectReference=e=>r.isObject(e)&&1===Object.keys(e).length&&"@id"in e,i.isValue=e=>r.isObject(e)&&"@value"in e,i.isList=e=>r.isObject(e)&&"@list"in e,i.isGraph=e=>r.isObject(e)&&"@graph"in e&&1===Object.keys(e).filter(e=>"@id"!==e&&"@index"!==e).length,i.isSimpleGraph=e=>i.isGraph(e)&&!("@id"in e),i.isBlankNode=e=>!!r.isObject(e)&&("@id"in e?0===e["@id"].indexOf("_:"):0===Object.keys(e).length||!("@value"in e||"@set"in e||"@list"in e))},{"./types":41}],38:[function(e,t,n){(function(n,r){const i=e("rdf-canonize"),o=e("./util"),a=e("./ContextResolver"),s=o.IdentifierIssuer,u=e("./JsonLdError"),c=e("lru-cache"),l=e("./NQuads"),h=e("./Rdfa"),{expand:d}=e("./expand"),{flatten:f}=e("./flatten"),{fromRDF:p}=e("./fromRdf"),{toRDF:g}=e("./toRdf"),{frameMergedOrDefault:y,cleanupNull:v}=e("./frame"),{isArray:b,isObject:m,isString:_}=e("./types"),{isSubjectReference:w}=e("./graphTypes"),{expandIri:x,getInitialContext:S,process:E,processingMode:T}=e("./context"),{compact:N,compactIri:j}=e("./compact"),{createNodeMap:I,createMergedNodeMap:k,mergeNodeMaps:A}=e("./nodeMap"),O=void 0!==n&&n.versions&&n.versions.node,R=!O&&("undefined"!=typeof window||"undefined"!=typeof self),L=function(t){const n={},L=new c({max:100});function C(e,{documentLoader:n=t.documentLoader,...r}){return Object.assign({},{documentLoader:n},r,e)}return t.compact=async function(e,n,r){if(arguments.length<2)throw new TypeError("Could not compact, too few arguments.");if(null===n)throw new u("The compaction context must not be null.","jsonld.CompactError",{code:"invalid local context"});if(null===e)return null;let i;(r=C(r,{base:_(e)?e:"",compactArrays:!0,compactToRelative:!0,graph:!1,skipExpansion:!1,link:!1,issuer:new s("_:b"),contextResolver:new a({sharedCache:L})})).link&&(r.skipExpansion=!0),r.compactToRelative||delete r.base,i=r.skipExpansion?e:await t.expand(e,r);const c=await t.processContext(S(r),n,r);let l=await N({activeCtx:c,element:i,options:r,compactionMap:r.compactionMap});r.compactArrays&&!r.graph&&b(l)?1===l.length?l=l[0]:0===l.length&&(l={}):r.graph&&m(l)&&(l=[l]),m(n)&&"@context"in n&&(n=n["@context"]),n=o.clone(n),b(n)||(n=[n]);const h=n;n=[];for(let t=0;t<h.length;++t)(!m(h[t])||Object.keys(h[t]).length>0)&&n.push(h[t]);const d=n.length>0;if(1===n.length&&(n=n[0]),b(l)){const e=j({activeCtx:c,iri:"@graph",relativeTo:{vocab:!0}}),t=l;l={},d&&(l["@context"]=n),l[e]=t}else if(m(l)&&d){const e=l;l={"@context":n};for(const t in e)l[t]=e[t]}return l},t.expand=async function(e,n){if(arguments.length<1)throw new TypeError("Could not expand, too few arguments.");!1===(n=C(n,{keepFreeFloatingNodes:!1,contextResolver:new a({sharedCache:L})})).expansionMap&&(n.expansionMap=void 0);const r={},i=[];if("expandContext"in n){const e=o.clone(n.expandContext);r.expandContext=m(e)&&"@context"in e?e:{"@context":e},i.push(r.expandContext)}let s;if(_(e)){const o=await t.get(e,n);s=o.documentUrl,r.input=o.document,o.contextUrl&&(r.remoteContext={"@context":o.contextUrl},i.push(r.remoteContext))}else r.input=o.clone(e);"base"in n||(n.base=s||"");let u=S(n);for(const t of i)u=await E({activeCtx:u,localCtx:t,options:n});let c=await d({activeCtx:u,element:r.input,options:n,expansionMap:n.expansionMap});return m(c)&&"@graph"in c&&1===Object.keys(c).length?c=c["@graph"]:null===c&&(c=[]),b(c)||(c=[c]),c},t.flatten=async function(e,n,r){if(arguments.length<1)return new TypeError("Could not flatten, too few arguments.");n="function"==typeof n?null:n||null,r=C(r,{base:_(e)?e:"",contextResolver:new a({sharedCache:L})});const i=await t.expand(e,r),o=f(i);if(null===n)return o;r.graph=!0,r.skipExpansion=!0;const s=await t.compact(o,n,r);return s},t.frame=async function(e,n,r){if(arguments.length<2)throw new TypeError("Could not frame, too few arguments.");if(r=C(r,{base:_(e)?e:"",embed:"@once",explicit:!1,requireAll:!1,omitDefault:!1,bnodesToClear:[],contextResolver:new a({sharedCache:L})}),_(n)){const e=await t.get(n,r);if(n=e.document,e.contextUrl){let t=n["@context"];t?b(t)?t.push(e.contextUrl):t=[t,e.contextUrl]:t=e.contextUrl,n["@context"]=t}}const i=n&&n["@context"]||{},o=await t.processContext(S(r),i,r);r.hasOwnProperty("omitGraph")||(r.omitGraph=T(o,1.1)),r.hasOwnProperty("pruneBlankNodeIdentifiers")||(r.pruneBlankNodeIdentifiers=T(o,1.1));const s=await t.expand(e,r),u={...r};u.isFrame=!0,u.keepFreeFloatingNodes=!0;const c=await t.expand(n,u),l=Object.keys(n).map(e=>x(o,e,{vocab:!0}));u.merged=!l.includes("@graph"),u.is11=T(o,1.1);const h=y(s,c,u);u.graph=!r.omitGraph,u.skipExpansion=!0,u.link={},u.framing=!0;let d=await t.compact(h,i,u);return u.link={},d=v(d,u),d},t.link=async function(e,n,r){const i={};return n&&(i["@context"]=n),i["@embed"]="@link",t.frame(e,i,r)},t.normalize=t.canonize=async function(e,n){if(arguments.length<1)throw new TypeError("Could not canonize, too few arguments.");if("inputFormat"in(n=C(n,{base:_(e)?e:"",algorithm:"URDNA2015",skipExpansion:!1,contextResolver:new a({sharedCache:L})}))){if("application/n-quads"!==n.inputFormat&&"application/nquads"!==n.inputFormat)throw new u("Unknown canonicalization input format.","jsonld.CanonizeError");const t=l.parse(e);return i.canonize(t,n)}const r={...n};delete r.format,r.produceGeneralizedRdf=!1;const o=await t.toRDF(e,r);return i.canonize(o,n)},t.fromRDF=async function(e,t){if(arguments.length<1)throw new TypeError("Could not convert from RDF, too few arguments.");t=C(t,{format:_(e)?"application/n-quads":void 0});const{format:r}=t;let{rdfParser:i}=t;if(r){if(i=i||n[r],!i)throw new u("Unknown input format.","jsonld.UnknownFormat",{format:r})}else i=()=>e;const o=await i(e);return p(o,t)},t.toRDF=async function(e,n){if(arguments.length<1)throw new TypeError("Could not convert to RDF, too few arguments.");let r;r=(n=C(n,{base:_(e)?e:"",skipExpansion:!1,contextResolver:new a({sharedCache:L})})).skipExpansion?e:await t.expand(e,n);const i=g(r,n);if(n.format){if("application/n-quads"===n.format||"application/nquads"===n.format)return await l.serialize(i);throw new u("Unknown output format.","jsonld.UnknownFormat",{format:n.format})}return i},t.createNodeMap=async function(e,n){if(arguments.length<1)throw new TypeError("Could not create node map, too few arguments.");n=C(n,{base:_(e)?e:"",contextResolver:new a({sharedCache:L})});const r=await t.expand(e,n);return k(r,n)},t.merge=async function(e,n,r){if(arguments.length<1)throw new TypeError("Could not merge, too few arguments.");if(!b(e))throw new TypeError('Could not merge, "docs" must be an array.');n="function"==typeof n?null:n||null,r=C(r,{contextResolver:new a({sharedCache:L})});const i=await Promise.all(e.map(e=>{const n={...r};return t.expand(e,n)}));let u=!0;"mergeNodes"in r&&(u=r.mergeNodes);const c=r.issuer||new s("_:b"),l={"@default":{}};for(let t=0;t<i.length;++t){const e=o.relabelBlankNodes(i[t],{issuer:new s("_:b"+t+"-")}),n=u||0===t?l:{"@default":{}};if(I(e,n,"@default",c),n!==l)for(const t in n){const e=n[t];if(!(t in l)){l[t]=e;continue}const r=l[t];for(const t in e)t in r||(r[t]=e[t])}}const h=A(l),d=[],f=Object.keys(h).sort();for(let t=0;t<f.length;++t){const e=h[f[t]];w(e)||d.push(e)}if(null===n)return d;r.graph=!0,r.skipExpansion=!0;const p=await t.compact(d,n,r);return p},Object.defineProperty(t,"documentLoader",{get:()=>t._documentLoader,set:e=>t._documentLoader=e}),t.documentLoader=async e=>{throw new u("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed",url:e})},t.get=async function(e,n){let r;r="function"==typeof n.documentLoader?n.documentLoader:t.documentLoader;const i=await r(e);try{if(!i.document)throw new u("No remote document found at the given URL.","jsonld.NullRemoteDocument");_(i.document)&&(i.document=JSON.parse(i.document))}catch(o){throw new u("Could not retrieve a JSON-LD document from the URL.","jsonld.LoadDocumentError",{code:"loading document failed",cause:o,remoteDoc:i})}return i},t.processContext=async function(e,t,n){return n=C(n,{base:"",contextResolver:new a({sharedCache:L})}),null===t?S(n):(t=o.clone(t),m(t)&&"@context"in t||(t={"@context":t}),E({activeCtx:e,localCtx:t,options:n}))},t.getContextValue=e("./context").getContextValue,t.documentLoaders={},t.documentLoaders.node=e("./documentLoaders/node"),t.documentLoaders.xhr=e("./documentLoaders/xhr"),t.useDocumentLoader=function(e){if(!(e in t.documentLoaders))throw new u('Unknown document loader type: "'+e+'"',"jsonld.UnknownDocumentLoader",{type:e});t.documentLoader=t.documentLoaders[e].apply(t,Array.prototype.slice.call(arguments,1))},t.registerRDFParser=function(e,t){n[e]=t},t.unregisterRDFParser=function(e){delete n[e]},t.registerRDFParser("application/n-quads",l.parse),t.registerRDFParser("application/nquads",l.parse),t.registerRDFParser("rdfa-api",h.parse),t.url=e("./url"),t.util=o,Object.assign(t,o),t.promises=t,t.RequestQueue=e("./RequestQueue"),t.JsonLdProcessor=e("./JsonLdProcessor")(t),R&&void 0===r.JsonLdProcessor&&Object.defineProperty(r,"JsonLdProcessor",{writable:!0,enumerable:!1,configurable:!0,value:t.JsonLdProcessor}),O?t.useDocumentLoader("node"):"undefined"!=typeof XMLHttpRequest&&t.useDocumentLoader("xhr"),t},C=function(){return L((function(){return C()}))};L(C),t.exports=C}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./ContextResolver":21,"./JsonLdError":22,"./JsonLdProcessor":23,"./NQuads":24,"./Rdfa":25,"./RequestQueue":26,"./compact":28,"./context":30,"./documentLoaders/node":31,"./documentLoaders/xhr":32,"./expand":33,"./flatten":34,"./frame":35,"./fromRdf":36,"./graphTypes":37,"./nodeMap":39,"./toRdf":40,"./types":41,"./url":42,"./util":43,_process:62,"lru-cache":44,"rdf-canonize":73}],39:[function(e,t,n){"use strict";const{isKeyword:r}=e("./context"),i=e("./graphTypes"),o=e("./types"),a=e("./util"),s=e("./JsonLdError"),u={};t.exports=u,u.createMergedNodeMap=(e,t)=>{const n=(t=t||{}).issuer||new a.IdentifierIssuer("_:b"),r={"@default":{}};return u.createNodeMap(e,r,"@default",n),u.mergeNodeMaps(r)},u.createNodeMap=(e,t,n,c,l,h)=>{if(o.isArray(e)){for(const r of e)u.createNodeMap(r,t,n,c,void 0,h);return}if(!o.isObject(e))return void(h&&h.push(e));if(i.isValue(e)){if("@type"in e){let t=e["@type"];0===t.indexOf("_:")&&(e["@type"]=t=c.getId(t))}return void(h&&h.push(e))}if(h&&i.isList(e)){const r=[];return u.createNodeMap(e["@list"],t,n,c,l,r),void h.push({"@list":r})}if("@type"in e){const t=e["@type"];for(const e of t)0===e.indexOf("_:")&&c.getId(e)}o.isUndefined(l)&&(l=i.isBlankNode(e)?c.getId(e["@id"]):e["@id"]),h&&h.push({"@id":l});const d=t[n],f=d[l]=d[l]||{};f["@id"]=l;const p=Object.keys(e).sort();for(let o of p){if("@id"===o)continue;if("@reverse"===o){const r={"@id":l},o=e["@reverse"];for(const e in o){const s=o[e];for(const o of s){let s=o["@id"];i.isBlankNode(o)&&(s=c.getId(s)),u.createNodeMap(o,t,n,c,s),a.addValue(d[s],e,r,{propertyIsArray:!0,allowDuplicate:!1})}}continue}if("@graph"===o){l in t||(t[l]={}),u.createNodeMap(e[o],t,l,c);continue}if("@included"===o){u.createNodeMap(e[o],t,n,c);continue}if("@type"!==o&&r(o)){if("@index"===o&&o in f&&(e[o]!==f[o]||e[o]["@id"]!==f[o]["@id"]))throw new s("Invalid JSON-LD syntax; conflicting @index property detected.","jsonld.SyntaxError",{code:"conflicting indexes",subject:f});f[o]=e[o];continue}const h=e[o];if(0===o.indexOf("_:")&&(o=c.getId(o)),0!==h.length)for(let e of h)if("@type"===o&&(e=0===e.indexOf("_:")?c.getId(e):e),i.isSubject(e)||i.isSubjectReference(e)){if("@id"in e&&!e["@id"])continue;const r=i.isBlankNode(e)?c.getId(e["@id"]):e["@id"];a.addValue(f,o,{"@id":r},{propertyIsArray:!0,allowDuplicate:!1}),u.createNodeMap(e,t,n,c,r)}else if(i.isValue(e))a.addValue(f,o,e,{propertyIsArray:!0,allowDuplicate:!1});else if(i.isList(e)){const r=[];u.createNodeMap(e["@list"],t,n,c,l,r),e={"@list":r},a.addValue(f,o,e,{propertyIsArray:!0,allowDuplicate:!1})}else u.createNodeMap(e,t,n,c,l),a.addValue(f,o,e,{propertyIsArray:!0,allowDuplicate:!1});else a.addValue(f,o,[],{propertyIsArray:!0})}},u.mergeNodeMapGraphs=e=>{const t={};for(const n of Object.keys(e).sort())for(const i of Object.keys(e[n]).sort()){const o=e[n][i];i in t||(t[i]={"@id":i});const s=t[i];for(const e of Object.keys(o).sort())if(r(e)&&"@type"!==e)s[e]=a.clone(o[e]);else for(const t of o[e])a.addValue(s,e,a.clone(t),{propertyIsArray:!0,allowDuplicate:!1})}return t},u.mergeNodeMaps=e=>{const t=e["@default"],n=Object.keys(e).sort();for(const r of n){if("@default"===r)continue;const n=e[r];let o=t[r];o?"@graph"in o||(o["@graph"]=[]):t[r]=o={"@id":r,"@graph":[]};const a=o["@graph"];for(const e of Object.keys(n).sort()){const t=n[e];i.isSubjectReference(t)||a.push(t)}}return t}},{"./JsonLdError":22,"./context":30,"./graphTypes":37,"./types":41,"./util":43}],40:[function(e,t,n){"use strict";const{createNodeMap:r}=e("./nodeMap"),{isKeyword:i}=e("./context"),o=e("./graphTypes"),a=e("canonicalize"),s=e("./types"),u=e("./util"),{RDF_FIRST:c,RDF_REST:l,RDF_NIL:h,RDF_TYPE:d,RDF_JSON_LITERAL:f,RDF_LANGSTRING:p,XSD_BOOLEAN:g,XSD_DOUBLE:y,XSD_INTEGER:v,XSD_STRING:b}=e("./constants"),{isAbsolute:m}=e("./url"),_={};function w(e,t,n,r,o){const a=Object.keys(t).sort();for(const s of a){const a=t[s],u=Object.keys(a).sort();for(let t of u){const u=a[t];if("@type"===t)t=d;else if(i(t))continue;for(const i of u){const a={termType:s.startsWith("_:")?"BlankNode":"NamedNode",value:s};if(!m(s))continue;const u={termType:t.startsWith("_:")?"BlankNode":"NamedNode",value:t};if(!m(t))continue;if("BlankNode"===u.termType&&!o.produceGeneralizedRdf)continue;const c=x(i,r,e,n,o.rdfDirection);c&&e.push({subject:a,predicate:u,object:c,graph:n})}}}}function x(e,t,n,r,i){const u={};if(o.isValue(e)){u.termType="Literal",u.value=void 0,u.datatype={termType:"NamedNode"};let t=e["@value"];const n=e["@type"]||null;"@json"===n?(u.value=a(t),u.datatype.value=f):s.isBoolean(t)?(u.value=t.toString(),u.datatype.value=n||g):s.isDouble(t)||n===y?(s.isDouble(t)||(t=parseFloat(t)),u.value=t.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),u.datatype.value=n||y):s.isNumber(t)?(u.value=t.toFixed(0),u.datatype.value=n||v):"i18n-datatype"===i&&"@direction"in e?(u.datatype.value="https://www.w3.org/ns/i18n#"+(e["@language"]||"")+"_"+e["@direction"],u.value=t):"@language"in e?(u.value=t,u.datatype.value=n||p,u.language=e["@language"]):(u.value=t,u.datatype.value=n||b)}else if(o.isList(e)){const o=function(e,t,n,r,i){const o={termType:"NamedNode",value:c},a={termType:"NamedNode",value:l},s={termType:"NamedNode",value:h},u=e.pop(),d=u?{termType:"BlankNode",value:t.getId()}:s;let f=d;for(const c of e){const e=x(c,t,n,r,i),s={termType:"BlankNode",value:t.getId()};n.push({subject:f,predicate:o,object:e,graph:r}),n.push({subject:f,predicate:a,object:s,graph:r}),f=s}if(u){const e=x(u,t,n,r,i);n.push({subject:f,predicate:o,object:e,graph:r}),n.push({subject:f,predicate:a,object:s,graph:r})}return d}(e["@list"],t,n,r,i);u.termType=o.termType,u.value=o.value}else{const t=s.isObject(e)?e["@id"]:e;u.termType=t.startsWith("_:")?"BlankNode":"NamedNode",u.value=t}return"NamedNode"!==u.termType||m(u.value)?u:null}t.exports=_,_.toRDF=(e,t)=>{const n=new u.IdentifierIssuer("_:b"),i={"@default":{}};r(e,i,"@default",n);const o=[],a=Object.keys(i).sort();for(const r of a){let e;if("@default"===r)e={termType:"DefaultGraph",value:""};else{if(!m(r))continue;e=r.startsWith("_:")?{termType:"BlankNode"}:{termType:"NamedNode"},e.value=r}w(o,i[r],e,n,t)}return o}},{"./constants":29,"./context":30,"./graphTypes":37,"./nodeMap":39,"./types":41,"./url":42,"./util":43,canonicalize:15}],41:[function(e,t,n){"use strict";const r={};t.exports=r,r.isArray=Array.isArray,r.isBoolean=e=>"boolean"==typeof e||"[object Boolean]"===Object.prototype.toString.call(e),r.isDouble=e=>r.isNumber(e)&&(-1!==String(e).indexOf(".")||Math.abs(e)>=1e21),r.isEmptyObject=e=>r.isObject(e)&&0===Object.keys(e).length,r.isNumber=e=>"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e),r.isNumeric=e=>!isNaN(parseFloat(e))&&isFinite(e),r.isObject=e=>"[object Object]"===Object.prototype.toString.call(e),r.isString=e=>"string"==typeof e||"[object String]"===Object.prototype.toString.call(e),r.isUndefined=e=>void 0===e},{}],42:[function(e,t,n){"use strict";const r=e("./types"),i={};t.exports=i,i.parsers={simple:{keys:["href","scheme","authority","path","query","fragment"],regex:/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/},full:{keys:["href","protocol","scheme","authority","auth","user","password","hostname","port","path","directory","file","query","fragment"],regex:/^(([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?(?:(((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/}},i.parse=(e,t)=>{const n={},r=i.parsers[t||"full"],o=r.regex.exec(e);let a=r.keys.length;for(;a--;)n[r.keys[a]]=void 0===o[a]?null:o[a];return("https"===n.scheme&&"443"===n.port||"http"===n.scheme&&"80"===n.port)&&(n.href=n.href.replace(":"+n.port,""),n.authority=n.authority.replace(":"+n.port,""),n.port=null),n.normalizedPath=i.removeDotSegments(n.path),n},i.prependBase=(e,t)=>{if(null===e)return t;if(i.isAbsolute(t))return t;e&&!r.isString(e)||(e=i.parse(e||""));const n=i.parse(t),o={protocol:e.protocol||""};if(null!==n.authority)o.authority=n.authority,o.path=n.path,o.query=n.query;else if(o.authority=e.authority,""===n.path)o.path=e.path,o.query=null!==n.query?n.query:e.query;else{if(0===n.path.indexOf("/"))o.path=n.path;else{let t=e.path;t=t.substr(0,t.lastIndexOf("/")+1),(t.length>0||e.authority)&&"/"!==t.substr(-1)&&(t+="/"),t+=n.path,o.path=t}o.query=n.query}""!==n.path&&(o.path=i.removeDotSegments(o.path));let a=o.protocol;return null!==o.authority&&(a+="//"+o.authority),a+=o.path,null!==o.query&&(a+="?"+o.query),null!==n.fragment&&(a+="#"+n.fragment),""===a&&(a="./"),a},i.removeBase=(e,t)=>{if(null===e)return t;e&&!r.isString(e)||(e=i.parse(e||""));let n="";if(""!==e.href?n+=(e.protocol||"")+"//"+(e.authority||""):t.indexOf("//")&&(n+="//"),0!==t.indexOf(n))return t;const o=i.parse(t.substr(n.length)),a=e.normalizedPath.split("/"),s=o.normalizedPath.split("/"),u=o.fragment||o.query?0:1;for(;a.length>0&&s.length>u&&a[0]===s[0];)a.shift(),s.shift();let c="";if(a.length>0){a.pop();for(let e=0;e<a.length;++e)c+="../"}return c+=s.join("/"),null!==o.query&&(c+="?"+o.query),null!==o.fragment&&(c+="#"+o.fragment),""===c&&(c="./"),c},i.removeDotSegments=e=>{if(0===e.length)return"";const t=e.split("/"),n=[];for(;t.length>0;){const e=t.shift(),r=0===t.length;"."!==e?".."!==e?n.push(e):(n.pop(),r&&n.push("")):r&&n.push("")}return"/"===e[0]&&n.length>0&&""!==n[0]&&n.unshift(""),1===n.length&&""===n[0]?"/":n.join("/")};const o=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^\s]*$/;i.isAbsolute=e=>r.isString(e)&&o.test(e),i.isRelative=e=>r.isString(e)},{"./types":41}],43:[function(e,t,n){"use strict";const r=e("./graphTypes"),i=e("./types"),o=e("rdf-canonize").IdentifierIssuer,a=e("./JsonLdError"),s=/(?:<[^>]*?>|"[^"]*?"|[^,])+/g,u=/\s*<([^>]*?)>\s*(?:;\s*(.*))?/,c=/(.*?)=(?:(?:"([^"]*?)")|([^"]*?))\s*(?:(?:;\s*)|$)/g,l={};t.exports=l,l.IdentifierIssuer=o,l.clone=function(e){if(e&&"object"==typeof e){let t;if(i.isArray(e)){t=[];for(let n=0;n<e.length;++n)t[n]=l.clone(e[n])}else if(e instanceof Map){t=new Map;for(const[n,r]of e)t.set(n,l.clone(r))}else if(e instanceof Set){t=new Set;for(const n of e)t.add(l.clone(n))}else if(i.isObject(e)){t={};for(const n in e)t[n]=l.clone(e[n])}else t=e.toString();return t}return e},l.asArray=function(e){return Array.isArray(e)?e:[e]},l.buildHeaders=(e={})=>{if(Object.keys(e).some(e=>"accept"===e.toLowerCase()))throw new RangeError('Accept header may not be specified; only "application/ld+json, application/json" is supported.');return Object.assign({Accept:"application/ld+json, application/json"},e)},l.parseLinkHeader=e=>{const t={},n=e.match(s);for(let r=0;r<n.length;++r){let e=n[r].match(u);if(!e)continue;const i={target:e[1]},o=e[2];for(;e=c.exec(o);)i[e[1]]=void 0===e[2]?e[3]:e[2];const a=i.rel||"";Array.isArray(t[a])?t[a].push(i):t[a]=t.hasOwnProperty(a)?[t[a],i]:i}return t},l.validateTypeValue=(e,t)=>{if(!(i.isString(e)||i.isArray(e)&&e.every(e=>i.isString(e)))){if(t&&i.isObject(e))switch(Object.keys(e).length){case 0:return;case 1:if("@default"in e&&l.asArray(e["@default"]).every(e=>i.isString(e)))return}throw new a('Invalid JSON-LD syntax; "@type" value must a string, an array of strings, an empty object, or a default object.',"jsonld.SyntaxError",{code:"invalid type value",value:e})}},l.hasProperty=(e,t)=>{if(e.hasOwnProperty(t)){const n=e[t];return!i.isArray(n)||n.length>0}return!1},l.hasValue=(e,t,n)=>{if(l.hasProperty(e,t)){let o=e[t];const a=r.isList(o);if(i.isArray(o)||a){a&&(o=o["@list"]);for(let e=0;e<o.length;++e)if(l.compareValues(n,o[e]))return!0}else if(!i.isArray(n))return l.compareValues(n,o)}return!1},l.addValue=(e,t,n,r)=>{if("propertyIsArray"in(r=r||{})||(r.propertyIsArray=!1),"valueIsArray"in r||(r.valueIsArray=!1),"allowDuplicate"in r||(r.allowDuplicate=!0),"prependValue"in r||(r.prependValue=!1),r.valueIsArray)e[t]=n;else if(i.isArray(n)){0===n.length&&r.propertyIsArray&&!e.hasOwnProperty(t)&&(e[t]=[]),r.prependValue&&(n=n.concat(e[t]),e[t]=[]);for(let i=0;i<n.length;++i)l.addValue(e,t,n[i],r)}else if(e.hasOwnProperty(t)){const o=!r.allowDuplicate&&l.hasValue(e,t,n);i.isArray(e[t])||o&&!r.propertyIsArray||(e[t]=[e[t]]),o||(r.prependValue?e[t].unshift(n):e[t].push(n))}else e[t]=r.propertyIsArray?[n]:n},l.getValues=(e,t)=>[].concat(e[t]||[]),l.removeProperty=(e,t)=>{delete e[t]},l.removeValue=(e,t,n,r)=>{"propertyIsArray"in(r=r||{})||(r.propertyIsArray=!1);const i=l.getValues(e,t).filter(e=>!l.compareValues(e,n));0===i.length?l.removeProperty(e,t):e[t]=1!==i.length||r.propertyIsArray?i:i[0]},l.relabelBlankNodes=(e,t)=>function e(t,n){if(i.isArray(n))for(let r=0;r<n.length;++r)n[r]=e(t,n[r]);else if(r.isList(n))n["@list"]=e(t,n["@list"]);else if(i.isObject(n)){r.isBlankNode(n)&&(n["@id"]=t.getId(n["@id"]));const i=Object.keys(n).sort();for(let r=0;r<i.length;++r){const o=i[r];"@id"!==o&&(n[o]=e(t,n[o]))}}return n}((t=t||{}).issuer||new o("_:b"),e),l.compareValues=(e,t)=>e===t||!(!r.isValue(e)||!r.isValue(t)||e["@value"]!==t["@value"]||e["@type"]!==t["@type"]||e["@language"]!==t["@language"]||e["@index"]!==t["@index"])||!!(i.isObject(e)&&"@id"in e&&i.isObject(t)&&"@id"in t)&&e["@id"]===t["@id"],l.compareShortestLeast=(e,t)=>e.length<t.length?-1:t.length<e.length?1:e===t?0:e<t?-1:1},{"./JsonLdError":22,"./graphTypes":37,"./types":41,"rdf-canonize":73}],44:[function(e,t,n){"use strict";const r=e("yallist"),i=Symbol("max"),o=Symbol("length"),a=Symbol("lengthCalculator"),s=Symbol("allowStale"),u=Symbol("maxAge"),c=Symbol("dispose"),l=Symbol("noDisposeOnSet"),h=Symbol("lruList"),d=Symbol("cache"),f=Symbol("updateAgeOnGet"),p=()=>1,g=(e,t,n)=>{const r=e[d].get(t);if(r){const t=r.value;if(y(e,t)){if(b(e,r),!e[s])return}else n&&(e[f]&&(r.value.now=Date.now()),e[h].unshiftNode(r));return t.value}},y=(e,t)=>{if(!t||!t.maxAge&&!e[u])return!1;const n=Date.now()-t.now;return t.maxAge?n>t.maxAge:e[u]&&n>e[u]},v=e=>{if(e[o]>e[i])for(let t=e[h].tail;e[o]>e[i]&&null!==t;){const n=t.prev;b(e,t),t=n}},b=(e,t)=>{if(t){const n=t.value;e[c]&&e[c](n.key,n.value),e[o]-=n.length,e[d].delete(n.key),e[h].removeNode(t)}};class m{constructor(e,t,n,r,i){this.key=e,this.value=t,this.length=n,this.now=r,this.maxAge=i||0}}const _=(e,t,n,r)=>{let i=n.value;y(e,i)&&(b(e,n),e[s]||(i=void 0)),i&&t.call(r,i.value,i.key,e)};t.exports=class{constructor(e){if("number"==typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!=typeof e.max||e.max<0))throw new TypeError("max must be a non-negative number");this[i]=e.max||1/0;const t=e.length||p;if(this[a]="function"!=typeof t?p:t,this[s]=e.stale||!1,e.maxAge&&"number"!=typeof e.maxAge)throw new TypeError("maxAge must be a number");this[u]=e.maxAge||0,this[c]=e.dispose,this[l]=e.noDisposeOnSet||!1,this[f]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!=typeof e||e<0)throw new TypeError("max must be a non-negative number");this[i]=e||1/0,v(this)}get max(){return this[i]}set allowStale(e){this[s]=!!e}get allowStale(){return this[s]}set maxAge(e){if("number"!=typeof e)throw new TypeError("maxAge must be a non-negative number");this[u]=e,v(this)}get maxAge(){return this[u]}set lengthCalculator(e){"function"!=typeof e&&(e=p),e!==this[a]&&(this[a]=e,this[o]=0,this[h].forEach(e=>{e.length=this[a](e.value,e.key),this[o]+=e.length})),v(this)}get lengthCalculator(){return this[a]}get length(){return this[o]}get itemCount(){return this[h].length}rforEach(e,t){t=t||this;for(let n=this[h].tail;null!==n;){const r=n.prev;_(this,e,n,t),n=r}}forEach(e,t){t=t||this;for(let n=this[h].head;null!==n;){const r=n.next;_(this,e,n,t),n=r}}keys(){return this[h].toArray().map(e=>e.key)}values(){return this[h].toArray().map(e=>e.value)}reset(){this[c]&&this[h]&&this[h].length&&this[h].forEach(e=>this[c](e.key,e.value)),this[d]=new Map,this[h]=new r,this[o]=0}dump(){return this[h].map(e=>!y(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[h]}set(e,t,n){if((n=n||this[u])&&"number"!=typeof n)throw new TypeError("maxAge must be a number");const r=n?Date.now():0,s=this[a](t,e);if(this[d].has(e)){if(s>this[i])return b(this,this[d].get(e)),!1;const a=this[d].get(e).value;return this[c]&&(this[l]||this[c](e,a.value)),a.now=r,a.maxAge=n,a.value=t,this[o]+=s-a.length,a.length=s,this.get(e),v(this),!0}const f=new m(e,t,s,r,n);return f.length>this[i]?(this[c]&&this[c](e,t),!1):(this[o]+=f.length,this[h].unshift(f),this[d].set(e,this[h].head),v(this),!0)}has(e){if(!this[d].has(e))return!1;const t=this[d].get(e).value;return!y(this,t)}get(e){return g(this,e,!0)}peek(e){return g(this,e,!1)}pop(){const e=this[h].tail;return e?(b(this,e),e.value):null}del(e){b(this,this[d].get(e))}load(e){this.reset();const t=Date.now();for(let n=e.length-1;n>=0;n--){const r=e[n],i=r.e||0;if(0===i)this.set(r.k,r.v);else{const e=i-t;e>0&&this.set(r.k,r.v,e)}}}prune(){this[d].forEach((e,t)=>g(this,t,!1))}}},{yallist:116}],45:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r="http://www.w3.org/1999/02/22-rdf-syntax-ns#",i="http://www.w3.org/2001/XMLSchema#",o="http://www.w3.org/2000/10/swap/";n.default={xsd:{decimal:i+"decimal",boolean:i+"boolean",double:i+"double",integer:i+"integer",string:i+"string"},rdf:{type:r+"type",nil:r+"nil",first:r+"first",rest:r+"rest",langString:r+"langString"},owl:{sameAs:"http://www.w3.org/2002/07/owl#sameAs"},r:{forSome:o+"reify#forSome",forAll:o+"reify#forAll"},log:{implies:o+"log#implies"}}},{}],46:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,i=(r=e("./IRIs"))&&r.__esModule?r:{default:r};const{rdf:o,xsd:a}=i.default;var s,u,c=0;class l{constructor(e){this.id=e}get value(){return this.id}equals(e){return e instanceof l?this.id===e.id:!!e&&this.termType===e.termType&&this.value===e.value}toJSON(){return{termType:this.termType,value:this.value}}}class h extends l{get termType(){return"NamedNode"}}class d extends l{get termType(){return"Literal"}get value(){return this.id.substring(1,this.id.lastIndexOf('"'))}get language(){var e=this.id,t=e.lastIndexOf('"')+1;return t<e.length&&"@"===e[t++]?e.substr(t).toLowerCase():""}get datatype(){return new h(this.datatypeString)}get datatypeString(){var e,t=this.id,n=t.lastIndexOf('"')+1;return n<t.length&&"^"===(e=t[n])?t.substr(n+2):"@"!==e?a.string:o.langString}equals(e){return e instanceof d?this.id===e.id:!!e&&!!e.datatype&&this.termType===e.termType&&this.value===e.value&&this.language===e.language&&this.datatype.value===e.datatype.value}toJSON(){return{termType:this.termType,value:this.value,language:this.language,datatype:{termType:"NamedNode",value:this.datatypeString}}}}class f extends l{constructor(e){super("_:"+e)}get termType(){return"BlankNode"}get value(){return this.id.substr(2)}}class p extends l{constructor(e){super("?"+e)}get termType(){return"Variable"}get value(){return this.id.substr(1)}}class g extends l{constructor(){return super(""),u||this}get termType(){return"DefaultGraph"}equals(e){return this===e||!!e&&this.termType===e.termType}}u=new g;class y{constructor(e,t,n,r){this.subject=e,this.predicate=t,this.object=n,this.graph=r||u}toJSON(){return{subject:this.subject.toJSON(),predicate:this.predicate.toJSON(),object:this.object.toJSON(),graph:this.graph.toJSON()}}equals(e){return!!e&&this.subject.equals(e.subject)&&this.predicate.equals(e.predicate)&&this.object.equals(e.object)&&this.graph.equals(e.graph)}}function v(e,t,n,r){return new y(e,t,n,r)}n.default=s={namedNode:function(e){return new h(e)},blankNode:function(e){return new f(e||"n3-"+c++)},variable:function(e){return new p(e)},literal:function(e,t){if("string"==typeof t)return new d('"'+e+'"@'+t.toLowerCase());let n=t?t.value:"";return""===n&&("boolean"==typeof e?n=a.boolean:"number"==typeof e&&(Number.isFinite(e)?n=Number.isInteger(e)?a.integer:a.double:(n=a.double,Number.isNaN(e)||(e=e>0?"INF":"-INF")))),new d(""===n||n===a.string?'"'+e+'"':'"'+e+'"^^'+n)},defaultGraph:function(){return u},quad:v,triple:v,internal:{Term:l,NamedNode:h,BlankNode:f,Variable:p,Literal:d,DefaultGraph:g,Quad:y,Triple:y,fromId:function(e,t){if(t=t||s,!e)return t.defaultGraph();switch(e[0]){case"_":return t.blankNode(e.substr(2));case"?":return t.variable(e.substr(1));case'"':if(t===s)return new d(e);if('"'===e[e.length-1])return t.literal(e.substr(1,e.length-2));var n=e.lastIndexOf('"',e.length-1);return t.literal(e.substr(1,n-1),"@"===e[n+1]?e.substr(n+2):t.namedNode(e.substr(n+3)));default:return t.namedNode(e)}},toId:function(e){if("string"==typeof e)return e;if(e instanceof l)return e.id;if(!e)return u.id;switch(e.termType){case"NamedNode":return e.value;case"BlankNode":return"_:"+e.value;case"Variable":return"?"+e.value;case"DefaultGraph":return"";case"Literal":return'"'+e.value+'"'+(e.language?"@"+e.language:e.datatype&&e.datatype.value!==a.string?"^^"+e.datatype.value:"");default:throw new Error("Unexpected termType: "+e.termType)}}}}},{"./IRIs":45}],47:[function(e,t,n){(function(t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=o(e("./IRIs")),i=o(e("queue-microtask"));function o(e){return e&&e.__esModule?e:{default:e}}const{xsd:a}=r.default,{fromCharCode:s}=String;var u=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\[uU]|\\(.)/g,c={"\\":"\\","'":"'",'"':'"',n:"\n",r:"\r",t:"\t",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},l=/[\x00-\x20<>\\"\{\}\|\^\`]/,h={_iri:!0,_unescapedIri:!0,_simpleQuotedString:!0,_langcode:!0,_blank:!0,_newline:!0,_comment:!0,_whitespace:!0,_endOfFile:!0},d=/$0^/;n.default=class{constructor(e){if(this._iri=/^<((?:[^ <>{}\\]|\\[uU])+)>[ \t]*/,this._unescapedIri=/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>[ \t]*/,this._simpleQuotedString=/^"([^"\\\r\n]*)"(?=[^"])/,this._simpleApostropheString=/^'([^'\\\r\n]*)'(?=[^'])/,this._langcode=/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,this._prefix=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,this._prefixed=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?:[ \t]+|(?=\.?[,;!\^\s#()\[\]\{\}"'<]))/,this._variable=/^\?(?:(?:[A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=[.,;!\^\s#()\[\]\{\}"'<])/,this._blank=/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?:[ \t]+|(?=\.?[,;:\s#()\[\]\{\}"'<]))/,this._number=/^[\-+]?(?:(\d+\.\d*|\.?\d+)[eE][\-+]?|\d*(\.)?)\d+(?=\.?[,;:\s#()\[\]\{\}"'<])/,this._boolean=/^(?:true|false)(?=[.,;\s#()\[\]\{\}"'<])/,this._keyword=/^@[a-z]+(?=[\s#<:])/i,this._sparqlKeyword=/^(?:PREFIX|BASE|GRAPH)(?=[\s#<])/i,this._shortPredicates=/^a(?=[\s()\[\]\{\}"'<])/,this._newline=/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,this._comment=/#([^\n\r]*)/,this._whitespace=/^[ \t]+/,this._endOfFile=/^(?:#[^\n\r]*)?$/,this._lineMode=!!(e=e||{}).lineMode)for(var t in this._n3Mode=!1,this)!(t in h)&&this[t]instanceof RegExp&&(this[t]=d);else this._n3Mode=!1!==e.n3;this._comments=!!e.comments,this._literalClosingPos=0}_tokenizeToEnd(e,t){for(var n=this._input,r=this._comments;;){for(var i,o;i=this._newline.exec(n);)r&&(o=this._comment.exec(i[0]))&&e(null,{line:this._line,type:"comment",value:o[1],prefix:""}),n=n.substr(i[0].length,n.length),this._line++;if(!i&&(i=this._whitespace.exec(n))&&(n=n.substr(i[0].length,n.length)),this._endOfFile.test(n))return t&&(r&&(o=this._comment.exec(n))&&e(null,{line:this._line,type:"comment",value:o[1],prefix:""}),e(n=null,{line:this._line,type:"eof",value:"",prefix:""})),this._input=n;var s=this._line,u="",c="",h="",d=n[0],f=null,p=0,g=!1;switch(d){case"^":if(n.length<3)break;if("^"!==n[1]){this._n3Mode&&(p=1,u="^");break}if(this._previousMarker="^^","<"!==(n=n.substr(2))[0]){g=!0;break}case"<":if(f=this._unescapedIri.exec(n))u="IRI",c=f[1];else if(f=this._iri.exec(n)){if(null===(c=this._unescape(f[1]))||l.test(c))return v(this);u="IRI"}else this._n3Mode&&n.length>1&&"="===n[1]&&(u="inverse",p=2,c=">");break;case"_":((f=this._blank.exec(n))||t&&(f=this._blank.exec(n+" ")))&&(u="blank",h="_",c=f[1]);break;case'"':if(f=this._simpleQuotedString.exec(n))c=f[1];else if(({value:c,matchLength:p}=this._parseLiteral(n)),null===c)return v(this);null===f&&0===p||(u="literal",this._literalClosingPos=0);break;case"'":if(!this._lineMode){if(f=this._simpleApostropheString.exec(n))c=f[1];else if(({value:c,matchLength:p}=this._parseLiteral(n)),null===c)return v(this);null===f&&0===p||(u="literal",this._literalClosingPos=0)}break;case"?":this._n3Mode&&(f=this._variable.exec(n))&&(u="var",c=f[0]);break;case"@":"literal"===this._previousMarker&&(f=this._langcode.exec(n))?(u="langcode",c=f[1]):(f=this._keyword.exec(n))&&(u=f[0]);break;case".":if(1===n.length?t:n[1]<"0"||n[1]>"9"){u=".",p=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":(f=this._number.exec(n)||t&&(f=this._number.exec(n+" ")))&&(u="literal",c=f[0],h="string"==typeof f[1]?a.double:"string"==typeof f[2]?a.decimal:a.integer);break;case"B":case"b":case"p":case"P":case"G":case"g":(f=this._sparqlKeyword.exec(n))?u=f[0].toUpperCase():g=!0;break;case"f":case"t":(f=this._boolean.exec(n))?(u="literal",c=f[0],h=a.boolean):g=!0;break;case"a":(f=this._shortPredicates.exec(n))?(u="abbreviation",c="a"):g=!0;break;case"=":this._n3Mode&&n.length>1&&(u="abbreviation",">"!==n[1]?(p=1,c="="):(p=2,c=">"));break;case"!":if(!this._n3Mode)break;case",":case";":case"[":case"]":case"(":case")":case"{":case"}":this._lineMode||(p=1,u=d);break;default:g=!0}if(g&&("@prefix"!==this._previousMarker&&"PREFIX"!==this._previousMarker||!(f=this._prefix.exec(n))?((f=this._prefixed.exec(n))||t&&(f=this._prefixed.exec(n+" ")))&&(u="prefixed",h=f[1]||"",c=this._unescape(f[2])):(u="prefix",c=f[1]||"")),"^^"===this._previousMarker)switch(u){case"prefixed":u="type";break;case"IRI":u="typeIRI";break;default:u=""}if(!u)return t||!/^'''|^"""/.test(n)&&/\n|\r/.test(n)?v(this):this._input=n;var y={line:s,type:u,value:c,prefix:h};e(null,y),this.previousToken=y,this._previousMarker=u,n=n.substr(p||f[0].length,n.length)}function v(t){e(t._syntaxError(/^\S*/.exec(n)[0]))}}_unescape(e){try{return e.replace(u,(function(e,t,n,r){var i;if(t){if(i=parseInt(t,16),isNaN(i))throw new Error;return s(i)}if(n){if(i=parseInt(n,16),isNaN(i))throw new Error;return i<=65535?s(i):s(55296+(i-=65536)/1024,56320+(1023&i))}var o=c[r];if(!o)throw new Error;return o}))}catch(t){return null}}_parseLiteral(e){if(e.length>=3){const t=e.match(/^(?:"""|"|'''|'|)/)[0],n=t.length;let r=Math.max(this._literalClosingPos,n);for(;(r=e.indexOf(t,r))>0;){let t=0;for(;"\\"===e[r-t-1];)t++;if(t%2==0){const t=e.substring(n,r),i=t.split(/\r\n|\r|\n/).length-1,o=r+n;if(1===n&&0!==i||3===n&&this._lineMode)break;return this._line+=i,{value:this._unescape(t),matchLength:o}}r++}this._literalClosingPos=e.length-n+1}return{value:"",matchLength:0}}_syntaxError(e){this._input=null;var t=new Error('Unexpected "'+e+'" on line '+this._line+".");return t.context={token:void 0,line:this._line,previousToken:this.previousToken},t}tokenize(e,n){var r=this;if(this._line=1,"string"==typeof e){if(this._input=e,"function"!=typeof n){var o,a=[];if(this._tokenizeToEnd((function(e,t){e?o=e:a.push(t)}),!0),o)throw o;return a}(0,i.default)(()=>r._tokenizeToEnd(n,!0))}else this._input="",this._pendingBuffer=null,"function"==typeof e.setEncoding&&e.setEncoding("utf8"),e.on("data",(function(e){null!==r._input&&0!==e.length&&(r._pendingBuffer&&(e=t.concat([r._pendingBuffer,e]),r._pendingBuffer=null),128&e[e.length-1]?r._pendingBuffer=e:(r._input+=e,r._tokenizeToEnd(n,!1)))})),e.on("end",(function(){null!==r._input&&r._tokenizeToEnd(n,!0)})),e.on("error",n)}}}).call(this,e("buffer").Buffer)},{"./IRIs":45,buffer:12,"queue-microtask":63}],48:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=a(e("./N3Lexer")),i=a(e("./N3DataFactory")),o=a(e("./IRIs"));function a(e){return e&&e.__esModule?e:{default:e}}let s=0;class u{constructor(e){this._contextStack=[],this._graph=null,this._setBase((e=e||{}).baseIRI),e.factory&&l(this,e.factory);var t="string"==typeof e.format?e.format.match(/\w*$/)[0].toLowerCase():"",n="turtle"===t,i="trig"===t,o=/triple/.test(t),a=/quad/.test(t),s=this._n3Mode=/n3/.test(t),u=o||a;(this._supportsNamedGraphs=!(n||s))||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(n||i||o||s),u&&(this._resolveRelativeIRI=function(e){return null}),this._blankNodePrefix="string"!=typeof e.blankNodePrefix?"":e.blankNodePrefix.replace(/^(?!_:)/,"_:"),this._lexer=e.lexer||new r.default({lineMode:u,n3:s}),this._explicitQuantifiers=!!e.explicitQuantifiers}static _resetBlankNodePrefix(){s=0}_setBase(e){if(e){var t=e.indexOf("#");t>=0&&(e=e.substr(0,t)),this._base=e,this._basePath=e.indexOf("/")<0?e:e.replace(/[^\/?]*(?:\?.*)?$/,""),e=e.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i),this._baseRoot=e[0],this._baseScheme=e[1]}else this._base="",this._basePath=""}_saveContext(e,t,n,r,i){var o=this._n3Mode;this._contextStack.push({subject:n,predicate:r,object:i,graph:t,type:e,inverse:!!o&&this._inversePredicate,blankPrefix:o?this._prefixes._:"",quantified:o?this._quantified:null}),o&&(this._inversePredicate=!1,this._prefixes._=this._graph?this._graph.id.substr(2)+".":".",this._quantified=Object.create(this._quantified))}_restoreContext(){var e=this._contextStack.pop(),t=this._n3Mode;this._subject=e.subject,this._predicate=e.predicate,this._object=e.object,this._graph=e.graph,t&&(this._inversePredicate=e.inverse,this._prefixes._=e.blankPrefix,this._quantified=e.quantified)}_readInTopContext(e){switch(e.type){case"eof":return null!==this._graph?this._error("Unclosed graph",e):(delete this._prefixes._,this._callback(null,null,this._prefixes));case"PREFIX":this._sparqlStyle=!0;case"@prefix":return this._readPrefix;case"BASE":this._sparqlStyle=!0;case"@base":return this._readBaseIRI;case"{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(e)}}_readEntity(e,t){var n;switch(e.type){case"IRI":case"typeIRI":var r=this._resolveIRI(e.value);if(null===r)return this._error("Invalid IRI",e);n=this._namedNode(r);break;case"type":case"prefixed":var i=this._prefixes[e.prefix];if(void 0===i)return this._error('Undefined prefix "'+e.prefix+':"',e);n=this._namedNode(i+e.value);break;case"blank":n=this._blankNode(this._prefixes[e.prefix]+e.value);break;case"var":n=this._variable(e.value.substr(1));break;default:return this._error("Expected entity but got "+e.type,e)}return!t&&this._n3Mode&&n.id in this._quantified&&(n=this._quantified[n.id]),n}_readSubject(e){switch(this._predicate=null,e.type){case"[":return this._saveContext("blank",this._graph,this._subject=this._blankNode(),null,null),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this.RDF_NIL,null,null),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._graph=this._blankNode(),null,null),this._readSubject):this._error("Unexpected graph",e);case"}":return this._readPunctuation(e);case"@forSome":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORSOME,this._quantifier=this._blankNode,this._readQuantifierList):this._error('Unexpected "@forSome"',e);case"@forAll":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORALL,this._quantifier=this._variable,this._readQuantifierList):this._error('Unexpected "@forAll"',e);case"literal":if(!this._n3Mode)return this._error("Unexpected literal",e);if(0===e.prefix.length)return this._literalValue=e.value,this._completeSubjectLiteral;this._subject=this._literal(e.value,this._namedNode(e.prefix));break;default:if(void 0===(this._subject=this._readEntity(e)))return;if(this._n3Mode)return this._getPathReader(this._readPredicateOrNamedGraph)}return this._readPredicateOrNamedGraph}_readPredicate(e){var t=e.type;switch(t){case"inverse":this._inversePredicate=!0;case"abbreviation":this._predicate=this.ABBREVIATIONS[e.value];break;case".":case"]":case"}":return null===this._predicate?this._error("Unexpected "+t,e):(this._subject=null,"]"===t?this._readBlankNodeTail(e):this._readPunctuation(e));case";":return null!==this._predicate?this._readPredicate:this._error("Expected predicate but got ;",e);case"blank":if(!this._n3Mode)return this._error("Disallowed blank node as predicate",e);default:if(void 0===(this._predicate=this._readEntity(e)))return}return this._readObject}_readObject(e){switch(e.type){case"literal":if(0===e.prefix.length)return this._literalValue=e.value,this._readDataTypeOrLang;this._object=this._literal(e.value,this._namedNode(e.prefix));break;case"[":return this._saveContext("blank",this._graph,this._subject,this._predicate,this._subject=this._blankNode()),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this._subject,this._predicate,this.RDF_NIL),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",e);default:if(void 0===(this._object=this._readEntity(e)))return;if(this._n3Mode)return this._getPathReader(this._getContextEndReader())}return this._getContextEndReader()}_readPredicateOrNamedGraph(e){return"{"===e.type?this._readGraph(e):this._readPredicate(e)}_readGraph(e){return"{"!==e.type?this._error("Expected graph but got "+e.type,e):(this._graph=this._subject,this._subject=null,this._readSubject)}_readBlankNodeHead(e){return"]"===e.type?(this._subject=null,this._readBlankNodeTail(e)):(this._predicate=null,this._readPredicate(e))}_readBlankNodeTail(e){if("]"!==e.type)return this._readBlankNodePunctuation(e);null!==this._subject&&this._emit(this._subject,this._predicate,this._object,this._graph);var t=null===this._predicate;return this._restoreContext(),null===this._object?t?this._readPredicateOrNamedGraph:this._readPredicateAfterBlank:this._getContextEndReader()}_readPredicateAfterBlank(e){switch(e.type){case".":case"}":return this._subject=null,this._readPunctuation(e);default:return this._readPredicate(e)}}_readListItem(e){var t=null,n=null,r=this._subject,i=this._contextStack,o=i[i.length-1],a=this._readListItem;switch(e.type){case"[":this._saveContext("blank",this._graph,n=this._blankNode(),this.RDF_FIRST,this._subject=t=this._blankNode()),a=this._readBlankNodeHead;break;case"(":this._saveContext("list",this._graph,n=this._blankNode(),this.RDF_FIRST,this.RDF_NIL),this._subject=null;break;case")":if(this._restoreContext(),0!==i.length&&"list"===i[i.length-1].type&&this._emit(this._subject,this._predicate,this._object,this._graph),null===this._predicate){if(a=this._readPredicate,this._subject===this.RDF_NIL)return a}else if(a=this._getContextEndReader(),this._object===this.RDF_NIL)return a;n=this.RDF_NIL;break;case"literal":0===e.prefix.length?(this._literalValue=e.value,a=this._readListItemDataTypeOrLang):(t=this._literal(e.value,this._namedNode(e.prefix)),a=this._getContextEndReader());break;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",e);default:if(void 0===(t=this._readEntity(e)))return}if(null===n&&(this._subject=n=this._blankNode()),null===r?null===o.predicate?o.subject=n:o.object=n:this._emit(r,this.RDF_REST,n,this._graph),null!==t){if(this._n3Mode&&("IRI"===e.type||"prefixed"===e.type))return this._saveContext("item",this._graph,n,this.RDF_FIRST,t),this._subject=t,this._predicate=null,this._getPathReader(this._readListItem);this._emit(n,this.RDF_FIRST,t,this._graph)}return a}_readDataTypeOrLang(e){return this._completeObjectLiteral(e,!1)}_readListItemDataTypeOrLang(e){return this._completeObjectLiteral(e,!0)}_completeLiteral(e){let t=this._literal(this._literalValue);switch(e.type){case"type":case"typeIRI":var n=this._readEntity(e);if(void 0===n)return;t=this._literal(this._literalValue,n),e=null;break;case"langcode":t=this._literal(this._literalValue,e.value),e=null}return{token:e,literal:t}}_completeSubjectLiteral(e){return this._subject=this._completeLiteral(e).literal,this._readPredicateOrNamedGraph}_completeObjectLiteral(e,t){const n=this._completeLiteral(e);if(n)return this._object=n.literal,t&&this._emit(this._subject,this.RDF_FIRST,this._object,this._graph),null===n.token?this._getContextEndReader():(this._readCallback=this._getContextEndReader(),this._readCallback(n.token))}_readFormulaTail(e){return"}"!==e.type?this._readPunctuation(e):(null!==this._subject&&this._emit(this._subject,this._predicate,this._object,this._graph),this._restoreContext(),null===this._object?this._readPredicate:this._getContextEndReader())}_readPunctuation(e){var t,n=this._subject,r=this._graph,i=this._inversePredicate;switch(e.type){case"}":if(null===this._graph)return this._error("Unexpected graph closing",e);if(this._n3Mode)return this._readFormulaTail(e);this._graph=null;case".":this._subject=null,t=this._contextStack.length?this._readSubject:this._readInTopContext,i&&(this._inversePredicate=!1);break;case";":t=this._readPredicate;break;case",":t=this._readObject;break;default:if(this._supportsQuads&&null===this._graph&&void 0!==(r=this._readEntity(e))){t=this._readQuadPunctuation;break}return this._error('Expected punctuation to follow "'+this._object.id+'"',e)}if(null!==n){var o=this._predicate,a=this._object;i?this._emit(a,o,n,r):this._emit(n,o,a,r)}return t}_readBlankNodePunctuation(e){var t;switch(e.type){case";":t=this._readPredicate;break;case",":t=this._readObject;break;default:return this._error('Expected punctuation to follow "'+this._object.id+'"',e)}return this._emit(this._subject,this._predicate,this._object,this._graph),t}_readQuadPunctuation(e){return"."!==e.type?this._error("Expected dot to follow quad",e):this._readInTopContext}_readPrefix(e){return"prefix"!==e.type?this._error("Expected prefix to follow @prefix",e):(this._prefix=e.value,this._readPrefixIRI)}_readPrefixIRI(e){if("IRI"!==e.type)return this._error('Expected IRI to follow prefix "'+this._prefix+':"',e);var t=this._readEntity(e);return this._prefixes[this._prefix]=t.value,this._prefixCallback(this._prefix,t),this._readDeclarationPunctuation}_readBaseIRI(e){var t="IRI"===e.type&&this._resolveIRI(e.value);return t?(this._setBase(t),this._readDeclarationPunctuation):this._error("Expected valid IRI to follow base declaration",e)}_readNamedGraphLabel(e){switch(e.type){case"IRI":case"blank":case"prefixed":return this._readSubject(e),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",e)}}_readNamedGraphBlankLabel(e){return"]"!==e.type?this._error("Invalid graph label",e):(this._subject=this._blankNode(),this._readGraph)}_readDeclarationPunctuation(e){return this._sparqlStyle?(this._sparqlStyle=!1,this._readInTopContext(e)):"."!==e.type?this._error("Expected declaration to end with a dot",e):this._readInTopContext}_readQuantifierList(e){var t;switch(e.type){case"IRI":case"prefixed":if(void 0!==(t=this._readEntity(e,!0)))break;default:return this._error("Unexpected "+e.type,e)}return this._explicitQuantifiers?(null===this._subject?this._emit(this._graph||this.DEFAULTGRAPH,this._predicate,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH):this._emit(this._subject,this.RDF_REST,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH),this._emit(this._subject,this.RDF_FIRST,t,this.QUANTIFIERS_GRAPH)):this._quantified[t.id]=this._quantifier(this._blankNode().value),this._readQuantifierPunctuation}_readQuantifierPunctuation(e){return","===e.type?this._readQuantifierList:(this._explicitQuantifiers&&(this._emit(this._subject,this.RDF_REST,this.RDF_NIL,this.QUANTIFIERS_GRAPH),this._subject=null),this._readCallback=this._getContextEndReader(),this._readCallback(e))}_getPathReader(e){return this._afterPath=e,this._readPath}_readPath(e){switch(e.type){case"!":return this._readForwardPath;case"^":return this._readBackwardPath;default:var t=this._contextStack,n=t.length&&t[t.length-1];if(n&&"item"===n.type){var r=this._subject;this._restoreContext(),this._emit(this._subject,this.RDF_FIRST,r,this._graph)}return this._afterPath(e)}}_readForwardPath(e){var t,n,r=this._blankNode();if(void 0!==(n=this._readEntity(e)))return null===this._predicate?(t=this._subject,this._subject=r):(t=this._object,this._object=r),this._emit(t,n,r,this._graph),this._readPath}_readBackwardPath(e){var t,n,r=this._blankNode();if(void 0!==(t=this._readEntity(e)))return null===this._predicate?(n=this._subject,this._subject=r):(n=this._object,this._object=r),this._emit(r,t,n,this._graph),this._readPath}_getContextEndReader(){var e=this._contextStack;if(!e.length)return this._readPunctuation;switch(e[e.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem;case"formula":return this._readFormulaTail}}_emit(e,t,n,r){this._callback(null,this._quad(e,t,n,r||this.DEFAULTGRAPH))}_error(e,t){var n=new Error(e+" on line "+t.line+".");n.context={token:t,line:t.line,previousToken:this._lexer.previousToken},this._callback(n),this._callback=c}_resolveIRI(e){return/^[a-z][a-z0-9+.-]*:/i.test(e)?e:this._resolveRelativeIRI(e)}_resolveRelativeIRI(e){if(!e.length)return this._base;switch(e[0]){case"#":return this._base+e;case"?":return this._base.replace(/(?:\?.*)?$/,e);case"/":return("/"===e[1]?this._baseScheme:this._baseRoot)+this._removeDotSegments(e);default:return/^[^/:]*:/.test(e)?null:this._removeDotSegments(this._basePath+e)}}_removeDotSegments(e){if(!/(^|\/)\.\.?($|[/#?])/.test(e))return e;for(var t="",n=e.length,r=-1,i=-1,o=0,a="/";r<n;){switch(a){case":":if(i<0&&"/"===e[++r]&&"/"===e[++r])for(;(i=r+1)<n&&"/"!==e[i];)r=i;break;case"?":case"#":r=n;break;case"/":if("."===e[r+1])switch(a=e[1+ ++r]){case"/":t+=e.substring(o,r-1),o=r+1;break;case void 0:case"?":case"#":return t+e.substring(o,r)+e.substr(r+1);case".":if(void 0===(a=e[1+ ++r])||"/"===a||"?"===a||"#"===a){if((o=(t+=e.substring(o,r-2)).lastIndexOf("/"))>=i&&(t=t.substr(0,o)),"/"!==a)return t+"/"+e.substr(r+1);o=r+1}}}a=e[++r]}return t+e.substring(o)}parse(e,t,n){var r=this;if(this._readCallback=this._readInTopContext,this._sparqlStyle=!1,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix?this._blankNodePrefix.substr(2):"b"+s+++"_",this._prefixCallback=n||c,this._inversePredicate=!1,this._quantified=Object.create(null),!t){var i,o=[];if(this._callback=function(e,t){e?i=e:t&&o.push(t)},this._lexer.tokenize(e).every((function(e){return r._readCallback=r._readCallback(e)})),i)throw i;return o}this._callback=t,this._lexer.tokenize(e,(function(e,t){null!==e?(r._callback(e),r._callback=c):r._readCallback&&(r._readCallback=r._readCallback(t))}))}}function c(){}function l(e,t){var n=t.namedNode;e._namedNode=n,e._blankNode=t.blankNode,e._literal=t.literal,e._variable=t.variable,e._quad=t.quad,e.DEFAULTGRAPH=t.defaultGraph(),e.RDF_FIRST=n(o.default.rdf.first),e.RDF_REST=n(o.default.rdf.rest),e.RDF_NIL=n(o.default.rdf.nil),e.N3_FORALL=n(o.default.r.forAll),e.N3_FORSOME=n(o.default.r.forSome),e.ABBREVIATIONS={a:n(o.default.rdf.type),"=":n(o.default.owl.sameAs),">":n(o.default.log.implies)},e.QUANTIFIERS_GRAPH=n("urn:n3:quantifiers")}n.default=u,l(u.prototype,i.default)},{"./IRIs":45,"./N3DataFactory":46,"./N3Lexer":47}],49:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=a(e("./N3DataFactory")),i=e("stream"),o=a(e("./IRIs"));function a(e){return e&&e.__esModule?e:{default:e}}const{toId:s,fromId:u}=r.default.internal;function c(e){return"string"==typeof e||e instanceof String}n.default=class{constructor(e,t){this._size=0,this._graphs=Object.create(null),this._id=0,this._ids=Object.create(null),this._ids["><"]=0,this._entities=Object.create(null),this._blankNodeIndex=0,t||!e||e[0]||(t=e,e=null),this._factory=(t=t||{}).factory||r.default,e&&this.addQuads(e)}get size(){var e=this._size;if(null!==e)return e;e=0;var t,n,r=this._graphs;for(var i in r)for(var o in t=r[i].subjects)for(var a in n=t[o])e+=Object.keys(n[a]).length;return this._size=e}_addToIndex(e,t,n,r){var i=e[t]||(e[t]={}),o=i[n]||(i[n]={}),a=r in o;return a||(o[r]=null),!a}_removeFromIndex(e,t,n,r){var i,o=e[t],a=o[n];for(i in delete a[r],a)return;for(i in delete o[n],o)return;delete e[t]}_findInIndex(e,t,n,r,i,o,a,s,c,l){var h,d,f,p=!t+!n+!r>1?Object.keys(this._ids):this._entities;for(var g in t&&((h=e,e={})[t]=h[t]),e){var y=p[g];if(d=e[g])for(var v in n&&((h=d,d={})[n]=h[n]),d){var b=p[v];if(f=d[v])for(var m=(r?r in f?[r]:[]:Object.keys(f)),_=0;_<m.length;_++){var w={subject:null,predicate:null,object:null};w[i]=u(y,this._factory),w[o]=u(b,this._factory),w[a]=u(p[m[_]],this._factory);var x=this._factory.quad(w.subject,w.predicate,w.object,u(s,this._factory));if(l)l.push(x);else if(c(x))return!0}}}return l}_loop(e,t){for(var n in e)t(n)}_loopByKey0(e,t,n){var r,i;if(r=e[t])for(i in r)n(i)}_loopByKey1(e,t,n){var r;for(r in e)e[r][t]&&n(r)}_loopBy2Keys(e,t,n,r){var i,o,a;if((i=e[t])&&(o=i[n]))for(a in o)r(a)}_countInIndex(e,t,n,r){var i,o,a,s=0;for(var u in t&&((i=e,e={})[t]=i[t]),e)if(o=e[u])for(var c in n&&((i=o,o={})[n]=i[n]),o)(a=o[c])&&(r?r in a&&s++:s+=Object.keys(a).length);return s}_getGraphs(e){if(!c(e))return this._graphs;var t={};return t[e]=this._graphs[e],t}_uniqueEntities(e){var t=Object.create(null),n=this._entities;return function(r){r in t||(t[r]=!0,e(u(n[r])))}}addQuad(e,t,n,r){t||(r=e.graph,n=e.object,t=e.predicate,e=e.subject),e=s(e),t=s(t),n=s(n),r=s(r);var i=this._graphs[r];i||(i=this._graphs[r]={subjects:{},predicates:{},objects:{}},Object.freeze(i));var o=this._ids,a=this._entities;e=o[e]||(o[a[++this._id]=e]=this._id),t=o[t]||(o[a[++this._id]=t]=this._id),n=o[n]||(o[a[++this._id]=n]=this._id);var u=this._addToIndex(i.subjects,e,t,n);return this._addToIndex(i.predicates,t,n,e),this._addToIndex(i.objects,n,e,t),this._size=null,u}addQuads(e){for(var t=0;t<e.length;t++)this.addQuad(e[t])}import(e){var t=this;return e.on("data",(function(e){t.addQuad(e)})),e}removeQuad(e,t,n,r){t||(r=e.graph,n=e.object,t=e.predicate,e=e.subject),e=s(e),t=s(t),n=s(n),r=s(r);var i,o,a,u=this._ids,c=this._graphs;if(!((e=u[e])&&(t=u[t])&&(n=u[n])&&(i=c[r])&&(o=i.subjects[e])&&(a=o[t])&&n in a))return!1;for(e in this._removeFromIndex(i.subjects,e,t,n),this._removeFromIndex(i.predicates,t,n,e),this._removeFromIndex(i.objects,n,e,t),null!==this._size&&this._size--,i.subjects)return!0;return delete c[r],!0}removeQuads(e){for(var t=0;t<e.length;t++)this.removeQuad(e[t])}remove(e){var t=this;return e.on("data",(function(e){t.removeQuad(e)})),e}removeMatches(e,t,n,r){return this.remove(this.match(e,t,n,r))}deleteGraph(e){return this.removeMatches(null,null,null,e)}getQuads(e,t,n,r){e=e&&s(e),t=t&&s(t),n=n&&s(n),r=r&&s(r);var i,o,a,u,l=[],h=this._getGraphs(r),d=this._ids;if(c(e)&&!(o=d[e])||c(t)&&!(a=d[t])||c(n)&&!(u=d[n]))return l;for(var f in h)(i=h[f])&&(o?u?this._findInIndex(i.objects,u,o,a,"object","subject","predicate",f,null,l):this._findInIndex(i.subjects,o,a,null,"subject","predicate","object",f,null,l):a?this._findInIndex(i.predicates,a,u,null,"predicate","object","subject",f,null,l):u?this._findInIndex(i.objects,u,null,null,"object","subject","predicate",f,null,l):this._findInIndex(i.subjects,null,null,null,"subject","predicate","object",f,null,l));return l}match(e,t,n,r){var o=new i.Readable({objectMode:!0});return o._read=()=>{for(var i of this.getQuads(e,t,n,r))o.push(i);o.push(null)},o}countQuads(e,t,n,r){e=e&&s(e),t=t&&s(t),n=n&&s(n),r=r&&s(r);var i,o,a,u,l=0,h=this._getGraphs(r),d=this._ids;if(c(e)&&!(o=d[e])||c(t)&&!(a=d[t])||c(n)&&!(u=d[n]))return 0;for(var f in h)(i=h[f])&&(l+=e?n?this._countInIndex(i.objects,u,o,a):this._countInIndex(i.subjects,o,a,u):t?this._countInIndex(i.predicates,a,u,o):this._countInIndex(i.objects,u,o,a));return l}forEach(e,t,n,r,i){this.some((function(t){return e(t),!1}),t,n,r,i)}every(e,t,n,r,i){var o=!1,a=!this.some((function(t){return o=!0,!e(t)}),t,n,r,i);return o&&a}some(e,t,n,r,i){t=t&&s(t),n=n&&s(n),r=r&&s(r),i=i&&s(i);var o,a,u,l,h=this._getGraphs(i),d=this._ids;if(c(t)&&!(a=d[t])||c(n)&&!(u=d[n])||c(r)&&!(l=d[r]))return!1;for(var f in h)if(o=h[f])if(a){if(l){if(this._findInIndex(o.objects,l,a,u,"object","subject","predicate",f,e,null))return!0}else if(this._findInIndex(o.subjects,a,u,null,"subject","predicate","object",f,e,null))return!0}else if(u){if(this._findInIndex(o.predicates,u,l,null,"predicate","object","subject",f,e,null))return!0}else if(l){if(this._findInIndex(o.objects,l,null,null,"object","subject","predicate",f,e,null))return!0}else if(this._findInIndex(o.subjects,null,null,null,"subject","predicate","object",f,e,null))return!0;return!1}getSubjects(e,t,n){var r=[];return this.forSubjects((function(e){r.push(e)}),e,t,n),r}forSubjects(e,t,n,r){t=t&&s(t),n=n&&s(n),r=r&&s(r);var i,o,a,u=this._ids,l=this._getGraphs(r);if(e=this._uniqueEntities(e),!(c(t)&&!(o=u[t])||c(n)&&!(a=u[n])))for(r in l)(i=l[r])&&(o?a?this._loopBy2Keys(i.predicates,o,a,e):this._loopByKey1(i.subjects,o,e):a?this._loopByKey0(i.objects,a,e):this._loop(i.subjects,e))}getPredicates(e,t,n){var r=[];return this.forPredicates((function(e){r.push(e)}),e,t,n),r}forPredicates(e,t,n,r){t=t&&s(t),n=n&&s(n),r=r&&s(r);var i,o,a,u=this._ids,l=this._getGraphs(r);if(e=this._uniqueEntities(e),!(c(t)&&!(o=u[t])||c(n)&&!(a=u[n])))for(r in l)(i=l[r])&&(o?a?this._loopBy2Keys(i.objects,a,o,e):this._loopByKey0(i.subjects,o,e):a?this._loopByKey1(i.predicates,a,e):this._loop(i.predicates,e))}getObjects(e,t,n){var r=[];return this.forObjects((function(e){r.push(e)}),e,t,n),r}forObjects(e,t,n,r){t=t&&s(t),n=n&&s(n),r=r&&s(r);var i,o,a,u=this._ids,l=this._getGraphs(r);if(e=this._uniqueEntities(e),!(c(t)&&!(o=u[t])||c(n)&&!(a=u[n])))for(r in l)(i=l[r])&&(o?a?this._loopBy2Keys(i.subjects,o,a,e):this._loopByKey1(i.objects,o,e):a?this._loopByKey0(i.predicates,a,e):this._loop(i.objects,e))}getGraphs(e,t,n){var r=[];return this.forGraphs((function(e){r.push(e)}),e,t,n),r}forGraphs(e,t,n,r){for(var i in this._graphs)this.some((function(t){return e(t.graph),!0}),t,n,r,i)}createBlankNode(e){var t,n;if(e)for(t=e="_:"+e,n=1;this._ids[t];)t=e+n++;else do{t="_:b"+this._blankNodeIndex++}while(this._ids[t]);return this._ids[t]=++this._id,this._entities[this._id]=t,this._factory.blankNode(t.substr(2))}extractLists({remove:e=!1,ignoreErrors:t=!1}={}){var n={},r=t?()=>!0:(e,t)=>{throw new Error(`${e.value} ${t}`)},i=this.getQuads(null,o.default.rdf.rest,o.default.rdf.nil,null),a=e?[...i]:[];return i.forEach(t=>{for(var i,s,u=[],c=!1,l=t.graph,h=t.subject;h&&!c;){var d,f,p=this.getQuads(null,null,h,null),g=this.getQuads(h,null,null,null),y=null,v=null,b=null;for(d=0;d<g.length&&!c;d++)(f=g[d]).graph.equals(l)?i?c=r(h,"has non-list arcs out"):f.predicate.value===o.default.rdf.first?y?c=r(h,"has multiple rdf:first arcs"):a.push(y=f):f.predicate.value===o.default.rdf.rest?v?c=r(h,"has multiple rdf:rest arcs"):a.push(v=f):p.length?c=r(h,"can't be subject and object"):(i=f,s="subject"):c=r(h,"not confined to single graph");for(d=0;d<p.length&&!c;++d)f=p[d],i?c=r(h,"can't have coreferences"):f.predicate.value===o.default.rdf.rest?b?c=r(h,"has incoming rdf:rest arcs"):b=f:(i=f,s="object");y?u.unshift(y.object):c=r(h,"has no list head"),h=b&&b.subject}c?e=!1:i&&(n[i[s].value]=u)}),e&&this.removeQuads(a),n}}},{"./IRIs":45,"./N3DataFactory":46,stream:97}],50:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,i=(r=e("./N3Parser"))&&r.__esModule?r:{default:r},o=e("stream");n.default=class extends o.Transform{constructor(e){super({decodeStrings:!0}),this._readableState.objectMode=!0;var t,n,r=this;new i.default(e).parse({on:function(e,r){switch(e){case"data":t=r;break;case"end":n=r}}},(function(e,t){e&&r.emit("error",e)||t&&r.push(t)}),(function(e,t){r.emit("prefix",e,t)})),this._transform=function(e,n,r){t(e),r()},this._flush=function(e){n(),e()}}import(e){var t=this;return e.on("data",(function(e){t.write(e)})),e.on("end",(function(){t.end()})),e.on("error",(function(e){t.emit("error",e)})),this}}},{"./N3Parser":48,stream:97}],51:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,i=e("stream"),o=(r=e("./N3Writer"))&&r.__esModule?r:{default:r};n.default=class extends i.Transform{constructor(e){super({encoding:"utf8"}),this._writableState.objectMode=!0;var t=this,n=this._writer=new o.default({write:function(e,n,r){t.push(e),r&&r()},end:function(e){t.push(null),e&&e()}},e);this._transform=function(e,t,r){n.addQuad(e,r)},this._flush=function(e){n.end(e)}}import(e){var t=this;return e.on("data",(function(e){t.write(e)})),e.on("end",(function(){t.end()})),e.on("error",(function(e){t.emit("error",e)})),e.on("prefix",(function(e,n){t._writer.addPrefix(e,n)})),this}}},{"./N3Writer":53,stream:97}],52:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.isNamedNode=function(e){return!!e&&"NamedNode"===e.termType},n.isBlankNode=function(e){return!!e&&"BlankNode"===e.termType},n.isLiteral=function(e){return!!e&&"Literal"===e.termType},n.isVariable=function(e){return!!e&&"Variable"===e.termType},n.isDefaultGraph=o,n.inDefaultGraph=function(e){return o(e.graph)},n.prefix=function(e,t){return a({"":e},t)("")},n.prefixes=a;var r,i=(r=e("./N3DataFactory"))&&r.__esModule?r:{default:r};function o(e){return!!e&&"DefaultGraph"===e.termType}function a(e,t){var n=Object.create(null);for(var r in e)o(r,e[r]);function o(e,r){if("string"==typeof r){var i=Object.create(null);n[e]=function(e){return i[e]||(i[e]=t.namedNode(r+e))}}else if(!(e in n))throw new Error("Unknown prefix: "+e);return n[e]}return t=t||i.default,o}},{"./N3DataFactory":46}],53:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=o(e("./IRIs")),i=o(e("./N3DataFactory"));function o(e){return e&&e.__esModule?e:{default:e}}const a=i.default.defaultGraph(),{rdf:s,xsd:u}=r.default;var c=/["\\\t\n\r\b\f\u0000-\u0019\ud800-\udbff]/,l=/["\\\t\n\r\b\f\u0000-\u0019]|[\ud800-\udbff][\udc00-\udfff]/g,h={"\\":"\\\\",'"':'\\"',"\t":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};class d extends i.default.internal.Term{equals(){return!1}}function f(e){var t=h[e];return void 0===t&&(1===e.length?(t=e.charCodeAt(0).toString(16),t="\\u0000".substr(0,6-t.length)+t):(t=(1024*(e.charCodeAt(0)-55296)+e.charCodeAt(1)+9216).toString(16),t="\\U00000000".substr(0,10-t.length)+t)),t}n.default=class{constructor(e,t){if(this._prefixRegex=/$0^/,e&&"function"!=typeof e.write&&(t=e,e=null),this._lists=(t=t||{}).lists,e)this._outputStream=e,this._endStream=void 0===t.end||!!t.end;else{var n="";this._outputStream={write(e,t,r){n+=e,r&&r()},end:function(e){e&&e(null,n)}},this._endStream=!0}this._subject=null,/triple|quad/i.test(t.format)?this._writeQuad=this._writeQuadLine:(this._graph=a,this._prefixIRIs=Object.create(null),t.prefixes&&this.addPrefixes(t.prefixes))}get _inDefaultGraph(){return a.equals(this._graph)}_write(e,t){this._outputStream.write(e,"utf8",t)}_writeQuad(e,t,n,r,i){try{r.equals(this._graph)||(this._write((null===this._subject?"":this._inDefaultGraph?".\n":"\n}\n")+(a.equals(r)?"":this._encodeIriOrBlank(r)+" {\n")),this._graph=r,this._subject=null),e.equals(this._subject)?t.equals(this._predicate)?this._write(", "+this._encodeObject(n),i):this._write(";\n    "+this._encodePredicate(this._predicate=t)+" "+this._encodeObject(n),i):this._write((null===this._subject?"":".\n")+this._encodeIriOrBlank(this._subject=e)+" "+this._encodePredicate(this._predicate=t)+" "+this._encodeObject(n),i)}catch(o){i&&i(o)}}_writeQuadLine(e,t,n,r,i){delete this._prefixMatch,this._write(this.quadToString(e,t,n,r),i)}quadToString(e,t,n,r){return this._encodeIriOrBlank(e)+" "+this._encodeIriOrBlank(t)+" "+this._encodeObject(n)+(r&&r.value?" "+this._encodeIriOrBlank(r)+" .\n":" .\n")}quadsToString(e){return e.map((function(e){return this.quadToString(e.subject,e.predicate,e.object,e.graph)}),this).join("")}_encodeIriOrBlank(e){if("NamedNode"!==e.termType)return this._lists&&e.value in this._lists&&(e=this.list(this._lists[e.value])),"id"in e?e.id:"_:"+e.value;var t=e.value;c.test(t)&&(t=t.replace(l,f));var n=this._prefixRegex.exec(t);return n?n[1]?this._prefixIRIs[n[1]]+n[2]:t:"<"+t+">"}_encodeLiteral(e){var t=e.value;return c.test(t)&&(t=t.replace(l,f)),e.language?'"'+t+'"@'+e.language:e.datatype.value!==u.string?'"'+t+'"^^'+this._encodeIriOrBlank(e.datatype):'"'+t+'"'}_encodePredicate(e){return e.value===s.type?"a":this._encodeIriOrBlank(e)}_encodeObject(e){return"Literal"===e.termType?this._encodeLiteral(e):this._encodeIriOrBlank(e)}_blockedWrite(){throw new Error("Cannot write because the writer has been closed.")}addQuad(e,t,n,r,i){void 0===n?this._writeQuad(e.subject,e.predicate,e.object,e.graph,t):"function"==typeof r?this._writeQuad(e,t,n,a,r):this._writeQuad(e,t,n,r||a,i)}addQuads(e){for(var t=0;t<e.length;t++)this.addQuad(e[t])}addPrefix(e,t,n){var r={};r[e]=t,this.addPrefixes(r,n)}addPrefixes(e,t){var n=this._prefixIRIs,r=!1;for(var i in e){var o=e[i];"string"!=typeof o&&(o=o.value),r=!0,null!==this._subject&&(this._write(this._inDefaultGraph?".\n":"\n}\n"),this._subject=null,this._graph=""),n[o]=i+=":",this._write("@prefix "+i+" <"+o+">.\n")}if(r){var a="",s="";for(var u in n)a+=a?"|"+u:u,s+=(s?"|":"")+n[u];a=a.replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&"),this._prefixRegex=new RegExp("^(?:"+s+")[^/]*$|^("+a+")([a-zA-Z][\\-_a-zA-Z0-9]*)$")}this._write(r?"\n":"",t)}blank(e,t){var n,r,i=e;switch(void 0===e?i=[]:e.termType?i=[{predicate:e,object:t}]:"length"in e||(i=[e]),r=i.length){case 0:return new d("[]");case 1:if(!((n=i[0]).object instanceof d))return new d("[ "+this._encodePredicate(n.predicate)+" "+this._encodeObject(n.object)+" ]");default:for(var o="[",a=0;a<r;a++)(n=i[a]).predicate.equals(e)?o+=", "+this._encodeObject(n.object):(o+=(a?";\n  ":"\n  ")+this._encodePredicate(n.predicate)+" "+this._encodeObject(n.object),e=n.predicate);return new d(o+"\n]")}}list(e){for(var t=e&&e.length||0,n=new Array(t),r=0;r<t;r++)n[r]=this._encodeObject(e[r]);return new d("("+n.join(" ")+")")}end(e){null!==this._subject&&(this._write(this._inDefaultGraph?".\n":"\n}\n"),this._subject=null),this._write=this._blockedWrite;var t=e&&function(n,r){t=null,e(n,r)};if(this._endStream)try{return this._outputStream.end(t)}catch(n){}t&&t()}}},{"./IRIs":45,"./N3DataFactory":46}],54:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"DataFactory",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(n,"Lexer",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(n,"Parser",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(n,"Writer",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(n,"Store",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(n,"StreamParser",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(n,"StreamWriter",{enumerable:!0,get:function(){return c.default}}),n.Util=void 0;var r=h(e("./N3DataFactory")),i=h(e("./N3Lexer")),o=h(e("./N3Parser")),a=h(e("./N3Writer")),s=h(e("./N3Store")),u=h(e("./N3StreamParser")),c=h(e("./N3StreamWriter")),l=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=function(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return e}();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("./N3Util"));function h(e){return e&&e.__esModule?e:{default:e}}n.Util=l},{"./N3DataFactory":46,"./N3Lexer":47,"./N3Parser":48,"./N3Store":49,"./N3StreamParser":50,"./N3StreamWriter":51,"./N3Util":52,"./N3Writer":53}],55:[function(e,t,n){(function(e){var n={};t.exports=n;var r={};n.encode=function(e,t,n){if("string"!=typeof t)throw new TypeError('"alphabet" must be a string.');if(void 0!==n&&"number"!=typeof n)throw new TypeError('"maxline" must be a number.');var r="";if(e instanceof Uint8Array){var i=0,o=t.length,a=t.charAt(0),s=[0];for(i=0;i<e.length;++i){for(var u=0,c=e[i];u<s.length;++u)s[u]=(c+=s[u]<<8)%o,c=c/o|0;for(;c>0;)s.push(c%o),c=c/o|0}for(i=0;0===e[i]&&i<e.length-1;++i)r+=a;for(i=s.length-1;i>=0;--i)r+=t[s[i]]}else r=function(e,t){var n=0,r=t.length,i=t.charAt(0),o=[0];for(n=0;n<e.length();++n){for(var a=0,s=e.at(n);a<o.length;++a)o[a]=(s+=o[a]<<8)%r,s=s/r|0;for(;s>0;)o.push(s%r),s=s/r|0}var u="";for(n=0;0===e.at(n)&&n<e.length()-1;++n)u+=i;for(n=o.length-1;n>=0;--n)u+=t[o[n]];return u}(e,t);if(n){var l=new RegExp(".{1,"+n+"}","g");r=r.match(l).join("\r\n")}return r},n.decode=function(t,n){if("string"!=typeof t)throw new TypeError('"input" must be a string.');if("string"!=typeof n)throw new TypeError('"alphabet" must be a string.');var i=r[n];if(!i){i=r[n]=[];for(var o=0;o<n.length;++o)i[n.charCodeAt(o)]=o}t=t.replace(/\s/g,"");var a=n.length,s=n.charAt(0),u=[0];for(o=0;o<t.length;o++){var c=i[t.charCodeAt(o)];if(void 0===c)return;for(var l=0,h=c;l<u.length;++l)u[l]=255&(h+=u[l]*a),h>>=8;for(;h>0;)u.push(255&h),h>>=8}for(var d=0;t[d]===s&&d<t.length-1;++d)u.push(0);return void 0!==e?e.from(u.reverse()):new Uint8Array(u.reverse())}}).call(this,e("buffer").Buffer)},{buffer:11}],56:[function(e,t,n){t.exports={options:{usePureJavaScript:!1}}},{}],57:[function(e,t,n){var r=e("./forge");t.exports=r.md=r.md||{},r.md.algorithms=r.md.algorithms||{}},{"./forge":56}],58:[function(e,t,n){var r=e("./forge");e("./md"),e("./util");var i=t.exports=r.sha1=r.sha1||{};r.md.sha1=r.md.algorithms.sha1=i,i.create=function(){a||(o=String.fromCharCode(128),o+=r.util.fillString(String.fromCharCode(0),64),a=!0);var e=null,t=r.util.createBuffer(),n=new Array(80),i={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){i.messageLength=0,i.fullMessageLength=i.messageLength64=[];for(var n=i.messageLengthSize/4,o=0;o<n;++o)i.fullMessageLength.push(0);return t=r.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},i}};return i.start(),i.update=function(o,a){"utf8"===a&&(o=r.util.encodeUtf8(o));var u=o.length;i.messageLength+=u,u=[u/4294967296>>>0,u>>>0];for(var c=i.fullMessageLength.length-1;c>=0;--c)i.fullMessageLength[c]+=u[1],u[1]=u[0]+(i.fullMessageLength[c]/4294967296>>>0),i.fullMessageLength[c]=i.fullMessageLength[c]>>>0,u[0]=u[1]/4294967296>>>0;return t.putBytes(o),s(e,n,t),(t.read>2048||0===t.length())&&t.compact(),i},i.digest=function(){var a,u=r.util.createBuffer();u.putBytes(t.bytes()),u.putBytes(o.substr(0,i.blockLength-(i.fullMessageLength[i.fullMessageLength.length-1]+i.messageLengthSize&i.blockLength-1)));for(var c=8*i.fullMessageLength[0],l=0;l<i.fullMessageLength.length-1;++l)u.putInt32((c+=(a=8*i.fullMessageLength[l+1])/4294967296>>>0)>>>0),c=a>>>0;u.putInt32(c);var h={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4};s(h,n,u);var d=r.util.createBuffer();return d.putInt32(h.h0),d.putInt32(h.h1),d.putInt32(h.h2),d.putInt32(h.h3),d.putInt32(h.h4),d},i};var o=null,a=!1;function s(e,t,n){for(var r,i,o,a,s,u,c,l=n.length();l>=64;){for(i=e.h0,o=e.h1,a=e.h2,s=e.h3,u=e.h4,c=0;c<16;++c)r=n.getInt32(),t[c]=r,r=(i<<5|i>>>27)+(s^o&(a^s))+u+1518500249+r,u=s,s=a,a=(o<<30|o>>>2)>>>0,o=i,i=r;for(;c<20;++c)t[c]=r=(r=t[c-3]^t[c-8]^t[c-14]^t[c-16])<<1|r>>>31,r=(i<<5|i>>>27)+(s^o&(a^s))+u+1518500249+r,u=s,s=a,a=(o<<30|o>>>2)>>>0,o=i,i=r;for(;c<32;++c)t[c]=r=(r=t[c-3]^t[c-8]^t[c-14]^t[c-16])<<1|r>>>31,r=(i<<5|i>>>27)+(o^a^s)+u+1859775393+r,u=s,s=a,a=(o<<30|o>>>2)>>>0,o=i,i=r;for(;c<40;++c)t[c]=r=(r=t[c-6]^t[c-16]^t[c-28]^t[c-32])<<2|r>>>30,r=(i<<5|i>>>27)+(o^a^s)+u+1859775393+r,u=s,s=a,a=(o<<30|o>>>2)>>>0,o=i,i=r;for(;c<60;++c)t[c]=r=(r=t[c-6]^t[c-16]^t[c-28]^t[c-32])<<2|r>>>30,r=(i<<5|i>>>27)+(o&a|s&(o^a))+u+2400959708+r,u=s,s=a,a=(o<<30|o>>>2)>>>0,o=i,i=r;for(;c<80;++c)t[c]=r=(r=t[c-6]^t[c-16]^t[c-28]^t[c-32])<<2|r>>>30,r=(i<<5|i>>>27)+(o^a^s)+u+3395469782+r,u=s,s=a,a=(o<<30|o>>>2)>>>0,o=i,i=r;e.h0=e.h0+i|0,e.h1=e.h1+o|0,e.h2=e.h2+a|0,e.h3=e.h3+s|0,e.h4=e.h4+u|0,l-=64}}},{"./forge":56,"./md":57,"./util":60}],59:[function(e,t,n){var r=e("./forge");e("./md"),e("./util");var i=t.exports=r.sha256=r.sha256||{};r.md.sha256=r.md.algorithms.sha256=i,i.create=function(){a||(o=String.fromCharCode(128),o+=r.util.fillString(String.fromCharCode(0),64),s=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],a=!0);var e=null,t=r.util.createBuffer(),n=new Array(64),i={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){i.messageLength=0,i.fullMessageLength=i.messageLength64=[];for(var n=i.messageLengthSize/4,o=0;o<n;++o)i.fullMessageLength.push(0);return t=r.util.createBuffer(),e={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},i}};return i.start(),i.update=function(o,a){"utf8"===a&&(o=r.util.encodeUtf8(o));var s=o.length;i.messageLength+=s,s=[s/4294967296>>>0,s>>>0];for(var c=i.fullMessageLength.length-1;c>=0;--c)i.fullMessageLength[c]+=s[1],s[1]=s[0]+(i.fullMessageLength[c]/4294967296>>>0),i.fullMessageLength[c]=i.fullMessageLength[c]>>>0,s[0]=s[1]/4294967296>>>0;return t.putBytes(o),u(e,n,t),(t.read>2048||0===t.length())&&t.compact(),i},i.digest=function(){var a,s=r.util.createBuffer();s.putBytes(t.bytes()),s.putBytes(o.substr(0,i.blockLength-(i.fullMessageLength[i.fullMessageLength.length-1]+i.messageLengthSize&i.blockLength-1)));for(var c=8*i.fullMessageLength[0],l=0;l<i.fullMessageLength.length-1;++l)s.putInt32((c+=(a=8*i.fullMessageLength[l+1])/4294967296>>>0)>>>0),c=a>>>0;s.putInt32(c);var h={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4,h5:e.h5,h6:e.h6,h7:e.h7};u(h,n,s);var d=r.util.createBuffer();return d.putInt32(h.h0),d.putInt32(h.h1),d.putInt32(h.h2),d.putInt32(h.h3),d.putInt32(h.h4),d.putInt32(h.h5),d.putInt32(h.h6),d.putInt32(h.h7),d},i};var o=null,a=!1,s=null;function u(e,t,n){for(var r,i,o,a,u,c,l,h,d,f,p,g,y=n.length();y>=64;){for(a=0;a<16;++a)t[a]=n.getInt32();for(;a<64;++a)t[a]=(r=((r=t[a-2])>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)+t[a-7]+(i=((i=t[a-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)+t[a-16]|0;for(u=e.h0,c=e.h1,l=e.h2,h=e.h3,d=e.h4,f=e.h5,p=e.h6,g=e.h7,a=0;a<64;++a)o=u&c|l&(u^c),r=g+((d>>>6|d<<26)^(d>>>11|d<<21)^(d>>>25|d<<7))+(p^d&(f^p))+s[a]+t[a],g=p,p=f,f=d,d=h+r>>>0,h=l,l=c,c=u,u=r+(i=((u>>>2|u<<30)^(u>>>13|u<<19)^(u>>>22|u<<10))+o)>>>0;e.h0=e.h0+u|0,e.h1=e.h1+c|0,e.h2=e.h2+l|0,e.h3=e.h3+h|0,e.h4=e.h4+d|0,e.h5=e.h5+f|0,e.h6=e.h6+p|0,e.h7=e.h7+g|0,y-=64}}},{"./forge":56,"./md":57,"./util":60}],60:[function(e,t,n){(function(n,r,i,o,a,s,u,c){var l=e("./forge"),h=e("./baseN"),d=t.exports=l.util=l.util||{};function f(e){if(8!==e&&16!==e&&24!==e&&32!==e)throw new Error("Only 8, 16, 24, or 32 bits supported: "+e)}function p(e){if(this.data="",this.read=0,"string"==typeof e)this.data=e;else if(d.isArrayBuffer(e)||d.isArrayBufferView(e))if(void 0!==i&&e instanceof i)this.data=e.toString("binary");else{var t=new Uint8Array(e);try{this.data=String.fromCharCode.apply(null,t)}catch(r){for(var n=0;n<t.length;++n)this.putByte(t[n])}}else(e instanceof p||"object"==typeof e&&"string"==typeof e.data&&"number"==typeof e.read)&&(this.data=e.data,this.read=e.read);this._constructedStringLength=0}!function(){if(void 0!==n&&n.nextTick&&!n.browser)return d.nextTick=n.nextTick,void(d.setImmediate="function"==typeof c?c:d.nextTick);if("function"==typeof c)return d.setImmediate=function(){return c.apply(void 0,arguments)},void(d.nextTick=function(e){return c(e)});if(d.setImmediate=function(e){setTimeout(e,0)},"undefined"!=typeof window&&"function"==typeof window.postMessage){var e="forge.setImmediate",t=[];d.setImmediate=function(n){t.push(n),1===t.length&&window.postMessage(e,"*")},window.addEventListener("message",(function(n){if(n.source===window&&n.data===e){n.stopPropagation();var r=t.slice();t.length=0,r.forEach((function(e){e()}))}}),!0)}if("undefined"!=typeof MutationObserver){var r=Date.now(),i=!0,o=document.createElement("div");t=[],new MutationObserver((function(){var e=t.slice();t.length=0,e.forEach((function(e){e()}))})).observe(o,{attributes:!0});var a=d.setImmediate;d.setImmediate=function(e){Date.now()-r>15?(r=Date.now(),a(e)):(t.push(e),1===t.length&&o.setAttribute("a",i=!i))}}d.nextTick=d.setImmediate}(),d.isNodejs=void 0!==n&&n.versions&&n.versions.node,d.globalScope=d.isNodejs?r:"undefined"==typeof self?window:self,d.isArray=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},d.isArrayBuffer=function(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer},d.isArrayBufferView=function(e){return e&&d.isArrayBuffer(e.buffer)&&void 0!==e.byteLength},d.ByteBuffer=p,d.ByteStringBuffer=p,d.ByteStringBuffer.prototype._optimizeConstructedString=function(e){this._constructedStringLength+=e,this._constructedStringLength>4096&&(this.data.substr(0,1),this._constructedStringLength=0)},d.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read},d.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0},d.ByteStringBuffer.prototype.putByte=function(e){return this.putBytes(String.fromCharCode(e))},d.ByteStringBuffer.prototype.fillWithByte=function(e,t){e=String.fromCharCode(e);for(var n=this.data;t>0;)1&t&&(n+=e),(t>>>=1)>0&&(e+=e);return this.data=n,this._optimizeConstructedString(t),this},d.ByteStringBuffer.prototype.putBytes=function(e){return this.data+=e,this._optimizeConstructedString(e.length),this},d.ByteStringBuffer.prototype.putString=function(e){return this.putBytes(d.encodeUtf8(e))},d.ByteStringBuffer.prototype.putInt16=function(e){return this.putBytes(String.fromCharCode(e>>8&255)+String.fromCharCode(255&e))},d.ByteStringBuffer.prototype.putInt24=function(e){return this.putBytes(String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e))},d.ByteStringBuffer.prototype.putInt32=function(e){return this.putBytes(String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e))},d.ByteStringBuffer.prototype.putInt16Le=function(e){return this.putBytes(String.fromCharCode(255&e)+String.fromCharCode(e>>8&255))},d.ByteStringBuffer.prototype.putInt24Le=function(e){return this.putBytes(String.fromCharCode(255&e)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255))},d.ByteStringBuffer.prototype.putInt32Le=function(e){return this.putBytes(String.fromCharCode(255&e)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>24&255))},d.ByteStringBuffer.prototype.putInt=function(e,t){f(t);var n="";do{t-=8,n+=String.fromCharCode(e>>t&255)}while(t>0);return this.putBytes(n)},d.ByteStringBuffer.prototype.putSignedInt=function(e,t){return e<0&&(e+=2<<t-1),this.putInt(e,t)},d.ByteStringBuffer.prototype.putBuffer=function(e){return this.putBytes(e.getBytes())},d.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)},d.ByteStringBuffer.prototype.getInt16=function(){var e=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,e},d.ByteStringBuffer.prototype.getInt24=function(){var e=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,e},d.ByteStringBuffer.prototype.getInt32=function(){var e=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,e},d.ByteStringBuffer.prototype.getInt16Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,e},d.ByteStringBuffer.prototype.getInt24Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,e},d.ByteStringBuffer.prototype.getInt32Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,e},d.ByteStringBuffer.prototype.getInt=function(e){f(e);var t=0;do{t=(t<<8)+this.data.charCodeAt(this.read++),e-=8}while(e>0);return t},d.ByteStringBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),n=2<<e-2;return t>=n&&(t-=n<<1),t},d.ByteStringBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):0===e?t="":(t=0===this.read?this.data:this.data.slice(this.read),this.clear()),t},d.ByteStringBuffer.prototype.bytes=function(e){return void 0===e?this.data.slice(this.read):this.data.slice(this.read,this.read+e)},d.ByteStringBuffer.prototype.at=function(e){return this.data.charCodeAt(this.read+e)},d.ByteStringBuffer.prototype.setAt=function(e,t){return this.data=this.data.substr(0,this.read+e)+String.fromCharCode(t)+this.data.substr(this.read+e+1),this},d.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)},d.ByteStringBuffer.prototype.copy=function(){var e=d.createBuffer(this.data);return e.read=this.read,e},d.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this},d.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this},d.ByteStringBuffer.prototype.truncate=function(e){var t=Math.max(0,this.length()-e);return this.data=this.data.substr(this.read,t),this.read=0,this},d.ByteStringBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.length;++t){var n=this.data.charCodeAt(t);n<16&&(e+="0"),e+=n.toString(16)}return e},d.ByteStringBuffer.prototype.toString=function(){return d.decodeUtf8(this.bytes())},d.DataBuffer=function(e,t){this.read=(t=t||{}).readOffset||0,this.growSize=t.growSize||1024;var n=d.isArrayBuffer(e),r=d.isArrayBufferView(e);if(n||r)return this.data=n?new DataView(e):new DataView(e.buffer,e.byteOffset,e.byteLength),void(this.write="writeOffset"in t?t.writeOffset:this.data.byteLength);this.data=new DataView(new ArrayBuffer(0)),this.write=0,null!=e&&this.putBytes(e),"writeOffset"in t&&(this.write=t.writeOffset)},d.DataBuffer.prototype.length=function(){return this.write-this.read},d.DataBuffer.prototype.isEmpty=function(){return this.length()<=0},d.DataBuffer.prototype.accommodate=function(e,t){if(this.length()>=e)return this;t=Math.max(t||this.growSize,e);var n=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),r=new Uint8Array(this.length()+t);return r.set(n),this.data=new DataView(r.buffer),this},d.DataBuffer.prototype.putByte=function(e){return this.accommodate(1),this.data.setUint8(this.write++,e),this},d.DataBuffer.prototype.fillWithByte=function(e,t){this.accommodate(t);for(var n=0;n<t;++n)this.data.setUint8(e);return this},d.DataBuffer.prototype.putBytes=function(e,t){if(d.isArrayBufferView(e)){var n=(r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)).byteLength-r.byteOffset;return this.accommodate(n),new Uint8Array(this.data.buffer,this.write).set(r),this.write+=n,this}if(d.isArrayBuffer(e)){var r=new Uint8Array(e);return this.accommodate(r.byteLength),new Uint8Array(this.data.buffer).set(r,this.write),this.write+=r.byteLength,this}if(e instanceof d.DataBuffer||"object"==typeof e&&"number"==typeof e.read&&"number"==typeof e.write&&d.isArrayBufferView(e.data))return r=new Uint8Array(e.data.byteLength,e.read,e.length()),this.accommodate(r.byteLength),new Uint8Array(e.data.byteLength,this.write).set(r),this.write+=r.byteLength,this;if(e instanceof d.ByteStringBuffer&&(e=e.data,t="binary"),t=t||"binary","string"==typeof e){var i;if("hex"===t)return this.accommodate(Math.ceil(e.length/2)),i=new Uint8Array(this.data.buffer,this.write),this.write+=d.binary.hex.decode(e,i,this.write),this;if("base64"===t)return this.accommodate(3*Math.ceil(e.length/4)),i=new Uint8Array(this.data.buffer,this.write),this.write+=d.binary.base64.decode(e,i,this.write),this;if("utf8"===t&&(e=d.encodeUtf8(e),t="binary"),"binary"===t||"raw"===t)return this.accommodate(e.length),i=new Uint8Array(this.data.buffer,this.write),this.write+=d.binary.raw.decode(i),this;if("utf16"===t)return this.accommodate(2*e.length),i=new Uint16Array(this.data.buffer,this.write),this.write+=d.text.utf16.encode(i),this;throw new Error("Invalid encoding: "+t)}throw Error("Invalid parameter: "+e)},d.DataBuffer.prototype.putBuffer=function(e){return this.putBytes(e),e.clear(),this},d.DataBuffer.prototype.putString=function(e){return this.putBytes(e,"utf16")},d.DataBuffer.prototype.putInt16=function(e){return this.accommodate(2),this.data.setInt16(this.write,e),this.write+=2,this},d.DataBuffer.prototype.putInt24=function(e){return this.accommodate(3),this.data.setInt16(this.write,e>>8&65535),this.data.setInt8(this.write,e>>16&255),this.write+=3,this},d.DataBuffer.prototype.putInt32=function(e){return this.accommodate(4),this.data.setInt32(this.write,e),this.write+=4,this},d.DataBuffer.prototype.putInt16Le=function(e){return this.accommodate(2),this.data.setInt16(this.write,e,!0),this.write+=2,this},d.DataBuffer.prototype.putInt24Le=function(e){return this.accommodate(3),this.data.setInt8(this.write,e>>16&255),this.data.setInt16(this.write,e>>8&65535,!0),this.write+=3,this},d.DataBuffer.prototype.putInt32Le=function(e){return this.accommodate(4),this.data.setInt32(this.write,e,!0),this.write+=4,this},d.DataBuffer.prototype.putInt=function(e,t){f(t),this.accommodate(t/8);do{t-=8,this.data.setInt8(this.write++,e>>t&255)}while(t>0);return this},d.DataBuffer.prototype.putSignedInt=function(e,t){return f(t),this.accommodate(t/8),e<0&&(e+=2<<t-1),this.putInt(e,t)},d.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)},d.DataBuffer.prototype.getInt16=function(){var e=this.data.getInt16(this.read);return this.read+=2,e},d.DataBuffer.prototype.getInt24=function(){var e=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,e},d.DataBuffer.prototype.getInt32=function(){var e=this.data.getInt32(this.read);return this.read+=4,e},d.DataBuffer.prototype.getInt16Le=function(){var e=this.data.getInt16(this.read,!0);return this.read+=2,e},d.DataBuffer.prototype.getInt24Le=function(){var e=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,e},d.DataBuffer.prototype.getInt32Le=function(){var e=this.data.getInt32(this.read,!0);return this.read+=4,e},d.DataBuffer.prototype.getInt=function(e){f(e);var t=0;do{t=(t<<8)+this.data.getInt8(this.read++),e-=8}while(e>0);return t},d.DataBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),n=2<<e-2;return t>=n&&(t-=n<<1),t},d.DataBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):0===e?t="":(t=0===this.read?this.data:this.data.slice(this.read),this.clear()),t},d.DataBuffer.prototype.bytes=function(e){return void 0===e?this.data.slice(this.read):this.data.slice(this.read,this.read+e)},d.DataBuffer.prototype.at=function(e){return this.data.getUint8(this.read+e)},d.DataBuffer.prototype.setAt=function(e,t){return this.data.setUint8(e,t),this},d.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)},d.DataBuffer.prototype.copy=function(){return new d.DataBuffer(this)},d.DataBuffer.prototype.compact=function(){if(this.read>0){var e=new Uint8Array(this.data.buffer,this.read),t=new Uint8Array(e.byteLength);t.set(e),this.data=new DataView(t),this.write-=this.read,this.read=0}return this},d.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this},d.DataBuffer.prototype.truncate=function(e){return this.write=Math.max(0,this.length()-e),this.read=Math.min(this.read,this.write),this},d.DataBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.byteLength;++t){var n=this.data.getUint8(t);n<16&&(e+="0"),e+=n.toString(16)}return e},d.DataBuffer.prototype.toString=function(e){var t=new Uint8Array(this.data,this.read,this.length());if("binary"===(e=e||"utf8")||"raw"===e)return d.binary.raw.encode(t);if("hex"===e)return d.binary.hex.encode(t);if("base64"===e)return d.binary.base64.encode(t);if("utf8"===e)return d.text.utf8.decode(t);if("utf16"===e)return d.text.utf16.decode(t);throw new Error("Invalid encoding: "+e)},d.createBuffer=function(e,t){return t=t||"raw",void 0!==e&&"utf8"===t&&(e=d.encodeUtf8(e)),new d.ByteBuffer(e)},d.fillString=function(e,t){for(var n="";t>0;)1&t&&(n+=e),(t>>>=1)>0&&(e+=e);return n},d.xorBytes=function(e,t,n){for(var r="",i="",o="",a=0,s=0;n>0;--n,++a)i=e.charCodeAt(a)^t.charCodeAt(a),s>=10&&(r+=o,o="",s=0),o+=String.fromCharCode(i),++s;return r+o},d.hexToBytes=function(e){var t="",n=0;for(!0&e.length&&(n=1,t+=String.fromCharCode(parseInt(e[0],16)));n<e.length;n+=2)t+=String.fromCharCode(parseInt(e.substr(n,2),16));return t},d.bytesToHex=function(e){return d.createBuffer(e).toHex()},d.int32ToBytes=function(e){return String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e)};var g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",y=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],v="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";d.encode64=function(e,t){for(var n,r,i,o="",a="",s=0;s<e.length;)n=e.charCodeAt(s++),r=e.charCodeAt(s++),i=e.charCodeAt(s++),o+=g.charAt(n>>2),o+=g.charAt((3&n)<<4|r>>4),isNaN(r)?o+="==":(o+=g.charAt((15&r)<<2|i>>6),o+=isNaN(i)?"=":g.charAt(63&i)),t&&o.length>t&&(a+=o.substr(0,t)+"\r\n",o=o.substr(t));return a+o},d.decode64=function(e){e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var t,n,r,i,o="",a=0;a<e.length;)t=y[e.charCodeAt(a++)-43],n=y[e.charCodeAt(a++)-43],r=y[e.charCodeAt(a++)-43],i=y[e.charCodeAt(a++)-43],o+=String.fromCharCode(t<<2|n>>4),64!==r&&(o+=String.fromCharCode((15&n)<<4|r>>2),64!==i&&(o+=String.fromCharCode((3&r)<<6|i)));return o},d.encodeUtf8=function(e){return unescape(encodeURIComponent(e))},d.decodeUtf8=function(e){return decodeURIComponent(escape(e))},d.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:h.encode,decode:h.decode}},d.binary.raw.encode=function(e){return String.fromCharCode.apply(null,e)},d.binary.raw.decode=function(e,t,n){var r=t;r||(r=new Uint8Array(e.length));for(var i=n=n||0,o=0;o<e.length;++o)r[i++]=e.charCodeAt(o);return t?i-n:r},d.binary.hex.encode=d.bytesToHex,d.binary.hex.decode=function(e,t,n){var r=t;r||(r=new Uint8Array(Math.ceil(e.length/2)));var i=0,o=n=n||0;for(1&e.length&&(i=1,r[o++]=parseInt(e[0],16));i<e.length;i+=2)r[o++]=parseInt(e.substr(i,2),16);return t?o-n:r},d.binary.base64.encode=function(e,t){for(var n,r,i,o="",a="",s=0;s<e.byteLength;)n=e[s++],r=e[s++],i=e[s++],o+=g.charAt(n>>2),o+=g.charAt((3&n)<<4|r>>4),isNaN(r)?o+="==":(o+=g.charAt((15&r)<<2|i>>6),o+=isNaN(i)?"=":g.charAt(63&i)),t&&o.length>t&&(a+=o.substr(0,t)+"\r\n",o=o.substr(t));return a+o},d.binary.base64.decode=function(e,t,n){var r,i,o,a,s=t;s||(s=new Uint8Array(3*Math.ceil(e.length/4))),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var u=0,c=n=n||0;u<e.length;)r=y[e.charCodeAt(u++)-43],i=y[e.charCodeAt(u++)-43],o=y[e.charCodeAt(u++)-43],a=y[e.charCodeAt(u++)-43],s[c++]=r<<2|i>>4,64!==o&&(s[c++]=(15&i)<<4|o>>2,64!==a&&(s[c++]=(3&o)<<6|a));return t?c-n:s.subarray(0,c)},d.binary.base58.encode=function(e,t){return d.binary.baseN.encode(e,v,t)},d.binary.base58.decode=function(e,t){return d.binary.baseN.decode(e,v,t)},d.text={utf8:{},utf16:{}},d.text.utf8.encode=function(e,t,n){e=d.encodeUtf8(e);var r=t;r||(r=new Uint8Array(e.length));for(var i=n=n||0,o=0;o<e.length;++o)r[i++]=e.charCodeAt(o);return t?i-n:r},d.text.utf8.decode=function(e){return d.decodeUtf8(String.fromCharCode.apply(null,e))},d.text.utf16.encode=function(e,t,n){var r=t;r||(r=new Uint8Array(2*e.length));for(var i=new Uint16Array(r.buffer),o=n=n||0,a=n,s=0;s<e.length;++s)i[a++]=e.charCodeAt(s),o+=2;return t?o-n:r},d.text.utf16.decode=function(e){return String.fromCharCode.apply(null,new Uint16Array(e.buffer))},d.deflate=function(e,t,n){if(t=d.decode64(e.deflate(d.encode64(t)).rval),n){var r=2;32&t.charCodeAt(1)&&(r=6),t=t.substring(r,t.length-4)}return t},d.inflate=function(e,t,n){var r=e.inflate(d.encode64(t)).rval;return null===r?null:d.decode64(r)};var b=function(e,t,n){if(!e)throw new Error("WebStorage not available.");var r;if(null===n?r=e.removeItem(t):(n=d.encode64(JSON.stringify(n)),r=e.setItem(t,n)),void 0!==r&&!0!==r.rval){var i=new Error(r.error.message);throw i.id=r.error.id,i.name=r.error.name,i}},m=function(e,t){if(!e)throw new Error("WebStorage not available.");var n=e.getItem(t);if(e.init)if(null===n.rval){if(n.error){var r=new Error(n.error.message);throw r.id=n.error.id,r.name=n.error.name,r}n=null}else n=n.rval;return null!==n&&(n=JSON.parse(d.decode64(n))),n},_=function(e,t,n,r){var i=m(e,t);null===i&&(i={}),i[n]=r,b(e,t,i)},w=function(e,t,n){var r=m(e,t);return null!==r&&(r=n in r?r[n]:null),r},x=function(e,t,n){var r=m(e,t);if(null!==r&&n in r){delete r[n];var i=!0;for(var o in r){i=!1;break}i&&(r=null),b(e,t,r)}},S=function(e,t){b(e,t,null)},E=function(e,t,n){var r,i=null;void 0===n&&(n=["web","flash"]);var o=!1,a=null;for(var s in n){r=n[s];try{if("flash"===r||"both"===r){if(null===t[0])throw new Error("Flash local storage not available.");i=e.apply(this,t),o="flash"===r}"web"!==r&&"both"!==r||(t[0]=localStorage,i=e.apply(this,t),o=!0)}catch(u){a=u}if(o)break}if(!o)throw a;return i};d.setItem=function(e,t,n,r,i){E(_,arguments,i)},d.getItem=function(e,t,n,r){return E(w,arguments,r)},d.removeItem=function(e,t,n,r){E(x,arguments,r)},d.clearItems=function(e,t,n){E(S,arguments,n)},d.parseUrl=function(e){var t=/^(https?):\/\/([^:&^\/]*):?(\d*)(.*)$/g;t.lastIndex=0;var n=t.exec(e),r=null===n?null:{full:e,scheme:n[1],host:n[2],port:n[3],path:n[4]};return r&&(r.fullHost=r.host,r.port?(80!==r.port&&"http"===r.scheme||443!==r.port&&"https"===r.scheme)&&(r.fullHost+=":"+r.port):"http"===r.scheme?r.port=80:"https"===r.scheme&&(r.port=443),r.full=r.scheme+"://"+r.fullHost),r};var T=null;d.getQueryVariables=function(e){var t,n=function(e){for(var t={},n=e.split("&"),r=0;r<n.length;r++){var i,o,a=n[r].indexOf("=");a>0?(i=n[r].substring(0,a),o=n[r].substring(a+1)):(i=n[r],o=null),i in t||(t[i]=[]),i in Object.prototype||null===o||t[i].push(unescape(o))}return t};return void 0===e?(null===T&&(T="undefined"!=typeof window&&window.location&&window.location.search?n(window.location.search.substring(1)):{}),t=T):t=n(e),t},d.parseFragment=function(e){var t=e,n="",r=e.indexOf("?");r>0&&(t=e.substring(0,r),n=e.substring(r+1));var i=t.split("/");return i.length>0&&""===i[0]&&i.shift(),{pathString:t,queryString:n,path:i,query:""===n?{}:d.getQueryVariables(n)}},d.makeRequest=function(e){var t=d.parseFragment(e),n={path:t.pathString,query:t.queryString,getPath:function(e){return void 0===e?t.path:t.path[e]},getQuery:function(e,n){var r;return void 0===e?r=t.query:(r=t.query[e])&&void 0!==n&&(r=r[n]),r},getQueryLast:function(e,t){var r=n.getQuery(e);return r?r[r.length-1]:t}};return n},d.makeLink=function(e,t,n){e=jQuery.isArray(e)?e.join("/"):e;var r=jQuery.param(t||{});return e+(r.length>0?"?"+r:"")+((n=n||"").length>0?"#"+n:"")},d.setPath=function(e,t,n){if("object"==typeof e&&null!==e)for(var r=0,i=t.length;r<i;){var o=t[r++];if(r==i)e[o]=n;else{var a=o in e;(!a||a&&"object"!=typeof e[o]||a&&null===e[o])&&(e[o]={}),e=e[o]}}},d.getPath=function(e,t,n){for(var r=0,i=t.length,o=!0;o&&r<i&&"object"==typeof e&&null!==e;){var a=t[r++];(o=a in e)&&(e=e[a])}return o?e:n},d.deletePath=function(e,t){if("object"==typeof e&&null!==e)for(var n=0,r=t.length;n<r;){var i=t[n++];if(n==r)delete e[i];else{if(!(i in e)||"object"!=typeof e[i]||null===e[i])break;e=e[i]}}},d.isEmpty=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},d.format=function(e){for(var t,n,r=/%./g,i=0,o=[],a=0;t=r.exec(e);){(n=e.substring(a,r.lastIndex-2)).length>0&&o.push(n),a=r.lastIndex;var s=t[0][1];switch(s){case"s":case"o":o.push(i<arguments.length?arguments[1+i++]:"<?>");break;case"%":o.push("%");break;default:o.push("<%"+s+"?>")}}return o.push(e.substring(a)),o.join("")},d.formatNumber=function(e,t,n,r){var i=e,o=isNaN(t=Math.abs(t))?2:t,a=void 0===n?",":n,s=void 0===r?".":r,u=i<0?"-":"",c=parseInt(i=Math.abs(+i||0).toFixed(o),10)+"",l=c.length>3?c.length%3:0;return u+(l?c.substr(0,l)+s:"")+c.substr(l).replace(/(\d{3})(?=\d)/g,"$1"+s)+(o?a+Math.abs(i-c).toFixed(o).slice(2):"")},d.formatSize=function(e){return e>=1073741824?d.formatNumber(e/1073741824,2,".","")+" GiB":e>=1048576?d.formatNumber(e/1048576,2,".","")+" MiB":e>=1024?d.formatNumber(e/1024,0)+" KiB":d.formatNumber(e,0)+" bytes"},d.bytesFromIP=function(e){return-1!==e.indexOf(".")?d.bytesFromIPv4(e):-1!==e.indexOf(":")?d.bytesFromIPv6(e):null},d.bytesFromIPv4=function(e){if(4!==(e=e.split(".")).length)return null;for(var t=d.createBuffer(),n=0;n<e.length;++n){var r=parseInt(e[n],10);if(isNaN(r))return null;t.putByte(r)}return t.getBytes()},d.bytesFromIPv6=function(e){for(var t=0,n=2*(8-(e=e.split(":").filter((function(e){return 0===e.length&&++t,!0}))).length+t),r=d.createBuffer(),i=0;i<8;++i)if(e[i]&&0!==e[i].length){var o=d.hexToBytes(e[i]);o.length<2&&r.putByte(0),r.putBytes(o)}else r.fillWithByte(0,n),n=0;return r.getBytes()},d.bytesToIP=function(e){return 4===e.length?d.bytesToIPv4(e):16===e.length?d.bytesToIPv6(e):null},d.bytesToIPv4=function(e){if(4!==e.length)return null;for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t.join(".")},d.bytesToIPv6=function(e){if(16!==e.length)return null;for(var t=[],n=[],r=0,i=0;i<e.length;i+=2){for(var o=d.bytesToHex(e[i]+e[i+1]);"0"===o[0]&&"0"!==o;)o=o.substr(1);if("0"===o){var a=n[n.length-1],s=t.length;a&&s===a.end+1?(a.end=s,a.end-a.start>n[r].end-n[r].start&&(r=n.length-1)):n.push({start:s,end:s})}t.push(o)}if(n.length>0){var u=n[r];u.end-u.start>0&&(t.splice(u.start,u.end-u.start+1,""),0===u.start&&t.unshift(""),7===u.end&&t.push(""))}return t.join(":")},d.estimateCores=function(e,t){if("function"==typeof e&&(t=e,e={}),e=e||{},"cores"in d&&!e.update)return t(null,d.cores);if("undefined"!=typeof navigator&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return d.cores=navigator.hardwareConcurrency,t(null,d.cores);if("undefined"==typeof Worker)return d.cores=1,t(null,d.cores);if("undefined"==typeof Blob)return d.cores=2,t(null,d.cores);var n=URL.createObjectURL(new Blob(["(",(function(){self.addEventListener("message",(function(e){for(var t=Date.now(),n=t+4;Date.now()<n;);self.postMessage({st:t,et:n})}))}).toString(),")()"],{type:"application/javascript"}));!function e(r,i,o){if(0===i){var a=Math.floor(r.reduce((function(e,t){return e+t}),0)/r.length);return d.cores=Math.max(1,a),URL.revokeObjectURL(n),t(null,d.cores)}!function(e,t){for(var r=[],i=[],o=0;o<e;++o){var a=new Worker(n);a.addEventListener("message",(function(n){if(i.push(n.data),i.length===e){for(var o=0;o<e;++o)r[o].terminate();t(0,i)}})),r.push(a)}for(o=0;o<e;++o)r[o].postMessage(o)}(o,(function(t,n){r.push(function(e,t){for(var n=[],r=0;r<e;++r)for(var i=t[r],o=n[r]=[],a=0;a<e;++a)if(r!==a){var s=t[a];(i.st>s.st&&i.st<s.et||s.st>i.st&&s.st<i.et)&&o.push(a)}return n.reduce((function(e,t){return Math.max(e,t.length)}),0)}(o,n)),e(r,i-1,o)}))}([],5,16)}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],e("timers").setImmediate)},{"./baseN":55,"./forge":56,_process:62,buffer:11,timers:14}],61:[function(e,t,n){(function(e){"use strict";t.exports=void 0===e||!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?{nextTick:function(t,n,r,i){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var o,a,s=arguments.length;switch(s){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick((function(){t.call(null,n)}));case 3:return e.nextTick((function(){t.call(null,n,r)}));case 4:return e.nextTick((function(){t.call(null,n,r,i)}));default:for(o=new Array(s-1),a=0;a<o.length;)o[a++]=arguments[a];return e.nextTick((function(){t.apply(null,o)}))}}}:e}).call(this,e("_process"))},{_process:62}],62:[function(e,t,n){var r,i,o=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function u(e){if(r===setTimeout)return setTimeout(e,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:a}catch(e){r=a}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(e){i=s}}();var c,l=[],h=!1,d=-1;function f(){h&&c&&(h=!1,c.length?l=c.concat(l):d=-1,l.length&&p())}function p(){if(!h){var e=u(f);h=!0;for(var t=l.length;t;){for(c=l,l=[];++d<t;)c&&c[d].run();d=-1,t=l.length}c=null,h=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function g(e,t){this.fun=e,this.array=t}function y(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new g(e,t)),1!==l.length||h||u(p)},g.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=y,o.addListener=y,o.once=y,o.off=y,o.removeListener=y,o.removeAllListeners=y,o.emit=y,o.prependListener=y,o.prependOnceListener=y,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],63:[function(e,t,n){let r;t.exports="function"==typeof queueMicrotask?queueMicrotask:e=>(r||(r=Promise.resolve())).then(e).catch(e=>setTimeout(()=>{throw e},0))},{}],64:[function(e,t,n){"use strict";const r=e("./util");t.exports=class{constructor({maxCallStackDepth:e=500,maxTotalCallStackDepth:t=4294967295,timeSlice:n=10}={}){this.schedule={},this.schedule.MAX_DEPTH=e,this.schedule.MAX_TOTAL_DEPTH=t,this.schedule.depth=0,this.schedule.totalDepth=0,this.schedule.timeSlice=n}doWork(e,t){const n=this.schedule;if(n.totalDepth>=n.MAX_TOTAL_DEPTH)return t(new Error("Maximum total call stack depth exceeded; canonicalization aborting."));!function i(){if(n.depth===n.MAX_DEPTH)return n.depth=0,n.running=!1,r.nextTick(i);const o=Date.now();if(n.running||(n.start=Date.now(),n.deadline=n.start+n.timeSlice),o<n.deadline)return n.running=!0,n.depth++,n.totalDepth++,e((e,r)=>{n.depth--,n.totalDepth--,t(e,r)});n.depth=0,n.running=!1,r.setImmediate(i)}()}forEach(e,t,n){const r=this;let i,o,a=0;if(Array.isArray(e))o=e.length,i=()=>a!==o&&(i.value=e[a++],i.key=a,!0);else{const t=Object.keys(e);o=t.length,i=()=>a!==o&&(i.key=t[a++],i.value=e[i.key],!0)}!function e(o){return o?n(o):i()?r.doWork(()=>t(i.value,i.key,e)):void n()}()}waterfall(e,t){const n=this;n.forEach(e,(e,t,r)=>n.doWork(e,r),t)}whilst(e,t,n){const r=this;!function i(o){return o?n(o):e()?void r.doWork(t,i):n()}()}}},{"./util":74}],65:[function(e,t,n){"use strict";const r=e("./util");t.exports=class e{constructor(e){this.prefix=e,this.counter=0,this.existing={}}clone(){const t=new e(this.prefix);return t.counter=this.counter,t.existing=r.clone(this.existing),t}getId(e){if(e&&e in this.existing)return this.existing[e];const t=this.prefix+this.counter;return this.counter+=1,e&&(this.existing[e]=t),t}hasId(e){return e in this.existing}}},{"./util":74}],66:[function(e,t,n){"use strict";const r=e("node-forge/lib/forge");e("node-forge/lib/md"),e("node-forge/lib/sha1"),e("node-forge/lib/sha256"),t.exports=class{constructor(e){this.md=r.md[e].create()}update(e){this.md.update(e,"utf8")}digest(){return this.md.digest().toHex()}}},{"node-forge/lib/forge":56,"node-forge/lib/md":57,"node-forge/lib/sha1":58,"node-forge/lib/sha256":59}],67:[function(e,t,n){"use strict";const r="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString",i="http://www.w3.org/2001/XMLSchema#string",o={};function a(e,t){for(const n in e)if(e[n].termType!==t[n].termType||e[n].value!==t[n].value)return!1;return"Literal"!==e.object.termType||e.object.datatype.termType===t.object.datatype.termType&&e.object.datatype.value===t.object.datatype.value&&e.object.language===t.object.language}o.eoln=/(?:\r\n)|(?:\n)|(?:\r)/g,o.empty=new RegExp("^[ \\t]*$"),o.quad=new RegExp('^[ \\t]*(?:(?:<([^:]+:[^>]*)>)|(_:(?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd_0-9])(?:(?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd_0-9-\xb7\u0300-\u036f\u203f-\u2040.])*(?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd_0-9-\xb7\u0300-\u036f\u203f-\u2040]))?))[ \\t]+(?:<([^:]+:[^>]*)>)[ \\t]+(?:(?:<([^:]+:[^>]*)>)|(_:(?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd_0-9])(?:(?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd_0-9-\xb7\u0300-\u036f\u203f-\u2040.])*(?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd_0-9-\xb7\u0300-\u036f\u203f-\u2040]))?)|(?:"([^"\\\\]*(?:\\\\.[^"\\\\]*)*)"(?:(?:\\^\\^(?:<([^:]+:[^>]*)>))|(?:@([a-zA-Z]+(?:-[a-zA-Z0-9]+)*)))?))[ \\t]*(?:\\.|(?:(?:(?:<([^:]+:[^>]*)>)|(_:(?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd_0-9])(?:(?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd_0-9-\xb7\u0300-\u036f\u203f-\u2040.])*(?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd_0-9-\xb7\u0300-\u036f\u203f-\u2040]))?))[ \\t]*\\.))[ \\t]*$'),t.exports=class e{static parse(e){const t=[],n={},s=e.split(o.eoln);let c=0;for(const l of s){if(c++,o.empty.test(l))continue;const e=l.match(o.quad);if(null===e)throw new Error("N-Quads parse error on line "+c+".");const s={};if(s.subject=void 0!==e[1]?{termType:"NamedNode",value:e[1]}:{termType:"BlankNode",value:e[2]},s.predicate={termType:"NamedNode",value:e[3]},void 0!==e[4]?s.object={termType:"NamedNode",value:e[4]}:void 0!==e[5]?s.object={termType:"BlankNode",value:e[5]}:(s.object={termType:"Literal",value:void 0,datatype:{termType:"NamedNode"}},void 0!==e[7]?s.object.datatype.value=e[7]:void 0!==e[8]?(s.object.datatype.value=r,s.object.language=e[8]):s.object.datatype.value=i,s.object.value=e[6].replace(u,(function(e,t,n,r){if(t)switch(t){case"t":return"\t";case"b":return"\b";case"n":return"\n";case"r":return"\r";case"f":return"\f";case'"':return'"';case"'":return"'";case"\\":return"\\"}if(n)return String.fromCharCode(parseInt(n,16));if(r)throw new Error("Unsupported U escape")}))),s.graph=void 0!==e[9]?{termType:"NamedNode",value:e[9]}:void 0!==e[10]?{termType:"BlankNode",value:e[10]}:{termType:"DefaultGraph",value:""},s.graph.value in n){let e=!0;const r=n[s.graph.value];for(const t of r)if(a(t,s)){e=!1;break}e&&(r.push(s),t.push(s))}else n[s.graph.value]=[s],t.push(s)}return t}static serialize(t){Array.isArray(t)||(t=e.legacyDatasetToQuads(t));const n=[];for(const r of t)n.push(e.serializeQuad(r));return n.sort().join("")}static serializeQuad(e){const t=e.object,n=e.graph;let o="";return[e.subject,e.predicate].forEach(e=>{o+="NamedNode"===e.termType?"<"+e.value+">":e.value,o+=" "}),"NamedNode"===t.termType?o+="<"+t.value+">":"BlankNode"===t.termType?o+=t.value:(o+='"'+t.value.replace(s,(function(e){switch(e){case'"':return'\\"';case"\\":return"\\\\";case"\n":return"\\n";case"\r":return"\\r"}}))+'"',t.datatype.value===r?t.language&&(o+="@"+t.language):t.datatype.value!==i&&(o+="^^<"+t.datatype.value+">")),"NamedNode"===n.termType?o+=" <"+n.value+">":"BlankNode"===n.termType&&(o+=" "+n.value),o+=" .\n",o}static legacyDatasetToQuads(e){const t=[],n={"blank node":"BlankNode",IRI:"NamedNode",literal:"Literal"};for(const o in e)e[o].forEach(e=>{const a={};for(const t in e){const o=e[t],s={termType:n[o.type],value:o.value};"Literal"===s.termType&&(s.datatype={termType:"NamedNode"},"datatype"in o&&(s.datatype.value=o.datatype),"language"in o?("datatype"in o||(s.datatype.value=r),s.language=o.language):"datatype"in o||(s.datatype.value=i)),a[t]=s}a.graph="@default"===o?{termType:"DefaultGraph",value:""}:{termType:o.startsWith("_:")?"BlankNode":"NamedNode",value:o},t.push(a)});return t}};const s=/["\\\n\r]/g,u=/(?:\\([tbnrf"'\\]))|(?:\\u([0-9A-Fa-f]{4}))|(?:\\U([0-9A-Fa-f]{8}))/g},{}],68:[function(e,t,n){"use strict";t.exports=class{constructor(e){this.list=e.sort(),this.done=!1,this.left={};for(let t=0;t<e.length;++t)this.left[e[t]]=!0}hasNext(){return!this.done}next(){const e=this.list.slice();let t=null,n=0;const r=this.list.length;for(let i=0;i<r;++i){const e=this.list[i],o=this.left[e];(null===t||e>t)&&(o&&i>0&&e>this.list[i-1]||!o&&i<r-1&&e>this.list[i+1])&&(t=e,n=i)}if(null===t)this.done=!0;else{const e=this.left[t]?n-1:n+1;this.list[n]=this.list[e],this.list[e]=t;for(let n=0;n<r;++n)this.list[n]>t&&(this.left[this.list[n]]=!this.left[this.list[n]])}return e}}},{}],69:[function(e,t,n){"use strict";const r=e("./AsyncAlgorithm"),i=e("./IdentifierIssuer"),o=e("./MessageDigest"),a=e("./Permutator"),s=e("./NQuads"),u=e("./util"),c={subject:"s",object:"o",graph:"g"};t.exports=class extends r{constructor(e){super(e=e||{}),this.name="URDNA2015",this.options=Object.assign({},e),this.blankNodeInfo={},this.hashToBlankNodes={},this.canonicalIssuer=new i("_:c14n"),this.hashAlgorithm="sha256"}main(e,t){const n=this;let r;n.schedule.start=Date.now(),n.quads=e;const o={};n.waterfall([t=>{n.forEach(e,(e,t,r)=>{n.forEachComponent(e,t=>{if("BlankNode"!==t.termType)return;const r=t.value;r in n.blankNodeInfo?n.blankNodeInfo[r].quads.push(e):(o[r]=!0,n.blankNodeInfo[r]={quads:[e]})}),r()},t)},e=>{let t=!0;n.whilst(()=>t,e=>{t=!1,n.hashToBlankNodes={},n.waterfall([e=>{n.forEach(o,(e,t,r)=>{n.hashFirstDegreeQuads(t,(e,i)=>{if(e)return r(e);i in n.hashToBlankNodes?n.hashToBlankNodes[i].push(t):n.hashToBlankNodes[i]=[t],r()})},e)},e=>{const r=Object.keys(n.hashToBlankNodes).sort();n.forEach(r,(e,r,i)=>{const a=n.hashToBlankNodes[e];if(a.length>1)return i();const s=a[0];n.canonicalIssuer.getId(s),delete o[s],delete n.hashToBlankNodes[e],t=!0,i()},e)}],e)},e)},e=>{const t=Object.keys(n.hashToBlankNodes).sort();n.forEach(t,(e,t,r)=>{const o=[],a=n.hashToBlankNodes[e];n.waterfall([e=>{n.forEach(a,(e,t,r)=>{if(n.canonicalIssuer.hasId(e))return r();const a=new i("_:b");a.getId(e),n.hashNDegreeQuads(e,a,(e,t)=>{if(e)return r(e);o.push(t),r()})},e)},e=>{o.sort((e,t)=>e.hash<t.hash?-1:e.hash>t.hash?1:0),n.forEach(o,(e,t,r)=>{for(const i in e.issuer.existing)n.canonicalIssuer.getId(i);r()},e)}],r)},e)},e=>{const t=[];n.waterfall([e=>{n.forEach(n.quads,(e,r,i)=>{n.forEachComponent(e,e=>{"BlankNode"!==e.termType||e.value.startsWith(n.canonicalIssuer.prefix)||(e.value=n.canonicalIssuer.getId(e.value))}),t.push(s.serializeQuad(e)),i()},e)},e=>(t.sort(),r=t.join(""),e())],e)}],e=>t(e,r))}hashFirstDegreeQuads(e,t){const n=this,r=n.blankNodeInfo[e];if("hash"in r)return t(null,r.hash);const i=[];n.forEach(r.quads,(t,r,o)=>{const a={predicate:t.predicate};n.forEachComponent(t,(t,r)=>{a[r]=n.modifyFirstDegreeComponent(e,t,r)}),i.push(s.serializeQuad(a)),o()},e=>{if(e)return t(e);i.sort();const a=new o(n.hashAlgorithm);for(let t=0;t<i.length;++t)a.update(i[t]);r.hash=a.digest(),t(null,r.hash)})}hashRelatedBlankNode(e,t,n,r,i){const a=this;let s;a.waterfall([t=>a.canonicalIssuer.hasId(e)?(s=a.canonicalIssuer.getId(e),t()):n.hasId(e)?(s=n.getId(e),t()):void a.hashFirstDegreeQuads(e,(e,n)=>{if(e)return t(e);s=n,t()})],e=>{if(e)return i(e);const n=new o(a.hashAlgorithm);return n.update(r),"g"!==r&&n.update(a.getRelatedPredicate(t)),n.update(s),i(null,n.digest())})}hashNDegreeQuads(e,t,n){const r=this;let i;const s=new o(r.hashAlgorithm);r.waterfall([n=>r.createHashToRelated(e,t,(e,t)=>{if(e)return n(e);i=t,n()}),e=>{const n=Object.keys(i).sort();r.forEach(n,(e,n,o)=>{s.update(e);let u,c="";const l=new a(i[e]);r.whilst(()=>l.hasNext(),e=>{const n=l.next();let i=t.clone(),o="";const a=[];r.waterfall([t=>{r.forEach(n,(t,n,s)=>{if(r.canonicalIssuer.hasId(t)?o+=r.canonicalIssuer.getId(t):(i.hasId(t)||a.push(t),o+=i.getId(t)),0!==c.length&&o>c)return e();s()},t)},t=>{r.forEach(a,(t,n,a)=>{r.hashNDegreeQuads(t,i,(n,r)=>n?a(n):(o+=i.getId(t),o+="<"+r.hash+">",i=r.issuer,0!==c.length&&o>c?e():void a()))},t)},e=>{(0===c.length||o<c)&&(c=o,u=i),e()}],e)},e=>{if(e)return o(e);s.update(c),t=u,o()})},e)}],e=>{n(e,{hash:s.digest(),issuer:t})})}modifyFirstDegreeComponent(e,t){return"BlankNode"!==t.termType||((t=u.clone(t)).value=t.value===e?"_:a":"_:z"),t}getRelatedPredicate(e){return"<"+e.predicate.value+">"}createHashToRelated(e,t,n){const r=this,i={};r.forEach(r.blankNodeInfo[e].quads,(n,o,a)=>{r.forEach(n,(o,a,s)=>{if("predicate"===a||"BlankNode"!==o.termType||o.value===e)return s();const u=o.value;r.hashRelatedBlankNode(u,n,t,c[a],(e,t)=>{if(e)return s(e);t in i?i[t].push(u):i[t]=[u],s()})},a)},e=>n(e,i))}forEachComponent(e,t){for(const n in e)"predicate"!==n&&t(e[n],n,e)}}},{"./AsyncAlgorithm":64,"./IdentifierIssuer":65,"./MessageDigest":66,"./NQuads":67,"./Permutator":68,"./util":74}],70:[function(e,t,n){"use strict";const r=e("./IdentifierIssuer"),i=e("./MessageDigest"),o=e("./Permutator"),a=e("./NQuads"),s=e("./util"),u={subject:"s",object:"o",graph:"g"};t.exports=class{constructor(){this.name="URDNA2015",this.blankNodeInfo={},this.hashToBlankNodes={},this.canonicalIssuer=new r("_:c14n"),this.hashAlgorithm="sha256"}main(e){const t=this;t.quads=e;const n={};for(const r of e)t.forEachComponent(r,e=>{if("BlankNode"!==e.termType)return;const i=e.value;i in t.blankNodeInfo?t.blankNodeInfo[i].quads.push(r):(n[i]=!0,t.blankNodeInfo[i]={quads:[r]})});let i=!0;for(;i;){i=!1,t.hashToBlankNodes={};for(const r in n){const e=t.hashFirstDegreeQuads(r);e in t.hashToBlankNodes?t.hashToBlankNodes[e].push(r):t.hashToBlankNodes[e]=[r]}const e=Object.keys(t.hashToBlankNodes).sort();for(let r=0;r<e.length;++r){const o=e[r],a=t.hashToBlankNodes[o];if(a.length>1)continue;const s=a[0];t.canonicalIssuer.getId(s),delete n[s],delete t.hashToBlankNodes[o],i=!0}}const o=Object.keys(t.hashToBlankNodes).sort();for(let a=0;a<o.length;++a){const e=[],n=t.hashToBlankNodes[o[a]];for(let i=0;i<n.length;++i){const o=n[i];if(t.canonicalIssuer.hasId(o))continue;const a=new r("_:b");a.getId(o);const s=t.hashNDegreeQuads(o,a);e.push(s)}e.sort((e,t)=>e.hash<t.hash?-1:e.hash>t.hash?1:0);for(let r=0;r<e.length;++r){const n=e[r];for(const e in n.issuer.existing)t.canonicalIssuer.getId(e)}}const s=[];for(let r=0;r<t.quads.length;++r){const e=t.quads[r];t.forEachComponent(e,e=>{"BlankNode"!==e.termType||e.value.startsWith(t.canonicalIssuer.prefix)||(e.value=t.canonicalIssuer.getId(e.value))}),s.push(a.serializeQuad(e))}return s.sort(),s.join("")}hashFirstDegreeQuads(e){const t=this,n=t.blankNodeInfo[e];if("hash"in n)return n.hash;const r=[],o=n.quads;for(let i=0;i<o.length;++i){const n=o[i],s={predicate:n.predicate};t.forEachComponent(n,(n,r)=>{s[r]=t.modifyFirstDegreeComponent(e,n,r)}),r.push(a.serializeQuad(s))}r.sort();const s=new i(t.hashAlgorithm);for(let i=0;i<r.length;++i)s.update(r[i]);return n.hash=s.digest(),n.hash}hashRelatedBlankNode(e,t,n,r){let o;o=this.canonicalIssuer.hasId(e)?this.canonicalIssuer.getId(e):n.hasId(e)?n.getId(e):this.hashFirstDegreeQuads(e);const a=new i(this.hashAlgorithm);return a.update(r),"g"!==r&&a.update(this.getRelatedPredicate(t)),a.update(o),a.digest()}hashNDegreeQuads(e,t){const n=this,r=new i(n.hashAlgorithm),a=n.createHashToRelated(e,t),s=Object.keys(a).sort();for(let i=0;i<s.length;++i){const e=s[i];r.update(e);let u,c="";const l=new o(a[e]);for(;l.hasNext();){const e=l.next();let r=t.clone(),i="";const o=[];let a=!1;for(let t=0;t<e.length;++t){const s=e[t];if(n.canonicalIssuer.hasId(s)?i+=n.canonicalIssuer.getId(s):(r.hasId(s)||o.push(s),i+=r.getId(s)),0!==c.length&&i>c){a=!0;break}}if(!a){for(let e=0;e<o.length;++e){const t=o[e],s=n.hashNDegreeQuads(t,r);if(i+=r.getId(t),i+="<"+s.hash+">",r=s.issuer,0!==c.length&&i>c){a=!0;break}}a||(0===c.length||i<c)&&(c=i,u=r)}}r.update(c),t=u}return{hash:r.digest(),issuer:t}}modifyFirstDegreeComponent(e,t){return"BlankNode"!==t.termType||((t=s.clone(t)).value=t.value===e?"_:a":"_:z"),t}getRelatedPredicate(e){return"<"+e.predicate.value+">"}createHashToRelated(e,t){const n=this,r={},i=n.blankNodeInfo[e].quads;for(let o=0;o<i.length;++o){const a=i[o];for(const i in a){const o=a[i];if("predicate"===i||"BlankNode"!==o.termType||o.value===e)continue;const s=o.value,c=n.hashRelatedBlankNode(s,a,t,u[i]);c in r?r[c].push(s):r[c]=[s]}}return r}forEachComponent(e,t){for(const n in e)"predicate"!==n&&t(e[n],n,e)}}},{"./IdentifierIssuer":65,"./MessageDigest":66,"./NQuads":67,"./Permutator":68,"./util":74}],71:[function(e,t,n){"use strict";const r=e("./URDNA2015"),i=e("./util");t.exports=class extends r{constructor(e){super(e),this.name="URGNA2012",this.hashAlgorithm="sha1"}modifyFirstDegreeComponent(e,t,n){return"BlankNode"!==t.termType||((t=i.clone(t)).value="name"===n?"_:g":t.value===e?"_:a":"_:z"),t}getRelatedPredicate(e){return e.predicate.value}createHashToRelated(e,t,n){const r=this,i={};r.forEach(r.blankNodeInfo[e].quads,(n,o,a)=>{let s,u;if("BlankNode"===n.subject.termType&&n.subject.value!==e)u=n.subject.value,s="p";else{if("BlankNode"!==n.object.termType||n.object.value===e)return a();u=n.object.value,s="r"}r.hashRelatedBlankNode(u,n,t,s,(e,t)=>{if(e)return a(e);t in i?i[t].push(u):i[t]=[u],a()})},e=>n(e,i))}}},{"./URDNA2015":69,"./util":74}],72:[function(e,t,n){"use strict";const r=e("./URDNA2015Sync"),i=e("./util");t.exports=class extends r{constructor(){super(),this.name="URGNA2012",this.hashAlgorithm="sha1"}modifyFirstDegreeComponent(e,t,n){return"BlankNode"!==t.termType||((t=i.clone(t)).value="name"===n?"_:g":t.value===e?"_:a":"_:z"),t}getRelatedPredicate(e){return e.predicate.value}createHashToRelated(e,t){const n=this,r={},i=n.blankNodeInfo[e].quads;for(let o=0;o<i.length;++o){const a=i[o];let s,u;if("BlankNode"===a.subject.termType&&a.subject.value!==e)u=a.subject.value,s="p";else{if("BlankNode"!==a.object.termType||a.object.value===e)continue;u=a.object.value,s="r"}const c=n.hashRelatedBlankNode(u,a,t,s);c in r?r[c].push(u):r[c]=[u]}return r}}},{"./URDNA2015Sync":70,"./util":74}],73:[function(e,t,n){"use strict";const r=e("./util"),i=e("./URDNA2015"),o=e("./URGNA2012"),a=e("./URDNA2015Sync"),s=e("./URGNA2012Sync");let u;try{u=e("rdf-canonize-native")}catch(l){}const c={};t.exports=c,c.NQuads=e("./NQuads"),c.IdentifierIssuer=e("./IdentifierIssuer"),c._rdfCanonizeNative=function(e){return e&&(u=e),u},c.canonize=r.callbackify((async function(e,t){let n;const r=new Promise((e,t)=>{n=(n,r)=>{if(n)return t(n);e(r)}});if(Array.isArray(e)||(e=c.NQuads.legacyDatasetToQuads(e)),t.useNative){if(!u)throw new Error("rdf-canonize-native not available");u.canonize(e,t,n)}else if("URDNA2015"===t.algorithm)new i(t).main(e,n);else{if("URGNA2012"!==t.algorithm)throw"algorithm"in t?new Error("Invalid RDF Dataset Canonicalization algorithm: "+t.algorithm):new Error("No RDF Dataset Canonicalization algorithm specified.");new o(t).main(e,n)}return r})),c.canonizeSync=function(e,t){if(Array.isArray(e)||(e=c.NQuads.legacyDatasetToQuads(e)),t.useNative){if(u)return u.canonizeSync(e,t);throw new Error("rdf-canonize-native not available")}if("URDNA2015"===t.algorithm)return new a(t).main(e);if("URGNA2012"===t.algorithm)return new s(t).main(e);if(!("algorithm"in t))throw new Error("No RDF Dataset Canonicalization algorithm specified.");throw new Error("Invalid RDF Dataset Canonicalization algorithm: "+t.algorithm)}},{"./IdentifierIssuer":65,"./NQuads":67,"./URDNA2015":69,"./URDNA2015Sync":70,"./URGNA2012":71,"./URGNA2012Sync":72,"./util":74,"rdf-canonize-native":11}],74:[function(e,t,n){(function(e,n){"use strict";const r={};t.exports=r;const i="function"==typeof n&&n,o=i?e=>i(e):e=>setTimeout(e,0);function a(t,n,r){try{return t(n,r)}catch(i){e.nextTick(()=>{throw i})}}r.nextTick="object"==typeof e&&"function"==typeof e.nextTick?e.nextTick:o,r.setImmediate=i?o:r.nextTick,r.clone=function(e){if(e&&"object"==typeof e){let t;if(Array.isArray(e)){t=[];for(let n=0;n<e.length;++n)t[n]=r.clone(e[n])}else if(r.isObject(e)){t={};for(const n in e)t[n]=r.clone(e[n])}else t=e.toString();return t}return e},r.isObject=e=>"[object Object]"===Object.prototype.toString.call(e),r.isUndefined=e=>void 0===e,r.callbackify=e=>async function(...t){const n=t[t.length-1];let r;"function"==typeof n&&t.pop();try{r=await e.apply(null,t)}catch(i){if("function"==typeof n)return a(n,i);throw i}return"function"==typeof n?a(n,null,r):r}}).call(this,e("_process"),e("timers").setImmediate)},{_process:62,timers:14}],75:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}(e("./lib/RdfXmlParser"))},{"./lib/RdfXmlParser":77}],76:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});class r extends Error{constructor(e,t){const n=e.saxStream._parser;super(e.trackPosition?`Line ${n.line+1} column ${n.column+1}: ${t}`:t)}}n.ParseError=r},{}],77:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=e("relative-to-absolute-iri"),i=e("sax"),o=e("stream"),a=e("./ParseError");class s extends o.Transform{constructor(t){super({readableObjectMode:!0}),this.activeTagStack=[],this.nodeIds={},t&&(Object.assign(this,t),this.options=t),this.dataFactory||(this.dataFactory=e("@rdfjs/data-model")),this.baseIRI||(this.baseIRI=""),this.defaultGraph||(this.defaultGraph=this.dataFactory.defaultGraph()),this.saxStream=i.createStream(this.strict,{xmlns:!1,position:this.trackPosition}),this.strict||(this.saxStream._parser.looseCase="toString"),this.attachSaxListeners()}static parseNamespace(e,t){const n={};let r=!1;for(const o in e.attributes)o.startsWith("xmlns")&&(5===o.length?(r=!0,n[""]=e.attributes[o]):":"===o.charAt(5)&&(r=!0,n[o.substr(6)]=e.attributes[o]));const i=t&&t.ns?t.ns:[s.DEFAULT_NS];return r?i.concat([n]):i}static expandPrefixedTerm(e,t,n){const r=e.indexOf(":");let i,o;r>=0?(i=e.substr(0,r),o=e.substr(r+1)):(i="",o=e);let s=null,u=null;for(let a=t.length-1;a>=0;a--){const e=t[a][i];if(e){s=e;break}u||(u=t[a][""])}if(!s){if(i&&"xmlns"!==i)throw new a.ParseError(n,`The prefix '${i}' in term '${e}' was not bound.`);s=u||""}return{prefix:i,local:o,uri:s}}static isValidIri(e){return s.IRI_REGEX.test(e)}import(e){const t=new o.PassThrough({readableObjectMode:!0});e.on("error",e=>n.emit("error",e)),e.on("data",e=>t.write(e)),e.on("end",()=>t.emit("end"));const n=t.pipe(new s(this.options));return n}_transform(e,t,n){try{this.saxStream.write(e,t)}catch(r){return n(r)}n()}newParseError(e){return new a.ParseError(this,e)}valueToUri(e,t){return this.uriToNamedNode(r.resolve(e,t.baseIRI))}uriToNamedNode(e){if(!s.isValidIri(e))throw this.newParseError("Invalid URI: "+e);return this.dataFactory.namedNode(e)}validateNcname(e){if(!s.NCNAME_MATCHER.test(e))throw this.newParseError("Not a valid NCName: "+e)}attachSaxListeners(){this.saxStream.on("error",e=>this.emit("error",e)),this.saxStream.on("opentag",this.onTag.bind(this)),this.saxStream.on("text",this.onText.bind(this)),this.saxStream.on("closetag",this.onCloseTag.bind(this)),this.saxStream.on("doctype",this.onDoctype.bind(this))}onTag(e){const t=this.activeTagStack.length?this.activeTagStack[this.activeTagStack.length-1]:null;let n=u.RESOURCE;if(t&&(t.hadChildren=!0,n=t.childrenParseType),t&&t.childrenStringTags){const n=e.name;let r="";for(const t in e.attributes)r+=` ${t}="${e.attributes[t]}"`;t.childrenStringTags.push(`<${n}${r}>`);const i={childrenStringTags:t.childrenStringTags};return i.childrenStringEmitClosingTag=`</${n}>`,void this.activeTagStack.push(i)}const r={};t?(r.language=t.language,r.baseIRI=t.baseIRI):r.baseIRI=this.baseIRI,this.activeTagStack.push(r),r.ns=s.parseNamespace(e,t),n===u.RESOURCE?this.onTagResource(e,r,t,!t):this.onTagProperty(e,r,t)}onTagResource(e,t,n,i){const o=s.expandPrefixedTerm(e.name,t.ns,this);t.childrenParseType=u.PROPERTY;let a=!0;if(o.uri===s.RDF){if(!i&&s.FORBIDDEN_NODE_ELEMENTS.indexOf(o.local)>=0)throw this.newParseError("Illegal node element name: "+o.local);switch(o.local){case"RDF":t.childrenParseType=u.RESOURCE;case"Description":a=!1}}const c=[],l=[];let h=null,d=!1,f=!1,p=null;for(const u in e.attributes){const i=e.attributes[u],o=s.expandPrefixedTerm(u,t.ns,this);if(n&&o.uri===s.RDF)switch(o.local){case"about":if(h)throw this.newParseError(`Only one of rdf:about, rdf:nodeID and rdf:ID can be present, while ${i} and ${h} where found.`);h=i;continue;case"ID":if(h)throw this.newParseError(`Only one of rdf:about, rdf:nodeID and rdf:ID can be present, while ${i} and ${h} where found.`);this.validateNcname(i),h="#"+i,d=!0;continue;case"nodeID":if(h)throw this.newParseError(`Only one of rdf:about, rdf:nodeID and rdf:ID can be present, while ${i} and ${h} where found.`);this.validateNcname(i),h=i,f=!0;continue;case"bagID":throw this.newParseError("rdf:bagID is not supported.");case"type":p=i;continue;case"aboutEach":throw this.newParseError("rdf:aboutEach is not supported.");case"aboutEachPrefix":throw this.newParseError("rdf:aboutEachPrefix is not supported.");case"li":throw this.newParseError("rdf:li on node elements are not supported.")}else if(o.uri===s.XML){if("lang"===o.local){t.language=""===i?null:i.toLowerCase();continue}if("base"===o.local){t.baseIRI=r.resolve(i,t.baseIRI);continue}}"xml"!==o.prefix&&o.uri&&(c.push(this.uriToNamedNode(o.uri+o.local)),l.push(i))}if(null!==h&&(t.subject=f?this.dataFactory.blankNode(h):this.valueToUri(h,t),d&&this.claimNodeId(t.subject)),t.subject||(t.subject=this.dataFactory.blankNode()),a){const e=this.uriToNamedNode(o.uri+o.local);this.emitTriple(t.subject,this.dataFactory.namedNode(s.RDF+"type"),e,n?n.reifiedStatementId:null)}if(n){if(n.predicate)if(n.childrenCollectionSubject){const e=this.dataFactory.blankNode();this.emitTriple(n.childrenCollectionSubject,n.childrenCollectionPredicate,e,n.reifiedStatementId),this.emitTriple(e,this.dataFactory.namedNode(s.RDF+"first"),t.subject,t.reifiedStatementId),n.childrenCollectionSubject=e,n.childrenCollectionPredicate=this.dataFactory.namedNode(s.RDF+"rest")}else{this.emitTriple(n.subject,n.predicate,t.subject,n.reifiedStatementId);for(let e=0;e<n.predicateSubPredicates.length;e++)this.emitTriple(t.subject,n.predicateSubPredicates[e],n.predicateSubObjects[e],null);n.predicateSubPredicates=[],n.predicateSubObjects=[],n.predicateEmitted=!0}for(let e=0;e<c.length;e++){const r=this.dataFactory.literal(l[e],t.datatype||t.language);this.emitTriple(t.subject,c[e],r,n.reifiedStatementId)}p&&this.emitTriple(t.subject,this.dataFactory.namedNode(s.RDF+"type"),this.uriToNamedNode(p),null)}}onTagProperty(e,t,n){const r=s.expandPrefixedTerm(e.name,t.ns,this);if(t.childrenParseType=u.RESOURCE,t.subject=n.subject,r.uri===s.RDF&&"li"===r.local?(n.listItemCounter||(n.listItemCounter=1),t.predicate=this.uriToNamedNode(r.uri+"_"+n.listItemCounter++)):t.predicate=this.uriToNamedNode(r.uri+r.local),r.uri===s.RDF&&s.FORBIDDEN_PROPERTY_ELEMENTS.indexOf(r.local)>=0)throw this.newParseError("Illegal property element name: "+r.local);t.predicateSubPredicates=[],t.predicateSubObjects=[];let i=!1,o=!1,a=null,c=!0;const l=[],h=[];for(const d in e.attributes){const n=e.attributes[d],r=s.expandPrefixedTerm(d,t.ns,this);if(r.uri===s.RDF)switch(r.local){case"resource":if(a)throw this.newParseError(`Found both rdf:resource (${n}) and rdf:nodeID (${a}).`);if(i)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:resource (${n})`);t.hadChildren=!0,a=n,c=!1;continue;case"datatype":if(o)throw this.newParseError(`Found both non-rdf:* property attributes and rdf:datatype (${n}).`);if(i)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:datatype (${n})`);t.datatype=this.valueToUri(n,t);continue;case"nodeID":if(o)throw this.newParseError(`Found both non-rdf:* property attributes and rdf:nodeID (${n}).`);if(t.hadChildren)throw this.newParseError(`Found both rdf:resource and rdf:nodeID (${n}).`);if(i)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:nodeID (${n})`);this.validateNcname(n),t.hadChildren=!0,a=n,c=!0;continue;case"bagID":throw this.newParseError("rdf:bagID is not supported.");case"parseType":if(o)throw this.newParseError("rdf:parseType is not allowed when non-rdf:* property attributes are present");if(t.datatype)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:datatype (${t.datatype.value})`);if(a)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:nodeID or rdf:resource (${a})`);if("Resource"===n){i=!0,t.childrenParseType=u.PROPERTY;const e=this.dataFactory.blankNode();this.emitTriple(t.subject,t.predicate,e,t.reifiedStatementId),t.subject=e,t.predicate=null}else"Collection"===n?(i=!0,t.hadChildren=!0,t.childrenCollectionSubject=t.subject,t.childrenCollectionPredicate=t.predicate,c=!1):"Literal"===n&&(i=!0,t.childrenTagsToString=!0,t.childrenStringTags=[]);continue;case"ID":this.validateNcname(n),t.reifiedStatementId=this.valueToUri("#"+n,t),this.claimNodeId(t.reifiedStatementId);continue}else if(r.uri===s.XML&&"lang"===r.local){t.language=""===n?null:n.toLowerCase();continue}if("xml"!==r.prefix&&"xmlns"!==r.prefix&&r.uri){if(i||t.datatype)throw this.newParseError("Found illegal rdf:* properties on property element with attribute: "+n);t.hadChildren=!0,o=!0,l.push(this.uriToNamedNode(r.uri+r.local)),h.push(this.dataFactory.literal(n,t.datatype||t.language))}}if(null!==a){const e=t.subject;t.subject=c?this.dataFactory.blankNode(a):this.valueToUri(a,t),this.emitTriple(e,t.predicate,t.subject,t.reifiedStatementId);for(let n=0;n<l.length;n++)this.emitTriple(t.subject,l[n],h[n],null);t.predicateEmitted=!0}else c&&(t.predicateSubPredicates=l,t.predicateSubObjects=h,t.predicateEmitted=!1)}emitTriple(e,t,n,r){this.push(this.dataFactory.quad(e,t,n,this.defaultGraph)),r&&(this.push(this.dataFactory.quad(r,this.dataFactory.namedNode(s.RDF+"type"),this.dataFactory.namedNode(s.RDF+"Statement"),this.defaultGraph)),this.push(this.dataFactory.quad(r,this.dataFactory.namedNode(s.RDF+"subject"),e,this.defaultGraph)),this.push(this.dataFactory.quad(r,this.dataFactory.namedNode(s.RDF+"predicate"),t,this.defaultGraph)),this.push(this.dataFactory.quad(r,this.dataFactory.namedNode(s.RDF+"object"),n,this.defaultGraph)))}claimNodeId(e){if(!this.allowDuplicateRdfIds){if(this.nodeIds[e.value])throw this.newParseError(`Found multiple occurrences of rdf:ID='${e.value}'.`);this.nodeIds[e.value]=!0}}onText(e){const t=this.activeTagStack.length?this.activeTagStack[this.activeTagStack.length-1]:null;t&&(t.childrenStringTags?t.childrenStringTags.push(e):t.predicate&&(t.text=e))}onCloseTag(){const e=this.activeTagStack.pop();if(e.childrenStringEmitClosingTag&&e.childrenStringTags.push(e.childrenStringEmitClosingTag),e.childrenTagsToString&&(e.datatype=this.dataFactory.namedNode(s.RDF+"XMLLiteral"),e.text=e.childrenStringTags.join(""),e.hadChildren=!1),e.childrenCollectionSubject)this.emitTriple(e.childrenCollectionSubject,e.childrenCollectionPredicate,this.dataFactory.namedNode(s.RDF+"nil"),e.reifiedStatementId);else if(e.predicate)if(e.hadChildren||e.childrenParseType===u.PROPERTY){if(!e.predicateEmitted){const t=this.dataFactory.blankNode();this.emitTriple(e.subject,e.predicate,t,e.reifiedStatementId);for(let n=0;n<e.predicateSubPredicates.length;n++)this.emitTriple(t,e.predicateSubPredicates[n],e.predicateSubObjects[n],null)}}else this.emitTriple(e.subject,e.predicate,this.dataFactory.literal(e.text||"",e.datatype||e.language),e.reifiedStatementId)}onDoctype(e){e.replace(/<!ENTITY\s+([^\s]+)\s+["']([^"']+)["']\s*>/g,(e,t,n)=>(this.saxStream._parser.ENTITIES[t]=n,""))}}var u;n.RdfXmlParser=s,s.IRI_REGEX=/^([A-Za-z][A-Za-z0-9+-.]*):[^ "<>{}|\\\[\]`]*$/,s.MIME_TYPE="application/rdf+xml",s.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#",s.XML="http://www.w3.org/XML/1998/namespace",s.XMLNS="http://www.w3.org/2000/xmlns/",s.DEFAULT_NS={xml:s.XML},s.FORBIDDEN_NODE_ELEMENTS=["RDF","ID","about","bagID","parseType","resource","nodeID","li","aboutEach","aboutEachPrefix"],s.FORBIDDEN_PROPERTY_ELEMENTS=["Description","RDF","ID","about","bagID","parseType","resource","nodeID","aboutEach","aboutEachPrefix"],s.NCNAME_MATCHER=/^([A-Za-z\xC0-\xD6\xD8-\xF6\u{F8}-\u{2FF}\u{370}-\u{37D}\u{37F}-\u{1FFF}\u{200C}-\u{200D}\u{2070}-\u{218F}\u{2C00}-\u{2FEF}\u{3001}-\u{D7FF}\u{F900}-\u{FDCF}\u{FDF0}-\u{FFFD}\u{10000}-\u{EFFFF}_])([A-Za-z\xC0-\xD6\xD8-\xF6\u{F8}-\u{2FF}\u{370}-\u{37D}\u{37F}-\u{1FFF}\u{200C}-\u{200D}\u{2070}-\u{218F}\u{2C00}-\u{2FEF}\u{3001}-\u{D7FF}\u{F900}-\u{FDCF}\u{FDF0}-\u{FFFD}\u{10000}-\u{EFFFF}_\-.0-9#xB7\u{0300}-\u{036F}\u{203F}-\u{2040}])*$/u,function(e){e[e.RESOURCE=0]="RESOURCE",e[e.PROPERTY=1]="PROPERTY"}(u=n.ParseType||(n.ParseType={}))},{"./ParseError":76,"@rdfjs/data-model":2,"relative-to-absolute-iri":93,sax:96,stream:97}],78:[function(e,t,n){"use strict";var r={};function i(e,t,n){n||(n=Error);var i=function(e){var n,r;function i(n,r,i){return e.call(this,function(e,n,r){return"string"==typeof t?t:t(e,n,r)}(n,r,i))||this}return r=e,(n=i).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r,i}(n);i.prototype.name=n.name,i.prototype.code=e,r[e]=i}function o(e,t){if(Array.isArray(e)){var n=e.length;return e=e.map((function(e){return String(e)})),n>2?"one of ".concat(t," ").concat(e.slice(0,n-1).join(", "),", or ")+e[n-1]:2===n?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}i("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),i("ERR_INVALID_ARG_TYPE",(function(e,t,n){var r,i,a,s;if("string"==typeof t&&"not "===t.substr(0,"not ".length)?(r="must not be",t=t.replace(/^not /,"")):r="must be",a=e,(void 0===s||s>a.length)&&(s=a.length)," argument"===a.substring(s-" argument".length,s))i="The ".concat(e," ").concat(r," ").concat(o(t,"type"));else{var u=function(e,t,n){return"number"!=typeof n&&(n=0),!(n+".".length>e.length)&&-1!==e.indexOf(".",n)}(e)?"property":"argument";i='The "'.concat(e,'" ').concat(u," ").concat(r," ").concat(o(t,"type"))}return i+". Received type ".concat(typeof n)}),TypeError),i("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),i("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),i("ERR_STREAM_PREMATURE_CLOSE","Premature close"),i("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),i("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),i("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),i("ERR_STREAM_WRITE_AFTER_END","write after end"),i("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),i("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),i("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),t.exports.codes=r},{}],79:[function(e,t,n){(function(n){"use strict";var r=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};t.exports=c;var i=e("./_stream_readable"),o=e("./_stream_writable");e("inherits")(c,i);for(var a=r(o.prototype),s=0;s<a.length;s++){var u=a[s];c.prototype[u]||(c.prototype[u]=o.prototype[u])}function c(e){if(!(this instanceof c))return new c(e);i.call(this,e),o.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",l)))}function l(){this._writableState.ended||n.nextTick(h,this)}function h(e){e.end()}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(c.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(c.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})}).call(this,e("_process"))},{"./_stream_readable":81,"./_stream_writable":83,_process:62,inherits:18}],80:[function(e,t,n){"use strict";t.exports=i;var r=e("./_stream_transform");function i(e){if(!(this instanceof i))return new i(e);r.call(this,e)}e("inherits")(i,r),i.prototype._transform=function(e,t,n){n(null,e)}},{"./_stream_transform":82,inherits:18}],81:[function(e,t,n){(function(n,r){"use strict";var i;t.exports=T,T.ReadableState=E,e("events");var o,a=function(e,t){return e.listeners(t).length},s=e("./internal/streams/stream"),u=e("buffer").Buffer,c=r.Uint8Array||function(){},l=e("util");o=l&&l.debuglog?l.debuglog("stream"):function(){};var h,d,f,p=e("./internal/streams/buffer_list"),g=e("./internal/streams/destroy"),y=e("./internal/streams/state").getHighWaterMark,v=e("../errors").codes,b=v.ERR_INVALID_ARG_TYPE,m=v.ERR_STREAM_PUSH_AFTER_EOF,_=v.ERR_METHOD_NOT_IMPLEMENTED,w=v.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;e("inherits")(T,s);var x=g.errorOrDestroy,S=["error","close","destroy","pause","resume"];function E(t,n,r){i=i||e("./_stream_duplex"),"boolean"!=typeof r&&(r=n instanceof i),this.objectMode=!!(t=t||{}).objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=y(this,t,"readableHighWaterMark",r),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(h||(h=e("string_decoder/").StringDecoder),this.decoder=new h(t.encoding),this.encoding=t.encoding)}function T(t){if(i=i||e("./_stream_duplex"),!(this instanceof T))return new T(t);this._readableState=new E(t,this,this instanceof i),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),s.call(this)}function N(e,t,n,r,i){o("readableAddChunk",t);var a,s=e._readableState;if(null===t)s.reading=!1,function(e,t){if(o("onEofChunk"),!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,t.sync?k(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,A(e)))}}(e,s);else if(i||(a=function(e,t){var n,r;return u.isBuffer(r=t)||r instanceof c||"string"==typeof t||void 0===t||e.objectMode||(n=new b("chunk",["string","Buffer","Uint8Array"],t)),n}(s,t)),a)x(e,a);else if(s.objectMode||t&&t.length>0)if("string"==typeof t||s.objectMode||Object.getPrototypeOf(t)===u.prototype||(t=function(e){return u.from(e)}(t)),r)s.endEmitted?x(e,new w):j(e,s,t,!0);else if(s.ended)x(e,new m);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!n?(t=s.decoder.write(t),s.objectMode||0!==t.length?j(e,s,t,!1):O(e,s)):j(e,s,t,!1)}else r||(s.reading=!1,O(e,s));return!s.ended&&(s.length<s.highWaterMark||0===s.length)}function j(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",n)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&k(e)),O(e,t)}function I(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=1073741824?e=1073741824:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function k(e){var t=e._readableState;o("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(o("emitReadable",t.flowing),t.emittedReadable=!0,n.nextTick(A,e))}function A(e){var t=e._readableState;o("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,D(e)}function O(e,t){t.readingMore||(t.readingMore=!0,n.nextTick(R,e,t))}function R(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var n=t.length;if(o("maybeReadMore read 0"),e.read(0),n===t.length)break}t.readingMore=!1}function L(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function C(e){o("readable nexttick read 0"),e.read(0)}function M(e,t){o("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),D(e),t.flowing&&!t.reading&&e.read(0)}function D(e){var t=e._readableState;for(o("flow",t.flowing);t.flowing&&null!==e.read(););}function P(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):n=t.buffer.consume(e,t.decoder),n);var n}function B(e){var t=e._readableState;o("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,n.nextTick(F,t,e))}function F(e,t){if(o("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var n=t._writableState;(!n||n.autoDestroy&&n.finished)&&t.destroy()}}function U(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}Object.defineProperty(T.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),T.prototype.destroy=g.destroy,T.prototype._undestroy=g.undestroy,T.prototype._destroy=function(e,t){t(e)},T.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=u.from(e,t),t=""),n=!0),N(this,e,t,!1,n)},T.prototype.unshift=function(e){return N(this,e,null,!0,!1)},T.prototype.isPaused=function(){return!1===this._readableState.flowing},T.prototype.setEncoding=function(t){h||(h=e("string_decoder/").StringDecoder);var n=new h(t);this._readableState.decoder=n,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,i="";null!==r;)i+=n.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this},T.prototype.read=function(e){o("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return o("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?B(this):k(this),null;if(0===(e=I(e,t))&&t.ended)return 0===t.length&&B(this),null;var r,i=t.needReadable;return o("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&o("length less than watermark",i=!0),t.ended||t.reading?o("reading or ended",i=!1):i&&(o("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=I(n,t))),null===(r=e>0?P(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&B(this)),null!==r&&this.emit("data",r),r},T.prototype._read=function(e){x(this,new _("_read()"))},T.prototype.pipe=function(e,t){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,o("pipe count=%d opts=%j",i.pipesCount,t);var s=t&&!1===t.end||e===n.stdout||e===n.stderr?g:u;function u(){o("onend"),e.end()}i.endEmitted?n.nextTick(s):r.once("end",s),e.on("unpipe",(function t(n,a){o("onunpipe"),n===r&&a&&!1===a.hasUnpiped&&(a.hasUnpiped=!0,o("cleanup"),e.removeListener("close",f),e.removeListener("finish",p),e.removeListener("drain",c),e.removeListener("error",d),e.removeListener("unpipe",t),r.removeListener("end",u),r.removeListener("end",g),r.removeListener("data",h),l=!0,!i.awaitDrain||e._writableState&&!e._writableState.needDrain||c())}));var c=function(e){return function(){var t=e._readableState;o("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&a(e,"data")&&(t.flowing=!0,D(e))}}(r);e.on("drain",c);var l=!1;function h(t){o("ondata");var n=e.write(t);o("dest.write",n),!1===n&&((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==U(i.pipes,e))&&!l&&(o("false write response, pause",i.awaitDrain),i.awaitDrain++),r.pause())}function d(t){o("onerror",t),g(),e.removeListener("error",d),0===a(e,"error")&&x(e,t)}function f(){e.removeListener("finish",p),g()}function p(){o("onfinish"),e.removeListener("close",f),g()}function g(){o("unpipe"),r.unpipe(e)}return r.on("data",h),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener("error",n);e._events&&e._events.error?Array.isArray(e._events.error)?e._events.error.unshift(n):e._events.error=[n,e._events.error]:e.on("error",n)}(e,0,d),e.once("close",f),e.once("finish",p),e.emit("pipe",r),i.flowing||(o("pipe resume"),r.resume()),e},T.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,{hasUnpiped:!1});return this}var a=U(t.pipes,e);return-1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},T.prototype.addListener=T.prototype.on=function(e,t){var r=s.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,o("on readable",i.length,i.reading),i.length?k(this):i.reading||n.nextTick(C,this))),r},T.prototype.removeListener=function(e,t){var r=s.prototype.removeListener.call(this,e,t);return"readable"===e&&n.nextTick(L,this),r},T.prototype.removeAllListeners=function(e){var t=s.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||n.nextTick(L,this),t},T.prototype.resume=function(){var e=this._readableState;return e.flowing||(o("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,n.nextTick(M,e,t))}(this,e)),e.paused=!1,this},T.prototype.pause=function(){return o("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(o("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},T.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",(function(){if(o("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){o("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i||(n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var a=0;a<S.length;a++)e.on(S[a],this.emit.bind(this,S[a]));return this._read=function(t){o("wrapped _read",t),r&&(r=!1,e.resume())},this},"function"==typeof Symbol&&(T.prototype[Symbol.asyncIterator]=function(){return void 0===d&&(d=e("./internal/streams/async_iterator")),d(this)}),Object.defineProperty(T.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(T.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(T.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),T._fromList=P,Object.defineProperty(T.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(T.from=function(t,n){return void 0===f&&(f=e("./internal/streams/from")),f(T,t,n)})}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../errors":78,"./_stream_duplex":79,"./internal/streams/async_iterator":84,"./internal/streams/buffer_list":85,"./internal/streams/destroy":86,"./internal/streams/from":88,"./internal/streams/state":90,"./internal/streams/stream":91,_process:62,buffer:12,events:13,inherits:18,"string_decoder/":113,util:11}],82:[function(e,t,n){"use strict";t.exports=l;var r=e("../errors").codes,i=r.ERR_METHOD_NOT_IMPLEMENTED,o=r.ERR_MULTIPLE_CALLBACK,a=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=r.ERR_TRANSFORM_WITH_LENGTH_0,u=e("./_stream_duplex");function c(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(null===r)return this.emit("error",new o);n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function l(e){if(!(this instanceof l))return new l(e);u.call(this,e),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",h)}function h(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?d(this,null,null):this._flush((function(t,n){d(e,t,n)}))}function d(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new s;if(e._transformState.transforming)throw new a;return e.push(null)}e("inherits")(l,u),l.prototype.push=function(e,t){return this._transformState.needTransform=!1,u.prototype.push.call(this,e,t)},l.prototype._transform=function(e,t,n){n(new i("_transform()"))},l.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},l.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},l.prototype._destroy=function(e,t){u.prototype._destroy.call(this,e,(function(e){t(e)}))}},{"../errors":78,"./_stream_duplex":79,inherits:18}],83:[function(e,t,n){(function(n,r){"use strict";function i(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;for(e.entry=null;r;){var i=r.callback;t.pendingcb--,i(void 0),r=r.next}t.corkedRequestsFree.next=e}(t,e)}}var o;t.exports=T,T.WritableState=E;var a,s={deprecate:e("util-deprecate")},u=e("./internal/streams/stream"),c=e("buffer").Buffer,l=r.Uint8Array||function(){},h=e("./internal/streams/destroy"),d=e("./internal/streams/state").getHighWaterMark,f=e("../errors").codes,p=f.ERR_INVALID_ARG_TYPE,g=f.ERR_METHOD_NOT_IMPLEMENTED,y=f.ERR_MULTIPLE_CALLBACK,v=f.ERR_STREAM_CANNOT_PIPE,b=f.ERR_STREAM_DESTROYED,m=f.ERR_STREAM_NULL_VALUES,_=f.ERR_STREAM_WRITE_AFTER_END,w=f.ERR_UNKNOWN_ENCODING,x=h.errorOrDestroy;function S(){}function E(t,r,a){o=o||e("./_stream_duplex"),"boolean"!=typeof a&&(a=r instanceof o),this.objectMode=!!(t=t||{}).objectMode,a&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=d(this,t,"writableHighWaterMark",a),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===t.decodeStrings),this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,i=r.sync,o=r.writecb;if("function"!=typeof o)throw new y;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,i,o){--t.pendingcb,r?(n.nextTick(o,i),n.nextTick(O,e,t),e._writableState.errorEmitted=!0,x(e,i)):(o(i),e._writableState.errorEmitted=!0,x(e,i),O(e,t))}(e,r,i,t,o);else{var a=k(r)||e.destroyed;a||r.corked||r.bufferProcessing||!r.bufferedRequest||I(e,r),i?n.nextTick(j,e,r,a,o):j(e,r,a,o)}}(r,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function T(t){var n=this instanceof(o=o||e("./_stream_duplex"));if(!n&&!a.call(T,this))return new T(t);this._writableState=new E(t,this,n),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),u.call(this)}function N(e,t,n,r,i,o,a){t.writelen=r,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new b("write")):n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function j(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),O(e,t)}function I(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=new Array(t.bufferedRequestCount),o=t.corkedRequestsFree;o.entry=n;for(var a=0,s=!0;n;)r[a]=n,n.isBuf||(s=!1),n=n.next,a+=1;r.allBuffers=s,N(e,t,!0,t.length,r,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new i(t),t.bufferedRequestCount=0}else{for(;n;){var u=n.chunk;if(N(e,t,!1,t.objectMode?1:u.length,u,n.encoding,n.callback),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function k(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function A(e,t){e._final((function(n){t.pendingcb--,n&&x(e,n),t.prefinished=!0,e.emit("prefinish"),O(e,t)}))}function O(e,t){var r=k(t);if(r&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,n.nextTick(A,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var i=e._readableState;(!i||i.autoDestroy&&i.endEmitted)&&e.destroy()}return r}e("inherits")(T,u),E.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(E.prototype,"buffer",{get:s.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(a=Function.prototype[Symbol.hasInstance],Object.defineProperty(T,Symbol.hasInstance,{value:function(e){return!!a.call(this,e)||this===T&&e&&e._writableState instanceof E}})):a=function(e){return e instanceof this},T.prototype.pipe=function(){x(this,new v)},T.prototype.write=function(e,t,r){var i,o=this._writableState,a=!1,s=!o.objectMode&&(c.isBuffer(i=e)||i instanceof l);return s&&!c.isBuffer(e)&&(e=function(e){return c.from(e)}(e)),"function"==typeof t&&(r=t,t=null),s?t="buffer":t||(t=o.defaultEncoding),"function"!=typeof r&&(r=S),o.ending?function(e,t){var r=new _;x(e,r),n.nextTick(t,r)}(this,r):(s||function(e,t,r,i){var o;return null===r?o=new m:"string"==typeof r||t.objectMode||(o=new p("chunk",["string","Buffer"],r)),!o||(x(e,o),n.nextTick(i,o),!1)}(this,o,e,r))&&(o.pendingcb++,a=function(e,t,n,r,i,o){if(!n){var a=function(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=c.from(t,n)),t}(t,r,i);r!==a&&(n=!0,i="buffer",r=a)}var s=t.objectMode?1:r.length;t.length+=s;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else N(e,t,!1,s,r,i,o);return u}(this,o,s,e,t,r)),a},T.prototype.cork=function(){this._writableState.corked++},T.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||I(this,e))},T.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new w(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(T.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(T.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),T.prototype._write=function(e,t,n){n(new g("_write()"))},T.prototype._writev=null,T.prototype.end=function(e,t,r){var i=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||function(e,t,r){t.ending=!0,O(e,t),r&&(t.finished?n.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}(this,i,r),this},Object.defineProperty(T.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(T.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),T.prototype.destroy=h.destroy,T.prototype._undestroy=h.undestroy,T.prototype._destroy=function(e,t){t(e)}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../errors":78,"./_stream_duplex":79,"./internal/streams/destroy":86,"./internal/streams/state":90,"./internal/streams/stream":91,_process:62,buffer:12,inherits:18,"util-deprecate":114}],84:[function(e,t,n){(function(n){"use strict";var r;function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=e("./end-of-stream"),a=Symbol("lastResolve"),s=Symbol("lastReject"),u=Symbol("error"),c=Symbol("ended"),l=Symbol("lastPromise"),h=Symbol("handlePromise"),d=Symbol("stream");function f(e,t){return{value:e,done:t}}function p(e){var t=e[a];if(null!==t){var n=e[d].read();null!==n&&(e[l]=null,e[a]=null,e[s]=null,t(f(n,!1)))}}function g(e){n.nextTick(p,e)}var y=Object.getPrototypeOf((function(){})),v=Object.setPrototypeOf((i(r={get stream(){return this[d]},next:function(){var e=this,t=this[u];if(null!==t)return Promise.reject(t);if(this[c])return Promise.resolve(f(void 0,!0));if(this[d].destroyed)return new Promise((function(t,r){n.nextTick((function(){e[u]?r(e[u]):t(f(void 0,!0))}))}));var r,i=this[l];if(i)r=new Promise(function(e,t){return function(n,r){e.then((function(){t[c]?n(f(void 0,!0)):t[h](n,r)}),r)}}(i,this));else{var o=this[d].read();if(null!==o)return Promise.resolve(f(o,!1));r=new Promise(this[h])}return this[l]=r,r}},Symbol.asyncIterator,(function(){return this})),i(r,"return",(function(){var e=this;return new Promise((function(t,n){e[d].destroy(null,(function(e){e?n(e):t(f(void 0,!0))}))}))})),r),y);t.exports=function(e){var t,n=Object.create(v,(i(t={},d,{value:e,writable:!0}),i(t,a,{value:null,writable:!0}),i(t,s,{value:null,writable:!0}),i(t,u,{value:null,writable:!0}),i(t,c,{value:e._readableState.endEmitted,writable:!0}),i(t,h,{value:function(e,t){var r=n[d].read();r?(n[l]=null,n[a]=null,n[s]=null,e(f(r,!1))):(n[a]=e,n[s]=t)},writable:!0}),t));return n[l]=null,o(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=n[s];return null!==t&&(n[l]=null,n[a]=null,n[s]=null,t(e)),void(n[u]=e)}var r=n[a];null!==r&&(n[l]=null,n[a]=null,n[s]=null,r(f(void 0,!0))),n[c]=!0})),e.on("readable",g.bind(null,n)),n}}).call(this,e("_process"))},{"./end-of-stream":87,_process:62}],85:[function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=e("buffer").Buffer,a=e("util").inspect,s=a&&a.custom||"inspect";t.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t;return(t=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n}},{key:"concat",value:function(e){if(0===this.length)return o.alloc(0);for(var t=o.allocUnsafe(e>>>0),n=this.head,r=0;n;)o.prototype.copy.call(n.data,t,r),r+=n.data.length,n=n.next;return t}},{key:"consume",value:function(e,t){var n;return e<this.head.data.length?(n=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):n=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,n=1,r=t.data;for(e-=r.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(r+=o===i.length?i:i.slice(0,e),0==(e-=o)){o===i.length?(++n,this.head=t.next?t.next:this.tail=null):(this.head=t,t.data=i.slice(o));break}++n}return this.length-=n,r}},{key:"_getBuffer",value:function(e){var t=o.allocUnsafe(e),n=this.head,r=1;for(n.data.copy(t),e-=n.data.length;n=n.next;){var i=n.data,a=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,a),0==(e-=a)){a===i.length?(++r,this.head=n.next?n.next:this.tail=null):(this.head=n,n.data=i.slice(a));break}++r}return this.length-=r,t}},{key:s,value:function(e,t){return a(this,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{depth:0,customInspect:!1}))}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}()},{buffer:12,util:11}],86:[function(e,t,n){(function(e){"use strict";function n(e,t){i(e,t),r(e)}function r(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function i(e,t){e.emit("error",t)}t.exports={destroy:function(t,o){var a=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(o?o(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,e.nextTick(i,this,t)):e.nextTick(i,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,(function(t){!o&&t?a._writableState?a._writableState.errorEmitted?e.nextTick(r,a):(a._writableState.errorEmitted=!0,e.nextTick(n,a,t)):e.nextTick(n,a,t):o?(e.nextTick(r,a),o(t)):e.nextTick(r,a)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var n=e._readableState,r=e._writableState;n&&n.autoDestroy||r&&r.autoDestroy?e.destroy(t):e.emit("error",t)}}}).call(this,e("_process"))},{_process:62}],87:[function(e,t,n){"use strict";var r=e("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function i(){}t.exports=function e(t,n,o){if("function"==typeof n)return e(t,null,n);n||(n={}),o=function(e){var t=!1;return function(){if(!t){t=!0;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r)}}}(o||i);var a=n.readable||!1!==n.readable&&t.readable,s=n.writable||!1!==n.writable&&t.writable,u=function(){t.writable||l()},c=t._writableState&&t._writableState.finished,l=function(){s=!1,c=!0,a||o.call(t)},h=t._readableState&&t._readableState.endEmitted,d=function(){a=!1,h=!0,s||o.call(t)},f=function(e){o.call(t,e)},p=function(){var e;return a&&!h?(t._readableState&&t._readableState.ended||(e=new r),o.call(t,e)):s&&!c?(t._writableState&&t._writableState.ended||(e=new r),o.call(t,e)):void 0},g=function(){t.req.on("finish",l)};return function(e){return e.setHeader&&"function"==typeof e.abort}(t)?(t.on("complete",l),t.on("abort",p),t.req?g():t.on("request",g)):s&&!t._writableState&&(t.on("end",u),t.on("close",u)),t.on("end",d),t.on("finish",l),!1!==n.error&&t.on("error",f),t.on("close",p),function(){t.removeListener("complete",l),t.removeListener("abort",p),t.removeListener("request",g),t.req&&t.req.removeListener("finish",l),t.removeListener("end",u),t.removeListener("close",u),t.removeListener("finish",l),t.removeListener("end",d),t.removeListener("error",f),t.removeListener("close",p)}}},{"../../../errors":78}],88:[function(e,t,n){t.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],89:[function(e,t,n){"use strict";var r,i=e("../../../errors").codes,o=i.ERR_MISSING_ARGS,a=i.ERR_STREAM_DESTROYED;function s(e){if(e)throw e}function u(t,n,i,o){o=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(o);var s=!1;t.on("close",(function(){s=!0})),void 0===r&&(r=e("./end-of-stream")),r(t,{readable:n,writable:i},(function(e){if(e)return o(e);s=!0,o()}));var u=!1;return function(e){if(!s&&!u)return u=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(t)?t.abort():"function"==typeof t.destroy?t.destroy():void o(e||new a("pipe"))}}function c(e){e()}function l(e,t){return e.pipe(t)}function h(e){return e.length?"function"!=typeof e[e.length-1]?s:e.pop():s}t.exports=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i=h(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new o("streams");var a=t.map((function(e,n){var o=n<t.length-1;return u(e,o,n>0,(function(e){r||(r=e),e&&a.forEach(c),o||(a.forEach(c),i(r))}))}));return t.reduce(l)}},{"../../../errors":78,"./end-of-stream":87}],90:[function(e,t,n){"use strict";var r=e("../../../errors").codes.ERR_INVALID_OPT_VALUE;t.exports={getHighWaterMark:function(e,t,n,i){var o=function(e,t,n){return null!=e.highWaterMark?e.highWaterMark:t?e[n]:null}(t,i,n);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new r(i?n:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}},{"../../../errors":78}],91:[function(e,t,n){t.exports=e("events").EventEmitter},{events:13}],92:[function(e,t,n){(n=t.exports=e("./lib/_stream_readable.js")).Stream=n,n.Readable=n,n.Writable=e("./lib/_stream_writable.js"),n.Duplex=e("./lib/_stream_duplex.js"),n.Transform=e("./lib/_stream_transform.js"),n.PassThrough=e("./lib/_stream_passthrough.js"),n.finished=e("./lib/internal/streams/end-of-stream.js"),n.pipeline=e("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":79,"./lib/_stream_passthrough.js":80,"./lib/_stream_readable.js":81,"./lib/_stream_transform.js":82,"./lib/_stream_writable.js":83,"./lib/internal/streams/end-of-stream.js":87,"./lib/internal/streams/pipeline.js":89}],93:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}(e("./lib/Resolve"))},{"./lib/Resolve":94}],94:[function(e,t,n){"use strict";function r(e){const t=[];let n=0;for(;n<e.length;)switch(e[n]){case"/":if("."===e[n+1])if("."===e[n+2]){if(!o(e[n+3])){t.push([]),n++;break}t.pop(),e[n+3]||t.push([]),n+=3}else{if(!o(e[n+2])){t.push([]),n++;break}e[n+2]||t.push([]),n+=2}else t.push([]),n++;break;case"#":case"?":t.length||t.push([]),t[t.length-1].push(e.substr(n)),n=e.length;break;default:t.length||t.push([]),t[t.length-1].push(e[n]),n++}return"/"+t.map(e=>e.join("")).join("/")}function i(e,t){let n=t+1;t>=0?"/"===e[t+1]&&"/"===e[t+2]&&(n=t+3):"/"===e[0]&&"/"===e[1]&&(n=2);const i=e.indexOf("/",n);return i<0?e:e.substr(0,i)+r(e.substr(i))}function o(e){return!e||"#"===e||"?"===e||"/"===e}Object.defineProperty(n,"__esModule",{value:!0}),n.resolve=function(e,t){const n=(t=t||"").indexOf("#");if(n>0&&(t=t.substr(0,n)),!e.length){if(t.indexOf(":")<0)throw new Error(`Found invalid baseIRI '${t}' for value '${e}'`);return t}if(e.startsWith("?")){const n=t.indexOf("?");return n>0&&(t=t.substr(0,n)),t+e}if(e.startsWith("#"))return t+e;if(!t.length){const t=e.indexOf(":");if(t<0)throw new Error(`Found invalid relative IRI '${e}' for a missing baseIRI`);return i(e,t)}const o=e.indexOf(":");if(o>=0)return i(e,o);const a=t.indexOf(":");if(a<0)throw new Error(`Found invalid baseIRI '${t}' for value '${e}'`);const s=t.substr(0,a+1);if(0===e.indexOf("//"))return s+i(e,o);let u;if(t.indexOf("//",a)===a+1){if(u=t.indexOf("/",a+3),u<0)return t.length>a+3?t+"/"+i(e,o):s+i(e,o)}else if(u=t.indexOf("/",a+1),u<0)return s+i(e,o);if(0===e.indexOf("/"))return t.substr(0,u)+r(e);let c=t.substr(u);const l=c.lastIndexOf("/");return l>=0&&l<c.length-1&&(c=c.substr(0,l+1),"."===e[0]&&"."!==e[1]&&"/"!==e[1]&&e[2]&&(e=e.substr(1))),e=r(e=c+e),t.substr(0,u)+e},n.removeDotSegments=r,n.removeDotSegmentsOfPath=i},{}],95:[function(e,t,n){var r=e("buffer"),i=r.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function a(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=r:(o(r,n),n.Buffer=a),a.prototype=Object.create(i.prototype),o(i,a),a.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},a.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},{buffer:12}],96:[function(e,t,n){(function(t){!function(n){n.parser=function(e,t){return new o(e,t)},n.SAXParser=o,n.SAXStream=s,n.createStream=function(e,t){return new s(e,t)},n.MAX_BUFFER_LENGTH=65536;var r,i=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function o(e,t){if(!(this instanceof o))return new o(e,t);!function(e){for(var t=0,n=i.length;t<n;t++)e[i[t]]=""}(this),this.q=this.c="",this.bufferCheckPosition=n.MAX_BUFFER_LENGTH,this.opt=t||{},this.opt.lowercase=this.opt.lowercase||this.opt.lowercasetags,this.looseCase=this.opt.lowercase?"toLowerCase":"toUpperCase",this.tags=[],this.closed=this.closedRoot=this.sawRoot=!1,this.tag=this.error=null,this.strict=!!e,this.noscript=!(!e&&!this.opt.noscript),this.state=x.BEGIN,this.strictEntities=this.opt.strictEntities,this.ENTITIES=Object.create(this.strictEntities?n.XML_ENTITIES:n.ENTITIES),this.attribList=[],this.opt.xmlns&&(this.ns=Object.create(c)),this.trackPosition=!1!==this.opt.position,this.trackPosition&&(this.position=this.line=this.column=0),E(this,"onready")}n.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(e){function t(){}return t.prototype=e,new t}),Object.keys||(Object.keys=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}),o.prototype={end:function(){k(this)},write:function(e){if(this.error)throw this.error;if(this.closed)return I(this,"Cannot write after close. Assign an onready handler.");if(null===e)return k(this);"object"==typeof e&&(e=e.toString());for(var t=0,r="";r=P(e,t++),this.c=r,r;)switch(this.trackPosition&&(this.position++,"\n"===r?(this.line++,this.column=0):this.column++),this.state){case x.BEGIN:if(this.state=x.BEGIN_WHITESPACE,"\ufeff"===r)continue;D(this,r);continue;case x.BEGIN_WHITESPACE:D(this,r);continue;case x.TEXT:if(this.sawRoot&&!this.closedRoot){for(var o=t-1;r&&"<"!==r&&"&"!==r;)(r=P(e,t++))&&this.trackPosition&&(this.position++,"\n"===r?(this.line++,this.column=0):this.column++);this.textNode+=e.substring(o,t-1)}"<"!==r||this.sawRoot&&this.closedRoot&&!this.strict?(p(r)||this.sawRoot&&!this.closedRoot||A(this,"Text data outside of root node."),"&"===r?this.state=x.TEXT_ENTITY:this.textNode+=r):(this.state=x.OPEN_WAKA,this.startTagPosition=this.position);continue;case x.SCRIPT:"<"===r?this.state=x.SCRIPT_ENDING:this.script+=r;continue;case x.SCRIPT_ENDING:"/"===r?this.state=x.CLOSE_TAG:(this.script+="<"+r,this.state=x.SCRIPT);continue;case x.OPEN_WAKA:"!"===r?(this.state=x.SGML_DECL,this.sgmlDecl=""):p(r)||(v(l,r)?(this.state=x.OPEN_TAG,this.tagName=r):"/"===r?(this.state=x.CLOSE_TAG,this.tagName=""):"?"===r?(this.state=x.PROC_INST,this.procInstName=this.procInstBody=""):(A(this,"Unencoded <"),this.startTagPosition+1<this.position&&(r=new Array(this.position-this.startTagPosition).join(" ")+r),this.textNode+="<"+r,this.state=x.TEXT));continue;case x.SGML_DECL:"[CDATA["===(this.sgmlDecl+r).toUpperCase()?(T(this,"onopencdata"),this.state=x.CDATA,this.sgmlDecl="",this.cdata=""):this.sgmlDecl+r==="--"?(this.state=x.COMMENT,this.comment="",this.sgmlDecl=""):"DOCTYPE"===(this.sgmlDecl+r).toUpperCase()?(this.state=x.DOCTYPE,(this.doctype||this.sawRoot)&&A(this,"Inappropriately located doctype declaration"),this.doctype="",this.sgmlDecl=""):">"===r?(T(this,"onsgmldeclaration",this.sgmlDecl),this.sgmlDecl="",this.state=x.TEXT):g(r)?(this.state=x.SGML_DECL_QUOTED,this.sgmlDecl+=r):this.sgmlDecl+=r;continue;case x.SGML_DECL_QUOTED:r===this.q&&(this.state=x.SGML_DECL,this.q=""),this.sgmlDecl+=r;continue;case x.DOCTYPE:">"===r?(this.state=x.TEXT,T(this,"ondoctype",this.doctype),this.doctype=!0):(this.doctype+=r,"["===r?this.state=x.DOCTYPE_DTD:g(r)&&(this.state=x.DOCTYPE_QUOTED,this.q=r));continue;case x.DOCTYPE_QUOTED:this.doctype+=r,r===this.q&&(this.q="",this.state=x.DOCTYPE);continue;case x.DOCTYPE_DTD:this.doctype+=r,"]"===r?this.state=x.DOCTYPE:g(r)&&(this.state=x.DOCTYPE_DTD_QUOTED,this.q=r);continue;case x.DOCTYPE_DTD_QUOTED:this.doctype+=r,r===this.q&&(this.state=x.DOCTYPE_DTD,this.q="");continue;case x.COMMENT:"-"===r?this.state=x.COMMENT_ENDING:this.comment+=r;continue;case x.COMMENT_ENDING:"-"===r?(this.state=x.COMMENT_ENDED,this.comment=j(this.opt,this.comment),this.comment&&T(this,"oncomment",this.comment),this.comment=""):(this.comment+="-"+r,this.state=x.COMMENT);continue;case x.COMMENT_ENDED:">"!==r?(A(this,"Malformed comment"),this.comment+="--"+r,this.state=x.COMMENT):this.state=x.TEXT;continue;case x.CDATA:"]"===r?this.state=x.CDATA_ENDING:this.cdata+=r;continue;case x.CDATA_ENDING:"]"===r?this.state=x.CDATA_ENDING_2:(this.cdata+="]"+r,this.state=x.CDATA);continue;case x.CDATA_ENDING_2:">"===r?(this.cdata&&T(this,"oncdata",this.cdata),T(this,"onclosecdata"),this.cdata="",this.state=x.TEXT):"]"===r?this.cdata+="]":(this.cdata+="]]"+r,this.state=x.CDATA);continue;case x.PROC_INST:"?"===r?this.state=x.PROC_INST_ENDING:p(r)?this.state=x.PROC_INST_BODY:this.procInstName+=r;continue;case x.PROC_INST_BODY:if(!this.procInstBody&&p(r))continue;"?"===r?this.state=x.PROC_INST_ENDING:this.procInstBody+=r;continue;case x.PROC_INST_ENDING:">"===r?(T(this,"onprocessinginstruction",{name:this.procInstName,body:this.procInstBody}),this.procInstName=this.procInstBody="",this.state=x.TEXT):(this.procInstBody+="?"+r,this.state=x.PROC_INST_BODY);continue;case x.OPEN_TAG:v(h,r)?this.tagName+=r:(O(this),">"===r?C(this):"/"===r?this.state=x.OPEN_TAG_SLASH:(p(r)||A(this,"Invalid character in tag name"),this.state=x.ATTRIB));continue;case x.OPEN_TAG_SLASH:">"===r?(C(this,!0),M(this)):(A(this,"Forward-slash in opening tag not followed by >"),this.state=x.ATTRIB);continue;case x.ATTRIB:if(p(r))continue;">"===r?C(this):"/"===r?this.state=x.OPEN_TAG_SLASH:v(l,r)?(this.attribName=r,this.attribValue="",this.state=x.ATTRIB_NAME):A(this,"Invalid attribute name");continue;case x.ATTRIB_NAME:"="===r?this.state=x.ATTRIB_VALUE:">"===r?(A(this,"Attribute without value"),this.attribValue=this.attribName,L(this),C(this)):p(r)?this.state=x.ATTRIB_NAME_SAW_WHITE:v(h,r)?this.attribName+=r:A(this,"Invalid attribute name");continue;case x.ATTRIB_NAME_SAW_WHITE:if("="===r)this.state=x.ATTRIB_VALUE;else{if(p(r))continue;A(this,"Attribute without value"),this.tag.attributes[this.attribName]="",this.attribValue="",T(this,"onattribute",{name:this.attribName,value:""}),this.attribName="",">"===r?C(this):v(l,r)?(this.attribName=r,this.state=x.ATTRIB_NAME):(A(this,"Invalid attribute name"),this.state=x.ATTRIB)}continue;case x.ATTRIB_VALUE:if(p(r))continue;g(r)?(this.q=r,this.state=x.ATTRIB_VALUE_QUOTED):(A(this,"Unquoted attribute value"),this.state=x.ATTRIB_VALUE_UNQUOTED,this.attribValue=r);continue;case x.ATTRIB_VALUE_QUOTED:if(r!==this.q){"&"===r?this.state=x.ATTRIB_VALUE_ENTITY_Q:this.attribValue+=r;continue}L(this),this.q="",this.state=x.ATTRIB_VALUE_CLOSED;continue;case x.ATTRIB_VALUE_CLOSED:p(r)?this.state=x.ATTRIB:">"===r?C(this):"/"===r?this.state=x.OPEN_TAG_SLASH:v(l,r)?(A(this,"No whitespace between attributes"),this.attribName=r,this.attribValue="",this.state=x.ATTRIB_NAME):A(this,"Invalid attribute name");continue;case x.ATTRIB_VALUE_UNQUOTED:if(!y(r)){"&"===r?this.state=x.ATTRIB_VALUE_ENTITY_U:this.attribValue+=r;continue}L(this),">"===r?C(this):this.state=x.ATTRIB;continue;case x.CLOSE_TAG:if(this.tagName)">"===r?M(this):v(h,r)?this.tagName+=r:this.script?(this.script+="</"+this.tagName,this.tagName="",this.state=x.SCRIPT):(p(r)||A(this,"Invalid tagname in closing tag"),this.state=x.CLOSE_TAG_SAW_WHITE);else{if(p(r))continue;b(l,r)?this.script?(this.script+="</"+r,this.state=x.SCRIPT):A(this,"Invalid tagname in closing tag."):this.tagName=r}continue;case x.CLOSE_TAG_SAW_WHITE:if(p(r))continue;">"===r?M(this):A(this,"Invalid characters in closing tag");continue;case x.TEXT_ENTITY:case x.ATTRIB_VALUE_ENTITY_Q:case x.ATTRIB_VALUE_ENTITY_U:var a,s;switch(this.state){case x.TEXT_ENTITY:a=x.TEXT,s="textNode";break;case x.ATTRIB_VALUE_ENTITY_Q:a=x.ATTRIB_VALUE_QUOTED,s="attribValue";break;case x.ATTRIB_VALUE_ENTITY_U:a=x.ATTRIB_VALUE_UNQUOTED,s="attribValue"}";"===r?(this[s]+=(u=void 0,c=void 0,void 0,_=void 0,m=(c=this.entity).toLowerCase(),_="",this.ENTITIES[c]?this.ENTITIES[c]:this.ENTITIES[m]?this.ENTITIES[m]:("#"===(c=m).charAt(0)&&("x"===c.charAt(1)?(c=c.slice(2),_=(u=parseInt(c,16)).toString(16)):(c=c.slice(1),_=(u=parseInt(c,10)).toString(10))),c=c.replace(/^0+/,""),isNaN(u)||_.toLowerCase()!==c?(A(this,"Invalid character entity"),"&"+this.entity+";"):String.fromCodePoint(u))),this.entity="",this.state=a):v(this.entity.length?f:d,r)?this.entity+=r:(A(this,"Invalid character in entity name"),this[s]+="&"+this.entity+r,this.entity="",this.state=a);continue;default:throw new Error(this,"Unknown state: "+this.state)}var u,c,m,_;return this.position>=this.bufferCheckPosition&&function(e){for(var t=Math.max(n.MAX_BUFFER_LENGTH,10),r=0,o=0,a=i.length;o<a;o++){var s=e[i[o]].length;if(s>t)switch(i[o]){case"textNode":N(e);break;case"cdata":T(e,"oncdata",e.cdata),e.cdata="";break;case"script":T(e,"onscript",e.script),e.script="";break;default:I(e,"Max buffer length exceeded: "+i[o])}r=Math.max(r,s)}e.bufferCheckPosition=n.MAX_BUFFER_LENGTH-r+e.position}(this),this},resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){N(this),""!==this.cdata&&(T(this,"oncdata",this.cdata),this.cdata=""),""!==this.script&&(T(this,"onscript",this.script),this.script="")}};try{r=e("stream").Stream}catch(B){r=function(){}}var a=n.EVENTS.filter((function(e){return"error"!==e&&"end"!==e}));function s(e,t){if(!(this instanceof s))return new s(e,t);r.apply(this),this._parser=new o(e,t),this.writable=!0,this.readable=!0;var n=this;this._parser.onend=function(){n.emit("end")},this._parser.onerror=function(e){n.emit("error",e),n._parser.error=null},this._decoder=null,a.forEach((function(e){Object.defineProperty(n,"on"+e,{get:function(){return n._parser["on"+e]},set:function(t){if(!t)return n.removeAllListeners(e),n._parser["on"+e]=t,t;n.on(e,t)},enumerable:!0,configurable:!1})}))}(s.prototype=Object.create(r.prototype,{constructor:{value:s}})).write=function(n){if("function"==typeof t&&"function"==typeof t.isBuffer&&t.isBuffer(n)){if(!this._decoder){var r=e("string_decoder").StringDecoder;this._decoder=new r("utf8")}n=this._decoder.write(n)}return this._parser.write(n.toString()),this.emit("data",n),!0},s.prototype.end=function(e){return e&&e.length&&this.write(e),this._parser.end(),!0},s.prototype.on=function(e,t){var n=this;return n._parser["on"+e]||-1===a.indexOf(e)||(n._parser["on"+e]=function(){var t=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);t.splice(0,0,e),n.emit.apply(n,t)}),r.prototype.on.call(n,e,t)};var u="http://www.w3.org/XML/1998/namespace",c={xml:u,xmlns:"http://www.w3.org/2000/xmlns/"},l=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,h=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,d=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,f=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function p(e){return" "===e||"\n"===e||"\r"===e||"\t"===e}function g(e){return'"'===e||"'"===e}function y(e){return">"===e||p(e)}function v(e,t){return e.test(t)}function b(e,t){return!v(e,t)}var m,_,w,x=0;for(var S in n.STATE={BEGIN:x++,BEGIN_WHITESPACE:x++,TEXT:x++,TEXT_ENTITY:x++,OPEN_WAKA:x++,SGML_DECL:x++,SGML_DECL_QUOTED:x++,DOCTYPE:x++,DOCTYPE_QUOTED:x++,DOCTYPE_DTD:x++,DOCTYPE_DTD_QUOTED:x++,COMMENT_STARTING:x++,COMMENT:x++,COMMENT_ENDING:x++,COMMENT_ENDED:x++,CDATA:x++,CDATA_ENDING:x++,CDATA_ENDING_2:x++,PROC_INST:x++,PROC_INST_BODY:x++,PROC_INST_ENDING:x++,OPEN_TAG:x++,OPEN_TAG_SLASH:x++,ATTRIB:x++,ATTRIB_NAME:x++,ATTRIB_NAME_SAW_WHITE:x++,ATTRIB_VALUE:x++,ATTRIB_VALUE_QUOTED:x++,ATTRIB_VALUE_CLOSED:x++,ATTRIB_VALUE_UNQUOTED:x++,ATTRIB_VALUE_ENTITY_Q:x++,ATTRIB_VALUE_ENTITY_U:x++,CLOSE_TAG:x++,CLOSE_TAG_SAW_WHITE:x++,SCRIPT:x++,SCRIPT_ENDING:x++},n.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},n.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(n.ENTITIES).forEach((function(e){var t=n.ENTITIES[e],r="number"==typeof t?String.fromCharCode(t):t;n.ENTITIES[e]=r})),n.STATE)n.STATE[n.STATE[S]]=S;function E(e,t,n){e[t]&&e[t](n)}function T(e,t,n){e.textNode&&N(e),E(e,t,n)}function N(e){e.textNode=j(e.opt,e.textNode),e.textNode&&E(e,"ontext",e.textNode),e.textNode=""}function j(e,t){return e.trim&&(t=t.trim()),e.normalize&&(t=t.replace(/\s+/g," ")),t}function I(e,t){return N(e),e.trackPosition&&(t+="\nLine: "+e.line+"\nColumn: "+e.column+"\nChar: "+e.c),t=new Error(t),e.error=t,E(e,"onerror",t),e}function k(e){return e.sawRoot&&!e.closedRoot&&A(e,"Unclosed root tag"),e.state!==x.BEGIN&&e.state!==x.BEGIN_WHITESPACE&&e.state!==x.TEXT&&I(e,"Unexpected end"),N(e),e.c="",e.closed=!0,E(e,"onend"),o.call(e,e.strict,e.opt),e}function A(e,t){if("object"!=typeof e||!(e instanceof o))throw new Error("bad call to strictFail");e.strict&&I(e,t)}function O(e){e.strict||(e.tagName=e.tagName[e.looseCase]());var t=e.tags[e.tags.length-1]||e,n=e.tag={name:e.tagName,attributes:{}};e.opt.xmlns&&(n.ns=t.ns),e.attribList.length=0,T(e,"onopentagstart",n)}function R(e,t){var n=e.indexOf(":")<0?["",e]:e.split(":"),r=n[0],i=n[1];return t&&"xmlns"===e&&(r="xmlns",i=""),{prefix:r,local:i}}function L(e){if(e.strict||(e.attribName=e.attribName[e.looseCase]()),-1!==e.attribList.indexOf(e.attribName)||e.tag.attributes.hasOwnProperty(e.attribName))e.attribName=e.attribValue="";else{if(e.opt.xmlns){var t=R(e.attribName,!0),n=t.local;if("xmlns"===t.prefix)if("xml"===n&&e.attribValue!==u)A(e,"xml: prefix must be bound to "+u+"\nActual: "+e.attribValue);else if("xmlns"===n&&"http://www.w3.org/2000/xmlns/"!==e.attribValue)A(e,"xmlns: prefix must be bound to http://www.w3.org/2000/xmlns/\nActual: "+e.attribValue);else{var r=e.tag,i=e.tags[e.tags.length-1]||e;r.ns===i.ns&&(r.ns=Object.create(i.ns)),r.ns[n]=e.attribValue}e.attribList.push([e.attribName,e.attribValue])}else e.tag.attributes[e.attribName]=e.attribValue,T(e,"onattribute",{name:e.attribName,value:e.attribValue});e.attribName=e.attribValue=""}}function C(e,t){if(e.opt.xmlns){var n=e.tag,r=R(e.tagName);n.prefix=r.prefix,n.local=r.local,n.uri=n.ns[r.prefix]||"",n.prefix&&!n.uri&&(A(e,"Unbound namespace prefix: "+JSON.stringify(e.tagName)),n.uri=r.prefix),n.ns&&(e.tags[e.tags.length-1]||e).ns!==n.ns&&Object.keys(n.ns).forEach((function(t){T(e,"onopennamespace",{prefix:t,uri:n.ns[t]})}));for(var i=0,o=e.attribList.length;i<o;i++){var a=e.attribList[i],s=a[0],u=a[1],c=R(s,!0),l=c.prefix,h=""===l?"":n.ns[l]||"",d={name:s,value:u,prefix:l,local:c.local,uri:h};l&&"xmlns"!==l&&!h&&(A(e,"Unbound namespace prefix: "+JSON.stringify(l)),d.uri=l),e.tag.attributes[s]=d,T(e,"onattribute",d)}e.attribList.length=0}e.tag.isSelfClosing=!!t,e.sawRoot=!0,e.tags.push(e.tag),T(e,"onopentag",e.tag),t||(e.state=e.noscript||"script"!==e.tagName.toLowerCase()?x.TEXT:x.SCRIPT,e.tag=null,e.tagName=""),e.attribName=e.attribValue="",e.attribList.length=0}function M(e){if(!e.tagName)return A(e,"Weird empty close tag."),e.textNode+="</>",void(e.state=x.TEXT);if(e.script){if("script"!==e.tagName)return e.script+="</"+e.tagName+">",e.tagName="",void(e.state=x.SCRIPT);T(e,"onscript",e.script),e.script=""}var t=e.tags.length,n=e.tagName;e.strict||(n=n[e.looseCase]());for(var r=n;t--&&e.tags[t].name!==r;)A(e,"Unexpected close tag");if(t<0)return A(e,"Unmatched closing tag: "+e.tagName),e.textNode+="</"+e.tagName+">",void(e.state=x.TEXT);e.tagName=n;for(var i=e.tags.length;i-- >t;){var o=e.tag=e.tags.pop();e.tagName=e.tag.name,T(e,"onclosetag",e.tagName);var a={};for(var s in o.ns)a[s]=o.ns[s];e.opt.xmlns&&o.ns!==(e.tags[e.tags.length-1]||e).ns&&Object.keys(o.ns).forEach((function(t){T(e,"onclosenamespace",{prefix:t,uri:o.ns[t]})}))}0===t&&(e.closedRoot=!0),e.tagName=e.attribValue=e.attribName="",e.attribList.length=0,e.state=x.TEXT}function D(e,t){"<"===t?(e.state=x.OPEN_WAKA,e.startTagPosition=e.position):p(t)||(A(e,"Non-whitespace before first tag."),e.textNode=t,e.state=x.TEXT)}function P(e,t){var n="";return t<e.length&&(n=e.charAt(t)),n}x=n.STATE,String.fromCodePoint||(m=String.fromCharCode,_=Math.floor,w=function(){var e=16384,t=[],n=-1,r=arguments.length;if(!r)return"";for(var i="";++n<r;){var o=Number(arguments[n]);if(!isFinite(o)||o<0||o>1114111||_(o)!==o)throw RangeError("Invalid code point: "+o);o<=65535?t.push(o):t.push(55296+((o-=65536)>>10),o%1024+56320),(n+1===r||t.length>e)&&(i+=m.apply(null,t),t.length=0)}return i},Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:w,configurable:!0,writable:!0}):String.fromCodePoint=w)}(void 0===n?this.sax={}:n)}).call(this,e("buffer").Buffer)},{buffer:12,stream:97,string_decoder:113}],97:[function(e,t,n){t.exports=i;var r=e("events").EventEmitter;function i(){r.call(this)}e("inherits")(i,r),i.Readable=e("readable-stream/readable.js"),i.Writable=e("readable-stream/writable.js"),i.Duplex=e("readable-stream/duplex.js"),i.Transform=e("readable-stream/transform.js"),i.PassThrough=e("readable-stream/passthrough.js"),i.Stream=i,i.prototype.pipe=function(e,t){var n=this;function i(t){e.writable&&!1===e.write(t)&&n.pause&&n.pause()}function o(){n.readable&&n.resume&&n.resume()}n.on("data",i),e.on("drain",o),e._isStdio||t&&!1===t.end||(n.on("end",s),n.on("close",u));var a=!1;function s(){a||(a=!0,e.end())}function u(){a||(a=!0,"function"==typeof e.destroy&&e.destroy())}function c(e){if(l(),0===r.listenerCount(this,"error"))throw e}function l(){n.removeListener("data",i),e.removeListener("drain",o),n.removeListener("end",s),n.removeListener("close",u),n.removeListener("error",c),e.removeListener("error",c),n.removeListener("end",l),n.removeListener("close",l),e.removeListener("close",l)}return n.on("error",c),e.on("error",c),n.on("end",l),n.on("close",l),e.on("close",l),e.emit("pipe",n),e}},{events:13,inherits:18,"readable-stream/duplex.js":98,"readable-stream/passthrough.js":107,"readable-stream/readable.js":108,"readable-stream/transform.js":109,"readable-stream/writable.js":110}],98:[function(e,t,n){t.exports=e("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":99}],99:[function(e,t,n){"use strict";var r=e("process-nextick-args"),i=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};t.exports=h;var o=Object.create(e("core-util-is"));o.inherits=e("inherits");var a=e("./_stream_readable"),s=e("./_stream_writable");o.inherits(h,a);for(var u=i(s.prototype),c=0;c<u.length;c++){var l=u[c];h.prototype[l]||(h.prototype[l]=s.prototype[l])}function h(e){if(!(this instanceof h))return new h(e);a.call(this,e),s.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",d)}function d(){this.allowHalfOpen||this._writableState.ended||r.nextTick(f,this)}function f(e){e.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),h.prototype._destroy=function(e,t){this.push(null),this.end(),r.nextTick(t,e)}},{"./_stream_readable":101,"./_stream_writable":103,"core-util-is":16,inherits:18,"process-nextick-args":61}],100:[function(e,t,n){"use strict";t.exports=o;var r=e("./_stream_transform"),i=Object.create(e("core-util-is"));function o(e){if(!(this instanceof o))return new o(e);r.call(this,e)}i.inherits=e("inherits"),i.inherits(o,r),o.prototype._transform=function(e,t,n){n(null,e)}},{"./_stream_transform":102,"core-util-is":16,inherits:18}],101:[function(e,t,n){(function(n,r){"use strict";var i=e("process-nextick-args");t.exports=m;var o,a=e("isarray");m.ReadableState=b,e("events");var s=function(e,t){return e.listeners(t).length},u=e("./internal/streams/stream"),c=e("safe-buffer").Buffer,l=r.Uint8Array||function(){},h=Object.create(e("core-util-is"));h.inherits=e("inherits");var d=e("util"),f=void 0;f=d&&d.debuglog?d.debuglog("stream"):function(){};var p,g=e("./internal/streams/BufferList"),y=e("./internal/streams/destroy");h.inherits(m,u);var v=["error","close","destroy","pause","resume"];function b(t,n){var r=n instanceof(o=o||e("./_stream_duplex"));this.objectMode=!!(t=t||{}).objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var i=t.highWaterMark,a=t.readableHighWaterMark;this.highWaterMark=i||0===i?i:r&&(a||0===a)?a:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(p||(p=e("string_decoder/").StringDecoder),this.decoder=new p(t.encoding),this.encoding=t.encoding)}function m(t){if(o=o||e("./_stream_duplex"),!(this instanceof m))return new m(t);this._readableState=new b(t,this),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),u.call(this)}function _(e,t,n,r,i){var o,a=e._readableState;return null===t?(a.reading=!1,function(e,t){if(!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,S(e)}}(e,a)):(i||(o=function(e,t){var n,r;return c.isBuffer(r=t)||r instanceof l||"string"==typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}(a,t)),o?e.emit("error",o):a.objectMode||t&&t.length>0?("string"==typeof t||a.objectMode||Object.getPrototypeOf(t)===c.prototype||(t=function(e){return c.from(e)}(t)),r?a.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):w(e,a,t,!0):a.ended?e.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!n?(t=a.decoder.write(t),a.objectMode||0!==t.length?w(e,a,t,!1):T(e,a)):w(e,a,t,!1))):r||(a.reading=!1)),function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(a)}function w(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&S(e)),T(e,t)}function x(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=8388608?e=8388608:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function S(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(f("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?i.nextTick(E,e):E(e))}function E(e){f("emit readable"),e.emit("readable"),k(e)}function T(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(N,e,t))}function N(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(f("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function j(e){f("readable nexttick read 0"),e.read(0)}function I(e,t){t.reading||(f("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),k(e),t.flowing&&!t.reading&&e.read(0)}function k(e){var t=e._readableState;for(f("flow",t.flowing);t.flowing&&null!==e.read(););}function A(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=function(e,t,n){var r;return e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?function(e,t){var n=t.head,r=1,i=n.data;for(e-=i.length;n=n.next;){var o=n.data,a=e>o.length?o.length:e;if(i+=a===o.length?o:o.slice(0,e),0==(e-=a)){a===o.length?(++r,t.head=n.next?n.next:t.tail=null):(t.head=n,n.data=o.slice(a));break}++r}return t.length-=r,i}(e,t):function(e,t){var n=c.allocUnsafe(e),r=t.head,i=1;for(r.data.copy(n),e-=r.data.length;r=r.next;){var o=r.data,a=e>o.length?o.length:e;if(o.copy(n,n.length-e,0,a),0==(e-=a)){a===o.length?(++i,t.head=r.next?r.next:t.tail=null):(t.head=r,r.data=o.slice(a));break}++i}return t.length-=i,n}(e,t),r}(e,t.buffer,t.decoder),n);var n}function O(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,i.nextTick(R,t,e))}function R(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function L(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}Object.defineProperty(m.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),m.prototype.destroy=y.destroy,m.prototype._undestroy=y.undestroy,m.prototype._destroy=function(e,t){this.push(null),t(e)},m.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=c.from(e,t),t=""),n=!0),_(this,e,t,!1,n)},m.prototype.unshift=function(e){return _(this,e,null,!0,!1)},m.prototype.isPaused=function(){return!1===this._readableState.flowing},m.prototype.setEncoding=function(t){return p||(p=e("string_decoder/").StringDecoder),this._readableState.decoder=new p(t),this._readableState.encoding=t,this},m.prototype.read=function(e){f("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return f("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?O(this):S(this),null;if(0===(e=x(e,t))&&t.ended)return 0===t.length&&O(this),null;var r,i=t.needReadable;return f("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&f("length less than watermark",i=!0),t.ended||t.reading?f("reading or ended",i=!1):i&&(f("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=x(n,t))),null===(r=e>0?A(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&O(this)),null!==r&&this.emit("data",r),r},m.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},m.prototype.pipe=function(e,t){var r=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=e;break;case 1:o.pipes=[o.pipes,e];break;default:o.pipes.push(e)}o.pipesCount+=1,f("pipe count=%d opts=%j",o.pipesCount,t);var u=t&&!1===t.end||e===n.stdout||e===n.stderr?b:c;function c(){f("onend"),e.end()}o.endEmitted?i.nextTick(u):r.once("end",u),e.on("unpipe",(function t(n,i){f("onunpipe"),n===r&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,f("cleanup"),e.removeListener("close",y),e.removeListener("finish",v),e.removeListener("drain",l),e.removeListener("error",g),e.removeListener("unpipe",t),r.removeListener("end",c),r.removeListener("end",b),r.removeListener("data",p),h=!0,!o.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}));var l=function(e){return function(){var t=e._readableState;f("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,k(e))}}(r);e.on("drain",l);var h=!1,d=!1;function p(t){f("ondata"),d=!1,!1!==e.write(t)||d||((1===o.pipesCount&&o.pipes===e||o.pipesCount>1&&-1!==L(o.pipes,e))&&!h&&(f("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,d=!0),r.pause())}function g(t){f("onerror",t),b(),e.removeListener("error",g),0===s(e,"error")&&e.emit("error",t)}function y(){e.removeListener("finish",v),b()}function v(){f("onfinish"),e.removeListener("close",y),b()}function b(){f("unpipe"),r.unpipe(e)}return r.on("data",p),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener("error",n);e._events&&e._events.error?a(e._events.error)?e._events.error.unshift(n):e._events.error=[n,e._events.error]:e.on("error",n)}(e,0,g),e.once("close",y),e.once("finish",v),e.emit("pipe",r),o.flowing||(f("pipe resume"),r.resume()),e},m.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,n);return this}var a=L(t.pipes,e);return-1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},m.prototype.addListener=m.prototype.on=function(e,t){var n=u.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&S(this):i.nextTick(j,this))}return n},m.prototype.resume=function(){var e=this._readableState;return e.flowing||(f("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(I,e,t))}(this,e)),this},m.prototype.pause=function(){return f("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(f("pause"),this._readableState.flowing=!1,this.emit("pause")),this},m.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",(function(){if(f("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){f("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i||(n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<v.length;o++)e.on(v[o],this.emit.bind(this,v[o]));return this._read=function(t){f("wrapped _read",t),r&&(r=!1,e.resume())},this},Object.defineProperty(m.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),m._fromList=A}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./_stream_duplex":99,"./internal/streams/BufferList":104,"./internal/streams/destroy":105,"./internal/streams/stream":106,_process:62,"core-util-is":16,events:13,inherits:18,isarray:20,"process-nextick-args":61,"safe-buffer":111,"string_decoder/":112,util:11}],102:[function(e,t,n){"use strict";t.exports=a;var r=e("./_stream_duplex"),i=Object.create(e("core-util-is"));function o(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function a(e){if(!(this instanceof a))return new a(e);r.call(this,e),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",s)}function s(){var e=this;"function"==typeof this._flush?this._flush((function(t,n){u(e,t,n)})):u(this,null,null)}function u(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}i.inherits=e("inherits"),i.inherits(a,r),a.prototype.push=function(e,t){return this._transformState.needTransform=!1,r.prototype.push.call(this,e,t)},a.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},a.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},a.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},a.prototype._destroy=function(e,t){var n=this;r.prototype._destroy.call(this,e,(function(e){t(e),n.emit("close")}))}},{"./_stream_duplex":99,"core-util-is":16,inherits:18}],103:[function(e,t,n){(function(n,r,i){"use strict";var o=e("process-nextick-args");function a(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;for(e.entry=null;r;){var i=r.callback;t.pendingcb--,i(void 0),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}t.exports=b;var s,u=!n.browser&&["v0.10","v0.9."].indexOf(n.version.slice(0,5))>-1?i:o.nextTick;b.WritableState=v;var c=Object.create(e("core-util-is"));c.inherits=e("inherits");var l,h={deprecate:e("util-deprecate")},d=e("./internal/streams/stream"),f=e("safe-buffer").Buffer,p=r.Uint8Array||function(){},g=e("./internal/streams/destroy");function y(){}function v(t,n){s=s||e("./_stream_duplex");var r=n instanceof s;this.objectMode=!!(t=t||{}).objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var i=t.highWaterMark,c=t.writableHighWaterMark;this.highWaterMark=i||0===i?i:r&&(c||0===c)?c:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===t.decodeStrings),this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,r,i){--t.pendingcb,n?(o.nextTick(i,r),o.nextTick(E,e,t),e._writableState.errorEmitted=!0,e.emit("error",r)):(i(r),e._writableState.errorEmitted=!0,e.emit("error",r),E(e,t))}(e,n,r,t,i);else{var a=x(n);a||n.corked||n.bufferProcessing||!n.bufferedRequest||w(e,n),r?u(_,e,n,a,i):_(e,n,a,i)}}(n,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function b(t){if(s=s||e("./_stream_duplex"),!(l.call(b,this)||this instanceof s))return new b(t);this._writableState=new v(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),d.call(this)}function m(e,t,n,r,i,o,a){t.writelen=r,t.writecb=a,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function _(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),E(e,t)}function w(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=new Array(t.bufferedRequestCount),i=t.corkedRequestsFree;i.entry=n;for(var o=0,s=!0;n;)r[o]=n,n.isBuf||(s=!1),n=n.next,o+=1;r.allBuffers=s,m(e,t,!0,t.length,r,"",i.finish),t.pendingcb++,t.lastBufferedRequest=null,i.next?(t.corkedRequestsFree=i.next,i.next=null):t.corkedRequestsFree=new a(t),t.bufferedRequestCount=0}else{for(;n;){var u=n.chunk;if(m(e,t,!1,t.objectMode?1:u.length,u,n.encoding,n.callback),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function x(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function S(e,t){e._final((function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),E(e,t)}))}function E(e,t){var n=x(t);return n&&(function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,o.nextTick(S,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}c.inherits(b,d),v.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(v.prototype,"buffer",{get:h.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(l=Function.prototype[Symbol.hasInstance],Object.defineProperty(b,Symbol.hasInstance,{value:function(e){return!!l.call(this,e)||this===b&&e&&e._writableState instanceof v}})):l=function(e){return e instanceof this},b.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},b.prototype.write=function(e,t,n){var r,i=this._writableState,a=!1,s=!i.objectMode&&(f.isBuffer(r=e)||r instanceof p);return s&&!f.isBuffer(e)&&(e=function(e){return f.from(e)}(e)),"function"==typeof t&&(n=t,t=null),s?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof n&&(n=y),i.ended?function(e,t){var n=new Error("write after end");e.emit("error",n),o.nextTick(t,n)}(this,n):(s||function(e,t,n,r){var i=!0,a=!1;return null===n?a=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||t.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(e.emit("error",a),o.nextTick(r,a),i=!1),i}(this,i,e,n))&&(i.pendingcb++,a=function(e,t,n,r,i,o){if(!n){var a=function(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=f.from(t,n)),t}(t,r,i);r!==a&&(n=!0,i="buffer",r=a)}var s=t.objectMode?1:r.length;t.length+=s;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else m(e,t,!1,s,r,i,o);return u}(this,i,s,e,t,n)),a},b.prototype.cork=function(){this._writableState.corked++},b.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||w(this,e))},b.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(b.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),b.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},b.prototype._writev=null,b.prototype.end=function(e,t,n){var r=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||function(e,t,n){t.ending=!0,E(e,t),n&&(t.finished?o.nextTick(n):e.once("finish",n)),t.ended=!0,e.writable=!1}(this,r,n)},Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),b.prototype.destroy=g.destroy,b.prototype._undestroy=g.undestroy,b.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("timers").setImmediate)},{"./_stream_duplex":99,"./internal/streams/destroy":105,"./internal/streams/stream":106,_process:62,"core-util-is":16,inherits:18,"process-nextick-args":61,"safe-buffer":111,timers:14,"util-deprecate":114}],104:[function(e,t,n){"use strict";var r=e("safe-buffer").Buffer,i=e("util");t.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},e.prototype.concat=function(e){if(0===this.length)return r.alloc(0);if(1===this.length)return this.head.data;for(var t=r.allocUnsafe(e>>>0),n=this.head,i=0;n;)n.data.copy(t,i),i+=n.data.length,n=n.next;return t},e}(),i&&i.inspect&&i.inspect.custom&&(t.exports.prototype[i.inspect.custom]=function(){var e=i.inspect({length:this.length});return this.constructor.name+" "+e})},{"safe-buffer":111,util:11}],105:[function(e,t,n){"use strict";var r=e("process-nextick-args");function i(e,t){e.emit("error",t)}t.exports={destroy:function(e,t){var n=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||r.nextTick(i,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?(r.nextTick(i,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":61}],106:[function(e,t,n){arguments[4][91][0].apply(n,arguments)},{dup:91,events:13}],107:[function(e,t,n){t.exports=e("./readable").PassThrough},{"./readable":108}],108:[function(e,t,n){(n=t.exports=e("./lib/_stream_readable.js")).Stream=n,n.Readable=n,n.Writable=e("./lib/_stream_writable.js"),n.Duplex=e("./lib/_stream_duplex.js"),n.Transform=e("./lib/_stream_transform.js"),n.PassThrough=e("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":99,"./lib/_stream_passthrough.js":100,"./lib/_stream_readable.js":101,"./lib/_stream_transform.js":102,"./lib/_stream_writable.js":103}],109:[function(e,t,n){t.exports=e("./readable").Transform},{"./readable":108}],110:[function(e,t,n){t.exports=e("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":103}],111:[function(e,t,n){var r=e("buffer"),i=r.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function a(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=r:(o(r,n),n.Buffer=a),o(i,a),a.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},a.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},{buffer:12}],112:[function(e,t,n){"use strict";var r=e("safe-buffer").Buffer,i=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(r.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=u,this.end=c,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=l,this.end=h,t=3;break;default:return this.write=d,void(this.end=f)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"\ufffd";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"\ufffd";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"\ufffd"}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function u(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):t}function l(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function h(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function d(e){return e.toString(this.encoding)}function f(e){return e&&e.length?this.write(e):""}n.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\ufffd":t},o.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var i=a(t[r]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--r<n||-2===i?0:(i=a(t[r]))>=0?(i>0&&(e.lastNeed=i-2),i):--r<n||-2===i?0:(i=a(t[r]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},{"safe-buffer":111}],113:[function(e,t,n){arguments[4][112][0].apply(n,arguments)},{dup:112,"safe-buffer":95}],114:[function(e,t,n){(function(e){function n(t){try{if(!e.localStorage)return!1}catch(r){return!1}var n=e.localStorage[t];return null!=n&&"true"===String(n).toLowerCase()}t.exports=function(e,t){if(n("noDeprecation"))return e;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],115:[function(e,t,n){"use strict";t.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}},{}],116:[function(e,t,n){"use strict";function r(e){var t=this;if(t instanceof r||(t=new r),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach((function(e){t.push(e)}));else if(arguments.length>0)for(var n=0,i=arguments.length;n<i;n++)t.push(arguments[n]);return t}function i(e,t,n){var r=t===e.head?new s(n,null,t,e):new s(n,t,t.next,e);return null===r.next&&(e.tail=r),null===r.prev&&(e.head=r),e.length++,r}function o(e,t){e.tail=new s(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function a(e,t){e.head=new s(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function s(e,t,n,r){if(!(this instanceof s))return new s(e,t,n,r);this.list=r,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}t.exports=r,r.Node=s,r.create=r,r.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,n=e.prev;return t&&(t.prev=n),n&&(n.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=n),e.list.length--,e.next=null,e.prev=null,e.list=null,t},r.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},r.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},r.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)o(this,arguments[e]);return this.length},r.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)a(this,arguments[e]);return this.length},r.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},r.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},r.prototype.forEach=function(e,t){t=t||this;for(var n=this.head,r=0;null!==n;r++)e.call(t,n.value,r,this),n=n.next},r.prototype.forEachReverse=function(e,t){t=t||this;for(var n=this.tail,r=this.length-1;null!==n;r--)e.call(t,n.value,r,this),n=n.prev},r.prototype.get=function(e){for(var t=0,n=this.head;null!==n&&t<e;t++)n=n.next;if(t===e&&null!==n)return n.value},r.prototype.getReverse=function(e){for(var t=0,n=this.tail;null!==n&&t<e;t++)n=n.prev;if(t===e&&null!==n)return n.value},r.prototype.map=function(e,t){t=t||this;for(var n=new r,i=this.head;null!==i;)n.push(e.call(t,i.value,this)),i=i.next;return n},r.prototype.mapReverse=function(e,t){t=t||this;for(var n=new r,i=this.tail;null!==i;)n.push(e.call(t,i.value,this)),i=i.prev;return n},r.prototype.reduce=function(e,t){var n,r=this.head;if(arguments.length>1)n=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");r=this.head.next,n=this.head.value}for(var i=0;null!==r;i++)n=e(n,r.value,i),r=r.next;return n},r.prototype.reduceReverse=function(e,t){var n,r=this.tail;if(arguments.length>1)n=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");r=this.tail.prev,n=this.tail.value}for(var i=this.length-1;null!==r;i--)n=e(n,r.value,i),r=r.prev;return n},r.prototype.toArray=function(){for(var e=new Array(this.length),t=0,n=this.head;null!==n;t++)e[t]=n.value,n=n.next;return e},r.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,n=this.tail;null!==n;t++)e[t]=n.value,n=n.prev;return e},r.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new r;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=0,o=this.head;null!==o&&i<e;i++)o=o.next;for(;null!==o&&i<t;i++,o=o.next)n.push(o.value);return n},r.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new r;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=this.length,o=this.tail;null!==o&&i>t;i--)o=o.prev;for(;null!==o&&i>e;i--,o=o.prev)n.push(o.value);return n},r.prototype.splice=function(e,t){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var n=0,r=this.head;null!==r&&n<e;n++)r=r.next;var o=[];for(n=0;r&&n<t;n++)o.push(r.value),r=this.removeNode(r);for(null===r&&(r=this.tail),r!==this.head&&r!==this.tail&&(r=r.prev),n=2;n<arguments.length;n++)r=i(this,r,arguments[n]);return o},r.prototype.reverse=function(){for(var e=this.head,t=this.tail,n=e;null!==n;n=n.prev){var r=n.prev;n.prev=n.next,n.next=r}return this.head=t,this.tail=e,this};try{e("./iterator.js")(r)}catch(u){}},{"./iterator.js":115}]},{},[1])(1)},"L1/z":function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0});const i=n("m5Kp"),o=n("TrB0"),a=n("FZPO");r(n("TrB0")),r(n("FZPO"));const s=new a.Translator;function u(e,t){return s.fromRdf(e,t)}s.registerHandler(new o.TypeHandlerString,o.TypeHandlerString.TYPES.map(i.namedNode),["string"]),s.registerHandler(new o.TypeHandlerBoolean,[o.TypeHandlerBoolean.TYPE].map(i.namedNode),["boolean"]),s.registerHandler(new o.TypeHandlerNumberDouble,o.TypeHandlerNumberDouble.TYPES.map(i.namedNode),["number"]),s.registerHandler(new o.TypeHandlerNumberInteger,o.TypeHandlerNumberInteger.TYPES.map(i.namedNode),["number"]),s.registerHandler(new o.TypeHandlerDate,o.TypeHandlerDate.TYPES.map(i.namedNode),["object"]),t.fromRdf=u,t.toRdf=function(e,t){return t&&"namedNode"in t&&(t={dataFactory:t}),(t=t||{})&&!t.dataFactory&&(t.dataFactory=i),s.toRdf(e,t)},t.getTermRaw=function(e,t){return"Literal"===e.termType?u(e,t):e.value},t.getSupportedRdfDatatypes=function(){return s.getSupportedRdfDatatypes()},t.getSupportedJavaScriptPrimitives=function(){return s.getSupportedJavaScriptPrimitives()}},LvDl:function(e,t,n){(function(e){var r;(function(){var i="Expected a function",o="__lodash_placeholder__",a=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],s="[object Arguments]",u="[object Array]",c="[object Boolean]",l="[object Date]",h="[object Error]",d="[object Function]",f="[object GeneratorFunction]",p="[object Map]",g="[object Number]",y="[object Object]",v="[object RegExp]",b="[object Set]",m="[object String]",_="[object Symbol]",w="[object WeakMap]",x="[object ArrayBuffer]",S="[object DataView]",E="[object Float32Array]",T="[object Float64Array]",N="[object Int8Array]",j="[object Int16Array]",I="[object Int32Array]",k="[object Uint8Array]",A="[object Uint16Array]",O="[object Uint32Array]",R=/\b__p \+= '';/g,L=/\b(__p \+=) '' \+/g,C=/(__e\(.*?\)|\b__t\)) \+\n'';/g,M=/&(?:amp|lt|gt|quot|#39);/g,D=/[&<>"']/g,P=RegExp(M.source),B=RegExp(D.source),F=/<%-([\s\S]+?)%>/g,U=/<%([\s\S]+?)%>/g,G=/<%=([\s\S]+?)%>/g,z=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,q=/^\w*$/,V=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,W=/[\\^$.*+?()[\]{}|]/g,H=RegExp(W.source),K=/^\s+|\s+$/g,J=/^\s+/,X=/\s+$/,$=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Q=/\{\n\/\* \[wrapped with (.+)\] \*/,Y=/,? & /,Z=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ee=/\\(\\)?/g,te=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ne=/\w*$/,re=/^[-+]0x[0-9a-f]+$/i,ie=/^0b[01]+$/i,oe=/^\[object .+?Constructor\]$/,ae=/^0o[0-7]+$/i,se=/^(?:0|[1-9]\d*)$/,ue=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ce=/($^)/,le=/['\n\r\u2028\u2029\\]/g,he="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",de="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",fe="["+de+"]",pe="["+he+"]",ge="\\d+",ye="[a-z\\xdf-\\xf6\\xf8-\\xff]",ve="[^\\ud800-\\udfff"+de+ge+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",be="\\ud83c[\\udffb-\\udfff]",me="[^\\ud800-\\udfff]",_e="(?:\\ud83c[\\udde6-\\uddff]){2}",we="[\\ud800-\\udbff][\\udc00-\\udfff]",xe="[A-Z\\xc0-\\xd6\\xd8-\\xde]",Se="(?:"+ye+"|"+ve+")",Ee="(?:"+xe+"|"+ve+")",Te="(?:"+pe+"|"+be+")?",Ne="[\\ufe0e\\ufe0f]?"+Te+"(?:\\u200d(?:"+[me,_e,we].join("|")+")[\\ufe0e\\ufe0f]?"+Te+")*",je="(?:"+["[\\u2700-\\u27bf]",_e,we].join("|")+")"+Ne,Ie="(?:"+[me+pe+"?",pe,_e,we,"[\\ud800-\\udfff]"].join("|")+")",ke=RegExp("['\u2019]","g"),Ae=RegExp(pe,"g"),Oe=RegExp(be+"(?="+be+")|"+Ie+Ne,"g"),Re=RegExp([xe+"?"+ye+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?(?="+[fe,xe,"$"].join("|")+")",Ee+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?(?="+[fe,xe+Se,"$"].join("|")+")",xe+"?"+Se+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?",xe+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ge,je].join("|"),"g"),Le=RegExp("[\\u200d\\ud800-\\udfff"+he+"\\ufe0e\\ufe0f]"),Ce=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Me=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],De=-1,Pe={};Pe[E]=Pe[T]=Pe[N]=Pe[j]=Pe[I]=Pe[k]=Pe["[object Uint8ClampedArray]"]=Pe[A]=Pe[O]=!0,Pe[s]=Pe[u]=Pe[x]=Pe[c]=Pe[S]=Pe[l]=Pe[h]=Pe[d]=Pe[p]=Pe[g]=Pe[y]=Pe[v]=Pe[b]=Pe[m]=Pe[w]=!1;var Be={};Be[s]=Be[u]=Be[x]=Be[S]=Be[c]=Be[l]=Be[E]=Be[T]=Be[N]=Be[j]=Be[I]=Be[p]=Be[g]=Be[y]=Be[v]=Be[b]=Be[m]=Be[_]=Be[k]=Be["[object Uint8ClampedArray]"]=Be[A]=Be[O]=!0,Be[h]=Be[d]=Be[w]=!1;var Fe={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ue=parseFloat,Ge=parseInt,ze="object"==typeof global&&global&&global.Object===Object&&global,qe="object"==typeof self&&self&&self.Object===Object&&self,Ve=ze||qe||Function("return this")(),We=t&&!t.nodeType&&t,He=We&&"object"==typeof e&&e&&!e.nodeType&&e,Ke=He&&He.exports===We,Je=Ke&&ze.process,Xe=function(){try{return He&&He.require&&He.require("util").types||Je&&Je.binding&&Je.binding("util")}catch(e){}}(),$e=Xe&&Xe.isArrayBuffer,Qe=Xe&&Xe.isDate,Ye=Xe&&Xe.isMap,Ze=Xe&&Xe.isRegExp,et=Xe&&Xe.isSet,tt=Xe&&Xe.isTypedArray;function nt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function rt(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var a=e[i];t(r,a,n(a),e)}return r}function it(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function ot(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function at(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function st(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}function ut(e,t){return!(null==e||!e.length)&&bt(e,t,0)>-1}function ct(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function lt(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function ht(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function dt(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function ft(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function pt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var gt=xt("length");function yt(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function vt(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function bt(e,t,n){return t==t?function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):vt(e,_t,n)}function mt(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}function _t(e){return e!=e}function wt(e,t){var n=null==e?0:e.length;return n?Tt(e,t)/n:NaN}function xt(e){return function(t){return null==t?void 0:t[e]}}function St(e){return function(t){return null==e?void 0:e[t]}}function Et(e,t,n,r,i){return i(e,(function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)})),n}function Tt(e,t){for(var n,r=-1,i=e.length;++r<i;){var o=t(e[r]);void 0!==o&&(n=void 0===n?o:n+o)}return n}function Nt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function jt(e){return function(t){return e(t)}}function It(e,t){return lt(t,(function(t){return e[t]}))}function kt(e,t){return e.has(t)}function At(e,t){for(var n=-1,r=e.length;++n<r&&bt(t,e[n],0)>-1;);return n}function Ot(e,t){for(var n=e.length;n--&&bt(t,e[n],0)>-1;);return n}function Rt(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}var Lt=St({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),Ct=St({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Mt(e){return"\\"+Fe[e]}function Dt(e){return Le.test(e)}function Pt(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function Bt(e,t){return function(n){return e(t(n))}}function Ft(e,t){for(var n=-1,r=e.length,i=0,a=[];++n<r;){var s=e[n];s!==t&&s!==o||(e[n]=o,a[i++]=n)}return a}function Ut(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function Gt(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function zt(e){return Dt(e)?function(e){for(var t=Oe.lastIndex=0;Oe.test(e);)++t;return t}(e):gt(e)}function qt(e){return Dt(e)?function(e){return e.match(Oe)||[]}(e):function(e){return e.split("")}(e)}var Vt=St({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Wt=function e(t){var n,r=(t=null==t?Ve:Wt.defaults(Ve.Object(),t,Wt.pick(Ve,Me))).Array,he=t.Date,de=t.Error,fe=t.Function,pe=t.Math,ge=t.Object,ye=t.RegExp,ve=t.String,be=t.TypeError,me=r.prototype,_e=ge.prototype,we=t["__core-js_shared__"],xe=fe.prototype.toString,Se=_e.hasOwnProperty,Ee=0,Te=(n=/[^.]+$/.exec(we&&we.keys&&we.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Ne=_e.toString,je=xe.call(ge),Ie=Ve._,Oe=ye("^"+xe.call(Se).replace(W,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Le=Ke?t.Buffer:void 0,Fe=t.Symbol,ze=t.Uint8Array,qe=Le?Le.allocUnsafe:void 0,We=Bt(ge.getPrototypeOf,ge),He=ge.create,Je=_e.propertyIsEnumerable,Xe=me.splice,gt=Fe?Fe.isConcatSpreadable:void 0,St=Fe?Fe.iterator:void 0,Ht=Fe?Fe.toStringTag:void 0,Kt=function(){try{var e=Qi(ge,"defineProperty");return e({},"",{}),e}catch(t){}}(),Jt=t.clearTimeout!==Ve.clearTimeout&&t.clearTimeout,Xt=he&&he.now!==Ve.Date.now&&he.now,$t=t.setTimeout!==Ve.setTimeout&&t.setTimeout,Qt=pe.ceil,Yt=pe.floor,Zt=ge.getOwnPropertySymbols,en=Le?Le.isBuffer:void 0,tn=t.isFinite,nn=me.join,rn=Bt(ge.keys,ge),on=pe.max,an=pe.min,sn=he.now,un=t.parseInt,cn=pe.random,ln=me.reverse,hn=Qi(t,"DataView"),dn=Qi(t,"Map"),fn=Qi(t,"Promise"),pn=Qi(t,"Set"),gn=Qi(t,"WeakMap"),yn=Qi(ge,"create"),vn=gn&&new gn,bn={},mn=jo(hn),_n=jo(dn),wn=jo(fn),xn=jo(pn),Sn=jo(gn),En=Fe?Fe.prototype:void 0,Tn=En?En.valueOf:void 0,Nn=En?En.toString:void 0;function jn(e){if(Va(e)&&!La(e)&&!(e instanceof On)){if(e instanceof An)return e;if(Se.call(e,"__wrapped__"))return Io(e)}return new An(e)}var In=function(){function e(){}return function(t){if(!qa(t))return{};if(He)return He(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function kn(){}function An(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}function On(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Rn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ln(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Cn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Mn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Cn;++t<n;)this.add(e[t])}function Dn(e){var t=this.__data__=new Ln(e);this.size=t.size}function Pn(e,t){var n=La(e),r=!n&&Ra(e),i=!n&&!r&&Pa(e),o=!n&&!r&&!i&&Ya(e),a=n||r||i||o,s=a?Nt(e.length,ve):[],u=s.length;for(var c in e)!t&&!Se.call(e,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||io(c,u))||s.push(c);return s}function Bn(e){var t=e.length;return t?e[Cr(0,t-1)]:void 0}function Fn(e,t){return xo(gi(e),Jn(t,0,e.length))}function Un(e){return xo(gi(e))}function Gn(e,t,n){(void 0!==n&&!ka(e[t],n)||void 0===n&&!(t in e))&&Hn(e,t,n)}function zn(e,t,n){var r=e[t];Se.call(e,t)&&ka(r,n)&&(void 0!==n||t in e)||Hn(e,t,n)}function qn(e,t){for(var n=e.length;n--;)if(ka(e[n][0],t))return n;return-1}function Vn(e,t,n,r){return Zn(e,(function(e,i,o){t(r,e,n(e),o)})),r}function Wn(e,t){return e&&yi(t,_s(t),e)}function Hn(e,t,n){"__proto__"==t&&Kt?Kt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Kn(e,t){for(var n=-1,i=t.length,o=r(i),a=null==e;++n<i;)o[n]=a?void 0:gs(e,t[n]);return o}function Jn(e,t,n){return e==e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}function Xn(e,t,n,r,i,o){var a,u=1&t,h=2&t,w=4&t;if(n&&(a=i?n(e,r,i,o):n(e)),void 0!==a)return a;if(!qa(e))return e;var R=La(e);if(R){if(a=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&Se.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!u)return gi(e,a)}else{var L=eo(e),C=L==d||L==f;if(Pa(e))return ci(e,u);if(L==y||L==s||C&&!i){if(a=h||C?{}:no(e),!u)return h?function(e,t){return yi(e,Zi(e),t)}(e,function(e,t){return e&&yi(t,ws(t),e)}(a,e)):function(e,t){return yi(e,Yi(e),t)}(e,Wn(a,e))}else{if(!Be[L])return i?e:{};a=function(e,t,n){var r=e.constructor;switch(t){case x:return li(e);case c:case l:return new r(+e);case S:return function(e,t){var n=t?li(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case E:case T:case N:case j:case I:case k:case"[object Uint8ClampedArray]":case A:case O:return hi(e,n);case p:return new r;case g:case m:return new r(e);case v:return function(e){var t=new e.constructor(e.source,ne.exec(e));return t.lastIndex=e.lastIndex,t}(e);case b:return new r;case _:return Tn?ge(Tn.call(e)):{}}}(e,L,u)}}o||(o=new Dn);var M=o.get(e);if(M)return M;o.set(e,a),Xa(e)?e.forEach((function(r){a.add(Xn(r,t,n,r,e,o))})):Wa(e)&&e.forEach((function(r,i){a.set(i,Xn(r,t,n,i,e,o))}));var D=R?void 0:(w?h?Vi:qi:h?ws:_s)(e);return it(D||e,(function(r,i){D&&(r=e[i=r]),zn(a,i,Xn(r,t,n,i,e,o))})),a}function $n(e,t,n){var r=n.length;if(null==e)return!r;for(e=ge(e);r--;){var i=n[r],o=e[i];if(void 0===o&&!(i in e)||!(0,t[i])(o))return!1}return!0}function Qn(e,t,n){if("function"!=typeof e)throw new be(i);return bo((function(){e.apply(void 0,n)}),t)}function Yn(e,t,n,r){var i=-1,o=ut,a=!0,s=e.length,u=[],c=t.length;if(!s)return u;n&&(t=lt(t,jt(n))),r?(o=ct,a=!1):t.length>=200&&(o=kt,a=!1,t=new Mn(t));e:for(;++i<s;){var l=e[i],h=null==n?l:n(l);if(l=r||0!==l?l:0,a&&h==h){for(var d=c;d--;)if(t[d]===h)continue e;u.push(l)}else o(t,h,r)||u.push(l)}return u}jn.templateSettings={escape:F,evaluate:U,interpolate:G,variable:"",imports:{_:jn}},(jn.prototype=kn.prototype).constructor=jn,(An.prototype=In(kn.prototype)).constructor=An,(On.prototype=In(kn.prototype)).constructor=On,Rn.prototype.clear=function(){this.__data__=yn?yn(null):{},this.size=0},Rn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Rn.prototype.get=function(e){var t=this.__data__;if(yn){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return Se.call(t,e)?t[e]:void 0},Rn.prototype.has=function(e){var t=this.__data__;return yn?void 0!==t[e]:Se.call(t,e)},Rn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=yn&&void 0===t?"__lodash_hash_undefined__":t,this},Ln.prototype.clear=function(){this.__data__=[],this.size=0},Ln.prototype.delete=function(e){var t=this.__data__,n=qn(t,e);return!(n<0||(n==t.length-1?t.pop():Xe.call(t,n,1),--this.size,0))},Ln.prototype.get=function(e){var t=this.__data__,n=qn(t,e);return n<0?void 0:t[n][1]},Ln.prototype.has=function(e){return qn(this.__data__,e)>-1},Ln.prototype.set=function(e,t){var n=this.__data__,r=qn(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Cn.prototype.clear=function(){this.size=0,this.__data__={hash:new Rn,map:new(dn||Ln),string:new Rn}},Cn.prototype.delete=function(e){var t=Xi(this,e).delete(e);return this.size-=t?1:0,t},Cn.prototype.get=function(e){return Xi(this,e).get(e)},Cn.prototype.has=function(e){return Xi(this,e).has(e)},Cn.prototype.set=function(e,t){var n=Xi(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Mn.prototype.add=Mn.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Mn.prototype.has=function(e){return this.__data__.has(e)},Dn.prototype.clear=function(){this.__data__=new Ln,this.size=0},Dn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Dn.prototype.get=function(e){return this.__data__.get(e)},Dn.prototype.has=function(e){return this.__data__.has(e)},Dn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Ln){var r=n.__data__;if(!dn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Cn(r)}return n.set(e,t),this.size=n.size,this};var Zn=mi(sr),er=mi(ur,!0);function tr(e,t){var n=!0;return Zn(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function nr(e,t,n){for(var r=-1,i=e.length;++r<i;){var o=e[r],a=t(o);if(null!=a&&(void 0===s?a==a&&!Qa(a):n(a,s)))var s=a,u=o}return u}function rr(e,t){var n=[];return Zn(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function ir(e,t,n,r,i){var o=-1,a=e.length;for(n||(n=ro),i||(i=[]);++o<a;){var s=e[o];t>0&&n(s)?t>1?ir(s,t-1,n,r,i):ht(i,s):r||(i[i.length]=s)}return i}var or=_i(),ar=_i(!0);function sr(e,t){return e&&or(e,t,_s)}function ur(e,t){return e&&ar(e,t,_s)}function cr(e,t){return st(t,(function(t){return Ua(e[t])}))}function lr(e,t){for(var n=0,r=(t=oi(t,e)).length;null!=e&&n<r;)e=e[No(t[n++])];return n&&n==r?e:void 0}function hr(e,t,n){var r=t(e);return La(e)?r:ht(r,n(e))}function dr(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Ht&&Ht in ge(e)?function(e){var t=Se.call(e,Ht),n=e[Ht];try{e[Ht]=void 0;var r=!0}catch(o){}var i=Ne.call(e);return r&&(t?e[Ht]=n:delete e[Ht]),i}(e):function(e){return Ne.call(e)}(e)}function fr(e,t){return e>t}function pr(e,t){return null!=e&&Se.call(e,t)}function gr(e,t){return null!=e&&t in ge(e)}function yr(e,t,n){for(var i=n?ct:ut,o=e[0].length,a=e.length,s=a,u=r(a),c=1/0,l=[];s--;){var h=e[s];s&&t&&(h=lt(h,jt(t))),c=an(h.length,c),u[s]=!n&&(t||o>=120&&h.length>=120)?new Mn(s&&h):void 0}h=e[0];var d=-1,f=u[0];e:for(;++d<o&&l.length<c;){var p=h[d],g=t?t(p):p;if(p=n||0!==p?p:0,!(f?kt(f,g):i(l,g,n))){for(s=a;--s;){var y=u[s];if(!(y?kt(y,g):i(e[s],g,n)))continue e}f&&f.push(g),l.push(p)}}return l}function vr(e,t,n){var r=null==(e=po(e,t=oi(t,e)))?e:e[No(Fo(t))];return null==r?void 0:nt(r,e,n)}function br(e){return Va(e)&&dr(e)==s}function mr(e,t,n,r,i){return e===t||(null==e||null==t||!Va(e)&&!Va(t)?e!=e&&t!=t:function(e,t,n,r,i,o){var a=La(e),d=La(t),f=a?u:eo(e),w=d?u:eo(t),E=(f=f==s?y:f)==y,T=(w=w==s?y:w)==y,N=f==w;if(N&&Pa(e)){if(!Pa(t))return!1;a=!0,E=!1}if(N&&!E)return o||(o=new Dn),a||Ya(e)?Gi(e,t,n,r,i,o):function(e,t,n,r,i,o,a){switch(n){case S:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case x:return!(e.byteLength!=t.byteLength||!o(new ze(e),new ze(t)));case c:case l:case g:return ka(+e,+t);case h:return e.name==t.name&&e.message==t.message;case v:case m:return e==t+"";case p:var s=Pt;case b:if(s||(s=Ut),e.size!=t.size&&!(1&r))return!1;var u=a.get(e);if(u)return u==t;r|=2,a.set(e,t);var d=Gi(s(e),s(t),r,i,o,a);return a.delete(e),d;case _:if(Tn)return Tn.call(e)==Tn.call(t)}return!1}(e,t,f,n,r,i,o);if(!(1&n)){var j=E&&Se.call(e,"__wrapped__"),I=T&&Se.call(t,"__wrapped__");if(j||I){var k=j?e.value():e,A=I?t.value():t;return o||(o=new Dn),i(k,A,n,r,o)}}return!!N&&(o||(o=new Dn),function(e,t,n,r,i,o){var a=1&n,s=qi(e),u=s.length;if(u!=qi(t).length&&!a)return!1;for(var c=u;c--;){var l=s[c];if(!(a?l in t:Se.call(t,l)))return!1}var h=o.get(e);if(h&&o.get(t))return h==t;var d=!0;o.set(e,t),o.set(t,e);for(var f=a;++c<u;){var p=e[l=s[c]],g=t[l];if(r)var y=a?r(g,p,l,t,e,o):r(p,g,l,e,t,o);if(!(void 0===y?p===g||i(p,g,n,r,o):y)){d=!1;break}f||(f="constructor"==l)}if(d&&!f){var v=e.constructor,b=t.constructor;v==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof v&&v instanceof v&&"function"==typeof b&&b instanceof b||(d=!1)}return o.delete(e),o.delete(t),d}(e,t,n,r,i,o))}(e,t,n,r,mr,i))}function _r(e,t,n,r){var i=n.length,o=i,a=!r;if(null==e)return!o;for(e=ge(e);i--;){var s=n[i];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<o;){var u=(s=n[i])[0],c=e[u],l=s[1];if(a&&s[2]){if(void 0===c&&!(u in e))return!1}else{var h=new Dn;if(r)var d=r(c,l,u,e,t,h);if(!(void 0===d?mr(l,c,3,r,h):d))return!1}}return!0}function wr(e){return!(!qa(e)||(t=e,Te&&Te in t))&&(Ua(e)?Oe:oe).test(jo(e));var t}function xr(e){return"function"==typeof e?e:null==e?Hs:"object"==typeof e?La(e)?jr(e[0],e[1]):Nr(e):tu(e)}function Sr(e){if(!co(e))return rn(e);var t=[];for(var n in ge(e))Se.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Er(e,t){return e<t}function Tr(e,t){var n=-1,i=Ma(e)?r(e.length):[];return Zn(e,(function(e,r,o){i[++n]=t(e,r,o)})),i}function Nr(e){var t=$i(e);return 1==t.length&&t[0][2]?ho(t[0][0],t[0][1]):function(n){return n===e||_r(n,e,t)}}function jr(e,t){return ao(e)&&lo(t)?ho(No(e),t):function(n){var r=gs(n,e);return void 0===r&&r===t?ys(n,e):mr(t,r,3)}}function Ir(e,t,n,r,i){e!==t&&or(t,(function(o,a){if(i||(i=new Dn),qa(o))!function(e,t,n,r,i,o,a){var s=yo(e,n),u=yo(t,n),c=a.get(u);if(c)Gn(e,n,c);else{var l=o?o(s,u,n+"",e,t,a):void 0,h=void 0===l;if(h){var d=La(u),f=!d&&Pa(u),p=!d&&!f&&Ya(u);l=u,d||f||p?La(s)?l=s:Da(s)?l=gi(s):f?(h=!1,l=ci(u,!0)):p?(h=!1,l=hi(u,!0)):l=[]:Ka(u)||Ra(u)?(l=s,Ra(s)?l=as(s):qa(s)&&!Ua(s)||(l=no(u))):h=!1}h&&(a.set(u,l),i(l,u,r,o,a),a.delete(u)),Gn(e,n,l)}}(e,t,a,n,Ir,r,i);else{var s=r?r(yo(e,a),o,a+"",e,t,i):void 0;void 0===s&&(s=o),Gn(e,a,s)}}),ws)}function kr(e,t){var n=e.length;if(n)return io(t+=t<0?n:0,n)?e[t]:void 0}function Ar(e,t,n){var r=-1;return t=lt(t.length?t:[Hs],jt(Ji())),function(e,t){var r=e.length;for(e.sort((function(e,t){return function(e,t,n){for(var r=-1,i=e.criteria,o=t.criteria,a=i.length,s=n.length;++r<a;){var u=di(i[r],o[r]);if(u)return r>=s?u:u*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}));r--;)e[r]=e[r].value;return e}(Tr(e,(function(e,n,i){return{criteria:lt(t,(function(t){return t(e)})),index:++r,value:e}})))}function Or(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var a=t[r],s=lr(e,a);n(s,a)&&Fr(o,oi(a,e),s)}return o}function Rr(e,t,n,r){var i=r?mt:bt,o=-1,a=t.length,s=e;for(e===t&&(t=gi(t)),n&&(s=lt(e,jt(n)));++o<a;)for(var u=0,c=t[o],l=n?n(c):c;(u=i(s,l,u,r))>-1;)s!==e&&Xe.call(s,u,1),Xe.call(e,u,1);return e}function Lr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;io(i)?Xe.call(e,i,1):Qr(e,i)}}return e}function Cr(e,t){return e+Yt(cn()*(t-e+1))}function Mr(e,t){var n="";if(!e||t<1||t>9007199254740991)return n;do{t%2&&(n+=e),(t=Yt(t/2))&&(e+=e)}while(t);return n}function Dr(e,t){return mo(fo(e,t,Hs),e+"")}function Pr(e){return Bn(ks(e))}function Br(e,t){var n=ks(e);return xo(n,Jn(t,0,n.length))}function Fr(e,t,n,r){if(!qa(e))return e;for(var i=-1,o=(t=oi(t,e)).length,a=o-1,s=e;null!=s&&++i<o;){var u=No(t[i]),c=n;if(i!=a){var l=s[u];void 0===(c=r?r(l,u,s):void 0)&&(c=qa(l)?l:io(t[i+1])?[]:{})}zn(s,u,c),s=s[u]}return e}var Ur=vn?function(e,t){return vn.set(e,t),e}:Hs,Gr=Kt?function(e,t){return Kt(e,"toString",{configurable:!0,enumerable:!1,value:qs(t),writable:!0})}:Hs;function zr(e){return xo(ks(e))}function qr(e,t,n){var i=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var a=r(o);++i<o;)a[i]=e[i+t];return a}function Vr(e,t){var n;return Zn(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function Wr(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;r<i;){var o=r+i>>>1,a=e[o];null!==a&&!Qa(a)&&(n?a<=t:a<t)?r=o+1:i=o}return i}return Hr(e,t,Hs,n)}function Hr(e,t,n,r){t=n(t);for(var i=0,o=null==e?0:e.length,a=t!=t,s=null===t,u=Qa(t),c=void 0===t;i<o;){var l=Yt((i+o)/2),h=n(e[l]),d=void 0!==h,f=null===h,p=h==h,g=Qa(h);if(a)var y=r||p;else y=c?p&&(r||d):s?p&&d&&(r||!f):u?p&&d&&!f&&(r||!g):!f&&!g&&(r?h<=t:h<t);y?i=l+1:o=l}return an(o,4294967294)}function Kr(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n],s=t?t(a):a;if(!n||!ka(s,u)){var u=s;o[i++]=0===a?0:a}}return o}function Jr(e){return"number"==typeof e?e:Qa(e)?NaN:+e}function Xr(e){if("string"==typeof e)return e;if(La(e))return lt(e,Xr)+"";if(Qa(e))return Nn?Nn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function $r(e,t,n){var r=-1,i=ut,o=e.length,a=!0,s=[],u=s;if(n)a=!1,i=ct;else if(o>=200){var c=t?null:Mi(e);if(c)return Ut(c);a=!1,i=kt,u=new Mn}else u=t?[]:s;e:for(;++r<o;){var l=e[r],h=t?t(l):l;if(l=n||0!==l?l:0,a&&h==h){for(var d=u.length;d--;)if(u[d]===h)continue e;t&&u.push(h),s.push(l)}else i(u,h,n)||(u!==s&&u.push(h),s.push(l))}return s}function Qr(e,t){return null==(e=po(e,t=oi(t,e)))||delete e[No(Fo(t))]}function Yr(e,t,n,r){return Fr(e,t,n(lr(e,t)),r)}function Zr(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?qr(e,r?0:o,r?o+1:i):qr(e,r?o+1:0,r?i:o)}function ei(e,t){var n=e;return n instanceof On&&(n=n.value()),dt(t,(function(e,t){return t.func.apply(t.thisArg,ht([e],t.args))}),n)}function ti(e,t,n){var i=e.length;if(i<2)return i?$r(e[0]):[];for(var o=-1,a=r(i);++o<i;)for(var s=e[o],u=-1;++u<i;)u!=o&&(a[o]=Yn(a[o]||s,e[u],t,n));return $r(ir(a,1),t,n)}function ni(e,t,n){for(var r=-1,i=e.length,o=t.length,a={};++r<i;)n(a,e[r],r<o?t[r]:void 0);return a}function ri(e){return Da(e)?e:[]}function ii(e){return"function"==typeof e?e:Hs}function oi(e,t){return La(e)?e:ao(e,t)?[e]:To(ss(e))}var ai=Dr;function si(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:qr(e,t,n)}var ui=Jt||function(e){return Ve.clearTimeout(e)};function ci(e,t){if(t)return e.slice();var n=e.length,r=qe?qe(n):new e.constructor(n);return e.copy(r),r}function li(e){var t=new e.constructor(e.byteLength);return new ze(t).set(new ze(e)),t}function hi(e,t){var n=t?li(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function di(e,t){if(e!==t){var n=void 0!==e,r=null===e,i=e==e,o=Qa(e),a=void 0!==t,s=null===t,u=t==t,c=Qa(t);if(!s&&!c&&!o&&e>t||o&&a&&u&&!s&&!c||r&&a&&u||!n&&u||!i)return 1;if(!r&&!o&&!c&&e<t||c&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!u)return-1}return 0}function fi(e,t,n,i){for(var o=-1,a=e.length,s=n.length,u=-1,c=t.length,l=on(a-s,0),h=r(c+l),d=!i;++u<c;)h[u]=t[u];for(;++o<s;)(d||o<a)&&(h[n[o]]=e[o]);for(;l--;)h[u++]=e[o++];return h}function pi(e,t,n,i){for(var o=-1,a=e.length,s=-1,u=n.length,c=-1,l=t.length,h=on(a-u,0),d=r(h+l),f=!i;++o<h;)d[o]=e[o];for(var p=o;++c<l;)d[p+c]=t[c];for(;++s<u;)(f||o<a)&&(d[p+n[s]]=e[o++]);return d}function gi(e,t){var n=-1,i=e.length;for(t||(t=r(i));++n<i;)t[n]=e[n];return t}function yi(e,t,n,r){var i=!n;n||(n={});for(var o=-1,a=t.length;++o<a;){var s=t[o],u=r?r(n[s],e[s],s,n,e):void 0;void 0===u&&(u=e[s]),i?Hn(n,s,u):zn(n,s,u)}return n}function vi(e,t){return function(n,r){var i=La(n)?rt:Vn,o=t?t():{};return i(n,e,Ji(r,2),o)}}function bi(e){return Dr((function(t,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,a=i>2?n[2]:void 0;for(o=e.length>3&&"function"==typeof o?(i--,o):void 0,a&&oo(n[0],n[1],a)&&(o=i<3?void 0:o,i=1),t=ge(t);++r<i;){var s=n[r];s&&e(t,s,r,o)}return t}))}function mi(e,t){return function(n,r){if(null==n)return n;if(!Ma(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=ge(n);(t?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function _i(e){return function(t,n,r){for(var i=-1,o=ge(t),a=r(t),s=a.length;s--;){var u=a[e?s:++i];if(!1===n(o[u],u,o))break}return t}}function wi(e){return function(t){var n=Dt(t=ss(t))?qt(t):void 0,r=n?n[0]:t.charAt(0),i=n?si(n,1).join(""):t.slice(1);return r[e]()+i}}function xi(e){return function(t){return dt(Us(Rs(t).replace(ke,"")),e,"")}}function Si(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=In(e.prototype),r=e.apply(n,t);return qa(r)?r:n}}function Ei(e){return function(t,n,r){var i=ge(t);if(!Ma(t)){var o=Ji(n,3);t=_s(t),n=function(e){return o(i[e],e,i)}}var a=e(t,n,r);return a>-1?i[o?t[a]:a]:void 0}}function Ti(e){return zi((function(t){var n=t.length,r=n,o=An.prototype.thru;for(e&&t.reverse();r--;){var a=t[r];if("function"!=typeof a)throw new be(i);if(o&&!s&&"wrapper"==Hi(a))var s=new An([],!0)}for(r=s?r:n;++r<n;){var u=Hi(a=t[r]),c="wrapper"==u?Wi(a):void 0;s=c&&so(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?s[Hi(c[0])].apply(s,c[3]):1==a.length&&so(a)?s[u]():s.thru(a)}return function(){var e=arguments,r=e[0];if(s&&1==e.length&&La(r))return s.plant(r).value();for(var i=0,o=n?t[i].apply(this,e):r;++i<n;)o=t[i].call(this,o);return o}}))}function Ni(e,t,n,i,o,a,s,u,c,l){var h=128&t,d=1&t,f=2&t,p=24&t,g=512&t,y=f?void 0:Si(e);return function v(){for(var b=arguments.length,m=r(b),_=b;_--;)m[_]=arguments[_];if(p)var w=Ki(v),x=Rt(m,w);if(i&&(m=fi(m,i,o,p)),a&&(m=pi(m,a,s,p)),b-=x,p&&b<l){var S=Ft(m,w);return Li(e,t,Ni,v.placeholder,n,m,S,u,c,l-b)}var E=d?n:this,T=f?E[e]:e;return b=m.length,u?m=go(m,u):g&&b>1&&m.reverse(),h&&c<b&&(m.length=c),this&&this!==Ve&&this instanceof v&&(T=y||Si(T)),T.apply(E,m)}}function ji(e,t){return function(n,r){return function(e,t,n,r){return sr(e,(function(e,i,o){t(r,n(e),i,o)})),r}(n,e,t(r),{})}}function Ii(e,t){return function(n,r){var i;if(void 0===n&&void 0===r)return t;if(void 0!==n&&(i=n),void 0!==r){if(void 0===i)return r;"string"==typeof n||"string"==typeof r?(n=Xr(n),r=Xr(r)):(n=Jr(n),r=Jr(r)),i=e(n,r)}return i}}function ki(e){return zi((function(t){return t=lt(t,jt(Ji())),Dr((function(n){var r=this;return e(t,(function(e){return nt(e,r,n)}))}))}))}function Ai(e,t){var n=(t=void 0===t?" ":Xr(t)).length;if(n<2)return n?Mr(t,e):t;var r=Mr(t,Qt(e/zt(t)));return Dt(t)?si(qt(r),0,e).join(""):r.slice(0,e)}function Oi(e){return function(t,n,i){return i&&"number"!=typeof i&&oo(t,n,i)&&(n=i=void 0),t=ns(t),void 0===n?(n=t,t=0):n=ns(n),function(e,t,n,i){for(var o=-1,a=on(Qt((t-e)/(n||1)),0),s=r(a);a--;)s[i?a:++o]=e,e+=n;return s}(t,n,i=void 0===i?t<n?1:-1:ns(i),e)}}function Ri(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=os(t),n=os(n)),e(t,n)}}function Li(e,t,n,r,i,o,a,s,u,c){var l=8&t;t|=l?32:64,4&(t&=~(l?64:32))||(t&=-4);var h=[e,t,i,l?o:void 0,l?a:void 0,l?void 0:o,l?void 0:a,s,u,c],d=n.apply(void 0,h);return so(e)&&vo(d,h),d.placeholder=r,_o(d,e,t)}function Ci(e){var t=pe[e];return function(e,n){if(e=os(e),(n=null==n?0:an(rs(n),292))&&tn(e)){var r=(ss(e)+"e").split("e");return+((r=(ss(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Mi=pn&&1/Ut(new pn([,-0]))[1]==1/0?function(e){return new pn(e)}:Qs;function Di(e){return function(t){var n=eo(t);return n==p?Pt(t):n==b?Gt(t):function(e,t){return lt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Pi(e,t,n,a,s,u,c,l){var h=2&t;if(!h&&"function"!=typeof e)throw new be(i);var d=a?a.length:0;if(d||(t&=-97,a=s=void 0),c=void 0===c?c:on(rs(c),0),l=void 0===l?l:rs(l),d-=s?s.length:0,64&t){var f=a,p=s;a=s=void 0}var g=h?void 0:Wi(e),y=[e,t,n,a,s,f,p,u,c,l];if(g&&function(e,t){var n=e[1],r=t[1],i=n|r;if(!(i<131||128==r&&8==n||128==r&&256==n&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n))return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var a=t[3];if(a){var s=e[3];e[3]=s?fi(s,a,t[4]):a,e[4]=s?Ft(e[3],o):t[4]}(a=t[5])&&(e[5]=(s=e[5])?pi(s,a,t[6]):a,e[6]=s?Ft(e[5],o):t[6]),(a=t[7])&&(e[7]=a),128&r&&(e[8]=null==e[8]?t[8]:an(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i}(y,g),e=y[0],t=y[1],n=y[2],a=y[3],s=y[4],!(l=y[9]=void 0===y[9]?h?0:e.length:on(y[9]-d,0))&&24&t&&(t&=-25),t&&1!=t)v=8==t||16==t?function(e,t,n){var i=Si(e);return function o(){for(var a=arguments.length,s=r(a),u=a,c=Ki(o);u--;)s[u]=arguments[u];var l=a<3&&s[0]!==c&&s[a-1]!==c?[]:Ft(s,c);if((a-=l.length)<n)return Li(e,t,Ni,o.placeholder,void 0,s,l,void 0,void 0,n-a);var h=this&&this!==Ve&&this instanceof o?i:e;return nt(h,this,s)}}(e,t,l):32!=t&&33!=t||s.length?Ni.apply(void 0,y):function(e,t,n,i){var o=1&t,a=Si(e);return function t(){for(var s=-1,u=arguments.length,c=-1,l=i.length,h=r(l+u),d=this&&this!==Ve&&this instanceof t?a:e;++c<l;)h[c]=i[c];for(;u--;)h[c++]=arguments[++s];return nt(d,o?n:this,h)}}(e,t,n,a);else var v=function(e,t,n){var r=1&t,i=Si(e);return function t(){var o=this&&this!==Ve&&this instanceof t?i:e;return o.apply(r?n:this,arguments)}}(e,t,n);return _o((g?Ur:vo)(v,y),e,t)}function Bi(e,t,n,r){return void 0===e||ka(e,_e[n])&&!Se.call(r,n)?t:e}function Fi(e,t,n,r,i,o){return qa(e)&&qa(t)&&(o.set(t,e),Ir(e,t,void 0,Fi,o),o.delete(t)),e}function Ui(e){return Ka(e)?void 0:e}function Gi(e,t,n,r,i,o){var a=1&n,s=e.length,u=t.length;if(s!=u&&!(a&&u>s))return!1;var c=o.get(e);if(c&&o.get(t))return c==t;var l=-1,h=!0,d=2&n?new Mn:void 0;for(o.set(e,t),o.set(t,e);++l<s;){var f=e[l],p=t[l];if(r)var g=a?r(p,f,l,t,e,o):r(f,p,l,e,t,o);if(void 0!==g){if(g)continue;h=!1;break}if(d){if(!pt(t,(function(e,t){if(!kt(d,t)&&(f===e||i(f,e,n,r,o)))return d.push(t)}))){h=!1;break}}else if(f!==p&&!i(f,p,n,r,o)){h=!1;break}}return o.delete(e),o.delete(t),h}function zi(e){return mo(fo(e,void 0,Co),e+"")}function qi(e){return hr(e,_s,Yi)}function Vi(e){return hr(e,ws,Zi)}var Wi=vn?function(e){return vn.get(e)}:Qs;function Hi(e){for(var t=e.name+"",n=bn[t],r=Se.call(bn,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function Ki(e){return(Se.call(jn,"placeholder")?jn:e).placeholder}function Ji(){var e=jn.iteratee||Ks;return e=e===Ks?xr:e,arguments.length?e(arguments[0],arguments[1]):e}function Xi(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function $i(e){for(var t=_s(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,lo(i)]}return t}function Qi(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return wr(n)?n:void 0}var Yi=Zt?function(e){return null==e?[]:(e=ge(e),st(Zt(e),(function(t){return Je.call(e,t)})))}:iu,Zi=Zt?function(e){for(var t=[];e;)ht(t,Yi(e)),e=We(e);return t}:iu,eo=dr;function to(e,t,n){for(var r=-1,i=(t=oi(t,e)).length,o=!1;++r<i;){var a=No(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&za(i)&&io(a,i)&&(La(e)||Ra(e))}function no(e){return"function"!=typeof e.constructor||co(e)?{}:In(We(e))}function ro(e){return La(e)||Ra(e)||!!(gt&&e&&e[gt])}function io(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&se.test(e))&&e>-1&&e%1==0&&e<t}function oo(e,t,n){if(!qa(n))return!1;var r=typeof t;return!!("number"==r?Ma(n)&&io(t,n.length):"string"==r&&t in n)&&ka(n[t],e)}function ao(e,t){if(La(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Qa(e))||q.test(e)||!z.test(e)||null!=t&&e in ge(t)}function so(e){var t=Hi(e),n=jn[t];if("function"!=typeof n||!(t in On.prototype))return!1;if(e===n)return!0;var r=Wi(n);return!!r&&e===r[0]}(hn&&eo(new hn(new ArrayBuffer(1)))!=S||dn&&eo(new dn)!=p||fn&&"[object Promise]"!=eo(fn.resolve())||pn&&eo(new pn)!=b||gn&&eo(new gn)!=w)&&(eo=function(e){var t=dr(e),n=t==y?e.constructor:void 0,r=n?jo(n):"";if(r)switch(r){case mn:return S;case _n:return p;case wn:return"[object Promise]";case xn:return b;case Sn:return w}return t});var uo=we?Ua:ou;function co(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||_e)}function lo(e){return e==e&&!qa(e)}function ho(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in ge(n))}}function fo(e,t,n){return t=on(void 0===t?e.length-1:t,0),function(){for(var i=arguments,o=-1,a=on(i.length-t,0),s=r(a);++o<a;)s[o]=i[t+o];o=-1;for(var u=r(t+1);++o<t;)u[o]=i[o];return u[t]=n(s),nt(e,this,u)}}function po(e,t){return t.length<2?e:lr(e,qr(t,0,-1))}function go(e,t){for(var n=e.length,r=an(t.length,n),i=gi(e);r--;){var o=t[r];e[r]=io(o,n)?i[o]:void 0}return e}function yo(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var vo=wo(Ur),bo=$t||function(e,t){return Ve.setTimeout(e,t)},mo=wo(Gr);function _o(e,t,n){var r=t+"";return mo(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace($,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return it(a,(function(n){var r="_."+n[0];t&n[1]&&!ut(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(Q);return t?t[1].split(Y):[]}(r),n)))}function wo(e){var t=0,n=0;return function(){var r=sn(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function xo(e,t){var n=-1,r=e.length,i=r-1;for(t=void 0===t?r:t;++n<t;){var o=Cr(n,i),a=e[o];e[o]=e[n],e[n]=a}return e.length=t,e}var So,Eo,To=(So=Sa((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(V,(function(e,n,r,i){t.push(r?i.replace(ee,"$1"):n||e)})),t}),(function(e){return 500===Eo.size&&Eo.clear(),e})),Eo=So.cache,So);function No(e){if("string"==typeof e||Qa(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function jo(e){if(null!=e){try{return xe.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Io(e){if(e instanceof On)return e.clone();var t=new An(e.__wrapped__,e.__chain__);return t.__actions__=gi(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var ko=Dr((function(e,t){return Da(e)?Yn(e,ir(t,1,Da,!0)):[]})),Ao=Dr((function(e,t){var n=Fo(t);return Da(n)&&(n=void 0),Da(e)?Yn(e,ir(t,1,Da,!0),Ji(n,2)):[]})),Oo=Dr((function(e,t){var n=Fo(t);return Da(n)&&(n=void 0),Da(e)?Yn(e,ir(t,1,Da,!0),void 0,n):[]}));function Ro(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:rs(n);return i<0&&(i=on(r+i,0)),vt(e,Ji(t,3),i)}function Lo(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r-1;return void 0!==n&&(i=rs(n),i=n<0?on(r+i,0):an(i,r-1)),vt(e,Ji(t,3),i,!0)}function Co(e){return null!=e&&e.length?ir(e,1):[]}function Mo(e){return e&&e.length?e[0]:void 0}var Do=Dr((function(e){var t=lt(e,ri);return t.length&&t[0]===e[0]?yr(t):[]})),Po=Dr((function(e){var t=Fo(e),n=lt(e,ri);return t===Fo(n)?t=void 0:n.pop(),n.length&&n[0]===e[0]?yr(n,Ji(t,2)):[]})),Bo=Dr((function(e){var t=Fo(e),n=lt(e,ri);return(t="function"==typeof t?t:void 0)&&n.pop(),n.length&&n[0]===e[0]?yr(n,void 0,t):[]}));function Fo(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}var Uo=Dr(Go);function Go(e,t){return e&&e.length&&t&&t.length?Rr(e,t):e}var zo=zi((function(e,t){var n=null==e?0:e.length,r=Kn(e,t);return Lr(e,lt(t,(function(e){return io(e,n)?+e:e})).sort(di)),r}));function qo(e){return null==e?e:ln.call(e)}var Vo=Dr((function(e){return $r(ir(e,1,Da,!0))})),Wo=Dr((function(e){var t=Fo(e);return Da(t)&&(t=void 0),$r(ir(e,1,Da,!0),Ji(t,2))})),Ho=Dr((function(e){var t=Fo(e);return t="function"==typeof t?t:void 0,$r(ir(e,1,Da,!0),void 0,t)}));function Ko(e){if(!e||!e.length)return[];var t=0;return e=st(e,(function(e){if(Da(e))return t=on(e.length,t),!0})),Nt(t,(function(t){return lt(e,xt(t))}))}function Jo(e,t){if(!e||!e.length)return[];var n=Ko(e);return null==t?n:lt(n,(function(e){return nt(t,void 0,e)}))}var Xo=Dr((function(e,t){return Da(e)?Yn(e,t):[]})),$o=Dr((function(e){return ti(st(e,Da))})),Qo=Dr((function(e){var t=Fo(e);return Da(t)&&(t=void 0),ti(st(e,Da),Ji(t,2))})),Yo=Dr((function(e){var t=Fo(e);return t="function"==typeof t?t:void 0,ti(st(e,Da),void 0,t)})),Zo=Dr(Ko),ea=Dr((function(e){var t=e.length,n=t>1?e[t-1]:void 0;return n="function"==typeof n?(e.pop(),n):void 0,Jo(e,n)}));function ta(e){var t=jn(e);return t.__chain__=!0,t}function na(e,t){return t(e)}var ra=zi((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,i=function(t){return Kn(t,e)};return!(t>1||this.__actions__.length)&&r instanceof On&&io(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:na,args:[i],thisArg:void 0}),new An(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(void 0),e}))):this.thru(i)})),ia=vi((function(e,t,n){Se.call(e,n)?++e[n]:Hn(e,n,1)})),oa=Ei(Ro),aa=Ei(Lo);function sa(e,t){return(La(e)?it:Zn)(e,Ji(t,3))}function ua(e,t){return(La(e)?ot:er)(e,Ji(t,3))}var ca=vi((function(e,t,n){Se.call(e,n)?e[n].push(t):Hn(e,n,[t])})),la=Dr((function(e,t,n){var i=-1,o="function"==typeof t,a=Ma(e)?r(e.length):[];return Zn(e,(function(e){a[++i]=o?nt(t,e,n):vr(e,t,n)})),a})),ha=vi((function(e,t,n){Hn(e,n,t)}));function da(e,t){return(La(e)?lt:Tr)(e,Ji(t,3))}var fa=vi((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]})),pa=Dr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&oo(e,t[0],t[1])?t=[]:n>2&&oo(t[0],t[1],t[2])&&(t=[t[0]]),Ar(e,ir(t,1),[])})),ga=Xt||function(){return Ve.Date.now()};function ya(e,t,n){return t=n?void 0:t,Pi(e,128,void 0,void 0,void 0,void 0,t=e&&null==t?e.length:t)}function va(e,t){var n;if("function"!=typeof t)throw new be(i);return e=rs(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=void 0),n}}var ba=Dr((function(e,t,n){var r=1;if(n.length){var i=Ft(n,Ki(ba));r|=32}return Pi(e,r,t,n,i)})),ma=Dr((function(e,t,n){var r=3;if(n.length){var i=Ft(n,Ki(ma));r|=32}return Pi(t,r,e,n,i)}));function _a(e,t,n){var r,o,a,s,u,c,l=0,h=!1,d=!1,f=!0;if("function"!=typeof e)throw new be(i);function p(t){var n=r,i=o;return r=o=void 0,l=t,s=e.apply(i,n)}function g(e){return l=e,u=bo(v,t),h?p(e):s}function y(e){var n=e-c;return void 0===c||n>=t||n<0||d&&e-l>=a}function v(){var e=ga();if(y(e))return b(e);u=bo(v,function(e){var n=t-(e-c);return d?an(n,a-(e-l)):n}(e))}function b(e){return u=void 0,f&&r?p(e):(r=o=void 0,s)}function m(){var e=ga(),n=y(e);if(r=arguments,o=this,c=e,n){if(void 0===u)return g(c);if(d)return ui(u),u=bo(v,t),p(c)}return void 0===u&&(u=bo(v,t)),s}return t=os(t)||0,qa(n)&&(h=!!n.leading,a=(d="maxWait"in n)?on(os(n.maxWait)||0,t):a,f="trailing"in n?!!n.trailing:f),m.cancel=function(){void 0!==u&&ui(u),l=0,r=c=o=u=void 0},m.flush=function(){return void 0===u?s:b(ga())},m}var wa=Dr((function(e,t){return Qn(e,1,t)})),xa=Dr((function(e,t,n){return Qn(e,os(t)||0,n)}));function Sa(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new be(i);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Sa.Cache||Cn),n}function Ea(e){if("function"!=typeof e)throw new be(i);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Sa.Cache=Cn;var Ta=ai((function(e,t){var n=(t=1==t.length&&La(t[0])?lt(t[0],jt(Ji())):lt(ir(t,1),jt(Ji()))).length;return Dr((function(r){for(var i=-1,o=an(r.length,n);++i<o;)r[i]=t[i].call(this,r[i]);return nt(e,this,r)}))})),Na=Dr((function(e,t){return Pi(e,32,void 0,t,Ft(t,Ki(Na)))})),ja=Dr((function(e,t){return Pi(e,64,void 0,t,Ft(t,Ki(ja)))})),Ia=zi((function(e,t){return Pi(e,256,void 0,void 0,void 0,t)}));function ka(e,t){return e===t||e!=e&&t!=t}var Aa=Ri(fr),Oa=Ri((function(e,t){return e>=t})),Ra=br(function(){return arguments}())?br:function(e){return Va(e)&&Se.call(e,"callee")&&!Je.call(e,"callee")},La=r.isArray,Ca=$e?jt($e):function(e){return Va(e)&&dr(e)==x};function Ma(e){return null!=e&&za(e.length)&&!Ua(e)}function Da(e){return Va(e)&&Ma(e)}var Pa=en||ou,Ba=Qe?jt(Qe):function(e){return Va(e)&&dr(e)==l};function Fa(e){if(!Va(e))return!1;var t=dr(e);return t==h||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!Ka(e)}function Ua(e){if(!qa(e))return!1;var t=dr(e);return t==d||t==f||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Ga(e){return"number"==typeof e&&e==rs(e)}function za(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function qa(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Va(e){return null!=e&&"object"==typeof e}var Wa=Ye?jt(Ye):function(e){return Va(e)&&eo(e)==p};function Ha(e){return"number"==typeof e||Va(e)&&dr(e)==g}function Ka(e){if(!Va(e)||dr(e)!=y)return!1;var t=We(e);if(null===t)return!0;var n=Se.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&xe.call(n)==je}var Ja=Ze?jt(Ze):function(e){return Va(e)&&dr(e)==v},Xa=et?jt(et):function(e){return Va(e)&&eo(e)==b};function $a(e){return"string"==typeof e||!La(e)&&Va(e)&&dr(e)==m}function Qa(e){return"symbol"==typeof e||Va(e)&&dr(e)==_}var Ya=tt?jt(tt):function(e){return Va(e)&&za(e.length)&&!!Pe[dr(e)]},Za=Ri(Er),es=Ri((function(e,t){return e<=t}));function ts(e){if(!e)return[];if(Ma(e))return $a(e)?qt(e):gi(e);if(St&&e[St])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[St]());var t=eo(e);return(t==p?Pt:t==b?Ut:ks)(e)}function ns(e){return e?(e=os(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function rs(e){var t=ns(e),n=t%1;return t==t?n?t-n:t:0}function is(e){return e?Jn(rs(e),0,4294967295):0}function os(e){if("number"==typeof e)return e;if(Qa(e))return NaN;if(qa(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=qa(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(K,"");var n=ie.test(e);return n||ae.test(e)?Ge(e.slice(2),n?2:8):re.test(e)?NaN:+e}function as(e){return yi(e,ws(e))}function ss(e){return null==e?"":Xr(e)}var us=bi((function(e,t){if(co(t)||Ma(t))yi(t,_s(t),e);else for(var n in t)Se.call(t,n)&&zn(e,n,t[n])})),cs=bi((function(e,t){yi(t,ws(t),e)})),ls=bi((function(e,t,n,r){yi(t,ws(t),e,r)})),hs=bi((function(e,t,n,r){yi(t,_s(t),e,r)})),ds=zi(Kn),fs=Dr((function(e,t){e=ge(e);var n=-1,r=t.length,i=r>2?t[2]:void 0;for(i&&oo(t[0],t[1],i)&&(r=1);++n<r;)for(var o=t[n],a=ws(o),s=-1,u=a.length;++s<u;){var c=a[s],l=e[c];(void 0===l||ka(l,_e[c])&&!Se.call(e,c))&&(e[c]=o[c])}return e})),ps=Dr((function(e){return e.push(void 0,Fi),nt(Ss,void 0,e)}));function gs(e,t,n){var r=null==e?void 0:lr(e,t);return void 0===r?n:r}function ys(e,t){return null!=e&&to(e,t,gr)}var vs=ji((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ne.call(t)),e[t]=n}),qs(Hs)),bs=ji((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ne.call(t)),Se.call(e,t)?e[t].push(n):e[t]=[n]}),Ji),ms=Dr(vr);function _s(e){return Ma(e)?Pn(e):Sr(e)}function ws(e){return Ma(e)?Pn(e,!0):function(e){if(!qa(e))return function(e){var t=[];if(null!=e)for(var n in ge(e))t.push(n);return t}(e);var t=co(e),n=[];for(var r in e)("constructor"!=r||!t&&Se.call(e,r))&&n.push(r);return n}(e)}var xs=bi((function(e,t,n){Ir(e,t,n)})),Ss=bi((function(e,t,n,r){Ir(e,t,n,r)})),Es=zi((function(e,t){var n={};if(null==e)return n;var r=!1;t=lt(t,(function(t){return t=oi(t,e),r||(r=t.length>1),t})),yi(e,Vi(e),n),r&&(n=Xn(n,7,Ui));for(var i=t.length;i--;)Qr(n,t[i]);return n})),Ts=zi((function(e,t){return null==e?{}:function(e,t){return Or(e,t,(function(t,n){return ys(e,n)}))}(e,t)}));function Ns(e,t){if(null==e)return{};var n=lt(Vi(e),(function(e){return[e]}));return t=Ji(t),Or(e,n,(function(e,n){return t(e,n[0])}))}var js=Di(_s),Is=Di(ws);function ks(e){return null==e?[]:It(e,_s(e))}var As=xi((function(e,t,n){return t=t.toLowerCase(),e+(n?Os(t):t)}));function Os(e){return Fs(ss(e).toLowerCase())}function Rs(e){return(e=ss(e))&&e.replace(ue,Lt).replace(Ae,"")}var Ls=xi((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Cs=xi((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Ms=wi("toLowerCase"),Ds=xi((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()})),Ps=xi((function(e,t,n){return e+(n?" ":"")+Fs(t)})),Bs=xi((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Fs=wi("toUpperCase");function Us(e,t,n){return e=ss(e),void 0===(t=n?void 0:t)?function(e){return Ce.test(e)}(e)?function(e){return e.match(Re)||[]}(e):function(e){return e.match(Z)||[]}(e):e.match(t)||[]}var Gs=Dr((function(e,t){try{return nt(e,void 0,t)}catch(n){return Fa(n)?n:new de(n)}})),zs=zi((function(e,t){return it(t,(function(t){t=No(t),Hn(e,t,ba(e[t],e))})),e}));function qs(e){return function(){return e}}var Vs=Ti(),Ws=Ti(!0);function Hs(e){return e}function Ks(e){return xr("function"==typeof e?e:Xn(e,1))}var Js=Dr((function(e,t){return function(n){return vr(n,e,t)}})),Xs=Dr((function(e,t){return function(n){return vr(e,n,t)}}));function $s(e,t,n){var r=_s(t),i=cr(t,r);null!=n||qa(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=cr(t,_s(t)));var o=!(qa(n)&&"chain"in n&&!n.chain),a=Ua(e);return it(i,(function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__),i=n.__actions__=gi(this.__actions__);return i.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,ht([this.value()],arguments))})})),e}function Qs(){}var Ys=ki(lt),Zs=ki(at),eu=ki(pt);function tu(e){return ao(e)?xt(No(e)):function(e){return function(t){return lr(t,e)}}(e)}var nu=Oi(),ru=Oi(!0);function iu(){return[]}function ou(){return!1}var au,su=Ii((function(e,t){return e+t}),0),uu=Ci("ceil"),cu=Ii((function(e,t){return e/t}),1),lu=Ci("floor"),hu=Ii((function(e,t){return e*t}),1),du=Ci("round"),fu=Ii((function(e,t){return e-t}),0);return jn.after=function(e,t){if("function"!=typeof t)throw new be(i);return e=rs(e),function(){if(--e<1)return t.apply(this,arguments)}},jn.ary=ya,jn.assign=us,jn.assignIn=cs,jn.assignInWith=ls,jn.assignWith=hs,jn.at=ds,jn.before=va,jn.bind=ba,jn.bindAll=zs,jn.bindKey=ma,jn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return La(e)?e:[e]},jn.chain=ta,jn.chunk=function(e,t,n){t=(n?oo(e,t,n):void 0===t)?1:on(rs(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var o=0,a=0,s=r(Qt(i/t));o<i;)s[a++]=qr(e,o,o+=t);return s},jn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i},jn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=r(e-1),n=arguments[0],i=e;i--;)t[i-1]=arguments[i];return ht(La(n)?gi(n):[n],ir(t,1))},jn.cond=function(e){var t=null==e?0:e.length,n=Ji();return e=t?lt(e,(function(e){if("function"!=typeof e[1])throw new be(i);return[n(e[0]),e[1]]})):[],Dr((function(n){for(var r=-1;++r<t;){var i=e[r];if(nt(i[0],this,n))return nt(i[1],this,n)}}))},jn.conforms=function(e){return function(e){var t=_s(e);return function(n){return $n(n,e,t)}}(Xn(e,1))},jn.constant=qs,jn.countBy=ia,jn.create=function(e,t){var n=In(e);return null==t?n:Wn(n,t)},jn.curry=function e(t,n,r){var i=Pi(t,8,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return i.placeholder=e.placeholder,i},jn.curryRight=function e(t,n,r){var i=Pi(t,16,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return i.placeholder=e.placeholder,i},jn.debounce=_a,jn.defaults=fs,jn.defaultsDeep=ps,jn.defer=wa,jn.delay=xa,jn.difference=ko,jn.differenceBy=Ao,jn.differenceWith=Oo,jn.drop=function(e,t,n){var r=null==e?0:e.length;return r?qr(e,(t=n||void 0===t?1:rs(t))<0?0:t,r):[]},jn.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?qr(e,0,(t=r-(t=n||void 0===t?1:rs(t)))<0?0:t):[]},jn.dropRightWhile=function(e,t){return e&&e.length?Zr(e,Ji(t,3),!0,!0):[]},jn.dropWhile=function(e,t){return e&&e.length?Zr(e,Ji(t,3),!0):[]},jn.fill=function(e,t,n,r){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&oo(e,t,n)&&(n=0,r=i),function(e,t,n,r){var i=e.length;for((n=rs(n))<0&&(n=-n>i?0:i+n),(r=void 0===r||r>i?i:rs(r))<0&&(r+=i),r=n>r?0:is(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},jn.filter=function(e,t){return(La(e)?st:rr)(e,Ji(t,3))},jn.flatMap=function(e,t){return ir(da(e,t),1)},jn.flatMapDeep=function(e,t){return ir(da(e,t),1/0)},jn.flatMapDepth=function(e,t,n){return n=void 0===n?1:rs(n),ir(da(e,t),n)},jn.flatten=Co,jn.flattenDeep=function(e){return null!=e&&e.length?ir(e,1/0):[]},jn.flattenDepth=function(e,t){return null!=e&&e.length?ir(e,t=void 0===t?1:rs(t)):[]},jn.flip=function(e){return Pi(e,512)},jn.flow=Vs,jn.flowRight=Ws,jn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},jn.functions=function(e){return null==e?[]:cr(e,_s(e))},jn.functionsIn=function(e){return null==e?[]:cr(e,ws(e))},jn.groupBy=ca,jn.initial=function(e){return null!=e&&e.length?qr(e,0,-1):[]},jn.intersection=Do,jn.intersectionBy=Po,jn.intersectionWith=Bo,jn.invert=vs,jn.invertBy=bs,jn.invokeMap=la,jn.iteratee=Ks,jn.keyBy=ha,jn.keys=_s,jn.keysIn=ws,jn.map=da,jn.mapKeys=function(e,t){var n={};return t=Ji(t,3),sr(e,(function(e,r,i){Hn(n,t(e,r,i),e)})),n},jn.mapValues=function(e,t){var n={};return t=Ji(t,3),sr(e,(function(e,r,i){Hn(n,r,t(e,r,i))})),n},jn.matches=function(e){return Nr(Xn(e,1))},jn.matchesProperty=function(e,t){return jr(e,Xn(t,1))},jn.memoize=Sa,jn.merge=xs,jn.mergeWith=Ss,jn.method=Js,jn.methodOf=Xs,jn.mixin=$s,jn.negate=Ea,jn.nthArg=function(e){return e=rs(e),Dr((function(t){return kr(t,e)}))},jn.omit=Es,jn.omitBy=function(e,t){return Ns(e,Ea(Ji(t)))},jn.once=function(e){return va(2,e)},jn.orderBy=function(e,t,n,r){return null==e?[]:(La(t)||(t=null==t?[]:[t]),La(n=r?void 0:n)||(n=null==n?[]:[n]),Ar(e,t,n))},jn.over=Ys,jn.overArgs=Ta,jn.overEvery=Zs,jn.overSome=eu,jn.partial=Na,jn.partialRight=ja,jn.partition=fa,jn.pick=Ts,jn.pickBy=Ns,jn.property=tu,jn.propertyOf=function(e){return function(t){return null==e?void 0:lr(e,t)}},jn.pull=Uo,jn.pullAll=Go,jn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Rr(e,t,Ji(n,2)):e},jn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Rr(e,t,void 0,n):e},jn.pullAt=zo,jn.range=nu,jn.rangeRight=ru,jn.rearg=Ia,jn.reject=function(e,t){return(La(e)?st:rr)(e,Ea(Ji(t,3)))},jn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=Ji(t,3);++r<o;){var a=e[r];t(a,r,e)&&(n.push(a),i.push(r))}return Lr(e,i),n},jn.rest=function(e,t){if("function"!=typeof e)throw new be(i);return Dr(e,t=void 0===t?t:rs(t))},jn.reverse=qo,jn.sampleSize=function(e,t,n){return t=(n?oo(e,t,n):void 0===t)?1:rs(t),(La(e)?Fn:Br)(e,t)},jn.set=function(e,t,n){return null==e?e:Fr(e,t,n)},jn.setWith=function(e,t,n,r){return r="function"==typeof r?r:void 0,null==e?e:Fr(e,t,n,r)},jn.shuffle=function(e){return(La(e)?Un:zr)(e)},jn.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&oo(e,t,n)?(t=0,n=r):(t=null==t?0:rs(t),n=void 0===n?r:rs(n)),qr(e,t,n)):[]},jn.sortBy=pa,jn.sortedUniq=function(e){return e&&e.length?Kr(e):[]},jn.sortedUniqBy=function(e,t){return e&&e.length?Kr(e,Ji(t,2)):[]},jn.split=function(e,t,n){return n&&"number"!=typeof n&&oo(e,t,n)&&(t=n=void 0),(n=void 0===n?4294967295:n>>>0)?(e=ss(e))&&("string"==typeof t||null!=t&&!Ja(t))&&!(t=Xr(t))&&Dt(e)?si(qt(e),0,n):e.split(t,n):[]},jn.spread=function(e,t){if("function"!=typeof e)throw new be(i);return t=null==t?0:on(rs(t),0),Dr((function(n){var r=n[t],i=si(n,0,t);return r&&ht(i,r),nt(e,this,i)}))},jn.tail=function(e){var t=null==e?0:e.length;return t?qr(e,1,t):[]},jn.take=function(e,t,n){return e&&e.length?qr(e,0,(t=n||void 0===t?1:rs(t))<0?0:t):[]},jn.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?qr(e,(t=r-(t=n||void 0===t?1:rs(t)))<0?0:t,r):[]},jn.takeRightWhile=function(e,t){return e&&e.length?Zr(e,Ji(t,3),!1,!0):[]},jn.takeWhile=function(e,t){return e&&e.length?Zr(e,Ji(t,3)):[]},jn.tap=function(e,t){return t(e),e},jn.throttle=function(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new be(i);return qa(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),_a(e,t,{leading:r,maxWait:t,trailing:o})},jn.thru=na,jn.toArray=ts,jn.toPairs=js,jn.toPairsIn=Is,jn.toPath=function(e){return La(e)?lt(e,No):Qa(e)?[e]:gi(To(ss(e)))},jn.toPlainObject=as,jn.transform=function(e,t,n){var r=La(e),i=r||Pa(e)||Ya(e);if(t=Ji(t,4),null==n){var o=e&&e.constructor;n=i?r?new o:[]:qa(e)&&Ua(o)?In(We(e)):{}}return(i?it:sr)(e,(function(e,r,i){return t(n,e,r,i)})),n},jn.unary=function(e){return ya(e,1)},jn.union=Vo,jn.unionBy=Wo,jn.unionWith=Ho,jn.uniq=function(e){return e&&e.length?$r(e):[]},jn.uniqBy=function(e,t){return e&&e.length?$r(e,Ji(t,2)):[]},jn.uniqWith=function(e,t){return t="function"==typeof t?t:void 0,e&&e.length?$r(e,void 0,t):[]},jn.unset=function(e,t){return null==e||Qr(e,t)},jn.unzip=Ko,jn.unzipWith=Jo,jn.update=function(e,t,n){return null==e?e:Yr(e,t,ii(n))},jn.updateWith=function(e,t,n,r){return r="function"==typeof r?r:void 0,null==e?e:Yr(e,t,ii(n),r)},jn.values=ks,jn.valuesIn=function(e){return null==e?[]:It(e,ws(e))},jn.without=Xo,jn.words=Us,jn.wrap=function(e,t){return Na(ii(t),e)},jn.xor=$o,jn.xorBy=Qo,jn.xorWith=Yo,jn.zip=Zo,jn.zipObject=function(e,t){return ni(e||[],t||[],zn)},jn.zipObjectDeep=function(e,t){return ni(e||[],t||[],Fr)},jn.zipWith=ea,jn.entries=js,jn.entriesIn=Is,jn.extend=cs,jn.extendWith=ls,$s(jn,jn),jn.add=su,jn.attempt=Gs,jn.camelCase=As,jn.capitalize=Os,jn.ceil=uu,jn.clamp=function(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=(n=os(n))==n?n:0),void 0!==t&&(t=(t=os(t))==t?t:0),Jn(os(e),t,n)},jn.clone=function(e){return Xn(e,4)},jn.cloneDeep=function(e){return Xn(e,5)},jn.cloneDeepWith=function(e,t){return Xn(e,5,t="function"==typeof t?t:void 0)},jn.cloneWith=function(e,t){return Xn(e,4,t="function"==typeof t?t:void 0)},jn.conformsTo=function(e,t){return null==t||$n(e,t,_s(t))},jn.deburr=Rs,jn.defaultTo=function(e,t){return null==e||e!=e?t:e},jn.divide=cu,jn.endsWith=function(e,t,n){e=ss(e),t=Xr(t);var r=e.length,i=n=void 0===n?r:Jn(rs(n),0,r);return(n-=t.length)>=0&&e.slice(n,i)==t},jn.eq=ka,jn.escape=function(e){return(e=ss(e))&&B.test(e)?e.replace(D,Ct):e},jn.escapeRegExp=function(e){return(e=ss(e))&&H.test(e)?e.replace(W,"\\$&"):e},jn.every=function(e,t,n){var r=La(e)?at:tr;return n&&oo(e,t,n)&&(t=void 0),r(e,Ji(t,3))},jn.find=oa,jn.findIndex=Ro,jn.findKey=function(e,t){return yt(e,Ji(t,3),sr)},jn.findLast=aa,jn.findLastIndex=Lo,jn.findLastKey=function(e,t){return yt(e,Ji(t,3),ur)},jn.floor=lu,jn.forEach=sa,jn.forEachRight=ua,jn.forIn=function(e,t){return null==e?e:or(e,Ji(t,3),ws)},jn.forInRight=function(e,t){return null==e?e:ar(e,Ji(t,3),ws)},jn.forOwn=function(e,t){return e&&sr(e,Ji(t,3))},jn.forOwnRight=function(e,t){return e&&ur(e,Ji(t,3))},jn.get=gs,jn.gt=Aa,jn.gte=Oa,jn.has=function(e,t){return null!=e&&to(e,t,pr)},jn.hasIn=ys,jn.head=Mo,jn.identity=Hs,jn.includes=function(e,t,n,r){e=Ma(e)?e:ks(e),n=n&&!r?rs(n):0;var i=e.length;return n<0&&(n=on(i+n,0)),$a(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&bt(e,t,n)>-1},jn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:rs(n);return i<0&&(i=on(r+i,0)),bt(e,t,i)},jn.inRange=function(e,t,n){return t=ns(t),void 0===n?(n=t,t=0):n=ns(n),function(e,t,n){return e>=an(t,n)&&e<on(t,n)}(e=os(e),t,n)},jn.invoke=ms,jn.isArguments=Ra,jn.isArray=La,jn.isArrayBuffer=Ca,jn.isArrayLike=Ma,jn.isArrayLikeObject=Da,jn.isBoolean=function(e){return!0===e||!1===e||Va(e)&&dr(e)==c},jn.isBuffer=Pa,jn.isDate=Ba,jn.isElement=function(e){return Va(e)&&1===e.nodeType&&!Ka(e)},jn.isEmpty=function(e){if(null==e)return!0;if(Ma(e)&&(La(e)||"string"==typeof e||"function"==typeof e.splice||Pa(e)||Ya(e)||Ra(e)))return!e.length;var t=eo(e);if(t==p||t==b)return!e.size;if(co(e))return!Sr(e).length;for(var n in e)if(Se.call(e,n))return!1;return!0},jn.isEqual=function(e,t){return mr(e,t)},jn.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:void 0)?n(e,t):void 0;return void 0===r?mr(e,t,void 0,n):!!r},jn.isError=Fa,jn.isFinite=function(e){return"number"==typeof e&&tn(e)},jn.isFunction=Ua,jn.isInteger=Ga,jn.isLength=za,jn.isMap=Wa,jn.isMatch=function(e,t){return e===t||_r(e,t,$i(t))},jn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:void 0,_r(e,t,$i(t),n)},jn.isNaN=function(e){return Ha(e)&&e!=+e},jn.isNative=function(e){if(uo(e))throw new de("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return wr(e)},jn.isNil=function(e){return null==e},jn.isNull=function(e){return null===e},jn.isNumber=Ha,jn.isObject=qa,jn.isObjectLike=Va,jn.isPlainObject=Ka,jn.isRegExp=Ja,jn.isSafeInteger=function(e){return Ga(e)&&e>=-9007199254740991&&e<=9007199254740991},jn.isSet=Xa,jn.isString=$a,jn.isSymbol=Qa,jn.isTypedArray=Ya,jn.isUndefined=function(e){return void 0===e},jn.isWeakMap=function(e){return Va(e)&&eo(e)==w},jn.isWeakSet=function(e){return Va(e)&&"[object WeakSet]"==dr(e)},jn.join=function(e,t){return null==e?"":nn.call(e,t)},jn.kebabCase=Ls,jn.last=Fo,jn.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r;return void 0!==n&&(i=(i=rs(n))<0?on(r+i,0):an(i,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,i):vt(e,_t,i,!0)},jn.lowerCase=Cs,jn.lowerFirst=Ms,jn.lt=Za,jn.lte=es,jn.max=function(e){return e&&e.length?nr(e,Hs,fr):void 0},jn.maxBy=function(e,t){return e&&e.length?nr(e,Ji(t,2),fr):void 0},jn.mean=function(e){return wt(e,Hs)},jn.meanBy=function(e,t){return wt(e,Ji(t,2))},jn.min=function(e){return e&&e.length?nr(e,Hs,Er):void 0},jn.minBy=function(e,t){return e&&e.length?nr(e,Ji(t,2),Er):void 0},jn.stubArray=iu,jn.stubFalse=ou,jn.stubObject=function(){return{}},jn.stubString=function(){return""},jn.stubTrue=function(){return!0},jn.multiply=hu,jn.nth=function(e,t){return e&&e.length?kr(e,rs(t)):void 0},jn.noConflict=function(){return Ve._===this&&(Ve._=Ie),this},jn.noop=Qs,jn.now=ga,jn.pad=function(e,t,n){e=ss(e);var r=(t=rs(t))?zt(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Ai(Yt(i),n)+e+Ai(Qt(i),n)},jn.padEnd=function(e,t,n){e=ss(e);var r=(t=rs(t))?zt(e):0;return t&&r<t?e+Ai(t-r,n):e},jn.padStart=function(e,t,n){e=ss(e);var r=(t=rs(t))?zt(e):0;return t&&r<t?Ai(t-r,n)+e:e},jn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),un(ss(e).replace(J,""),t||0)},jn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&oo(e,t,n)&&(t=n=void 0),void 0===n&&("boolean"==typeof t?(n=t,t=void 0):"boolean"==typeof e&&(n=e,e=void 0)),void 0===e&&void 0===t?(e=0,t=1):(e=ns(e),void 0===t?(t=e,e=0):t=ns(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=cn();return an(e+i*(t-e+Ue("1e-"+((i+"").length-1))),t)}return Cr(e,t)},jn.reduce=function(e,t,n){var r=La(e)?dt:Et,i=arguments.length<3;return r(e,Ji(t,4),n,i,Zn)},jn.reduceRight=function(e,t,n){var r=La(e)?ft:Et,i=arguments.length<3;return r(e,Ji(t,4),n,i,er)},jn.repeat=function(e,t,n){return t=(n?oo(e,t,n):void 0===t)?1:rs(t),Mr(ss(e),t)},jn.replace=function(){var e=arguments,t=ss(e[0]);return e.length<3?t:t.replace(e[1],e[2])},jn.result=function(e,t,n){var r=-1,i=(t=oi(t,e)).length;for(i||(i=1,e=void 0);++r<i;){var o=null==e?void 0:e[No(t[r])];void 0===o&&(r=i,o=n),e=Ua(o)?o.call(e):o}return e},jn.round=du,jn.runInContext=e,jn.sample=function(e){return(La(e)?Bn:Pr)(e)},jn.size=function(e){if(null==e)return 0;if(Ma(e))return $a(e)?zt(e):e.length;var t=eo(e);return t==p||t==b?e.size:Sr(e).length},jn.snakeCase=Ds,jn.some=function(e,t,n){var r=La(e)?pt:Vr;return n&&oo(e,t,n)&&(t=void 0),r(e,Ji(t,3))},jn.sortedIndex=function(e,t){return Wr(e,t)},jn.sortedIndexBy=function(e,t,n){return Hr(e,t,Ji(n,2))},jn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=Wr(e,t);if(r<n&&ka(e[r],t))return r}return-1},jn.sortedLastIndex=function(e,t){return Wr(e,t,!0)},jn.sortedLastIndexBy=function(e,t,n){return Hr(e,t,Ji(n,2),!0)},jn.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var n=Wr(e,t,!0)-1;if(ka(e[n],t))return n}return-1},jn.startCase=Ps,jn.startsWith=function(e,t,n){return e=ss(e),n=null==n?0:Jn(rs(n),0,e.length),t=Xr(t),e.slice(n,n+t.length)==t},jn.subtract=fu,jn.sum=function(e){return e&&e.length?Tt(e,Hs):0},jn.sumBy=function(e,t){return e&&e.length?Tt(e,Ji(t,2)):0},jn.template=function(e,t,n){var r=jn.templateSettings;n&&oo(e,t,n)&&(t=void 0),e=ss(e),t=ls({},t,r,Bi);var i,o,a=ls({},t.imports,r.imports,Bi),s=_s(a),u=It(a,s),c=0,l=t.interpolate||ce,h="__p += '",d=ye((t.escape||ce).source+"|"+l.source+"|"+(l===G?te:ce).source+"|"+(t.evaluate||ce).source+"|$","g"),f="//# sourceURL="+(Se.call(t,"sourceURL")?(t.sourceURL+"").replace(/[\r\n]/g," "):"lodash.templateSources["+ ++De+"]")+"\n";e.replace(d,(function(t,n,r,a,s,u){return r||(r=a),h+=e.slice(c,u).replace(le,Mt),n&&(i=!0,h+="' +\n__e("+n+") +\n'"),s&&(o=!0,h+="';\n"+s+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=u+t.length,t})),h+="';\n";var p=Se.call(t,"variable")&&t.variable;p||(h="with (obj) {\n"+h+"\n}\n"),h=(o?h.replace(R,""):h).replace(L,"$1").replace(C,"$1;"),h="function("+(p||"obj")+") {\n"+(p?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var g=Gs((function(){return fe(s,f+"return "+h).apply(void 0,u)}));if(g.source=h,Fa(g))throw g;return g},jn.times=function(e,t){if((e=rs(e))<1||e>9007199254740991)return[];var n=4294967295,r=an(e,4294967295);e-=4294967295;for(var i=Nt(r,t=Ji(t));++n<e;)t(n);return i},jn.toFinite=ns,jn.toInteger=rs,jn.toLength=is,jn.toLower=function(e){return ss(e).toLowerCase()},jn.toNumber=os,jn.toSafeInteger=function(e){return e?Jn(rs(e),-9007199254740991,9007199254740991):0===e?e:0},jn.toString=ss,jn.toUpper=function(e){return ss(e).toUpperCase()},jn.trim=function(e,t,n){if((e=ss(e))&&(n||void 0===t))return e.replace(K,"");if(!e||!(t=Xr(t)))return e;var r=qt(e),i=qt(t);return si(r,At(r,i),Ot(r,i)+1).join("")},jn.trimEnd=function(e,t,n){if((e=ss(e))&&(n||void 0===t))return e.replace(X,"");if(!e||!(t=Xr(t)))return e;var r=qt(e);return si(r,0,Ot(r,qt(t))+1).join("")},jn.trimStart=function(e,t,n){if((e=ss(e))&&(n||void 0===t))return e.replace(J,"");if(!e||!(t=Xr(t)))return e;var r=qt(e);return si(r,At(r,qt(t))).join("")},jn.truncate=function(e,t){var n=30,r="...";if(qa(t)){var i="separator"in t?t.separator:i;n="length"in t?rs(t.length):n,r="omission"in t?Xr(t.omission):r}var o=(e=ss(e)).length;if(Dt(e)){var a=qt(e);o=a.length}if(n>=o)return e;var s=n-zt(r);if(s<1)return r;var u=a?si(a,0,s).join(""):e.slice(0,s);if(void 0===i)return u+r;if(a&&(s+=u.length-s),Ja(i)){if(e.slice(s).search(i)){var c,l=u;for(i.global||(i=ye(i.source,ss(ne.exec(i))+"g")),i.lastIndex=0;c=i.exec(l);)var h=c.index;u=u.slice(0,void 0===h?s:h)}}else if(e.indexOf(Xr(i),s)!=s){var d=u.lastIndexOf(i);d>-1&&(u=u.slice(0,d))}return u+r},jn.unescape=function(e){return(e=ss(e))&&P.test(e)?e.replace(M,Vt):e},jn.uniqueId=function(e){var t=++Ee;return ss(e)+t},jn.upperCase=Bs,jn.upperFirst=Fs,jn.each=sa,jn.eachRight=ua,jn.first=Mo,$s(jn,(au={},sr(jn,(function(e,t){Se.call(jn.prototype,t)||(au[t]=e)})),au),{chain:!1}),jn.VERSION="4.17.15",it(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){jn[e].placeholder=jn})),it(["drop","take"],(function(e,t){On.prototype[e]=function(n){n=void 0===n?1:on(rs(n),0);var r=this.__filtered__&&!t?new On(this):this.clone();return r.__filtered__?r.__takeCount__=an(n,r.__takeCount__):r.__views__.push({size:an(n,4294967295),type:e+(r.__dir__<0?"Right":"")}),r},On.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),it(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;On.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Ji(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),it(["head","last"],(function(e,t){var n="take"+(t?"Right":"");On.prototype[e]=function(){return this[n](1).value()[0]}})),it(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");On.prototype[e]=function(){return this.__filtered__?new On(this):this[n](1)}})),On.prototype.compact=function(){return this.filter(Hs)},On.prototype.find=function(e){return this.filter(e).head()},On.prototype.findLast=function(e){return this.reverse().find(e)},On.prototype.invokeMap=Dr((function(e,t){return"function"==typeof e?new On(this):this.map((function(n){return vr(n,e,t)}))})),On.prototype.reject=function(e){return this.filter(Ea(Ji(e)))},On.prototype.slice=function(e,t){e=rs(e);var n=this;return n.__filtered__&&(e>0||t<0)?new On(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),void 0!==t&&(n=(t=rs(t))<0?n.dropRight(-t):n.take(t-e)),n)},On.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},On.prototype.toArray=function(){return this.take(4294967295)},sr(On.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),i=jn[r?"take"+("last"==t?"Right":""):t],o=r||/^find/.test(t);i&&(jn.prototype[t]=function(){var t=this.__wrapped__,a=r?[1]:arguments,s=t instanceof On,u=a[0],c=s||La(t),l=function(e){var t=i.apply(jn,ht([e],a));return r&&h?t[0]:t};c&&n&&"function"==typeof u&&1!=u.length&&(s=c=!1);var h=this.__chain__,d=!!this.__actions__.length,f=o&&!h,p=s&&!d;if(!o&&c){t=p?t:new On(this);var g=e.apply(t,a);return g.__actions__.push({func:na,args:[l],thisArg:void 0}),new An(g,h)}return f&&p?e.apply(this,a):(g=this.thru(l),f?r?g.value()[0]:g.value():g)})})),it(["pop","push","shift","sort","splice","unshift"],(function(e){var t=me[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);jn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(La(i)?i:[],e)}return this[n]((function(n){return t.apply(La(n)?n:[],e)}))}})),sr(On.prototype,(function(e,t){var n=jn[t];if(n){var r=n.name+"";Se.call(bn,r)||(bn[r]=[]),bn[r].push({name:t,func:n})}})),bn[Ni(void 0,2).name]=[{name:"wrapper",func:void 0}],On.prototype.clone=function(){var e=new On(this.__wrapped__);return e.__actions__=gi(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=gi(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=gi(this.__views__),e},On.prototype.reverse=function(){if(this.__filtered__){var e=new On(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},On.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=La(e),r=t<0,i=n?e.length:0,o=function(e,t,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=an(t,e+a);break;case"takeRight":e=on(e,t-a)}}return{start:e,end:t}}(0,i,this.__views__),a=o.start,s=o.end,u=s-a,c=r?s:a-1,l=this.__iteratees__,h=l.length,d=0,f=an(u,this.__takeCount__);if(!n||!r&&i==u&&f==u)return ei(e,this.__actions__);var p=[];e:for(;u--&&d<f;){for(var g=-1,y=e[c+=t];++g<h;){var v=l[g],b=v.type,m=(0,v.iteratee)(y);if(2==b)y=m;else if(!m){if(1==b)continue e;break e}}p[d++]=y}return p},jn.prototype.at=ra,jn.prototype.chain=function(){return ta(this)},jn.prototype.commit=function(){return new An(this.value(),this.__chain__)},jn.prototype.next=function(){void 0===this.__values__&&(this.__values__=ts(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?void 0:this.__values__[this.__index__++]}},jn.prototype.plant=function(e){for(var t,n=this;n instanceof kn;){var r=Io(n);r.__index__=0,r.__values__=void 0,t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t},jn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof On){var t=e;return this.__actions__.length&&(t=new On(this)),(t=t.reverse()).__actions__.push({func:na,args:[qo],thisArg:void 0}),new An(t,this.__chain__)}return this.thru(qo)},jn.prototype.toJSON=jn.prototype.valueOf=jn.prototype.value=function(){return ei(this.__wrapped__,this.__actions__)},jn.prototype.first=jn.prototype.head,St&&(jn.prototype[St]=function(){return this}),jn}();Ve._=Wt,void 0===(r=(function(){return Wt}).call(t,n,t,e))||(e.exports=r)}).call(this)}).call(this,n("YuTi")(e))},PDru:function(e,t){var n="undefined"!=typeof ArrayBuffer,r="undefined"!=typeof Symbol;function i(e,t){var i,o,a,s,u;if(!e)throw new Error("obliterator/forEach: invalid iterable.");if("function"!=typeof t)throw new Error("obliterator/forEach: expecting a callback.");if(Array.isArray(e)||n&&ArrayBuffer.isView(e)||"string"==typeof e||"[object Arguments]"===e.toString())for(a=0,s=e.length;a<s;a++)t(e[a],a);else if("function"!=typeof e.forEach)if(r&&Symbol.iterator in e&&"function"!=typeof e.next&&(e=e[Symbol.iterator]()),"function"!=typeof e.next)for(o in e)e.hasOwnProperty(o)&&t(e[o],o);else for(i=e,a=0;!0!==(u=i.next()).done;)t(u.value,a),a++;else e.forEach(t)}i.forEachWithNullKeys=function(e,t){var i,o,a,s,u;if(!e)throw new Error("obliterator/forEachWithNullKeys: invalid iterable.");if("function"!=typeof t)throw new Error("obliterator/forEachWithNullKeys: expecting a callback.");if(Array.isArray(e)||n&&ArrayBuffer.isView(e)||"string"==typeof e||"[object Arguments]"===e.toString())for(a=0,s=e.length;a<s;a++)t(e[a],null);else if(e instanceof Set)e.forEach((function(e){t(e,null)}));else if("function"!=typeof e.forEach)if(r&&Symbol.iterator in e&&"function"!=typeof e.next&&(e=e[Symbol.iterator]()),"function"!=typeof e.next)for(o in e)e.hasOwnProperty(o)&&t(e[o],o);else for(i=e,a=0;!0!==(u=i.next()).done;)t(u.value,null),a++;else e.forEach(t)},e.exports=i},PPGm:function(e,t,n){var r=n("R7eT"),i=n("12xR"),o=n("WvqQ"),a=n("Eagr"),s=n("4cw7"),u=n("pVxc");function c(){}c.namedNode=function(e){return new a(e)},c.blankNode=function(e){return new r(e)},c.literal=function(e,t){return"string"==typeof t?-1===t.indexOf(":")?new o(e,t):new o(e,null,c.namedNode(t)):new o(e,null,t)},c.defaultGraph=function(){return c.defaultGraphInstance},c.variable=function(e){return new u(e)},c.triple=function(e,t,n){return c.quad(e,t,n)},c.quad=function(e,t,n,r){return new s(e,t,n,r||c.defaultGraphInstance)},c.defaultGraphInstance=new i,e.exports=c},R7eT:function(e,t){function n(e){this.value=e||"b"+ ++n.nextId}n.prototype.equals=function(e){return!!e&&e.termType===this.termType&&e.value===this.value},n.prototype.termType="BlankNode",n.nextId=0,e.exports=n},TrB0:function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n("8Xj3")),r(n("+2nh")),r(n("cTvG")),r(n("mMj5")),r(n("6smP"))},WvqQ:function(e,t,n){var r=n("Eagr");function i(e,t,n){this.value=e,this.datatype=i.stringDatatype,this.language="",t?(this.language=t,this.datatype=i.langStringDatatype):n&&(this.datatype=n)}i.prototype.equals=function(e){return!!e&&e.termType===this.termType&&e.value===this.value&&e.language===this.language&&e.datatype.equals(this.datatype)},i.prototype.termType="Literal",i.langStringDatatype=new r("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),i.stringDatatype=new r("http://www.w3.org/2001/XMLSchema#string"),e.exports=i},YXac:function(e,t,n){var r;!function(n){"use strict";function i(e,t){var n=Math.abs(e),r=Math.abs(t);return 0===e?Math.log(r):0===t?Math.log(n):n<3e3&&r<3e3?.5*Math.log(e*e+t*t):Math.log(e/Math.cos(Math.atan2(t,e)))}var o={w:1,x:0,y:0,z:0};function a(e,t,n,r,i){if(void 0!==i)return e.w=t,e.x=n,e.y=r,void(e.z=i);if("object"==typeof t&&void 0===r){if("w"in t||"x"in t||"y"in t||"z"in t)return e.w=t.w||0,e.x=t.x||0,e.y=t.y||0,void(e.z=t.z||0);if("re"in t&&"im"in t)return e.w=t.re,e.x=t.im,e.y=0,void(e.z=0);if(4===t.length)return e.w=t[0],e.x=t[1],e.y=t[2],void(e.z=t[3]);if(3===t.length)return e.w=0,e.x=t[0],e.y=t[1],void(e.z=t[2]);throw new Error("Invalid object")}if("string"!=typeof t||void 0!==r)void 0===t&&e!==o?(e.w=1,e.x=e.y=e.z=0):(e.w=t||0,n&&3===n.length?(e.x=n[0],e.y=n[1],e.z=n[2]):(e.x=n||0,e.y=r||0,e.z=i||0));else{var a=t.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),s=1,u=0,c={i:"x",j:"y",k:"z"};if(null===a)throw new Error("Parse error");e.w=e.x=e.y=e.z=0;for(var l=0;l<a.length;l++){var h=a[l],d=a[l+1];if(" "===h||"\t"===h||"\n"===h);else if("+"===h)s++;else if("-"===h)u++;else{if(s+u===0)throw new Error("Parse error"+h);var f=c[h];if(void 0!==f)" "===d||isNaN(d)?h="1":(h=d,l++);else{if(isNaN(h))throw new Error("Parser error");void 0!==(f=c[d])&&l++}e[f||"w"]+=parseFloat((u%2?"-":"")+h),s=u=0}}if(s+u>0)throw new Error("Parser error")}}function s(e,t,n){var r="";return 0!==e&&(""!==n?r+=e<0?" - ":" + ":e<0&&(r+="-"),1===(e=Math.abs(e))&&""!==t||(r+=e),r+=t),r}function u(e,t,n,r){if(!(this instanceof u))return new u(e,t,n,r);a(this,e,t,n,r)}u.prototype={w:1,x:0,y:0,z:0,add:function(e,t,n,r){return a(o,e,t,n,r),new u(this.w+o.w,this.x+o.x,this.y+o.y,this.z+o.z)},sub:function(e,t,n,r){return a(o,e,t,n,r),new u(this.w-o.w,this.x-o.x,this.y-o.y,this.z-o.z)},neg:function(){return new u(-this.w,-this.x,-this.y,-this.z)},norm:function(){var e=this.w,t=this.x,n=this.y,r=this.z;return Math.sqrt(e*e+t*t+n*n+r*r)},normSq:function(){var e=this.w,t=this.x,n=this.y,r=this.z;return e*e+t*t+n*n+r*r},normalize:function(){var e=this.w,t=this.x,n=this.y,r=this.z,i=Math.sqrt(e*e+t*t+n*n+r*r);return i<u.EPSILON?u.ZERO:new u(e*(i=1/i),t*i,n*i,r*i)},mul:function(e,t,n,r){a(o,e,t,n,r);var i=this.w,s=this.x,c=this.y,l=this.z,h=o.w,d=o.x,f=o.y,p=o.z;return new u(i*h-s*d-c*f-l*p,i*d+s*h+c*p-l*f,i*f+c*h+l*d-s*p,i*p+l*h+s*f-c*d)},scale:function(e){return new u(this.w*e,this.x*e,this.y*e,this.z*e)},dot:function(e,t,n,r){return a(o,e,t,n,r),this.w*o.w+this.x*o.x+this.y*o.y+this.z*o.z},inverse:function(){var e=this.w,t=this.x,n=this.y,r=this.z,i=e*e+t*t+n*n+r*r;return 0===i?u.ZERO:new u(e*(i=1/i),-t*i,-n*i,-r*i)},div:function(e,t,n,r){a(o,e,t,n,r);var i=this.w,s=this.x,c=this.y,l=this.z,h=o.w,d=o.x,f=o.y,p=o.z,g=h*h+d*d+f*f+p*p;return 0===g?u.ZERO:new u((i*h+s*d+c*f+l*p)*(g=1/g),(s*h-i*d-c*p+l*f)*g,(c*h-i*f-l*d+s*p)*g,(l*h-i*p-s*f+c*d)*g)},conjugate:function(){return new u(this.w,-this.x,-this.y,-this.z)},exp:function(){var e=this.w,t=this.x,n=this.y,r=this.z,i=Math.sqrt(t*t+n*n+r*r),o=Math.exp(e),a=o/i*Math.sin(i);return 0===i?new u(o,0,0,0):new u(o*Math.cos(i),t*a,n*a,r*a)},log:function(){var e=this.w,t=this.x,n=this.y,r=this.z;if(0===n&&0===r)return new u(i(e,t),Math.atan2(t,e),0,0);var o=t*t+n*n+r*r+e*e,a=Math.sqrt(t*t+n*n+r*r),s=Math.atan2(a,e)/a;return new u(.5*Math.log(o),t*s,n*s,r*s)},pow:function(e,t,n,r){if(a(o,e,t,n,r),0===o.y&&0===o.z){if(1===o.w&&0===o.x)return this;if(0===o.w&&0===o.x)return u.ONE;if(0===this.y&&0===this.z){var s=this.w,c=this.x;if(0===s&&0===c)return u.ZERO;var l=Math.atan2(c,s),h=i(s,c);if(0===o.x){if(0===c&&s>=0)return new u(Math.pow(s,o.w),0,0,0);if(0===s)switch(o.w%4){case 0:return new u(Math.pow(c,o.w),0,0,0);case 1:return new u(0,Math.pow(c,o.w),0,0);case 2:return new u(-Math.pow(c,o.w),0,0,0);case 3:return new u(0,-Math.pow(c,o.w),0,0)}}return s=Math.exp(o.w*h-o.x*l),c=o.x*h+o.w*l,new u(s*Math.cos(c),s*Math.sin(c),0,0)}}return this.log().mul(o).exp()},equals:function(e,t,n,r){a(o,e,t,n,r);var i=u.EPSILON;return Math.abs(o.w-this.w)<i&&Math.abs(o.x-this.x)<i&&Math.abs(o.y-this.y)<i&&Math.abs(o.z-this.z)<i},isFinite:function(){return isFinite(this.w)&&isFinite(this.x)&&isFinite(this.y)&&isFinite(this.z)},isNaN:function(){return isNaN(this.w)||isNaN(this.x)||isNaN(this.y)||isNaN(this.z)},toString:function(){var e=this.w,t=this.x,n=this.y,r=this.z,i="";return isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)?"NaN":(i=s(e,"",i),i+=s(t,"i",i),i+=s(n,"j",i),""===(i+=s(r,"k",i))?"0":i)},real:function(){return this.w},imag:function(){return[this.x,this.y,this.z]},toVector:function(){return[this.w,this.x,this.y,this.z]},toMatrix:function(e){var t=this.w,n=this.x,r=this.y,i=this.z,o=t*t+n*n+r*r+i*i,a=0===o?0:2/o,s=a*t*n,u=a*t*r,c=a*t*i,l=a*n*n,h=a*n*r,d=a*n*i,f=a*r*r,p=a*r*i,g=a*i*i;return e?[[1-(f+g),h-c,d+u],[h+c,1-(l+g),p-s],[d-u,p+s,1-(l+f)]]:[1-(f+g),h-c,d+u,h+c,1-(l+g),p-s,d-u,p+s,1-(l+f)]},toMatrix4:function(e){var t=this.w,n=this.x,r=this.y,i=this.z,o=t*t+n*n+r*r+i*i,a=0===o?0:2/o,s=a*t*n,u=a*t*r,c=a*t*i,l=a*n*n,h=a*n*r,d=a*n*i,f=a*r*r,p=a*r*i,g=a*i*i;return e?[[1-(f+g),h-c,d+u,0],[h+c,1-(l+g),p-s,0],[d-u,p+s,1-(l+f),0],[0,0,0,1]]:[1-(f+g),h-c,d+u,0,h+c,1-(l+g),p-s,0,d-u,p+s,1-(l+f),0,0,0,0,1]},clone:function(){return new u(this)},rotateVector:function(e){var t=this.w,n=this.x,r=this.y,i=this.z,o=e[0],a=e[1],s=e[2],u=-n*o-r*a-i*s,c=t*o+r*s-i*a,l=t*a+i*o-n*s,h=t*s+n*a-r*o;return[c*t-u*n-l*i+h*r,l*t-u*r-h*n+c*i,h*t-u*i-c*r+l*n]},slerp:function(e,t,n,r){a(o,e,t,n,r);var i=this.w,s=this.x,c=this.y,l=this.z,h=o.w,d=o.x,f=o.y,p=o.z,g=i*h+s*d+c*f+l*p;if(g<0&&(i=-i,s=-s,c=-c,l=-l,g=-g),g>.9995)return function(e){return new u(i+e*(h-i),s+e*(d-s),c+e*(f-c),l+e*(p-l)).normalize()};var y=Math.acos(g),v=Math.sin(y);return function(e){var t=y*e,n=Math.sin(t),r=Math.cos(t)-g*n/v,o=n/v;return new u(r*i+o*h,r*s+o*d,r*c+o*f,r*l+o*p)}}},u.ZERO=new u(0,0,0,0),u.ONE=new u(1,0,0,0),u.I=new u(0,1,0,0),u.J=new u(0,0,1,0),u.K=new u(0,0,0,1),u.EPSILON=1e-16,u.fromAxisAngle=function(e,t){var n=.5*t,r=e[0],i=e[1],o=e[2],a=Math.sin(n),s=Math.cos(n),c=a/Math.sqrt(r*r+i*i+o*o);return new u(s,r*c,i*c,o*c)},u.fromBetweenVectors=function(e,t){var n=e[0],r=e[1],i=e[2],o=t[0],a=t[1],s=t[2],c=n*o+r*a+i*s,l=r*s-i*a,h=i*o-n*s,d=n*a-r*o;return new u(c+Math.sqrt(c*c+l*l+h*h+d*d),l,h,d).normalize()},u.fromEuler=function(e,t,n,r){var i=.5*t,o=.5*n,a=.5*e,s=Math.cos(i),c=Math.cos(o),l=Math.cos(a),h=Math.sin(i),d=Math.sin(o),f=Math.sin(a);return void 0===r||"ZXY"===r?new u(s*c*l-h*d*f,h*c*l-s*d*f,s*d*l+h*c*f,s*c*f+h*d*l):"XYZ"===r?new u(s*c*l-h*d*f,h*c*l+s*d*f,s*d*l-h*c*f,s*c*f+h*d*l):"YXZ"===r?new u(s*c*l+h*d*f,h*c*l+s*d*f,s*d*l-h*c*f,s*c*f-h*d*l):"ZYX"===r?new u(s*c*l+h*d*f,h*c*l-s*d*f,s*d*l+h*c*f,s*c*f-h*d*l):"YZX"===r?new u(s*c*l-h*d*f,h*c*l+s*d*f,s*d*l+h*c*f,s*c*f-h*d*l):"XZY"===r?new u(s*c*l+h*d*f,h*c*l-s*d*f,s*d*l-h*c*f,s*c*f+h*d*l):null},void 0===(r=(function(){return u}).apply(t,[]))||(e.exports=r)}()},YuTi:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},cTvG:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n("FZPO");class i{fromRdf(e,t){const n=parseFloat(e.value);return t&&isNaN(n)&&r.Translator.incorrectRdfDataType(e),n}toRdf(e,{datatype:t,dataFactory:n}){return t=t||n.namedNode(i.TYPES[0]),isNaN(e)?n.literal("NaN",t):isFinite(e)?e%1==0?null:n.literal(e.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),t):n.literal(e>0?"INF":"-INF",t)}}t.TypeHandlerNumberDouble=i,i.TYPES=["http://www.w3.org/2001/XMLSchema#double","http://www.w3.org/2001/XMLSchema#decimal","http://www.w3.org/2001/XMLSchema#float"]},g5aj:function(e,t,n){var r=n("04/w"),i=n("PDru");function o(){this.clear()}o.prototype.clear=function(){this.items=[],this.offset=0,this.size=0},o.prototype.enqueue=function(e){return this.items.push(e),++this.size},o.prototype.dequeue=function(){if(this.size){var e=this.items[this.offset];return 2*++this.offset>=this.items.length&&(this.items=this.items.slice(this.offset),this.offset=0),this.size--,e}},o.prototype.peek=function(){if(this.size)return this.items[this.offset]},o.prototype.forEach=function(e,t){t=arguments.length>1?t:this;for(var n=this.offset,r=0,i=this.items.length;n<i;n++,r++)e.call(t,this.items[n],r,this)},o.prototype.toArray=function(){return this.items.slice(this.offset)},o.prototype.values=function(){var e=this.items,t=this.offset;return new r((function(){if(t>=e.length)return{done:!0};var n=e[t];return t++,{value:n,done:!1}}))},o.prototype.entries=function(){var e=this.items,t=this.offset,n=0;return new r((function(){if(t>=e.length)return{done:!0};var r=e[t];return t++,{value:[n++,r],done:!1}}))},"undefined"!=typeof Symbol&&(o.prototype[Symbol.iterator]=o.prototype.values),o.prototype.toString=function(){return this.toArray().join(",")},o.prototype.toJSON=function(){return this.toArray()},o.prototype.inspect=function(){var e=this.toArray();return Object.defineProperty(e,"constructor",{value:o,enumerable:!1}),e},"undefined"!=typeof Symbol&&(o.prototype[Symbol.for("nodejs.util.inspect.custom")]=o.prototype.inspect),o.from=function(e){var t=new o;return i(e,(function(e){t.enqueue(e)})),t},o.of=function(){return o.from(arguments)},e.exports=o},"l/hW":function(e,t,n){"use strict";e.exports=function(e){const t=e[0],n=e[1],r=e[2],i=e[3];return[Math.atan2(2*(t*n+r*i),1-2*(n*n+r*r)),Math.asin(2*(t*r-i*n)),Math.atan2(2*(t*i+n*r),1-2*(r*r+i*i))]}},m5Kp:function(e,t,n){var r=n("PPGm");e.exports=r},mMj5:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n("FZPO");class i{fromRdf(e,t){const n=parseInt(e.value,10);return t&&(isNaN(n)||e.value.indexOf(".")>=0)&&r.Translator.incorrectRdfDataType(e),n}toRdf(e,{datatype:t,dataFactory:n}){return n.literal(String(e),t||n.namedNode(e<=i.MAX_INT&&e>=i.MIN_INT?i.TYPES[0]:i.TYPES[1]))}}t.TypeHandlerNumberInteger=i,i.TYPES=["http://www.w3.org/2001/XMLSchema#integer","http://www.w3.org/2001/XMLSchema#long","http://www.w3.org/2001/XMLSchema#int","http://www.w3.org/2001/XMLSchema#byte","http://www.w3.org/2001/XMLSchema#short","http://www.w3.org/2001/XMLSchema#negativeInteger","http://www.w3.org/2001/XMLSchema#nonNegativeInteger","http://www.w3.org/2001/XMLSchema#nonPositiveInteger","http://www.w3.org/2001/XMLSchema#positiveInteger","http://www.w3.org/2001/XMLSchema#unsignedByte","http://www.w3.org/2001/XMLSchema#unsignedInt","http://www.w3.org/2001/XMLSchema#unsignedLong","http://www.w3.org/2001/XMLSchema#unsignedShort"],i.MAX_INT=2147483647,i.MIN_INT=-2147483648},mtbl:function(e,t,n){var r=n("tXxl"),i=n("g5aj"),o=n("x4yT");function a(e,t,n){if(!r(e))throw new Error("graphology-shortest-path: invalid graphology instance.");if(arguments.length<3)throw new Error("graphology-shortest-path: invalid number of arguments. Expecting at least 3.");if(!e.hasNode(t))throw new Error('graphology-shortest-path: the "'+t+'" source node does not exist in the given graph.');if(!e.hasNode(n))throw new Error('graphology-shortest-path: the "'+n+'" target node does not exist in the given graph.');if((t=""+t)==(n=""+n))return[t];var i=e.inboundNeighbors.bind(e),o=e.outboundNeighbors.bind(e),a={},s={};a[t]=null,s[n]=null;var u,c,l,h,d,f,p,g,y=[t],v=[n],b=!1;e:for(;y.length&&v.length;)if(y.length<=v.length){for(u=y,y=[],d=0,p=u.length;d<p;d++)for(f=0,g=(l=o(c=u[d])).length;f<g;f++)if((h=l[f])in a||(y.push(h),a[h]=c),h in s){b=!0;break e}}else for(u=v,v=[],d=0,p=u.length;d<p;d++)for(f=0,g=(l=i(c=u[d])).length;f<g;f++)if((h=l[f])in s||(v.push(h),s[h]=c),h in a){b=!0;break e}if(!b)return null;for(var m=[];h;)m.unshift(h),h=a[h];for(h=s[m[m.length-1]];h;)m.push(h),h=s[h];return m.length?m:null}function s(e,t){if(!r(e))throw new Error("graphology-shortest-path: invalid graphology instance.");if(arguments.length<2)throw new Error("graphology-shortest-path: invalid number of arguments. Expecting at least 2.");if(!e.hasNode(t))throw new Error('graphology-shortest-path: the "'+t+'" source node does not exist in the given graph.');var n,i,o,a,s,u,c={},l={};for(c[t=""+t]=!0,l[t]=[t];Object.keys(c).length;)for(o in n=c,c={},n)for(s=0,u=(i=e.outboundNeighbors(o)).length;s<u;s++)l[a=i[s]]||(l[a]=l[o].concat(a),c[a]=!0);return l}function u(e,t,n){if(!r(t))throw new Error("graphology-shortest-path: invalid graphology instance.");if(!t.hasNode(n))throw new Error('graphology-shortest-path: the "'+n+'" source node does not exist in the given graph.');n=""+n;var i=new Set,a={},s=0;a[n]=0;for(var u,c,l,h=[n];0!==h.length;){var d=[];for(u=0,c=h.length;u<c;u++)i.has(l=h[u])||(i.add(l),o(d,t[e](l)),a[l]=s);s++,h=d}return a}var c=u.bind(null,"outboundNeighbors"),l=u.bind(null,"neighbors");function h(e,t,n){return arguments.length<3?s(e,t):a(e,t,n)}h.bidirectional=a,h.singleSource=s,h.singleSourceLength=c,h.undirectedSingleSourceLength=l,h.brandes=function(e,t){t=""+t;var n,r,o,a,s,u,c,l,h,d=[],f={},p={},g=e.nodes();for(u=0,l=g.length;u<l;u++)f[a=g[u]]=[],p[a]=0;var y={};p[t]=1,y[t]=0;for(var v=i.of(t);v.size;)for(a=v.dequeue(),d.push(a),n=y[a],r=p[a],c=0,h=(o=e.outboundNeighbors(a)).length;c<h;c++)(s=o[c])in y||(v.enqueue(s),y[s]=n+1),y[s]===n+1&&(p[s]+=r,f[s].push(a));return[d,f,p]},e.exports=h},pVxc:function(e,t){function n(e){this.value=e}n.prototype.equals=function(e){return!!e&&e.termType===this.termType&&e.value===this.value},n.prototype.termType="Variable",e.exports=n},tXxl:function(e,t){e.exports=function(e){return null!==e&&"object"==typeof e&&"function"==typeof e.addUndirectedEdgeWithKey&&"function"==typeof e.dropNode&&"boolean"==typeof e.multi}},x4yT:function(e,t){e.exports=function(e,t){var n=t.length;if(0!==n){var r=e.length;e.length+=n;for(var i=0;i<n;i++)e[r+i]=t[i]}}}});