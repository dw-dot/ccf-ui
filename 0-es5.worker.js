function _objectWithoutProperties(e,t){if(null==e)return{};var r,n,i=_objectWithoutPropertiesLoose(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function _objectWithoutPropertiesLoose(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){_defineProperty2(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _toArray(e){return _arrayWithHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableRest()}function _inherits2(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf2(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct2();return function(){var r,n=_getPrototypeOf2(e);if(t){var i=_getPrototypeOf2(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _possibleConstructorReturn2(this,r)}}function _possibleConstructorReturn2(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _wrapNativeSuper(e){var t="function"==typeof Map?new Map:void 0;return(_wrapNativeSuper=function(e){if(null===e||!_isNativeFunction(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return _construct(e,arguments,_getPrototypeOf2(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf2(r,e)})(e)}function _isNativeFunction(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function _getPrototypeOf2(e){return(_getPrototypeOf2=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function asyncGeneratorStep(e,t,r,n,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void r(c)}s.done?t(u):Promise.resolve(u).then(n,i)}function _asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function o(e){asyncGeneratorStep(a,n,i,o,s,"next",e)}function s(e){asyncGeneratorStep(a,n,i,o,s,"throw",e)}o(void 0)}))}}function _construct(e,t,r){return(_construct=_isNativeReflectConstruct2()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var i=new(Function.bind.apply(e,n));return r&&_setPrototypeOf2(i,r.prototype),i}).apply(null,arguments)}function _isNativeReflectConstruct2(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _setPrototypeOf2(e,t){return(_setPrototypeOf2=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _defineProperty2(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray2(e)}function _createForOfIteratorHelper(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){throw e})),f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){s=!0,a=e})),f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray2(e,t):void 0}}function _arrayLikeToArray2(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _iterableToArrayLimit(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(u){i=!0,a=u}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return r}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _classCallCheck2(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass2(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}!function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,(function(t){return e[t]}).bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s="7N0h")}({"+2nh":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("FZPO"),i=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"fromRdf",value:function(t,r){switch(r&&!t.value.match(e.VALIDATORS[t.datatype.value.substr(33,t.datatype.value.length)])&&n.Translator.incorrectRdfDataType(t),t.datatype.value){case"http://www.w3.org/2001/XMLSchema#gDay":return new Date(0,0,parseInt(t.value,10));case"http://www.w3.org/2001/XMLSchema#gMonthDay":var i=t.value.split("-");return new Date(0,parseInt(i[0],10)-1,parseInt(i[1],10));case"http://www.w3.org/2001/XMLSchema#gYear":return new Date(t.value+"-01-01");case"http://www.w3.org/2001/XMLSchema#gYearMonth":return new Date(t.value+"-01");default:return new Date(t.value)}}},{key:"toRdf",value:function(t,r){var n=r.datatype,i=r.dataFactory;if(n=n||i.namedNode(e.TYPES[0]),!(t instanceof Date))return null;var a,o=t;switch(n.value){case"http://www.w3.org/2001/XMLSchema#gDay":a=String(o.getUTCDate());break;case"http://www.w3.org/2001/XMLSchema#gMonthDay":a=o.getUTCMonth()+1+"-"+o.getUTCDate();break;case"http://www.w3.org/2001/XMLSchema#gYear":a=String(o.getUTCFullYear());break;case"http://www.w3.org/2001/XMLSchema#gYearMonth":a=o.getUTCFullYear()+"-"+(o.getUTCMonth()+1);break;case"http://www.w3.org/2001/XMLSchema#date":a=o.toISOString().replace(/T.*$/,"");break;default:a=o.toISOString()}return i.literal(a,n)}}]),e}();t.TypeHandlerDate=i,i.TYPES=["http://www.w3.org/2001/XMLSchema#dateTime","http://www.w3.org/2001/XMLSchema#date","http://www.w3.org/2001/XMLSchema#gDay","http://www.w3.org/2001/XMLSchema#gMonthDay","http://www.w3.org/2001/XMLSchema#gYear","http://www.w3.org/2001/XMLSchema#gYearMonth"],i.VALIDATORS={date:/^[0-9]+-[0-9][0-9]-[0-9][0-9]Z?$/,dateTime:/^[0-9]+-[0-9][0-9]-[0-9][0-9]T[0-9][0-9]:[0-9][0-9]:[0-9][0-9](\.[0-9][0-9][0-9])?((Z?)|([\+-][0-9][0-9]:[0-9][0-9]))$/,gDay:/^[0-9]+$/,gMonthDay:/^[0-9]+-[0-9][0-9]$/,gYear:/^[0-9]+$/,gYearMonth:/^[0-9]+-[0-9][0-9]$/}},"04/w":function(e,t){function r(e){Object.defineProperty(this,"_next",{writable:!1,enumerable:!1,value:e}),this.done=!1}r.prototype.next=function(){if(this.done)return{done:!0};var e=this._next();return e.done&&(this.done=!0),e},"undefined"!=typeof Symbol&&(r.prototype[Symbol.iterator]=function(){return this}),r.of=function(){var e=arguments,t=e.length,n=0;return new r((function(){return n>=t?{done:!0}:{done:!1,value:e[n++]}}))},r.empty=function(){var e=new r(null);return e.done=!0,e},r.is=function(e){return e instanceof r||"object"==typeof e&&null!==e&&"function"==typeof e.next},e.exports=r},"12xR":function(e,t){function r(){this.value=""}r.prototype.equals=function(e){return!!e&&e.termType===this.termType},r.prototype.termType="DefaultGraph",e.exports=r},"4cw7":function(e,t,r){var n=r("12xR");function i(e,t,r,i){this.subject=e,this.predicate=t,this.object=r,this.graph=i||new n}i.prototype.equals=function(e){return!!e&&e.subject.equals(this.subject)&&e.predicate.equals(this.predicate)&&e.object.equals(this.object)&&e.graph.equals(this.graph)},e.exports=i},"6smP":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"fromRdf",value:function(e){return e.value}},{key:"toRdf",value:function(e,t){var r=t.datatype;return t.dataFactory.literal(e,r)}}]),e}();t.TypeHandlerString=n,n.TYPES=["http://www.w3.org/2001/XMLSchema#string","http://www.w3.org/2001/XMLSchema#normalizedString","http://www.w3.org/2001/XMLSchema#anyURI","http://www.w3.org/2001/XMLSchema#base64Binary","http://www.w3.org/2001/XMLSchema#language","http://www.w3.org/2001/XMLSchema#Name","http://www.w3.org/2001/XMLSchema#NCName","http://www.w3.org/2001/XMLSchema#NMTOKEN","http://www.w3.org/2001/XMLSchema#token","http://www.w3.org/2001/XMLSchema#hexBinary","http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","http://www.w3.org/2001/XMLSchema#time","http://www.w3.org/2001/XMLSchema#duration"]},"7N0h":function(e,t,r){"use strict";var n,i,a;function o(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))}r.r(t);var s=r("JFj6");function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function f(e,t,r){return(f=l()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var i=new(Function.bind.apply(e,n));return r&&c(i,r.prototype),i}).apply(null,arguments)}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function d(e,t){if(!e)throw new Error("math.gl assertion ".concat(t))}Math;var p=1/180*Math.PI,v={};function g(e){return Math.round(e/v.EPSILON)*v.EPSILON}function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.precision,n=void 0===r?v.precision||4:r;return e=g(e),"".concat(parseFloat(e.toPrecision(n)))}function b(e){return Array.isArray(e)||ArrayBuffer.isView(e)&&!(e instanceof DataView)}function m(e){return function(e,t){return function(e,t,r){if(b(e)){r=r||((i=e).clone?i.clone():new Array(i.length));for(var n=0;n<r.length&&n<e.length;++n)r[n]=t(e[n]);return r}var i;return t(e)}(e,(function(e){return e*p}),void 0)}(e)}function _(e,t,r){var n=v.EPSILON;r&&(v.EPSILON=r);try{if(e===t)return!0;if(b(e)&&b(t)){if(e.length!==t.length)return!1;for(var i=0;i<e.length;++i)if(!_(e[i],t[i]))return!1;return!0}return e&&e.equals?e.equals(t):t&&t.equals?t.equals(e):!(!Number.isFinite(e)||!Number.isFinite(t))&&Math.abs(e-t)<=v.EPSILON*Math.max(1,Math.abs(e),Math.abs(t))}finally{v.EPSILON=n}}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function E(e,t,r){return t&&S(e.prototype,t),r&&S(e,r),e}function T(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}function I(e,t){if(e.length!==t)return!1;for(var r=0;r<e.length;++r)if(!Number.isFinite(e[r]))return!1;return!0}function j(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(v.debug&&!I(e,t))throw new Error("math.gl: ".concat(r," some fields set to invalid numbers'"));return e}v.EPSILON=1e-12,v.debug=!1,v.precision=4,v.printTypes=!1,v.printDegrees=!1,v.printRowMajor=!0;var N={};function O(e,t){N[e]||(N[e]=!0,console.warn("".concat(e," has been removed in version ").concat(t,", see upgrade guide for more information")))}function A(e){var t="function"==typeof Map?new Map:void 0;return(A=function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return f(e,arguments,k(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),c(r,e)})(e)}var R,C=function(e){function t(){return w(this,t),x(this,k(t).apply(this,arguments))}return T(t,e),E(t,[{key:"toString",value:function(){var e="[";if(v.printRowMajor){e+="row-major:";for(var t=0;t<this.RANK;++t)for(var r=0;r<this.RANK;++r)e+=" ".concat(this[r*this.RANK+t])}else{e+="column-major:";for(var n=0;n<this.ELEMENTS;++n)e+=" ".concat(this[n])}return e+"]"}},{key:"getElementIndex",value:function(e,t){return t*this.RANK+e}},{key:"getElement",value:function(e,t){return this[t*this.RANK+e]}},{key:"setElement",value:function(e,t,r){return this[t*this.RANK+e]=function(e){if(!Number.isFinite(e))throw new Error("Invalid number ".concat(e));return e}(r),this}},{key:"getColumn",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Array(this.RANK).fill(-0),r=e*this.RANK,n=0;n<this.RANK;++n)t[n]=this[r+n];return t}},{key:"setColumn",value:function(e,t){for(var r=e*this.RANK,n=0;n<this.RANK;++n)this[r+n]=t[n];return this}}]),t}(function(e){function t(){return w(this,t),x(this,k(t).apply(this,arguments))}return T(t,e),E(t,[{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"from",value:function(e){return Array.isArray(e)?this.copy(e):this.fromObject(e)}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=0;r<this.ELEMENTS;++r)this[r]=e[r+t];return this.check()}},{key:"to",value:function(e){return e===this?this:b(e)?this.toArray(e):this.toObject(e)}},{key:"toTarget",value:function(e){return e?this.to(e):this}},{key:"toArray",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=0;r<this.ELEMENTS;++r)e[t+r]=this[r];return e}},{key:"toFloat32Array",value:function(){return new Float32Array(this)}},{key:"toString",value:function(){return this.formatString(v)}},{key:"formatString",value:function(e){for(var t="",r=0;r<this.ELEMENTS;++r)t+=(r>0?", ":"")+y(this[r],e);return"".concat(e.printTypes?this.constructor.name:"","[").concat(t,"]")}},{key:"equals",value:function(e){if(!e||this.length!==e.length)return!1;for(var t=0;t<this.ELEMENTS;++t)if(!_(this[t],e[t]))return!1;return!0}},{key:"exactEquals",value:function(e){if(!e||this.length!==e.length)return!1;for(var t=0;t<this.ELEMENTS;++t)if(this[t]!==e[t])return!1;return!0}},{key:"negate",value:function(){for(var e=0;e<this.ELEMENTS;++e)this[e]=-this[e];return this.check()}},{key:"lerp",value:function(e,t,r){void 0===r&&(r=t,t=e,e=this);for(var n=0;n<this.ELEMENTS;++n){var i=e[n];this[n]=i+r*(t[n]-i)}return this.check()}},{key:"min",value:function(e){for(var t=0;t<this.ELEMENTS;++t)this[t]=Math.min(e[t],this[t]);return this.check()}},{key:"max",value:function(e){for(var t=0;t<this.ELEMENTS;++t)this[t]=Math.max(e[t],this[t]);return this.check()}},{key:"clamp",value:function(e,t){for(var r=0;r<this.ELEMENTS;++r)this[r]=Math.min(Math.max(this[r],e[r]),t[r]);return this.check()}},{key:"add",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(var n=0,i=t;n<i.length;n++)for(var a=i[n],o=0;o<this.ELEMENTS;++o)this[o]+=a[o];return this.check()}},{key:"subtract",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(var n=0,i=t;n<i.length;n++)for(var a=i[n],o=0;o<this.ELEMENTS;++o)this[o]-=a[o];return this.check()}},{key:"scale",value:function(e){if(Array.isArray(e))return this.multiply(e);for(var t=0;t<this.ELEMENTS;++t)this[t]*=e;return this.check()}},{key:"sub",value:function(e){return this.subtract(e)}},{key:"setScalar",value:function(e){for(var t=0;t<this.ELEMENTS;++t)this[t]=e;return this.check()}},{key:"addScalar",value:function(e){for(var t=0;t<this.ELEMENTS;++t)this[t]+=e;return this.check()}},{key:"subScalar",value:function(e){return this.addScalar(-e)}},{key:"multiplyScalar",value:function(e){for(var t=0;t<this.ELEMENTS;++t)this[t]*=e;return this.check()}},{key:"divideScalar",value:function(e){return this.scale(1/e)}},{key:"clampScalar",value:function(e,t){for(var r=0;r<this.ELEMENTS;++r)this[r]=Math.min(Math.max(this[r],e),t);return this.check()}},{key:"multiplyByScalar",value:function(e){return this.scale(e)}},{key:"check",value:function(){if(v.debug&&!this.validate())throw new Error("math.gl: ".concat(this.constructor.name," some fields set to invalid numbers'"));return this}},{key:"validate",value:function(){for(var e=this.length===this.ELEMENTS,t=0;t<this.ELEMENTS;++t)e=e&&Number.isFinite(this[t]);return e}},{key:"ELEMENTS",get:function(){return d(!1),0}},{key:"RANK",get:function(){return d(!1),0}},{key:"elements",get:function(){return this}}]),t}(A(Array))),L="undefined"!=typeof Float32Array?Float32Array:Array;function D(e,t,r){var n=t[0],i=t[1],a=t[2],o=t[3],s=t[4],u=t[5],c=t[6],l=t[7],f=t[8],h=t[9],d=t[10],p=t[11],v=t[12],g=t[13],y=t[14],b=t[15],m=r[0],_=r[1],w=r[2],x=r[3];return e[0]=m*n+_*s+w*f+x*v,e[1]=m*i+_*u+w*h+x*g,e[2]=m*a+_*c+w*d+x*y,e[3]=m*o+_*l+w*p+x*b,e[4]=(m=r[4])*n+(_=r[5])*s+(w=r[6])*f+(x=r[7])*v,e[5]=m*i+_*u+w*h+x*g,e[6]=m*a+_*c+w*d+x*y,e[7]=m*o+_*l+w*p+x*b,e[8]=(m=r[8])*n+(_=r[9])*s+(w=r[10])*f+(x=r[11])*v,e[9]=m*i+_*u+w*h+x*g,e[10]=m*a+_*c+w*d+x*y,e[11]=m*o+_*l+w*p+x*b,e[12]=(m=r[12])*n+(_=r[13])*s+(w=r[14])*f+(x=r[15])*v,e[13]=m*i+_*u+w*h+x*g,e[14]=m*a+_*c+w*d+x*y,e[15]=m*o+_*l+w*p+x*b,e}function M(e,t,r){var n=r[0],i=r[1],a=r[2];return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*a,e[9]=t[9]*a,e[10]=t[10]*a,e[11]=t[11]*a,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function P(e,t,r,n,i){var a,o=1/Math.tan(t/2);return e[0]=o/r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=i&&i!==1/0?(e[10]=(i+n)*(a=1/(n-i)),e[14]=2*i*n*a):(e[10]=-1,e[14]=-2*n),e}function F(e,t,r,n){var i,a,o,s,u,c,l,f,h,d,p=t[0],v=t[1],g=t[2],y=n[0],b=n[1],m=n[2],_=r[0],w=r[1],x=r[2];return Math.abs(p-_)<1e-6&&Math.abs(v-w)<1e-6&&Math.abs(g-x)<1e-6?function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}(e):(l=p-_,f=v-w,h=g-x,i=b*(h*=d=1/Math.hypot(l,f,h))-m*(f*=d),a=m*(l*=d)-y*h,o=y*f-b*l,(d=Math.hypot(i,a,o))?(i*=d=1/d,a*=d,o*=d):(i=0,a=0,o=0),s=f*o-h*a,u=h*i-l*o,c=l*a-f*i,(d=Math.hypot(s,u,c))?(s*=d=1/d,u*=d,c*=d):(s=0,u=0,c=0),e[0]=i,e[1]=s,e[2]=l,e[3]=0,e[4]=a,e[5]=u,e[6]=f,e[7]=0,e[8]=o,e[9]=c,e[10]=h,e[11]=0,e[12]=-(i*p+a*v+o*g),e[13]=-(s*p+u*v+c*g),e[14]=-(l*p+f*v+h*g),e[15]=1,e)}Math,Math,Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)}),R=new L(2),L!=Float32Array&&(R[0]=0,R[1]=0),function(){var e=new L(3);L!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0)}(),function(){var e=new L(4);L!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0)}();var B=Object.freeze([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),U=Object.freeze([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),G=Object.freeze({COL0ROW0:0,COL0ROW1:1,COL0ROW2:2,COL0ROW3:3,COL1ROW0:4,COL1ROW1:5,COL1ROW2:6,COL1ROW3:7,COL2ROW0:8,COL2ROW1:9,COL2ROW2:10,COL2ROW3:11,COL3ROW0:12,COL3ROW1:13,COL3ROW2:14,COL3ROW3:15}),z={},q=function(e){function t(e){var r;return w(this,t),r=x(this,k(t).call(this,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0)),1===arguments.length&&Array.isArray(e)?r.copy(e):r.identity(),r}return T(t,e),E(t,[{key:"INDICES",get:function(){return G}},{key:"ELEMENTS",get:function(){return 16}},{key:"RANK",get:function(){return 4}}],[{key:"IDENTITY",get:function(){return z.IDENTITY=z.IDENTITY||Object.freeze(new t(B)),z.IDENTITY}},{key:"ZERO",get:function(){return z.ZERO=z.ZERO||Object.freeze(new t(U)),z.ZERO}}]),E(t,[{key:"copy",value:function(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=e[3],this[4]=e[4],this[5]=e[5],this[6]=e[6],this[7]=e[7],this[8]=e[8],this[9]=e[9],this[10]=e[10],this[11]=e[11],this[12]=e[12],this[13]=e[13],this[14]=e[14],this[15]=e[15],this.check()}},{key:"set",value:function(e,t,r,n,i,a,o,s,u,c,l,f,h,d,p,v){return this[0]=e,this[1]=t,this[2]=r,this[3]=n,this[4]=i,this[5]=a,this[6]=o,this[7]=s,this[8]=u,this[9]=c,this[10]=l,this[11]=f,this[12]=h,this[13]=d,this[14]=p,this[15]=v,this.check()}},{key:"setRowMajor",value:function(e,t,r,n,i,a,o,s,u,c,l,f,h,d,p,v){return this[0]=e,this[1]=i,this[2]=u,this[3]=h,this[4]=t,this[5]=a,this[6]=c,this[7]=d,this[8]=r,this[9]=o,this[10]=l,this[11]=p,this[12]=n,this[13]=s,this[14]=f,this[15]=v,this.check()}},{key:"toRowMajor",value:function(e){return e[0]=this[0],e[1]=this[4],e[2]=this[8],e[3]=this[12],e[4]=this[1],e[5]=this[5],e[6]=this[9],e[7]=this[13],e[8]=this[2],e[9]=this[6],e[10]=this[10],e[11]=this[14],e[12]=this[3],e[13]=this[7],e[14]=this[11],e[15]=this[15],e}},{key:"identity",value:function(){return this.copy(B)}},{key:"fromQuaternion",value:function(e){return function(e,t){var r=t[0],n=t[1],i=t[2],a=t[3],o=r+r,s=n+n,u=i+i,c=r*o,l=n*o,f=n*s,h=i*o,d=i*s,p=i*u,v=a*o,g=a*s,y=a*u;e[0]=1-f-p,e[1]=l+y,e[2]=h-g,e[3]=0,e[4]=l-y,e[5]=1-c-p,e[6]=d+v,e[7]=0,e[8]=h+g,e[9]=d-v,e[10]=1-c-f,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1}(this,e),this.check()}},{key:"frustum",value:function(e){var r=e.left,n=e.right,i=e.bottom,a=e.top,o=e.near,s=e.far;return s===1/0?t._computeInfinitePerspectiveOffCenter(this,r,n,i,a,o):function(e,t,r,n,i,a,o){var s=1/(r-t),u=1/(i-n),c=1/(a-o);e[0]=2*a*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*a*u,e[6]=0,e[7]=0,e[8]=(r+t)*s,e[9]=(i+n)*u,e[10]=(o+a)*c,e[11]=-1,e[12]=0,e[13]=0,e[14]=o*a*2*c,e[15]=0}(this,r,n,i,a,o,s),this.check()}},{key:"lookAt",value:function(e,t,r){if(1===arguments.length){var n=e;e=n.eye,t=n.center,r=n.up}return F(this,e,t=t||[0,0,0],r=r||[0,1,0]),this.check()}},{key:"ortho",value:function(e){var t=e.near,r=e.far;return function(e,t,r,n,i,a,o){var s=1/(t-r),u=1/(n-i),c=1/(a-o);e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*u,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*c,e[11]=0,e[12]=(t+r)*s,e[13]=(i+n)*u,e[14]=(o+a)*c,e[15]=1}(this,e.left,e.right,e.bottom,e.top,void 0===t?.1:t,void 0===r?500:r),this.check()}},{key:"orthographic",value:function(e){var r=e.fovy,n=void 0===r?45*Math.PI/180:r,i=e.aspect,a=void 0===i?1:i,o=e.focalDistance,s=void 0===o?1:o,u=e.near,c=void 0===u?.1:u,l=e.far,f=void 0===l?500:l;if(n>2*Math.PI)throw Error("radians");var h=s*Math.tan(n/2),d=h*a;return(new t).ortho({left:-d,right:d,bottom:-h,top:h,near:c,far:f})}},{key:"perspective",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.fovy,r=void 0===t?void 0:t,n=e.fov,i=void 0===n?45*Math.PI/180:n,a=e.aspect,o=void 0===a?1:a,s=e.near,u=void 0===s?.1:s,c=e.far,l=void 0===c?500:c;if((r=r||i)>2*Math.PI)throw Error("radians");return P(this,r,o,u,l),this.check()}},{key:"determinant",value:function(){return((t=(e=this)[0])*(o=e[5])-(r=e[1])*(a=e[4]))*((f=e[10])*(g=e[15])-(h=e[11])*(v=e[14]))-(t*(s=e[6])-(n=e[2])*a)*((l=e[9])*g-h*(p=e[13]))+(t*(u=e[7])-(i=e[3])*a)*(l*v-f*p)+(r*s-n*o)*((c=e[8])*g-h*(d=e[12]))-(r*u-i*o)*(c*v-f*d)+(n*u-i*s)*(c*p-l*d);var e,t,r,n,i,a,o,s,u,c,l,f,h,d,p,v,g}},{key:"getScale",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[-0,-0,-0];return e[0]=Math.sqrt(this[0]*this[0]+this[1]*this[1]+this[2]*this[2]),e[1]=Math.sqrt(this[4]*this[4]+this[5]*this[5]+this[6]*this[6]),e[2]=Math.sqrt(this[8]*this[8]+this[9]*this[9]+this[10]*this[10]),e}},{key:"getTranslation",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[-0,-0,-0];return e[0]=this[12],e[1]=this[13],e[2]=this[14],e}},{key:"getRotation",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=this.getScale(t||[-0,-0,-0]),n=1/r[0],i=1/r[1],a=1/r[2];return e[0]=this[0]*n,e[1]=this[1]*i,e[2]=this[2]*a,e[3]=0,e[4]=this[4]*n,e[5]=this[5]*i,e[6]=this[6]*a,e[7]=0,e[8]=this[8]*n,e[9]=this[9]*i,e[10]=this[10]*a,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},{key:"getRotationMatrix3",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[-0,-0,-0,-0,-0,-0,-0,-0,-0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=this.getScale(t||[-0,-0,-0]),n=1/r[0],i=1/r[1],a=1/r[2];return e[0]=this[0]*n,e[1]=this[1]*i,e[2]=this[2]*a,e[3]=this[4]*n,e[4]=this[5]*i,e[5]=this[6]*a,e[6]=this[8]*n,e[7]=this[9]*i,e[8]=this[10]*a,e}},{key:"transpose",value:function(){return function(e,t){if(e===t){var r=t[1],n=t[2],i=t[3],a=t[6],o=t[7],s=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=r,e[6]=t[9],e[7]=t[13],e[8]=n,e[9]=a,e[11]=t[14],e[12]=i,e[13]=o,e[14]=s}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15]}(this,this),this.check()}},{key:"invert",value:function(){return function(e,t){var r=t[0],n=t[1],i=t[2],a=t[3],o=t[4],s=t[5],u=t[6],c=t[7],l=t[8],f=t[9],h=t[10],d=t[11],p=t[12],v=t[13],g=t[14],y=t[15],b=r*s-n*o,m=r*u-i*o,_=r*c-a*o,w=n*u-i*s,x=n*c-a*s,k=i*c-a*u,S=l*v-f*p,E=l*g-h*p,T=l*y-d*p,I=f*g-h*v,j=f*y-d*v,N=h*y-d*g,O=b*N-m*j+_*I+w*T-x*E+k*S;O&&(e[0]=(s*N-u*j+c*I)*(O=1/O),e[1]=(i*j-n*N-a*I)*O,e[2]=(v*k-g*x+y*w)*O,e[3]=(h*x-f*k-d*w)*O,e[4]=(u*T-o*N-c*E)*O,e[5]=(r*N-i*T+a*E)*O,e[6]=(g*_-p*k-y*m)*O,e[7]=(l*k-h*_+d*m)*O,e[8]=(o*j-s*T+c*S)*O,e[9]=(n*T-r*j-a*S)*O,e[10]=(p*x-v*_+y*b)*O,e[11]=(f*_-l*x-d*b)*O,e[12]=(s*E-o*I-u*S)*O,e[13]=(r*I-n*E+i*S)*O,e[14]=(v*m-p*w-g*b)*O,e[15]=(l*w-f*m+h*b)*O)}(this,this),this.check()}},{key:"multiplyLeft",value:function(e){return D(this,e,this),this.check()}},{key:"multiplyRight",value:function(e){return D(this,this,e),this.check()}},{key:"rotateX",value:function(e){return function(e,t,r){var n=Math.sin(r),i=Math.cos(r),a=t[4],o=t[5],s=t[6],u=t[7],c=t[8],l=t[9],f=t[10],h=t[11];t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=a*i+c*n,e[5]=o*i+l*n,e[6]=s*i+f*n,e[7]=u*i+h*n,e[8]=c*i-a*n,e[9]=l*i-o*n,e[10]=f*i-s*n,e[11]=h*i-u*n}(this,this,e),this.check()}},{key:"rotateY",value:function(e){return function(e,t,r){var n=Math.sin(r),i=Math.cos(r),a=t[0],o=t[1],s=t[2],u=t[3],c=t[8],l=t[9],f=t[10],h=t[11];t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=a*i-c*n,e[1]=o*i-l*n,e[2]=s*i-f*n,e[3]=u*i-h*n,e[8]=a*n+c*i,e[9]=o*n+l*i,e[10]=s*n+f*i,e[11]=u*n+h*i}(this,this,e),this.check()}},{key:"rotateZ",value:function(e){return function(e,t,r){var n=Math.sin(r),i=Math.cos(r),a=t[0],o=t[1],s=t[2],u=t[3],c=t[4],l=t[5],f=t[6],h=t[7];t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=a*i+c*n,e[1]=o*i+l*n,e[2]=s*i+f*n,e[3]=u*i+h*n,e[4]=c*i-a*n,e[5]=l*i-o*n,e[6]=f*i-s*n,e[7]=h*i-u*n}(this,this,e),this.check()}},{key:"rotateXYZ",value:function(e){var t,r=(3,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),3!==r.length);n=!0);}catch(u){i=!0,a=u}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return r}}(t)||function(e,t){if(e){if("string"==typeof e)return h(e,3);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?h(e,3):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),n=r[1],i=r[2];return this.rotateX(r[0]).rotateY(n).rotateZ(i)}},{key:"rotateAxis",value:function(e,t){return function(e,t,r,n){var i,a,o,s,u,c,l,f,h,d,p,v,g,y,b,m,_,w,x,k,S,E,T,I,j=n[0],N=n[1],O=n[2],A=Math.hypot(j,N,O);A<1e-6||(j*=A=1/A,N*=A,O*=A,i=Math.sin(r),a=Math.cos(r),u=t[1],c=t[2],l=t[3],h=t[5],d=t[6],p=t[7],g=t[9],y=t[10],b=t[11],x=j*N*(o=1-a)-O*i,k=N*N*o+a,S=O*N*o+j*i,E=j*O*o+N*i,T=N*O*o-j*i,I=O*O*o+a,e[0]=(s=t[0])*(m=j*j*o+a)+(f=t[4])*(_=N*j*o+O*i)+(v=t[8])*(w=O*j*o-N*i),e[1]=u*m+h*_+g*w,e[2]=c*m+d*_+y*w,e[3]=l*m+p*_+b*w,e[4]=s*x+f*k+v*S,e[5]=u*x+h*k+g*S,e[6]=c*x+d*k+y*S,e[7]=l*x+p*k+b*S,e[8]=s*E+f*T+v*I,e[9]=u*E+h*T+g*I,e[10]=c*E+d*T+y*I,e[11]=l*E+p*T+b*I,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]))}(this,this,e,t),this.check()}},{key:"scale",value:function(e){return Array.isArray(e)?M(this,this,e):M(this,this,[e,e,e]),this.check()}},{key:"translate",value:function(e){return function(e,t,r){var n,i,a,o,s,u,c,l,f,h,d,p,v=r[0],g=r[1],y=r[2];t===e?(e[12]=t[0]*v+t[4]*g+t[8]*y+t[12],e[13]=t[1]*v+t[5]*g+t[9]*y+t[13],e[14]=t[2]*v+t[6]*g+t[10]*y+t[14],e[15]=t[3]*v+t[7]*g+t[11]*y+t[15]):(i=t[1],a=t[2],o=t[3],s=t[4],u=t[5],c=t[6],l=t[7],f=t[8],h=t[9],d=t[10],p=t[11],e[0]=n=t[0],e[1]=i,e[2]=a,e[3]=o,e[4]=s,e[5]=u,e[6]=c,e[7]=l,e[8]=f,e[9]=h,e[10]=d,e[11]=p,e[12]=n*v+s*g+f*y+t[12],e[13]=i*v+u*g+h*y+t[13],e[14]=a*v+c*g+d*y+t[14],e[15]=o*v+l*g+p*y+t[15])}(this,this,e),this.check()}},{key:"transform",value:function(e,t){return 4===e.length?(j(t=function(e,t,r){var n=t[0],i=t[1],a=t[2],o=t[3];return e[0]=r[0]*n+r[4]*i+r[8]*a+r[12]*o,e[1]=r[1]*n+r[5]*i+r[9]*a+r[13]*o,e[2]=r[2]*n+r[6]*i+r[10]*a+r[14]*o,e[3]=r[3]*n+r[7]*i+r[11]*a+r[15]*o,e}(t||[-0,-0,-0,-0],e,this),4),t):this.transformAsPoint(e,t)}},{key:"transformAsPoint",value:function(e,t){switch(e.length){case 2:t=function(e,t,r){var n=t[0],i=t[1];return e[0]=r[0]*n+r[4]*i+r[12],e[1]=r[1]*n+r[5]*i+r[13],e}(t||[-0,-0],e,this);break;case 3:t=function(e,t,r){var n=t[0],i=t[1],a=t[2],o=r[3]*n+r[7]*i+r[11]*a+r[15];return e[0]=(r[0]*n+r[4]*i+r[8]*a+r[12])/(o=o||1),e[1]=(r[1]*n+r[5]*i+r[9]*a+r[13])/o,e[2]=(r[2]*n+r[6]*i+r[10]*a+r[14])/o,e}(t||[-0,-0,-0],e,this);break;default:throw new Error("Illegal vector")}return j(t,e.length),t}},{key:"transformAsVector",value:function(e,t){switch(e.length){case 2:t=function(e,t,r){var n=t[0],i=t[1],a=r[3]*n+r[7]*i||1;return e[0]=(r[0]*n+r[4]*i)/a,e[1]=(r[1]*n+r[5]*i)/a,e}(t||[-0,-0],e,this);break;case 3:t=function(e,t,r){var n=t[0],i=t[1],a=t[2],o=r[3]*n+r[7]*i+r[11]*a||1;return e[0]=(r[0]*n+r[4]*i+r[8]*a)/o,e[1]=(r[1]*n+r[5]*i+r[9]*a)/o,e[2]=(r[2]*n+r[6]*i+r[10]*a)/o,e}(t||[-0,-0,-0],e,this);break;default:throw new Error("Illegal vector")}return j(t,e.length),t}},{key:"makeRotationX",value:function(e){return this.identity().rotateX(e)}},{key:"makeTranslation",value:function(e,t,r){return this.identity().translate([e,t,r])}},{key:"transformPoint",value:function(e,t){return O("Matrix4.transformPoint","3.0"),this.transformAsPoint(e,t)}},{key:"transformVector",value:function(e,t){return O("Matrix4.transformVector","3.0"),this.transformAsPoint(e,t)}},{key:"transformDirection",value:function(e,t){return O("Matrix4.transformDirection","3.0"),this.transformAsVector(e,t)}}],[{key:"_computeInfinitePerspectiveOffCenter",value:function(e,t,r,n,i,a){var o=2*a/(i-n),s=(r+t)/(r-t),u=(i+n)/(i-n),c=-2*a;return e[0]=2*a/(r-t),e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o,e[6]=0,e[7]=0,e[8]=s,e[9]=u,e[10]=-1,e[11]=-1,e[12]=0,e[13]=0,e[14]=c,e[15]=0,e}}]),t}(C),H=r("HXBs"),V=r("mtbl"),W=r.n(V),K=r("YXac"),J=r("l/hW"),X=r.n(J),Q=r("LvDl"),Y=r("L1/z"),Z=s.Util.prefixes({ccf:"http://purl.org/ccf/latest/ccf.owl#",entity:"http://purl.org/ccf/latest/ccf-entity.owl#",obo:"http://purl.obolibrary.org/obo/",uberon:"http://purl.obolibrary.org/obo/UBERON_",lmha:"http://purl.obolibrary.org/obo/LMHA_",rdf:"http://www.w3.org/2000/01/rdf-schema#",dc:"http://purl.org/dc/elements/1.1/"},s.DataFactory),$={x:Z("rdf"),type:s.DataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type")},ee=Z("entity")("id"),te={x:Z("entity"),id:ee,sex:Z("entity")("sex"),age:Z("entity")("age"),bmi:Z("entity")("bmi"),Male:s.DataFactory.literal("Male"),Female:s.DataFactory.literal("Female"),donor:Z("entity")("donor"),entityType:Z("entity")("entityType"),groupName:Z("entity")("groupName"),groupUUID:Z("entity")("groupUUID"),ontologyTerms:Z("entity")("ontologyTerms"),spatialEntity:Z("entity")("spatialEntity"),images:Z("entity")("hasImage"),imageProviders:Z("entity")("hasImageProvider")},re=Z("ccf"),ne={x:re,spatial:{Body:re("VHBody"),Female:re("VHFemale"),Male:re("VHMale"),BothSexes:re("VHBothSexes"),FemaleOrgans:re("VHFemaleOrgans"),MaleOrgans:re("VHMaleOrgans")},SpatialObjectReference:re("SpatialObjectReference"),SpatialEntity:re("SpatialEntity"),SpatialPlacement:re("SpatialPlacement"),spatialObjectReference:{file:re("has_object_file"),file_format:re("has_object_file_format"),file_subpath:re("has_object_file_subpath")},spatialEntity:{label:Z("rdf")("label"),creator:Z("dc")("creator"),creator_first_name:re("creator_first_name"),creator_last_name:re("creator_last_name"),creator_orcid:re("creator_orcid"),creation_date:re("creation_date"),x_dimension:re("has_x_dimension"),y_dimension:re("has_y_dimension"),z_dimension:re("has_z_dimension"),dimension_units:re("has_dimension_units"),object:re("has_object_reference")},spatialPlacement:{source:re("has_placement_source"),target:re("has_placement_target"),placement_date:re("has_placement_date"),x_scaling:re("has_x_scaling"),y_scaling:re("has_y_scaling"),z_scaling:re("has_z_scaling"),scaling_units:re("has_scaling_units"),x_rotation:re("has_x_rotation"),y_rotation:re("has_y_rotation"),z_rotation:re("has_z_rotation"),w_rotation:re("has_theta_rotation"),rotation_order:re("has_rotation_order"),rotation_units:re("has_rotation_units"),x_translation:re("has_x_translation"),y_translation:re("has_y_translation"),z_translation:re("has_z_translation"),translation_units:re("has_translation_units")}},ie=Z("uberon"),ae=Z("lmha"),oe={body:ie("0013702"),heart:ie("0000948"),lung:ae("00211"),left_lung:ie("0002168"),right_lung:ie("0002167"),kidney:ie("0002113"),left_kidney:ie("0004538"),right_kidney:ie("0004539"),spleen:ie("0002106"),colon:ie("0001155"),small_intestine:ie("0002108"),rectum:ie("0001052"),liver:ie("0002107"),bladder:ie("0001255"),ureter:ie("0000056"),left_ureter:ie("0001223"),right_ureter:ie("0001222"),thymus:ie("0002370"),lymph_node:ie("0000029")};function se(e){var t={};return Object.entries(e).forEach((function(e){var r=_slicedToArray(e,2),n=r[0],i=r[1];t[i.id]=n})),t}var ue={spatialObjectReference:se(ne.spatialObjectReference),spatialEntity:se(ne.spatialEntity),spatialPlacement:se(ne.spatialPlacement)};function ce(e,t,r,n){var i={"@id":t,"@type":r};return e.some((function(e){var t=n[e.predicate.id];if(t){var r="Literal"===e.object.termType?Object(Y.fromRdf)(e.object):e.object.id;Object(Q.set)(i,t,r)}return!1}),s.DataFactory.namedNode(t),null,null,null),i}function le(e,t){return ce(e,t,"SpatialObjectReference",ue.spatialObjectReference)}function fe(e,t){var r=ce(e,t,"SpatialEntity",ue.spatialEntity);return r.object&&(r.object=le(e,r.object)),e.forSubjects((function(e){return r.entityId=e.id}),te.spatialEntity,t,null),r}function he(e,t){var r,n=t;switch(n.translation_units){case"centimeter":r=.01;break;case"millimeter":r=.001;break;case"meter":default:r=1}var i=[n.x_translation,n.y_translation,n.z_translation].map((function(e){return e*r})),a=[n.x_rotation,n.y_rotation,n.z_rotation].map(m),o=X()(Object(K.fromEuler)(a[1],a[0],a[2],"XYZ").toVector()),s=[n.x_scaling,n.y_scaling,n.z_scaling];return e.translate(i).rotateXYZ(o).scale(s)}var de=function(){function e(t){_classCallCheck2(this,e),this.db=t,this.createGraph()}return _createClass2(e,[{key:"createGraph",value:function(){var e=this;this.graph=new H.DirectedGraph;var t=this.db.store;t.forSubjects((function(r){e.addSpatialObjectReference(le(t,r.id))}),$.type,ne.SpatialObjectReference,null),t.forSubjects((function(r){e.addSpatialEntity(fe(t,r.id))}),$.type,ne.SpatialEntity,null),t.forSubjects((function(r){e.addSpatialPlacement(function(e,t){var r=ce(e,t,"SpatialPlacement",ue.spatialPlacement);return r.source&&(r.source=fe(e,r.source)),r.target&&(r.target=fe(e,r.target)),r}(t,r.id))}),$.type,ne.SpatialPlacement,null)}},{key:"addSpatialEntity",value:function(e){this.graph.mergeNode(e["@id"],{type:"SpatialEntity",object:e})}},{key:"addSpatialObjectReference",value:function(e){this.graph.mergeNode(e["@id"],{type:"SpatialObjectReference",object:e})}},{key:"addSpatialPlacement",value:function(e){this.graph.mergeDirectedEdge(e.source["@id"],e.target["@id"],{type:"SpatialPlacement",placement:e})}},{key:"getTransformationMatrix",value:function(e,t){if(e===t)return new q;if(this.graph.hasNode(e)&&this.graph.hasNode(t)){var r=new q,n=W()(this.graph,e,t);if(n&&n.length>0){n.reverse();var i,a="",o=_createForOfIteratorHelper(n);try{for(o.s();!(i=o.n()).done;){var s=i.value;a&&he(r,this.graph.getEdgeAttribute(s,a,"placement")),a=s}}catch(u){o.e(u)}finally{o.f()}return r}}}}]),e}(),pe=function(){function e(t){_classCallCheck2(this,e),this.db=t}return _createClass2(e,[{key:"getReferenceBody",value:function(e){var t,r;switch(null===(t=e)||void 0===t?void 0:t.sex){case"Male":r=ne.spatial.Male.id;break;case"Female":r=ne.spatial.Female.id;break;case"Both":default:r=ne.spatial.BothSexes.id}return fe(this.db.store,r)}},{key:"getReferenceOrgans",value:function(e){var t,r;switch(null===(t=e)||void 0===t?void 0:t.sex){case"Male":r=ne.spatial.MaleOrgans.id;break;case"Female":r=ne.spatial.FemaleOrgans.id;break;case"Both":default:r=ne.spatial.FemaleOrgans.id}return[fe(this.db.store,r)]}},{key:"getReferenceSceneNodes",value:function(e){var t,r,n=this,i=fe(this.db.store,ne.spatial.Body.id),a=this.getReferenceBody(e),o=(fe(this.db.store,ne.spatial.MaleOrgans.id),this.db.store),s=(null===(t=e)||void 0===t?void 0:t.ontologyTerms)||[],u={body:0===s.indexOf(oe.body.id),kidney:0===s.indexOf(oe.kidney.id),right_kidney:0===s.indexOf(oe.right_kidney.id),left_kidney:0===s.indexOf(oe.left_kidney.id),spleen:0===s.indexOf(oe.spleen.id)},c=[this.getSceneNode(a,i,{unpickable:!0,color:[255,255,255,255]})].concat(_toConsumableArray(this.getReferenceOrgans(e).map((function(e){return n.getSceneNode(e,a,{unpickable:!0,_lighting:"pbr",zoomBasedOpacity:!0,color:[255,0,0,255]})}))),[this.getSceneNode(fe(o,ne.x("VHRightKidney").id),a,{color:[255,255,255,1],unpickable:u.kidney||u.right_kidney,zoomToOnLoad:u.right_kidney}),this.getSceneNode(fe(o,ne.x("VHLeftKidney").id),a,{color:[255,255,255,1],unpickable:u.kidney||u.left_kidney,zoomToOnLoad:u.left_kidney}),this.getSceneNode(fe(o,ne.x("VHSpleen").id),a,{color:[255,255,255,1],unpickable:u.spleen,zoomToOnLoad:u.spleen})]);return(null===(r=e)||void 0===r?void 0:r.debug)&&(c=c.concat([this.getSceneNode(fe(o,ne.x("VHRightKidney").id),i,{color:[0,0,255,127.5],wireframe:!0}),this.getSceneNode(fe(o,ne.x("VHLeftKidney").id),i,{color:[255,0,0,127.5],wireframe:!0}),this.getSceneNode(fe(o,ne.x("VHSpleenCC1").id),i,{color:[0,255,0,127.5],wireframe:!0}),this.getSceneNode(fe(o,ne.x("VHSpleenCC2").id),i,{color:[0,255,0,127.5],wireframe:!0}),this.getSceneNode(fe(o,ne.x("VHSpleenCC3").id),i,{color:[0,255,0,127.5],wireframe:!0})])),c.filter((function(e){return void 0!==e}))}},{key:"getEntitySceneNodes",value:function(e){var t,r=this,n=this.getReferenceBody(e),i=new Set(null===(t=e)||void 0===t?void 0:t.highlightedEntities);return this.db.getSpatialEntities(e).map((function(e){return r.getSceneNode(e,n,{color:i.has(e.entityId)?[10,10,229,229.5]:[255,255,255,229.5]})})).filter((function(e){return void 0!==e}))}},{key:"getSceneNode",value:function(e,t){var r,n,i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=e.object&&(null===(r=e.object.file_format)||void 0===r?void 0:r.startsWith("model/gltf")),s=this.db.graph.getTransformationMatrix(o&&e.object?e.object["@id"]:e["@id"],t["@id"]);if(s){if(o)s=(new q).rotateX(m(90)).multiplyLeft(s);else{var u;switch(e.dimension_units){case"centimeter":u=.01;break;case"millimeter":u=.001;break;case"meter":default:u=1}var c=[e.x_dimension,e.y_dimension,e.z_dimension].map((function(e){return e*u/2}));s.scale(c)}return Object.assign({"@id":e["@id"],"@type":"SpatialSceneNode",entityId:e.entityId||void 0,scenegraph:o?null===(n=e.object)||void 0===n?void 0:n.file:void 0,scenegraphNode:o?null===(i=e.object)||void 0===i?void 0:i.file_subpath:void 0,transformMatrix:s,tooltip:e.label},a)}}},{key:"getScene",value:function(e){return[].concat(_toConsumableArray(this.getReferenceSceneNodes(e)),_toConsumableArray(this.getEntitySceneNodes(e)))}}]),e}();function ve(e){return"string"==typeof e?parseFloat(e.replace(/[^\d\-\.]/g,"")):e}function ge(e){var t=e.x,r=e.y,n=e.z;return{x:ve(t),y:ve(r),z:ve(n)}}var ye="https://entity-api.hubmapconsortium.org/entities/",be=new Set(["VAN0003-LK-32-21-AF_preIMS_registered_thumbnail.png","VAN0003-LK-32-21-IMS_NegMode_multilayer_thumbnail.png","VAN0003-LK-32-21-IMS_PosMode_multilayer_thumbnail.png","VAN0003-LK-32-21-PAS_registered_thumbnail.png","VAN0003-LK-32-22-AF_preMxIF_registered_thumbnail.png","VAN0003-LK-32-22-MxIF_cyc1_registered_thumbnail.png","VAN0003-LK-32-22-MxIF_cyc2_registered_thumbnail.png","VAN0003-LK-32-22-MxIF_cyc3_registered_thumbnail.png","VAN0005-RK-1-1-AF_preIMS_registered_thumbnail.png","VAN0005-RK-1-1-IMS_NegMode_multilayer_thumbnail.png","VAN0005-RK-1-1-IMS_PosMode_multilayer_thumbnail.png","VAN0005-RK-1-1-PAS_registered_thumbnail.png","VAN0005-RK-4-172-AF_preIMS_registered_thumbnail.png","VAN0005-RK-4-172-IMS_NegMode_multilayer_thumbnail.png","VAN0005-RK-4-172-IMS_PosMode_multilayer_thumbnail.png","VAN0005-RK-4-172-PAS_registered_thumbnail.png","VAN0006-LK-2-85-AF_preIMS_registered_thumbnail.png","VAN0006-LK-2-85-IMS_NegMode_multilayer_thumbnail.png","VAN0006-LK-2-85-IMS_PosMode_multilayer_thumbnail.png","VAN0006-LK-2-85-PAS_registered_thumbnail.png","VAN0006-LK-2-86-AF_preMxIF_registered_thumbnail.png","VAN0006-LK-2-86-MxIF_cyc1_registered_thumbnail.png","VAN0006-LK-2-86-MxIF_cyc2_registered_thumbnail.png","VAN0006-LK-2-86-MxIF_cyc3_registered_thumbnail.png","VAN0007-LK-203-103-AF_preIMS_registered_thumbnail.png","VAN0007-LK-203-103-IMS_NegMode_multilayer_thumbnail.png","VAN0007-LK-203-103-IMS_PosMode_multilayer_thumbnail.png","VAN0007-LK-203-103-PAS_registered_thumbnail.png","VAN0008-RK-403-100-AF_preIMS_registered_thumbnail.png","VAN0008-RK-403-100-IMS_NegMode_multilayer_thumbnail.png","VAN0008-RK-403-100-IMS_PosMode_multilayer_thumbnail.png","VAN0008-RK-403-100-PAS_registered_thumbnail.png","VAN0008-RK-403-101-AF_preMxIF_registered_thumbnail.png","VAN0008-RK-403-101-MxIF_cyc1_registered_thumbnail.png","VAN0008-RK-403-101-MxIF_cyc2_registered_thumbnail.png","VAN0008-RK-403-101-MxIF_cyc3_registered_thumbnail.png","VAN0011-RK-3-10-AF_preIMS_registered_thumbnail.png","VAN0011-RK-3-10-IMS_NegMode_multilayer_thumbnail.png","VAN0011-RK-3-10-IMS_PosMode_multilayer_thumbnail.png","VAN0011-RK-3-10-PAS_registered_thumbnail.png","VAN0011-RK-3-11-AF_preMxIF_registered_thumbnail.png","VAN0011-RK-3-11-MxIF_cyc1_registered_thumbnail.png","VAN0011-RK-3-11-MxIF_cyc2_registered_thumbnail.png","VAN0011-RK-3-11-MxIF_cyc3_registered_thumbnail.png","VAN0012-RK-103-75-AF_preIMS_registered_thumbnail.png","VAN0012-RK-103-75-IMS_NegMode_multilayer_thumbnail.png","VAN0012-RK-103-75-IMS_PosMode_multilayer_thumbnail.png","VAN0012-RK-103-75-PAS_registered_thumbnail.png","VAN0012-RK-103-76-AF_preMxIF_registered_thumbnail.png","VAN0012-RK-103-76-MxIF_cyc1_registered_thumbnail.png","VAN0012-RK-103-76-MxIF_cyc2_registered_thumbnail.png","VAN0012-RK-103-76-MxIF_cyc3_registered_thumbnail.png"]),me={"03b3d854-ed44-11e8-8bce-0e368f3075e8":"TMC-UCSD","07a29e4c-ed43-11e8-b56a-0e8017bdda58":"TMC-Florida","308f5ffc-ed43-11e8-b56a-0e8017bdda58":"TMC-CalTech","5bd084c8-edc2-11e8-802f-0e368f3075e8":"HBM-TestingGroup","73bb26e4-ed43-11e8-8f19-0a7c1eab007a":"TMC-Vanderbilt","def5fd76-ed43-11e8-b56a-0e8017bdda58":"TMC-Stanford"};var _e,we=(_e={},Object.entries(oe).forEach((function(e){var t=_slicedToArray(e,2),r=t[0],n=t[1];return _e[r]=n.id})),_e),xe={BL:[we.body,we.bladder],RK:[we.body,we.kidney,we.right_kidney],LK:[we.body,we.kidney,we.left_kidney],HT:[we.body,we.heart],LI:[we.body,we.colon],SI:[we.body,we.small_instestine],LL:[we.body,we.lung,we.left_lung],RL:[we.body,we.lung,we.right_lung],LY:[we.body,we.lymph_node],SP:[we.body,we.spleen],TH:[we.body,we.thymus],UR:[we.body,we.ureter],LV:[we.body,we.liver],OT:[we.body]},ke={BL:"Bladder",RK:"Right Kidney",LK:"Left Kidney",HT:"Heart",LI:"Large Intestine",SI:"Small Intestine",LL:"Left Lung",RL:"Right Lung",LY:"Lymph Node",SP:"Spleen",TH:"Thymus",UR:"Ureter",LV:"Liver",OT:"Other Organ"},Se=function(){function e(t){var r,n,i=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",s=arguments.length>3?arguments[3]:void 0;_classCallCheck2(this,e),this.data=t,this.assetsApi=a,this.id=this.data.uuid,this.entityType=this.data.entity_type,this.ancestors=this.data.ancestors||[],this.descendants=this.data.descendants||[],this.donor="Donor"===this.entityType?t:this.ancestors.find((function(e){return"Donor"===e.entity_type})),this.organSample="Sample"===this.entityType&&"organ"===t.specimen_type?t:this.ancestors.find((function(e){return"Sample"===e.entity_type&&"organ"===e.specimen_type}));var u,c=(this.donor.description||"").toLowerCase();c.includes("female")?u="Female":c.includes("male")&&(u="Male");var l,f,h,d=c.match(/age\ ([0-9]+)/);d&&(l=Object(Q.toNumber)(d[1]));var p,v=_createForOfIteratorHelper(Object(Q.get)(this.donor,"metadata.organ_donor_data",[]));try{for(v.s();!(p=v.n()).done;){var g=p.value;"Feminine gender"===g.preferred_term||"Female"===g.preferred_term?u="Female":"Masculine gender"===g.preferred_term||"Male"===g.preferred_term?u="Male":"Current chronological age"===g.preferred_term||"Age"===g.preferred_term?l=Object(Q.toNumber)(g.data_value):"Body mass index"===g.preferred_term?f=Object(Q.toNumber)(g.data_value):"Racial group"!==g.grouping_concept_preferred_term&&"Race"!==g.grouping_concept_preferred_term||(h=g.preferred_term)}}catch(D){v.e(D)}finally{v.f()}var y="";u&&l&&(y+="".concat(u,", Age ").concat(l),f&&(y+=", BMI "+f.toFixed(1))),this.age=l,this.sex=u,this.bmi=f,this.ethnicity=h,this.label=y,this.doi=t.display_doi,this.description=t.description;var b=this.groupUUID=t.group_uuid||this.donor.group_uuid;this.groupName=me[b]||t.group_name||this.donor.group_name,this.organName=[t].concat(_toConsumableArray(this.ancestors),_toConsumableArray(this.descendants)).map((function(e){return e.organ})).find((function(e){return!!e})),this.ontologyTerms=xe[this.organName]||[we.body],this.organ=this.ontologyTerms[this.ontologyTerms.length-1],this.protocolUrl=this.donor.protocol_url;var m,_=t.rui_location||this.ancestors[0].rui_location;_&&("string"==typeof _&&(_=JSON.parse(_)),"07a29e4c-ed43-11e8-b56a-0e8017bdda58"===b&&(_=function(e,t){e=function(e){return e=Object.assign(Object.assign({},e),{tissue_object_size:ge(e.tissue_object_size),tissue_object_rotation:ge(e.tissue_object_rotation),tissue_position_mass_point:ge(e.tissue_position_mass_point)}),Object.entries(e).forEach((function(t){var r=_slicedToArray(t,2),n=r[0],i=r[1];"string"==typeof i&&Object(Q.set)(e,n,i.replace(/^_|mm_$|_$/g,""))})),e}(e);var r=t.lab_tissue_sample_id||"";return r.match(/CC1|CC\-1/)?(e.reference_organ_id="http://purl.org/ccf/latest/ccf.owl#VHSpleenCC1",e.tissue_position_mass_point={x:29.95+e.tissue_position_mass_point.x,y:40.7-60,z:0},e.tissue_object_size.x=10):r.match(/CC2|CC\-2/)?(e.reference_organ_id="http://purl.org/ccf/latest/ccf.owl#VHSpleenCC2",e.tissue_position_mass_point={x:31.5+e.tissue_position_mass_point.x,y:-19.9,z:0},e.tissue_object_size.x=10):r.match(/CC3|CC\-3/)?(e.reference_organ_id="http://purl.org/ccf/latest/ccf.owl#VHSpleenCC3",e.tissue_position_mass_point={x:29.35+e.tissue_position_mass_point.x,y:-16.6,z:0},e.tissue_object_size.x=10):e.reference_organ_id="http://purl.org/ccf/latest/ccf.owl#VHSpleen",e}(_,t)),this.organ===we.left_kidney?m=ne.x("VHLeftKidney").id:this.organ===we.right_kidney&&(m=ne.x("VHRightKidney").id),this.spatialEntity=function(e,t,r){var n,i;r?i=r:"uuid-1234-5678"===e.reference_organ_id?i=ne.x("VHKidney").id:e.reference_organ_id&&(i=e.reference_organ_id),(null===(n=i)||void 0===n?void 0:n.endsWith("Kidney"))&&(e=function(e){return Object.assign(Object.assign({},e),{tissue_position_mass_point:{x:e.tissue_position_mass_point.x-30,y:e.tissue_position_mass_point.y-50,z:e.tissue_position_mass_point.z-30}})}(e));var a=e.tissue_object_size,o=e.tissue_object_rotation,s=e.tissue_position_mass_point;return{"@context":"https://hubmapconsortium.github.io/hubmap-ontology/ccf-context.jsonld","@id":"http://purl.org/ccf/0.5/"+e.alignment_id,"@type":"SpatialEntity",label:t||void 0,creator:"".concat(e.alignment_operator_first_name," ").concat(e.alignment_operator_last_name),creator_first_name:e.alignment_operator_first_name,creator_last_name:e.alignment_operator_last_name,creation_date:e.alignment_datetime,ccf_annotations:[],x_dimension:a.x,y_dimension:a.y,z_dimension:a.z,dimension_units:"millimeter",placement:{"@context":"https://hubmapconsortium.github.io/hubmap-ontology/ccf-context.jsonld","@id":"http://purl.org/ccf/0.5/"+e.alignment_id+"_placement","@type":"SpatialPlacement",target:i,placement_date:e.alignment_datetime,x_scaling:1,y_scaling:1,z_scaling:1,scaling_units:"ratio",x_rotation:o.x,y_rotation:o.y,z_rotation:o.z,rotation_order:"XYZ",rotation_units:"degree",x_translation:s.x,y_translation:s.y,z_translation:s.z,translation_units:"millimeter"}}}(_,"SpatialEntity for "+this.label,m));for(var w=[],x=[],k=function(){var e=E[S],t=Object(Q.get)(e,"metadata.files",[]).filter((function(e){return/\.(ome\.tif|ome\.tiff)$/.test(e.rel_path)})).map((function(t){return"".concat(i.assetsApi,"/").concat(e.uuid,"/").concat(t.rel_path)+(s?"?token="+s:"")}));t.length>0&&(w=w.concat(t),x.push(ye+e.uuid))},S=0,E=[t].concat(_toConsumableArray(this.ancestors),_toConsumableArray(this.descendants));S<E.length;S++)k();w.length>0&&(this.images=w,this.imageProviders=x);for(var T=new Set,I=new Set,j=!1,N=0,O=[].concat(_toConsumableArray(this.ancestors),[t],_toConsumableArray(this.descendants));N<O.length;N++){var A=O[N];(A.data_types||[]).forEach((function(e){return T.add(e)}));var R=null===(n=null===(r=A.metadata)||void 0===r?void 0:r.metadata)||void 0===n?void 0:n.assay_type;R&&I.add(R),"yes"===A.contains_human_genetic_sequences&&(j=!0)}this.containsHumanGeneticSequences=j,this.dataTypes=_toConsumableArray(T).sort(),this.assayTypes=_toConsumableArray(I).sort();var C=[].concat(_toConsumableArray(T),_toConsumableArray(I)).map((function(e){return e.toLowerCase()})).join("|");if(-1!==C.indexOf("10x")?(this.thumbnailUrl="assets/icons/ico-bulk-10x.svg",this.spatialOrBulk="Bulk"):-1!==C.indexOf("af")?(this.thumbnailUrl="assets/icons/ico-spatial-af.svg",this.spatialOrBulk="Spatial"):-1!==C.indexOf("codex")?(this.thumbnailUrl="assets/icons/ico-spatial-codex.svg",this.spatialOrBulk="Spatial"):-1!==C.indexOf("imc")?(this.thumbnailUrl="assets/icons/ico-spatial-imc.svg",this.spatialOrBulk="Spatial"):-1!==C.indexOf("lc")&&-1===C.indexOf("af")?(this.thumbnailUrl="assets/icons/ico-bulk-lc.svg",this.spatialOrBulk="Bulk"):(this.thumbnailUrl="assets/icons/ico-unknown.svg",this.spatialOrBulk="Bulk"),this.portalUrl="".concat(o,"browse/sample/").concat(this.id),w.length>0&&-1===C.indexOf("codex")){if(this.resultUrl=w[0],this.resultType="image_viewer",this.thumbnailUrl="assets/histology3.jpg","73bb26e4-ed43-11e8-8f19-0a7c1eab007a"===b){var L=this.resultUrl.split("/").slice(-1)[0].split("?")[0].replace(".ome.tif","_thumbnail.png");be.has(L)&&(this.thumbnailUrl="assets/thumbnails/DR1-VU/"+L)}}else this.resultUrl=this.portalUrl,this.resultType="external_link"}return _createClass2(e,[{key:"toJsonLd",value:function(){var e,t=this.data;return Object.assign(Object.assign({"@id":ye+this.id,"@type":"Entity"},Object(Q.omit)(this,["data","donor","organ_sample","ancestors","descendants","assetsApi"])),{donor:ye+this.donor.uuid,shortInfo0:this.doi,shortInfo1:this.groupName,shortInfo2:t.description||this.donor.description,downloadUrl:this.portalUrl,downloadTooltip:"View in the HuBMAP Data Portal",organName:ke[this.organName]||this.organName,sex:this.sex,age:this.age,bmi:null===(e=this.bmi)||void 0===e?void 0:e.toFixed(1),ethnicity:this.ethnicity,authorGroup:this.groupName,creator:t.created_by_user_displayname,creation_date:new Date(t.create_timestamp||0).toLocaleDateString(),modified_date:new Date(t.last_modified_timestamp||0).toLocaleDateString(),donor_id:this.donor.display_doi,organ_id:this.organSample.display_doi,tissue_id:this.doi,specimen_type:this.data.specimen_type,data_types:this.dataTypes.join(", "),assay_types:this.assayTypes.join(", "),spatial_bulk:this.spatialOrBulk,contains_sequence:this.containsHumanGeneticSequences?"Yes":"No",description:t.description||this.donor.description})}}]),e}();function Ee(e,t){return function(r){return e.has(r.id)?t.add(r.id):void 0}}var Te=(_defineProperty2(n={},te.id.id,"id"),_defineProperty2(n,te.x("label").id,"label"),_defineProperty2(n,te.x("organName").id,"organName"),n),Ie=(_defineProperty2(i={},te.sex.id,"Sex"),_defineProperty2(i,te.age.id,"Age"),_defineProperty2(i,te.x("bmi").id,"BMI"),_defineProperty2(i,te.x("ethnicity").id,"Ethnicity"),_defineProperty2(i,te.groupName.id,"Author Group"),_defineProperty2(i,te.x("creator").id,"Creator"),_defineProperty2(i,te.x("creation_date").id,"Date Created"),_defineProperty2(i,te.x("modified_date").id,"Date Modified"),_defineProperty2(i,te.x("donor_id").id,"HuBMAP Donor ID"),_defineProperty2(i,te.x("organ_id").id,"HuBMAP Organ ID"),_defineProperty2(i,te.x("tissue_id").id,"HUBMAP Tissue ID"),_defineProperty2(i,te.x("specimen_type").id,"Specimen Type"),_defineProperty2(i,te.x("data_types").id,"Data Type(s)"),_defineProperty2(i,te.x("assay_types").id,"Assay(s)"),_defineProperty2(i,te.x("spatial_bulk").id,"Spatial/Bulk"),_defineProperty2(i,te.x("contains_sequence").id,"Contains Sequence"),_defineProperty2(i,te.x("description").id,"Description"),i),je=(_defineProperty2(a={},te.id.id,"id"),_defineProperty2(a,te.x("label").id,"label"),_defineProperty2(a,te.x("shortInfo0").id,["shortInfo","0"]),_defineProperty2(a,te.x("shortInfo1").id,["shortInfo","1"]),_defineProperty2(a,te.x("shortInfo2").id,["shortInfo","2"]),_defineProperty2(a,te.x("thumbnailUrl").id,"thumbnailUrl"),_defineProperty2(a,te.x("downloadUrl").id,"downloadUrl"),_defineProperty2(a,te.x("downloadTooltip").id,"downloadTooltip"),_defineProperty2(a,te.x("resultUrl").id,"resultUrl"),_defineProperty2(a,te.x("resultType").id,"resultType"),a),Ne={ccfOwlUrl:"https://purl.org/ccf/latest/ccf.owl",ccfContextUrl:"https://purl.org/ccf/latest/ccf-context.jsonld",hubmapDataService:"static",hubmapPortalUrl:"https://portal.hubmapconsortium.org/",hubmapDataUrl:"",hubmapAssetsUrl:"https://assets.hubmapconsortium.org"},Oe=Symbol("Comlink.proxy"),Ae=Symbol("Comlink.endpoint"),Re=Symbol("Comlink.releaseProxy"),Ce=Symbol("Comlink.thrown"),Le=function(e){return"object"==typeof e&&null!==e||"function"==typeof e},De=new Map([["proxy",{canHandle:function(e){return Le(e)&&e[Oe]},serialize:function(e){var t=new MessageChannel,r=t.port1,n=t.port2;return Me(e,r),[n,[n]]},deserialize:function(e){return e.start(),function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},i=!1,a=new Proxy(n,{get:function(n,o){if(Fe(i),o===Re)return function(){return qe(t,{type:5,path:r.map((function(e){return e.toString()}))}).then((function(){Pe(t),i=!0}))};if("then"===o){if(0===r.length)return{then:function(){return a}};var s=qe(t,{type:0,path:r.map((function(e){return e.toString()}))}).then(ze);return s.then.bind(s)}return e(t,[].concat(_toConsumableArray(r),[o]))},set:function(e,n,a){Fe(i);var o=_slicedToArray(Ge(a),2),s=o[0],u=o[1];return qe(t,{type:1,path:[].concat(_toConsumableArray(r),[n]).map((function(e){return e.toString()})),value:s},u).then(ze)},apply:function(n,a,o){Fe(i);var s=r[r.length-1];if(s===Ae)return qe(t,{type:4}).then(ze);if("bind"===s)return e(t,r.slice(0,-1));var u=_slicedToArray(Be(o),2),c=u[0],l=u[1];return qe(t,{type:2,path:r.map((function(e){return e.toString()})),argumentList:c},l).then(ze)},construct:function(e,n){Fe(i);var a=_slicedToArray(Be(n),2),o=a[0],s=a[1];return qe(t,{type:3,path:r.map((function(e){return e.toString()})),argumentList:o},s).then(ze)}});return a}(e,[],void 0)}}],["throw",{canHandle:function(e){return Le(e)&&Ce in e},serialize:function(e){var t=e.value;return[t instanceof Error?{isError:!0,value:{message:t.message,name:t.name,stack:t.stack}}:{isError:!1,value:t},[]]},deserialize:function(e){if(e.isError)throw Object.assign(new Error(e.value.message),e.value);throw e.value}}]]);function Me(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:self;t.addEventListener("message",(function r(n){if(n&&n.data){var i,a=Object.assign({path:[]},n.data),o=a.id,s=a.type,u=a.path,c=(n.data.argumentList||[]).map(ze);try{var l=u.slice(0,-1).reduce((function(e,t){return e[t]}),e),f=u.reduce((function(e,t){return e[t]}),e);switch(s){case 0:i=f;break;case 1:l[u.slice(-1)[0]]=ze(n.data.value),i=!0;break;case 2:i=f.apply(l,c);break;case 3:i=function(e){return Object.assign(e,_defineProperty2({},Oe,!0))}(_construct(f,_toConsumableArray(c)));break;case 4:var h=new MessageChannel,d=h.port1,p=h.port2;Me(e,p),i=function(e,t){return Ue.set(e,t),e}(d,[d]);break;case 5:i=void 0}}catch(v){i=_defineProperty2({value:v},Ce,0)}Promise.resolve(i).catch((function(e){return _defineProperty2({value:e},Ce,0)})).then((function(e){var n=_slicedToArray(Ge(e),2),i=n[0],a=n[1];t.postMessage(Object.assign(Object.assign({},i),{id:o}),a),5===s&&(t.removeEventListener("message",r),Pe(t))}))}})),t.start&&t.start()}function Pe(e){(function(e){return"MessagePort"===e.constructor.name})(e)&&e.close()}function Fe(e){if(e)throw new Error("Proxy has been released and is not useable")}function Be(e){var t,r=e.map(Ge);return[r.map((function(e){return e[0]})),(t=r.map((function(e){return e[1]})),Array.prototype.concat.apply([],t))]}var Ue=new WeakMap;function Ge(e){var t,r=_createForOfIteratorHelper(De);try{for(r.s();!(t=r.n()).done;){var n=_slicedToArray(t.value,2),i=n[0],a=n[1];if(a.canHandle(e)){var o=_slicedToArray(a.serialize(e),2);return[{type:3,name:i,value:o[0]},o[1]]}}}catch(s){r.e(s)}finally{r.f()}return[{type:0,value:e},Ue.get(e)||[]]}function ze(e){switch(e.type){case 3:return De.get(e.name).deserialize(e.value);case 0:return e.value}}function qe(e,t,r){return new Promise((function(n){var i=new Array(4).fill(0).map((function(){return Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)})).join("-");e.addEventListener("message",(function t(r){r.data&&r.data.id&&r.data.id===i&&(e.removeEventListener("message",t),n(r.data))})),e.start&&e.start(),e.postMessage(Object.assign({id:i},t),r)}))}Me(new(function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne;_classCallCheck2(this,e),this.options=t,this.store=new s.Store,this.graph=new de(this),this.scene=new pe(this)}return _createClass2(e,[{key:"connect",value:function(e){return o(this,void 0,void 0,regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e&&(this.options=e),0!==this.store.size){t.next=9;break}return r=[],this.options.ccfOwlUrl.endsWith(".n3")?r.push(Object(s.addN3ToStore)(this.options.ccfOwlUrl,this.store)):r.push(Object(s.addRdfXmlToStore)(this.options.ccfOwlUrl,this.store)),this.options.hubmapDataUrl&&(this.options.hubmapDataUrl.endsWith(".jsonld")?r.push(Object(s.addJsonLdToStore)(this.options.hubmapDataUrl,this.store)):r.push(function(e,t,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return o(this,void 0,void 0,regeneratorRuntime.mark((function o(){var u,c;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if("static"!==r){o.next=6;break}return o.next=3,fetch(t).then((function(e){return e.ok?e.json():void 0})).catch((function(){}));case 3:u=o.sent,o.next=12;break;case 6:if("search-api"!==r){o.next=12;break}return c={"Content-type":"application/json"},n&&n.length>0&&(c.Authorization="Bearer "+n),o.next=11,fetch(t,{method:"POST",headers:c,body:JSON.stringify({version:!0,size:1e4,_source:{excludes:["donor","immediate_ancestors","immediate_descendants","origin_sample","ancestor_ids","descendant_ids"]},stored_fields:["*"],script_fields:{},docvalue_fields:[],query:{exists:{field:"rui_location"}}})}).then((function(e){return e.ok?e.json():void 0})).catch((function(){}));case 11:u=o.sent;case 12:if(!u){o.next=17;break}return o.next=15,Object(s.addJsonLdToStore)(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3?arguments[3]:void 0;return{"@context":{"@vocab":"http://purl.org/ccf/latest/ccf-entity.owl#",ontologyTerms:{"@type":"@id"},ancestors:{"@type":"@id"},descendants:{"@type":"@id"},organ:{"@type":"@id"},images:{"@id":"hasImage","@type":"@id"},imageProviders:{"@id":"hasImageProvider","@type":"@id"}},"@graph":Object(Q.get)(e,"hits.hits",[]).map((function(e){return Object(Q.get)(e,"_source",{})})).map((function(e){return new Se(e,t,r,n).toJsonLd()}))}}(u,i,a,n),e);case 15:o.next=18;break;case 17:console.warn("Unable to load ".concat(t," as HuBMAP Data"));case 18:case"end":return o.stop()}}),o)})))}(this.store,this.options.hubmapDataUrl,this.options.hubmapDataService,this.options.hubmapToken,this.options.hubmapAssetsUrl,this.options.hubmapPortalUrl))),t.next=6,Promise.all(r);case 6:return t.next=8,new Promise((function(e){return setTimeout(e,500)}));case 8:this.graph.createGraph();case 9:return t.abrupt("return",this.store.size>0);case 10:case"end":return t.stop()}}),t,this)})))}},{key:"getIds",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){var r,n,i,a,o=function(e){var t=new Set;return e.forSubjects((function(e){return t.add(e.id)}),te.id,null,null),t}(e);if(o.size>0&&(!0===t.hasSpatialEntity||!1===t.hasSpatialEntity)&&(o=function(e,t,r){var n=new Set;if(e.forSubjects(Ee(t,n),te.spatialEntity,null,null),!r){var i=new Set;return t.forEach((function(e){return n.has(e)?void 0:i.add(e)})),i}return n}(e,o,t.hasSpatialEntity)),o.size>0&&("Male"===t.sex||"Female"===t.sex)&&(o=function(e,t,r){var n=new Set;return e.forSubjects(Ee(t,n),te.sex,te[r],null),n}(e,o,t.sex)),o.size>0&&(null===(r=t.tmc)||void 0===r?void 0:r.length)>0&&(o=function(e,t,r){var n,i=new Set,a=_createForOfIteratorHelper(r);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=s.DataFactory.literal(o);e.forSubjects(Ee(t,i),te.groupName,u,null)}}catch(c){a.e(c)}finally{a.f()}return i}(e,o,t.tmc)),o.size>0&&(null===(n=t.ontologyTerms)||void 0===n?void 0:n.length)>0&&(o=function(e,t,r){var n,i=new Set,a=_createForOfIteratorHelper(r);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=s.DataFactory.namedNode(o);e.forSubjects(Ee(t,i),te.ontologyTerms,u,null)}}catch(c){a.e(c)}finally{a.f()}return i}(e,o,t.ontologyTerms)),o.size>0&&2===(null===(i=t.ageRange)||void 0===i?void 0:i.length)&&Object(Q.isFinite)(t.ageRange[0])&&Object(Q.isFinite)(t.ageRange[1])){var u=Math.max.apply(Math,_toConsumableArray(t.ageRange)),c=Math.min.apply(Math,_toConsumableArray(t.ageRange));1===c&&110===u||(o=function(e,t,r,n){var i=new Set;return e.some((function(e){if(t.has(e.subject.id)){var a=Object(Y.fromRdf)(e.object);a>=r&&a<=n&&i.add(e.subject.id)}return!1}),null,te.age,null,null),i}(e,o,c,u))}if(o.size>0&&2===(null===(a=t.bmiRange)||void 0===a?void 0:a.length)&&Object(Q.isFinite)(t.bmiRange[0])&&Object(Q.isFinite)(t.bmiRange[1])){var l=Math.max.apply(Math,_toConsumableArray(t.bmiRange)),f=Math.min.apply(Math,_toConsumableArray(t.bmiRange));13===f&&83===l||(o=function(e,t,r,n){var i=new Set;return e.some((function(e){if(t.has(e.subject.id)){var a=Object(Y.fromRdf)(e.object);a>=r&&a<=n&&i.add(e.subject.id)}return!1}),null,te.bmi,null,null),i}(e,o,f,l))}return o}(this.store,e)}},{key:"get",value:function(e){return this.store.getQuads(s.DataFactory.namedNode(e),null,null,null)}},{key:"search",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _toConsumableArray(this.getIds(t)).map((function(t){return e.get(t)}))}},{key:"getSpatialEntities",value:function(e){var t=this;return e=Object.assign(Object.assign({},e),{hasSpatialEntity:!0}),_toConsumableArray(this.getIds(e)).map((function(e){return r=t.store,n=e,(i=r.getObjects(s.DataFactory.namedNode(n),te.spatialEntity,null)).length>0?fe(r,i[0].id):void 0;var r,n,i}))}},{key:"getListResults",value:function(e){return o(this,void 0,void 0,regeneratorRuntime.mark((function t(){var r,n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=Object.assign(Object.assign({},e),{hasSpatialEntity:!0}),r=new Set(e.highlightedEntities),t.abrupt("return",_toConsumableArray(this.getIds(e)).map((function(e){return t=n.store,i={"@id":r=e,"@type":"ListResult"},t.some((function(e){var t=je[e.predicate.id];if(t){var r="Literal"===e.object.termType?Object(Y.fromRdf)(e.object):e.object.id;Object(Q.set)(i,t,r)}return!1}),s.DataFactory.namedNode(r),null,null,null),i;var t,r,i})).map((function(e){return Object.assign(e,{highlighted:r.has(e["@id"])})})).sort((function(e,t){return(e.highlighted?0:1)-(t.highlighted?0:1)})));case 3:case"end":return t.stop()}}),t,this)})))}},{key:"getAggregateResults",value:function(e){return o(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",function(e,t){var r=new Set;t.some((function(t){return e.has(t.subject.id)&&r.add(t.object.id),!1}),null,te.groupUUID,null,null);var n=new Set;t.some((function(t){return e.has(t.subject.id)&&n.add(t.object.id),!1}),null,te.donor,null,null);var i=new Set;return t.forSubjects((function(t){e.has(t.id)&&i.add(t.id)}),te.spatialEntity,null,null),Object.entries({Centers:r.size,Donors:n.size,Samples:i.size}).map((function(e){var t=_slicedToArray(e,2);return{label:t[0],count:t[1]}}))}(this.getIds(e),this.store));case 1:case"end":return t.stop()}}),t,this)})))}},{key:"getOntologyTermOccurences",value:function(e){return o(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",function(e,t){var r={};return t.some((function(t){return e.has(t.subject.id)&&(r[t.object.id]=1+(r[t.object.id]||0)),!1}),null,te.ontologyTerms,null,null),r}(this.getIds(e),this.store));case 1:case"end":return t.stop()}}),t,this)})))}},{key:"getImageViewerData",value:function(e){return o(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",function(e,t){var r={"@id":e,"@type":"ImageViewerData"},n={};return t.some((function(e){var t=Te[e.predicate.id];if(Ie[e.predicate.id]){var i="Literal"===e.object.termType?Object(Y.fromRdf)(e.object):e.object.id;n[e.predicate.id]=""+i}if(t){var a="Literal"===e.object.termType?Object(Y.fromRdf)(e.object):e.object.id;Object(Q.set)(r,t,a)}return!1}),s.DataFactory.namedNode(e),null,null,null),r.metadata=Object.entries(Ie).map((function(e){var t=_slicedToArray(e,2),r=t[0];return{label:t[1],value:n[r]}})).filter((function(e){return e.value})),r}(e,this.store));case 1:case"end":return t.stop()}}),t,this)})))}},{key:"getScene",value:function(e){return o(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(this.graph.createGraph(),this.scene.getScene(e)));case 1:case"end":return t.stop()}}),t,this)})))}}]),e}()))},"8Xj3":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("FZPO"),i=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"fromRdf",value:function(e,t){switch(e.value){case"true":return!0;case"false":return!1;case"1":return!0;case"0":return!1}return t&&n.Translator.incorrectRdfDataType(e),!1}},{key:"toRdf",value:function(t,r){var n=r.datatype,i=r.dataFactory;return i.literal(t?"true":"false",n||i.namedNode(e.TYPE))}}]),e}();t.TypeHandlerBoolean=i,i.TYPE="http://www.w3.org/2001/XMLSchema#boolean"},Eagr:function(e,t){function r(e){this.value=e}r.prototype.equals=function(e){return!!e&&e.termType===this.termType&&e.value===this.value},r.prototype.termType="NamedNode",e.exports=r},FZPO:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Translator=function(){function e(){_classCallCheck2(this,e),this.supportedRdfDatatypes=[],this.fromRdfHandlers={},this.toRdfHandlers={}}return _createClass2(e,[{key:"registerHandler",value:function(e,t,r){var n,i=_createForOfIteratorHelper(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;this.supportedRdfDatatypes.push(a),this.fromRdfHandlers[a.value]=e}}catch(l){i.e(l)}finally{i.f()}var o,s=_createForOfIteratorHelper(r);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=this.toRdfHandlers[u];c||(this.toRdfHandlers[u]=c=[]),c.push(e)}}catch(l){s.e(l)}finally{s.f()}}},{key:"fromRdf",value:function(e,t){var r=this.fromRdfHandlers[e.datatype.value];return r?r.fromRdf(e,t):e.value}},{key:"toRdf",value:function(e,t){var r=this.toRdfHandlers[typeof e];if(r){var n,i=_createForOfIteratorHelper(r);try{for(i.s();!(n=i.n()).done;){var a=n.value.toRdf(e,t);if(a)return a}}catch(o){i.e(o)}finally{i.f()}}throw new Error("Invalid JavaScript value: '".concat(e,"'"))}},{key:"getSupportedRdfDatatypes",value:function(){return this.supportedRdfDatatypes}},{key:"getSupportedJavaScriptPrimitives",value:function(){return Object.keys(this.toRdfHandlers)}}],[{key:"incorrectRdfDataType",value:function(e){throw new Error("Invalid RDF ".concat(e.datatype.value," value: '").concat(e.value,"'"))}}]),e}()},HXBs:function(e,t,r){e.exports=function(){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function n(e,t){return(n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function a(e,t,r){return(a=i()?Reflect.construct:function(e,t,r){var i=[null];i.push.apply(i,t);var a=new(Function.bind.apply(e,i));return r&&n(a,r.prototype),a}).apply(null,arguments)}function o(e){var t="function"==typeof Map?new Map:void 0;return(o=function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,i)}function i(){return a(e,arguments,r(this).constructor)}return i.prototype=Object.create(e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),n(i,e)})(e)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(){for(var e=arguments[0]||{},t=1,r=arguments.length;t<r;t++)if(arguments[t])for(var n in arguments[t])e[n]=arguments[t][n];return e}function c(e,t,r,n){var i=e._nodes.get(t),a=null;return i?a="mixed"===n?i.out&&i.out[r]||i.undirected&&i.undirected[r]:"directed"===n?i.out&&i.out[r]:i.undirected&&i.undirected[r]:a}function l(t){return null!==t&&"object"===e(t)&&"function"==typeof t.addUndirectedEdgeWithKey&&"function"==typeof t.dropNode}function f(t){return"object"===e(t)&&null!==t&&t.constructor===Object}function h(e){for(var t=""+e,r="",n=0,i=t.length;n<i;n++)r=t[i-n-1]+r,(n-2)%3||n===i-1||(r=","+r);return r}function d(e,t,r){Object.defineProperty(e,t,{enumerable:!1,configurable:!1,writable:!0,value:r})}function p(e,t,r){var n={enumerable:!0,configurable:!0};"function"==typeof r?n.get=r:(n.value=r,n.writable=!1),Object.defineProperty(e,t,n)}function v(){}function g(){g.init.call(this)}function y(e){return void 0===e._maxListeners?g.defaultMaxListeners:e._maxListeners}function b(e,t,r){if(t)e.call(r);else for(var n=e.length,i=T(e,n),a=0;a<n;++a)i[a].call(r)}function m(e,t,r,n){if(t)e.call(r,n);else for(var i=e.length,a=T(e,i),o=0;o<i;++o)a[o].call(r,n)}function _(e,t,r,n,i){if(t)e.call(r,n,i);else for(var a=e.length,o=T(e,a),s=0;s<a;++s)o[s].call(r,n,i)}function w(e,t,r,n,i,a){if(t)e.call(r,n,i,a);else for(var o=e.length,s=T(e,o),u=0;u<o;++u)s[u].call(r,n,i,a)}function x(e,t,r,n){if(t)e.apply(r,n);else for(var i=e.length,a=T(e,i),o=0;o<i;++o)a[o].apply(r,n)}function k(e,t,r,n){var i,a,o,s;if("function"!=typeof r)throw new TypeError('"listener" argument must be a function');if((a=e._events)?(a.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),a=e._events),o=a[t]):(a=e._events=new v,e._eventsCount=0),o){if("function"==typeof o?o=a[t]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),!o.warned&&(i=y(e))&&i>0&&o.length>i){o.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+t+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=o.length,s=u,"function"==typeof console.warn?console.warn(s):console.log(s)}}else o=a[t]=r,++e._eventsCount;return e}function S(e,t,r){var n=!1;function i(){e.removeListener(t,i),n||(n=!0,r.apply(e,arguments))}return i.listener=r,i}function E(e){var t=this._events;if(t){var r=t[e];if("function"==typeof r)return 1;if(r)return r.length}return 0}function T(e,t){for(var r=new Array(t);t--;)r[t]=e[t];return r}function I(e){Object.defineProperty(this,"_next",{writable:!1,enumerable:!1,value:e}),this.done=!1}v.prototype=Object.create(null),g.EventEmitter=g,g.usingDomains=!1,g.prototype.domain=void 0,g.prototype._events=void 0,g.prototype._maxListeners=void 0,g.defaultMaxListeners=10,g.init=function(){this.domain=null,g.usingDomains&&(void 0).active,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new v,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},g.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this},g.prototype.getMaxListeners=function(){return y(this)},g.prototype.emit=function(e){var t,r,n,i,a,o,s,u="error"===e;if(o=this._events)u=u&&null==o.error;else if(!u)return!1;if(s=this.domain,u){if(t=arguments[1],!s){if(t instanceof Error)throw t;var c=new Error('Uncaught, unspecified "error" event. ('+t+")");throw c.context=t,c}return t||(t=new Error('Uncaught, unspecified "error" event')),t.domainEmitter=this,t.domain=s,t.domainThrown=!1,s.emit("error",t),!1}if(!(r=o[e]))return!1;var l="function"==typeof r;switch(n=arguments.length){case 1:b(r,l,this);break;case 2:m(r,l,this,arguments[1]);break;case 3:_(r,l,this,arguments[1],arguments[2]);break;case 4:w(r,l,this,arguments[1],arguments[2],arguments[3]);break;default:for(i=new Array(n-1),a=1;a<n;a++)i[a-1]=arguments[a];x(r,l,this,i)}return!0},g.prototype.on=g.prototype.addListener=function(e,t){return k(this,e,t,!1)},g.prototype.prependListener=function(e,t){return k(this,e,t,!0)},g.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.on(e,S(this,e,t)),this},g.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.prependListener(e,S(this,e,t)),this},g.prototype.removeListener=function(e,t){var r,n,i,a,o;if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');if(!(n=this._events))return this;if(!(r=n[e]))return this;if(r===t||r.listener&&r.listener===t)0==--this._eventsCount?this._events=new v:(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,a=r.length;a-- >0;)if(r[a]===t||r[a].listener&&r[a].listener===t){o=r[a].listener,i=a;break}if(i<0)return this;if(1===r.length){if(r[0]=void 0,0==--this._eventsCount)return this._events=new v,this;delete n[e]}else!function(e,t){for(var r=t,n=r+1,i=e.length;n<i;r+=1,n+=1)e[r]=e[n];e.pop()}(r,i);n.removeListener&&this.emit("removeListener",e,o||t)}return this},g.prototype.removeAllListeners=function(e){var t,r;if(!(r=this._events))return this;if(!r.removeListener)return 0===arguments.length?(this._events=new v,this._eventsCount=0):r[e]&&(0==--this._eventsCount?this._events=new v:delete r[e]),this;if(0===arguments.length){for(var n,i=Object.keys(r),a=0;a<i.length;++a)"removeListener"!==(n=i[a])&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events=new v,this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(t)do{this.removeListener(e,t[t.length-1])}while(t[0]);return this},g.prototype.listeners=function(e){var t,r=this._events;return r&&(t=r[e])?"function"==typeof t?[t.listener||t]:function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(t):[]},g.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):E.call(e,t)},g.prototype.listenerCount=E,g.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]},I.prototype.next=function(){if(this.done)return{done:!0};var e=this._next();return e.done&&(this.done=!0),e},"undefined"!=typeof Symbol&&(I.prototype[Symbol.iterator]=function(){return this}),I.of=function(){var e=arguments,t=e.length,r=0;return new I((function(){return r>=t?{done:!0}:{done:!1,value:e[r++]}}))},I.empty=function(){var e=new I(null);return e.done=!0,e},I.is=function(e){return e instanceof I||"object"==typeof e&&null!==e&&"function"==typeof e.next};var j=I,N=function(e,t){for(var r,n=arguments.length>1?t:1/0,i=n!==1/0?new Array(n):[],a=0;;){if(a===n)return i;if((r=e.next()).done)return a!==t?i.slice(0,a):i;i[a++]=r.value}},O=function(e){function r(t,r){var n;return(n=e.call(this)||this).name="GraphError",n.message=t||"",n.data=r||{},n}return t(r,e),r}(o(Error)),A=function(e){function r(t,n){var i;return(i=e.call(this,t,n)||this).name="InvalidArgumentsGraphError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(s(i),r.prototype.constructor),i}return t(r,e),r}(O),R=function(e){function r(t,n){var i;return(i=e.call(this,t,n)||this).name="NotFoundGraphError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(s(i),r.prototype.constructor),i}return t(r,e),r}(O),C=function(e){function r(t,n){var i;return(i=e.call(this,t,n)||this).name="UsageGraphError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(s(i),r.prototype.constructor),i}return t(r,e),r}(O);function L(e,t){this.key=e,this.attributes=t,this.inDegree=0,this.outDegree=0,this.undirectedDegree=0,this.directedSelfLoops=0,this.undirectedSelfLoops=0,this.in={},this.out={},this.undirected={}}function D(e,t){this.key=e,this.attributes=t||{},this.inDegree=0,this.outDegree=0,this.directedSelfLoops=0,this.in={},this.out={}}function M(e,t){this.key=e,this.attributes=t||{},this.undirectedDegree=0,this.undirectedSelfLoops=0,this.undirected={}}function P(e,t,r,n,i){this.key=e,this.attributes=i,this.source=r,this.target=n,this.generatedKey=t}function F(e,t,r,n,i){this.key=e,this.attributes=i,this.source=r,this.target=n,this.generatedKey=t}function B(e,t,r,n,i,a,o){var s=e.multi,u=t?"undirected":"out",c=t?"undirected":"in",l=a[u][i];void 0===l&&(l=s?new Set:r,a[u][i]=l),s&&l.add(r),n!==i&&void 0===o[c][n]&&(o[c][n]=l)}function U(e,t,r){var n=e.multi,i=r.source,a=r.target,o=i.key,s=a.key,u=i[t?"undirected":"out"],c=t?"undirected":"in";if(s in u)if(n){var l=u[s];1===l.size?(delete u[s],delete a[c][o]):l.delete(r)}else delete u[s];n||delete a[c][o]}D.prototype.upgradeToMixed=function(){this.undirectedDegree=0,this.undirectedSelfLoops=0,this.undirected={}},M.prototype.upgradeToMixed=function(){this.inDegree=0,this.outDegree=0,this.directedSelfLoops=0,this.in={},this.out={}};var G=[{name:function(e){return"get".concat(e,"Attribute")},attacher:function(e,t,r,n){e.prototype[t]=function(e,i){var a;if("mixed"!==this.type&&"mixed"!==r&&r!==this.type)throw new C("Graph.".concat(t,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new C("Graph.".concat(t,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var o=""+e,s=""+i;if(i=arguments[2],!(a=c(this,o,s,r)))throw new R("Graph.".concat(t,': could not find an edge for the given path ("').concat(o,'" - "').concat(s,'").'))}else if(!(a=this._edges.get(e=""+e)))throw new R("Graph.".concat(t,': could not find the "').concat(e,'" edge in the graph.'));if("mixed"!==r&&!(a instanceof n))throw new R("Graph.".concat(t,': could not find the "').concat(e,'" ').concat(r," edge in the graph."));return a.attributes[i]}}},{name:function(e){return"get".concat(e,"Attributes")},attacher:function(e,t,r,n){e.prototype[t]=function(e){var i;if("mixed"!==this.type&&"mixed"!==r&&r!==this.type)throw new C("Graph.".concat(t,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>1){if(this.multi)throw new C("Graph.".concat(t,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var a=""+e,o=""+arguments[1];if(!(i=c(this,a,o,r)))throw new R("Graph.".concat(t,': could not find an edge for the given path ("').concat(a,'" - "').concat(o,'").'))}else if(!(i=this._edges.get(e=""+e)))throw new R("Graph.".concat(t,': could not find the "').concat(e,'" edge in the graph.'));if("mixed"!==r&&!(i instanceof n))throw new R("Graph.".concat(t,': could not find the "').concat(e,'" ').concat(r," edge in the graph."));return i.attributes}}},{name:function(e){return"has".concat(e,"Attribute")},attacher:function(e,t,r,n){e.prototype[t]=function(e,i){var a;if("mixed"!==this.type&&"mixed"!==r&&r!==this.type)throw new C("Graph.".concat(t,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new C("Graph.".concat(t,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var o=""+e,s=""+i;if(i=arguments[2],!(a=c(this,o,s,r)))throw new R("Graph.".concat(t,': could not find an edge for the given path ("').concat(o,'" - "').concat(s,'").'))}else if(!(a=this._edges.get(e=""+e)))throw new R("Graph.".concat(t,': could not find the "').concat(e,'" edge in the graph.'));if("mixed"!==r&&!(a instanceof n))throw new R("Graph.".concat(t,': could not find the "').concat(e,'" ').concat(r," edge in the graph."));return a.attributes.hasOwnProperty(i)}}},{name:function(e){return"set".concat(e,"Attribute")},attacher:function(e,t,r,n){e.prototype[t]=function(e,i,a){var o;if("mixed"!==this.type&&"mixed"!==r&&r!==this.type)throw new C("Graph.".concat(t,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>3){if(this.multi)throw new C("Graph.".concat(t,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var s=""+e,u=""+i;if(i=arguments[2],a=arguments[3],!(o=c(this,s,u,r)))throw new R("Graph.".concat(t,': could not find an edge for the given path ("').concat(s,'" - "').concat(u,'").'))}else if(!(o=this._edges.get(e=""+e)))throw new R("Graph.".concat(t,': could not find the "').concat(e,'" edge in the graph.'));if("mixed"!==r&&!(o instanceof n))throw new R("Graph.".concat(t,': could not find the "').concat(e,'" ').concat(r," edge in the graph."));return o.attributes[i]=a,this.emit("edgeAttributesUpdated",{key:o.key,type:"set",meta:{name:i,value:a}}),this}}},{name:function(e){return"update".concat(e,"Attribute")},attacher:function(e,t,r,n){e.prototype[t]=function(e,i,a){var o;if("mixed"!==this.type&&"mixed"!==r&&r!==this.type)throw new C("Graph.".concat(t,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>3){if(this.multi)throw new C("Graph.".concat(t,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var s=""+e,u=""+i;if(i=arguments[2],a=arguments[3],!(o=c(this,s,u,r)))throw new R("Graph.".concat(t,': could not find an edge for the given path ("').concat(s,'" - "').concat(u,'").'))}else if(!(o=this._edges.get(e=""+e)))throw new R("Graph.".concat(t,': could not find the "').concat(e,'" edge in the graph.'));if("function"!=typeof a)throw new A("Graph.".concat(t,": updater should be a function."));if("mixed"!==r&&!(o instanceof n))throw new R("Graph.".concat(t,': could not find the "').concat(e,'" ').concat(r," edge in the graph."));return o.attributes[i]=a(o.attributes[i]),this.emit("edgeAttributesUpdated",{key:o.key,type:"set",meta:{name:i,value:o.attributes[i]}}),this}}},{name:function(e){return"remove".concat(e,"Attribute")},attacher:function(e,t,r,n){e.prototype[t]=function(e,i){var a;if("mixed"!==this.type&&"mixed"!==r&&r!==this.type)throw new C("Graph.".concat(t,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new C("Graph.".concat(t,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var o=""+e,s=""+i;if(i=arguments[2],!(a=c(this,o,s,r)))throw new R("Graph.".concat(t,': could not find an edge for the given path ("').concat(o,'" - "').concat(s,'").'))}else if(!(a=this._edges.get(e=""+e)))throw new R("Graph.".concat(t,': could not find the "').concat(e,'" edge in the graph.'));if("mixed"!==r&&!(a instanceof n))throw new R("Graph.".concat(t,': could not find the "').concat(e,'" ').concat(r," edge in the graph."));return delete a.attributes[i],this.emit("edgeAttributesUpdated",{key:a.key,type:"remove",meta:{name:i}}),this}}},{name:function(e){return"replace".concat(e,"Attributes")},attacher:function(e,t,r,n){e.prototype[t]=function(e,i){var a;if("mixed"!==this.type&&"mixed"!==r&&r!==this.type)throw new C("Graph.".concat(t,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new C("Graph.".concat(t,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var o=""+e,s=""+i;if(i=arguments[2],!(a=c(this,o,s,r)))throw new R("Graph.".concat(t,': could not find an edge for the given path ("').concat(o,'" - "').concat(s,'").'))}else if(!(a=this._edges.get(e=""+e)))throw new R("Graph.".concat(t,': could not find the "').concat(e,'" edge in the graph.'));if(!f(i))throw new A("Graph.".concat(t,": provided attributes are not a plain object."));if("mixed"!==r&&!(a instanceof n))throw new R("Graph.".concat(t,': could not find the "').concat(e,'" ').concat(r," edge in the graph."));var u=a.attributes;return a.attributes=i,this.emit("edgeAttributesUpdated",{key:a.key,type:"replace",meta:{before:u,after:i}}),this}}},{name:function(e){return"merge".concat(e,"Attributes")},attacher:function(e,t,r,n){e.prototype[t]=function(e,i){var a;if("mixed"!==this.type&&"mixed"!==r&&r!==this.type)throw new C("Graph.".concat(t,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new C("Graph.".concat(t,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var o=""+e,s=""+i;if(i=arguments[2],!(a=c(this,o,s,r)))throw new R("Graph.".concat(t,': could not find an edge for the given path ("').concat(o,'" - "').concat(s,'").'))}else if(!(a=this._edges.get(e=""+e)))throw new R("Graph.".concat(t,': could not find the "').concat(e,'" edge in the graph.'));if(!f(i))throw new A("Graph.".concat(t,": provided attributes are not a plain object."));if("mixed"!==r&&!(a instanceof n))throw new R("Graph.".concat(t,': could not find the "').concat(e,'" ').concat(r," edge in the graph."));return u(a.attributes,i),this.emit("edgeAttributesUpdated",{key:a.key,type:"merge",meta:{data:i}}),this}}}],z=function(){var e,t=arguments,r=-1;return new j((function n(){if(!e){if(++r>=t.length)return{done:!0};e=t[r]}var i=e.next();return i.done?(e=null,n()):i}))},q=[{name:"edges",type:"mixed"},{name:"inEdges",type:"directed",direction:"in"},{name:"outEdges",type:"directed",direction:"out"},{name:"inboundEdges",type:"mixed",direction:"in"},{name:"outboundEdges",type:"mixed",direction:"out"},{name:"directedEdges",type:"directed"},{name:"undirectedEdges",type:"undirected"}];function H(e,t){for(var r in t)t[r]instanceof Set?t[r].forEach((function(t){return e.push(t.key)})):e.push(t[r].key)}function V(e,t){for(var r in e){var n=e[r];t(n.key,n.attributes,n.source.key,n.target.key,n.source.attributes,n.target.attributes)}}function W(e,t){for(var r in e)e[r].forEach((function(e){return t(e.key,e.attributes,e.source.key,e.target.key,e.source.attributes,e.target.attributes)}))}function K(e){var t=Object.keys(e),r=t.length,n=null,i=0;return new j((function a(){var o;if(n){var s=n.next();if(s.done)return n=null,i++,a();o=s.value}else{if(i>=r)return{done:!0};if((o=e[t[i]])instanceof Set)return n=o.values(),a();i++}return{done:!1,value:[o.key,o.attributes,o.source.key,o.target.key,o.source.attributes,o.target.attributes]}}))}function J(e,t,r){r in t&&(t[r]instanceof Set?t[r].forEach((function(t){return e.push(t.key)})):e.push(t[r].key))}function X(e,t,r){if(t in e)if(e[t]instanceof Set)e[t].forEach((function(e){return r(e.key,e.attributes,e.source.key,e.target.key,e.source.attributes,e.target.attributes)}));else{var n=e[t];r(n.key,n.attributes,n.source.key,n.target.key,n.source.attributes,n.target.attributes)}}function Q(e,t){var r=e[t];if(r instanceof Set){var n=r.values();return new j((function(){var e=n.next();if(e.done)return e;var t=e.value;return{done:!1,value:[t.key,t.attributes,t.source.key,t.target.key,t.source.attributes,t.target.attributes]}}))}return j.of([r.key,r.attributes,r.source.key,r.target.key,r.source.attributes,r.target.attributes])}function Y(e,t){if(0===e.size)return[];if("mixed"===t||t===e.type)return N(e._edges.keys(),e._edges.size);var r=new Array("undirected"===t?e.undirectedSize:e.directedSize),n="undirected"===t,i=0;return e._edges.forEach((function(e,t){e instanceof F===n&&(r[i++]=t)})),r}function Z(e,t,r){if(0!==e.size)if("mixed"===t||t===e.type)e._edges.forEach((function(e,t){var n=e.source,i=e.target;r(t,e.attributes,n.key,i.key,n.attributes,i.attributes)}));else{var n="undirected"===t;e._edges.forEach((function(e,t){if(e instanceof F===n){var i=e.source,a=e.target;r(t,e.attributes,i.key,a.key,i.attributes,a.attributes)}}))}}function $(e,t){return 0===e.size?j.empty():"mixed"===t?(r=e._edges.values(),new j((function(){var e=r.next();if(e.done)return e;var t=e.value;return{value:[t.key,t.attributes,t.source.key,t.target.key,t.source.attributes,t.target.attributes],done:!1}}))):(r=e._edges.values(),new j((function e(){var n=r.next();if(n.done)return n;var i=n.value;return i instanceof F==("undirected"===t)?{value:[i.key,i.attributes,i.source.key,i.target.key,i.source.attributes,i.target.attributes],done:!1}:e()})));var r}function ee(e,t,r){var n=[];return"undirected"!==e&&("out"!==t&&H(n,r.in),"in"!==t&&H(n,r.out)),"directed"!==e&&H(n,r.undirected),n}function te(e,t,r,n,i){var a=e?W:V;"undirected"!==t&&("out"!==r&&a(n.in,i),"in"!==r&&a(n.out,i)),"directed"!==t&&a(n.undirected,i)}function re(e,t,r){var n=j.empty();return"undirected"!==e&&("out"!==t&&void 0!==r.in&&(n=z(n,K(r.in))),"in"!==t&&void 0!==r.out&&(n=z(n,K(r.out)))),"directed"!==e&&void 0!==r.undirected&&(n=z(n,K(r.undirected))),n}function ne(e,t,r,n){var i=[];return"undirected"!==e&&(void 0!==r.in&&"out"!==t&&J(i,r.in,n),void 0!==r.out&&"in"!==t&&J(i,r.out,n)),"directed"!==e&&void 0!==r.undirected&&J(i,r.undirected,n),i}function ie(e,t,r,n,i){"undirected"!==e&&(void 0!==r.in&&"out"!==t&&X(r.in,n,i),void 0!==r.out&&"in"!==t&&X(r.out,n,i)),"directed"!==e&&void 0!==r.undirected&&X(r.undirected,n,i)}function ae(e,t,r,n){var i=j.empty();return"undirected"!==e&&(void 0!==r.in&&"out"!==t&&n in r.in&&(i=z(i,Q(r.in,n))),void 0!==r.out&&"in"!==t&&n in r.out&&(i=z(i,Q(r.out,n)))),"directed"!==e&&void 0!==r.undirected&&n in r.undirected&&(i=z(i,Q(r.undirected,n))),i}var oe=[{name:"neighbors",type:"mixed"},{name:"inNeighbors",type:"directed",direction:"in"},{name:"outNeighbors",type:"directed",direction:"out"},{name:"inboundNeighbors",type:"mixed",direction:"in"},{name:"outboundNeighbors",type:"mixed",direction:"out"},{name:"directedNeighbors",type:"directed"},{name:"undirectedNeighbors",type:"undirected"}];function se(e,t){if(void 0!==t)for(var r in t)e.add(r)}function ue(e,t,r){if("mixed"!==e){if("undirected"===e)return Object.keys(r.undirected);if("string"==typeof t)return Object.keys(r[t])}var n=new Set;return"undirected"!==e&&("out"!==t&&se(n,r.in),"in"!==t&&se(n,r.out)),"directed"!==e&&se(n,r.undirected),N(n.values(),n.size)}function ce(e,t,r){for(var n in t){var i=t[n];i instanceof Set&&(i=i.values().next().value);var a=i.source,o=a===e?i.target:a;r(o.key,o.attributes)}}function le(e,t,r,n){for(var i in r){var a=r[i];a instanceof Set&&(a=a.values().next().value);var o=a.source,s=o===t?a.target:o;e.has(s.key)||(e.add(s.key),n(s.key,s.attributes))}}function fe(e,t){var r=Object.keys(t),n=r.length,i=0;return new j((function(){if(i>=n)return{done:!0};var a=t[r[i++]];a instanceof Set&&(a=a.values().next().value);var o=a.source,s=o===e?a.target:o;return{done:!1,value:[s.key,s.attributes]}}))}function he(e,t,r){var n=Object.keys(r),i=n.length,a=0;return new j((function o(){if(a>=i)return{done:!0};var s=r[n[a++]];s instanceof Set&&(s=s.values().next().value);var u=s.source,c=u===t?s.target:u;return e.has(c.key)?o():(e.add(c.key),{done:!1,value:[c.key,c.attributes]})}))}function de(e,t,r,n,i){var a=e._nodes.get(n);if("undirected"!==t){if("out"!==r&&void 0!==a.in)for(var o in a.in)if(o===i)return!0;if("in"!==r&&void 0!==a.out)for(var s in a.out)if(s===i)return!0}if("directed"!==t&&void 0!==a.undirected)for(var u in a.undirected)if(u===i)return!0;return!1}function pe(e,t){var r={key:e};return Object.keys(t.attributes).length&&(r.attributes=u({},t.attributes)),r}function ve(e,t){var r={source:t.source.key,target:t.target.key};return t.generatedKey||(r.key=e),Object.keys(t.attributes).length&&(r.attributes=u({},t.attributes)),t instanceof F&&(r.undirected=!0),r}function ge(e){return f(e)?"key"in e?!("attributes"in e)||f(e.attributes)&&null!==e.attributes?null:"invalid-attributes":"no-key":"not-object"}function ye(e){return f(e)?"source"in e?"target"in e?!("attributes"in e)||f(e.attributes)&&null!==e.attributes?"undirected"in e&&"boolean"!=typeof e.undirected?"invalid-undirected":null:"invalid-attributes":"no-target":"no-source":"not-object"}var be=new Set(["directed","undirected","mixed"]),me=new Set(["domain","_events","_eventsCount","_maxListeners"]),_e={allowSelfLoops:!0,edgeKeyGenerator:null,multi:!1,type:"mixed"};function we(e,t,r,n,i,a,o,s){if(!n&&"undirected"===e.type)throw new C("Graph.".concat(t,": you cannot add a directed edge to an undirected graph. Use the #.addEdge or #.addUndirectedEdge instead."));if(n&&"directed"===e.type)throw new C("Graph.".concat(t,": you cannot add an undirected edge to a directed graph. Use the #.addEdge or #.addDirectedEdge instead."));if(s&&!f(s))throw new A("Graph.".concat(t,': invalid attributes. Expecting an object but got "').concat(s,'"'));if(a=""+a,o=""+o,s=s||{},!e.allowSelfLoops&&a===o)throw new C("Graph.".concat(t,': source & target are the same ("').concat(a,"\"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false."));var u=e._nodes.get(a),c=e._nodes.get(o);if(!u)throw new R("Graph.".concat(t,': source node "').concat(a,'" not found.'));if(!c)throw new R("Graph.".concat(t,': target node "').concat(o,'" not found.'));var l={key:null,undirected:n,source:a,target:o,attributes:s};if(r&&(i=e._edgeKeyGenerator(l)),e._edges.has(i=""+i))throw new C("Graph.".concat(t,': the "').concat(i,'" edge already exists in the graph.'));if(!e.multi&&(n?void 0!==u.undirected[o]:void 0!==u.out[o]))throw new C("Graph.".concat(t,': an edge linking "').concat(a,'" to "').concat(o,"\" already exists. If you really want to add multiple edges linking those nodes, you should create a multi graph by using the 'multi' option."));var h=new(n?F:P)(i,r,u,c,s);return e._edges.set(i,h),a===o?n?u.undirectedSelfLoops++:u.directedSelfLoops++:n?(u.undirectedDegree++,c.undirectedDegree++):(u.outDegree++,c.inDegree++),B(e,n,h,a,o,u,c),n?e._undirectedSize++:e._directedSize++,l.key=i,e.emit("edgeAdded",l),i}function xe(e,t,r,n,i,a,o,s){if(!n&&"undirected"===e.type)throw new C("Graph.".concat(t,": you cannot add a directed edge to an undirected graph. Use the #.addEdge or #.addUndirectedEdge instead."));if(n&&"directed"===e.type)throw new C("Graph.".concat(t,": you cannot add an undirected edge to a directed graph. Use the #.addEdge or #.addDirectedEdge instead."));if(s&&!f(s))throw new A("Graph.".concat(t,': invalid attributes. Expecting an object but got "').concat(s,'"'));if(a=""+a,o=""+o,s=s||{},!e.allowSelfLoops&&a===o)throw new C("Graph.".concat(t,': source & target are the same ("').concat(a,"\"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false."));var l,h,d=e._nodes.get(a),p=e._nodes.get(o),v=null;if(!r&&(l=e._edges.get(i))){if(l.source!==a||l.target!==o||n&&(l.source!==o||l.target!==a))throw new C("Graph.".concat(t,': inconsistency detected when attempting to merge the "').concat(i,'" edge with "').concat(a,'" source & "').concat(o,'" target vs. (').concat(l.source,", ").concat(l.target,")."));v=i}if(v||e.multi||!d||(n?void 0===d.undirected[o]:void 0===d.out[o])||(h=c(e,a,o,n?"undirected":"directed")),h)return s?(u(h.attributes,s),v):v;var g={key:null,undirected:n,source:a,target:o,attributes:s};if(r&&(i=e._edgeKeyGenerator(g)),e._edges.has(i=""+i))throw new C("Graph.".concat(t,': the "').concat(i,'" edge already exists in the graph.'));return d||(e.addNode(a),d=e._nodes.get(a),a===o&&(p=d)),p||(e.addNode(o),p=e._nodes.get(o)),l=new(n?F:P)(i,r,d,p,s),e._edges.set(i,l),a===o?n?d.undirectedSelfLoops++:d.directedSelfLoops++:n?(d.undirectedDegree++,p.undirectedDegree++):(d.outDegree++,p.inDegree++),B(e,n,l,a,o,d,p),n?e._undirectedSize++:e._directedSize++,g.key=i,e.emit("edgeAdded",g),i}var ke=function(e){function r(t){var r;if(r=e.call(this)||this,(t=u({},_e,t)).edgeKeyGenerator&&"function"!=typeof t.edgeKeyGenerator)throw new A("Graph.constructor: invalid 'edgeKeyGenerator' option. Expecting a function but got \"".concat(t.edgeKeyGenerator,'".'));if("boolean"!=typeof t.multi)throw new A("Graph.constructor: invalid 'multi' option. Expecting a boolean but got \"".concat(t.multi,'".'));if(!be.has(t.type))throw new A('Graph.constructor: invalid \'type\' option. Should be one of "mixed", "directed" or "undirected" but got "'.concat(t.type,'".'));if("boolean"!=typeof t.allowSelfLoops)throw new A("Graph.constructor: invalid 'allowSelfLoops' option. Expecting a boolean but got \"".concat(t.allowSelfLoops,'".'));var n,i="mixed"===t.type?L:"directed"===t.type?D:M;return d(s(r),"NodeDataClass",i),d(s(r),"_attributes",{}),d(s(r),"_nodes",new Map),d(s(r),"_edges",new Map),d(s(r),"_directedSize",0),d(s(r),"_undirectedSize",0),d(s(r),"_edgeKeyGenerator",t.edgeKeyGenerator||(n=0,function(){return"_geid".concat(n++,"_")})),d(s(r),"_options",t),me.forEach((function(e){return d(s(r),e,r[e])})),p(s(r),"order",(function(){return r._nodes.size})),p(s(r),"size",(function(){return r._edges.size})),p(s(r),"directedSize",(function(){return r._directedSize})),p(s(r),"undirectedSize",(function(){return r._undirectedSize})),p(s(r),"multi",r._options.multi),p(s(r),"type",r._options.type),p(s(r),"allowSelfLoops",r._options.allowSelfLoops),r}t(r,e);var n=r.prototype;return n.hasNode=function(e){return this._nodes.has(""+e)},n.hasDirectedEdge=function(e,t){if("undirected"===this.type)return!1;if(1===arguments.length){var r=""+e,n=this._edges.get(r);return!!n&&n instanceof P}if(2===arguments.length){t=""+t;var i=this._nodes.get(e=""+e);if(!i)return!1;var a=i.out[t];return!(!a||this.multi&&!a.size)}throw new A("Graph.hasDirectedEdge: invalid arity (".concat(arguments.length,", instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target."))},n.hasUndirectedEdge=function(e,t){if("directed"===this.type)return!1;if(1===arguments.length){var r=""+e,n=this._edges.get(r);return!!n&&n instanceof F}if(2===arguments.length){t=""+t;var i=this._nodes.get(e=""+e);if(!i)return!1;var a=i.undirected[t];return!(!a||this.multi&&!a.size)}throw new A("Graph.hasDirectedEdge: invalid arity (".concat(arguments.length,", instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target."))},n.hasEdge=function(e,t){if(1===arguments.length){var r=""+e;return this._edges.has(r)}if(2===arguments.length){t=""+t;var n=this._nodes.get(e=""+e);if(!n)return!1;var i=void 0!==n.out&&n.out[t];return i||(i=void 0!==n.undirected&&n.undirected[t]),!(!i||this.multi&&!i.size)}throw new A("Graph.hasEdge: invalid arity (".concat(arguments.length,", instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target."))},n.directedEdge=function(e,t){if("undirected"!==this.type){if(e=""+e,t=""+t,this.multi)throw new C("Graph.directedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.directedEdges instead.");var r=this._nodes.get(e);if(!r)throw new R('Graph.directedEdge: could not find the "'.concat(e,'" source node in the graph.'));if(!this._nodes.has(t))throw new R('Graph.directedEdge: could not find the "'.concat(t,'" target node in the graph.'));var n=r.out&&r.out[t]||void 0;return n?n.key:void 0}},n.undirectedEdge=function(e,t){if("directed"!==this.type){if(e=""+e,t=""+t,this.multi)throw new C("Graph.undirectedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.undirectedEdges instead.");var r=this._nodes.get(e);if(!r)throw new R('Graph.undirectedEdge: could not find the "'.concat(e,'" source node in the graph.'));if(!this._nodes.has(t))throw new R('Graph.undirectedEdge: could not find the "'.concat(t,'" target node in the graph.'));var n=r.undirected&&r.undirected[t]||void 0;return n?n.key:void 0}},n.edge=function(e,t){if(this.multi)throw new C("Graph.edge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.edges instead.");t=""+t;var r=this._nodes.get(e=""+e);if(!r)throw new R('Graph.edge: could not find the "'.concat(e,'" source node in the graph.'));if(!this._nodes.has(t))throw new R('Graph.edge: could not find the "'.concat(t,'" target node in the graph.'));var n=r.out&&r.out[t]||r.undirected&&r.undirected[t]||void 0;if(n)return n.key},n.inDegree=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("boolean"!=typeof t)throw new A('Graph.inDegree: Expecting a boolean but got "'.concat(t,'" for the second parameter (allowing self-loops to be counted).'));var r=this._nodes.get(e=""+e);if(!r)throw new R('Graph.inDegree: could not find the "'.concat(e,'" node in the graph.'));if("undirected"===this.type)return 0;var n=t?r.directedSelfLoops:0;return r.inDegree+n},n.outDegree=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("boolean"!=typeof t)throw new A('Graph.outDegree: Expecting a boolean but got "'.concat(t,'" for the second parameter (allowing self-loops to be counted).'));var r=this._nodes.get(e=""+e);if(!r)throw new R('Graph.outDegree: could not find the "'.concat(e,'" node in the graph.'));if("undirected"===this.type)return 0;var n=t?r.directedSelfLoops:0;return r.outDegree+n},n.directedDegree=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("boolean"!=typeof t)throw new A('Graph.directedDegree: Expecting a boolean but got "'.concat(t,'" for the second parameter (allowing self-loops to be counted).'));if(!this.hasNode(e=""+e))throw new R('Graph.directedDegree: could not find the "'.concat(e,'" node in the graph.'));return"undirected"===this.type?0:this.inDegree(e,t)+this.outDegree(e,t)},n.undirectedDegree=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("boolean"!=typeof t)throw new A('Graph.undirectedDegree: Expecting a boolean but got "'.concat(t,'" for the second parameter (allowing self-loops to be counted).'));if(!this.hasNode(e=""+e))throw new R('Graph.undirectedDegree: could not find the "'.concat(e,'" node in the graph.'));if("directed"===this.type)return 0;var r=this._nodes.get(e),n=t?2*r.undirectedSelfLoops:0;return r.undirectedDegree+n},n.degree=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("boolean"!=typeof t)throw new A('Graph.degree: Expecting a boolean but got "'.concat(t,'" for the second parameter (allowing self-loops to be counted).'));if(!this.hasNode(e=""+e))throw new R('Graph.degree: could not find the "'.concat(e,'" node in the graph.'));var r=0;return"undirected"!==this.type&&(r+=this.directedDegree(e,t)),"directed"!==this.type&&(r+=this.undirectedDegree(e,t)),r},n.source=function(e){var t=this._edges.get(e=""+e);if(!t)throw new R('Graph.source: could not find the "'.concat(e,'" edge in the graph.'));return t.source.key},n.target=function(e){var t=this._edges.get(e=""+e);if(!t)throw new R('Graph.target: could not find the "'.concat(e,'" edge in the graph.'));return t.target.key},n.extremities=function(e){var t=this._edges.get(e=""+e);if(!t)throw new R('Graph.extremities: could not find the "'.concat(e,'" edge in the graph.'));return[t.source.key,t.target.key]},n.opposite=function(e,t){if(t=""+t,!this._nodes.has(e=""+e))throw new R('Graph.opposite: could not find the "'.concat(e,'" node in the graph.'));var r=this._edges.get(t);if(!r)throw new R('Graph.opposite: could not find the "'.concat(t,'" edge in the graph.'));var n=r.source.key,i=r.target.key;if(e!==n&&e!==i)throw new R('Graph.opposite: the "'.concat(e,'" node is not attached to the "').concat(t,'" edge (').concat(n,", ").concat(i,")."));return e===n?i:n},n.undirected=function(e){var t=this._edges.get(e=""+e);if(!t)throw new R('Graph.undirected: could not find the "'.concat(e,'" edge in the graph.'));return t instanceof F},n.directed=function(e){var t=this._edges.get(e=""+e);if(!t)throw new R('Graph.directed: could not find the "'.concat(e,'" edge in the graph.'));return t instanceof P},n.selfLoop=function(e){var t=this._edges.get(e=""+e);if(!t)throw new R('Graph.selfLoop: could not find the "'.concat(e,'" edge in the graph.'));return t.source===t.target},n.addNode=function(e,t){if(t&&!f(t))throw new A('Graph.addNode: invalid attributes. Expecting an object but got "'.concat(t,'"'));if(t=t||{},this._nodes.has(e=""+e))throw new C('Graph.addNode: the "'.concat(e,'" node already exist in the graph.'));var r=new this.NodeDataClass(e,t);return this._nodes.set(e,r),this.emit("nodeAdded",{key:e,attributes:t}),e},n.mergeNode=function(e,t){if(t&&!f(t))throw new A('Graph.mergeNode: invalid attributes. Expecting an object but got "'.concat(t,'"'));t=t||{};var r=this._nodes.get(e=""+e);return r?(t&&u(r.attributes,t),e):(r=new this.NodeDataClass(e,t),this._nodes.set(e,r),this.emit("nodeAdded",{key:e,attributes:t}),e)},n.dropNode=function(e){if(!this.hasNode(e=""+e))throw new R('Graph.dropNode: could not find the "'.concat(e,'" node in the graph.'));for(var t=this.edges(e),r=0,n=t.length;r<n;r++)this.dropEdge(t[r]);var i=this._nodes.get(e);this._nodes.delete(e),this.emit("nodeDropped",{key:e,attributes:i.attributes})},n.dropEdge=function(e){var t;if(arguments.length>1){var r=""+arguments[0],n=""+arguments[1];if(!(t=c(this,r,n,this.type)))throw new R('Graph.dropEdge: could not find the "'.concat(r,'" -> "').concat(n,'" edge in the graph.'))}else if(!(t=this._edges.get(e=""+e)))throw new R('Graph.dropEdge: could not find the "'.concat(e,'" edge in the graph.'));this._edges.delete(t.key);var i=t,a=i.source,o=i.target,s=i.attributes,u=t instanceof F;return a===o?a.selfLoops--:u?(a.undirectedDegree--,o.undirectedDegree--):(a.outDegree--,o.inDegree--),U(this,u,t),u?this._undirectedSize--:this._directedSize--,this.emit("edgeDropped",{key:e,attributes:s,source:a.key,target:o.key,undirected:u}),this},n.clear=function(){this._edges.clear(),this._nodes.clear(),this.emit("cleared")},n.clearEdges=function(){this._edges.clear(),this.clearIndex(),this.emit("edgesCleared")},n.getAttribute=function(e){return this._attributes[e]},n.getAttributes=function(){return this._attributes},n.hasAttribute=function(e){return this._attributes.hasOwnProperty(e)},n.setAttribute=function(e,t){return this._attributes[e]=t,this.emit("attributesUpdated",{type:"set",meta:{name:e,value:t}}),this},n.updateAttribute=function(e,t){if("function"!=typeof t)throw new A("Graph.updateAttribute: updater should be a function.");return this._attributes[e]=t(this._attributes[e]),this.emit("attributesUpdated",{type:"set",meta:{name:e,value:this._attributes[e]}}),this},n.removeAttribute=function(e){return delete this._attributes[e],this.emit("attributesUpdated",{type:"remove",meta:{name:e}}),this},n.replaceAttributes=function(e){if(!f(e))throw new A("Graph.replaceAttributes: provided attributes are not a plain object.");var t=this._attributes;return this._attributes=e,this.emit("attributesUpdated",{type:"replace",meta:{before:t,after:e}}),this},n.mergeAttributes=function(e){if(!f(e))throw new A("Graph.mergeAttributes: provided attributes are not a plain object.");return this._attributes=u(this._attributes,e),this.emit("attributesUpdated",{type:"merge",meta:{data:this._attributes}}),this},n.getNodeAttribute=function(e,t){var r=this._nodes.get(e=""+e);if(!r)throw new R('Graph.getNodeAttribute: could not find the "'.concat(e,'" node in the graph.'));return r.attributes[t]},n.getNodeAttributes=function(e){var t=this._nodes.get(e=""+e);if(!t)throw new R('Graph.getNodeAttributes: could not find the "'.concat(e,'" node in the graph.'));return t.attributes},n.hasNodeAttribute=function(e,t){var r=this._nodes.get(e=""+e);if(!r)throw new R('Graph.hasNodeAttribute: could not find the "'.concat(e,'" node in the graph.'));return r.attributes.hasOwnProperty(t)},n.setNodeAttribute=function(e,t,r){var n=this._nodes.get(e=""+e);if(!n)throw new R('Graph.setNodeAttribute: could not find the "'.concat(e,'" node in the graph.'));if(arguments.length<3)throw new A("Graph.setNodeAttribute: not enough arguments. Either you forgot to pass the attribute's name or value, or you meant to use #.replaceNodeAttributes / #.mergeNodeAttributes instead.");return n.attributes[t]=r,this.emit("nodeAttributesUpdated",{key:e,type:"set",meta:{name:t,value:r}}),this},n.updateNodeAttribute=function(e,t,r){var n=this._nodes.get(e=""+e);if(!n)throw new R('Graph.updateNodeAttribute: could not find the "'.concat(e,'" node in the graph.'));if(arguments.length<3)throw new A("Graph.updateNodeAttribute: not enough arguments. Either you forgot to pass the attribute's name or updater, or you meant to use #.replaceNodeAttributes / #.mergeNodeAttributes instead.");if("function"!=typeof r)throw new A("Graph.updateAttribute: updater should be a function.");var i=n.attributes;return i[t]=r(i[t]),this.emit("nodeAttributesUpdated",{key:e,type:"set",meta:{name:t,value:i[t]}}),this},n.removeNodeAttribute=function(e,t){var r=this._nodes.get(e=""+e);if(!r)throw new R('Graph.hasNodeAttribute: could not find the "'.concat(e,'" node in the graph.'));return delete r.attributes[t],this.emit("nodeAttributesUpdated",{key:e,type:"remove",meta:{name:t}}),this},n.replaceNodeAttributes=function(e,t){var r=this._nodes.get(e=""+e);if(!r)throw new R('Graph.replaceNodeAttributes: could not find the "'.concat(e,'" node in the graph.'));if(!f(t))throw new A("Graph.replaceNodeAttributes: provided attributes are not a plain object.");var n=r.attributes;return r.attributes=t,this.emit("nodeAttributesUpdated",{key:e,type:"replace",meta:{before:n,after:t}}),this},n.mergeNodeAttributes=function(e,t){var r=this._nodes.get(e=""+e);if(!r)throw new R('Graph.mergeNodeAttributes: could not find the "'.concat(e,'" node in the graph.'));if(!f(t))throw new A("Graph.mergeNodeAttributes: provided attributes are not a plain object.");return u(r.attributes,t),this.emit("nodeAttributesUpdated",{key:e,type:"merge",meta:{data:t}}),this},n.forEach=function(e){if("function"!=typeof e)throw new A("Graph.forEach: expecting a callback.");this._edges.forEach((function(t,r){var n=t.source,i=t.target;e(n.key,i.key,n.attributes,i.attributes,r,t.attributes)}))},n.adjacency=function(){var e=this._edges.values();return new j((function(){var t=e.next();if(t.done)return t;var r=t.value,n=r.source,i=r.target;return{done:!1,value:[n.key,i.key,n.attributes,i.attributes,r.key,r.attributes]}}))},n.nodes=function(){return N(this._nodes.keys(),this._nodes.size)},n.forEachNode=function(e){if("function"!=typeof e)throw new A("Graph.forEachNode: expecting a callback.");this._nodes.forEach((function(t,r){e(r,t.attributes)}))},n.nodeEntries=function(){var e=this._nodes.values();return new j((function(){var t=e.next();if(t.done)return t;var r=t.value;return{value:[r.key,r.attributes],done:!1}}))},n.exportNode=function(e){var t=this._nodes.get(e=""+e);if(!t)throw new R('Graph.exportNode: could not find the "'.concat(e,'" node in the graph.'));return pe(e,t)},n.exportEdge=function(e){var t=this._edges.get(e=""+e);if(!t)throw new R('Graph.exportEdge: could not find the "'.concat(e,'" edge in the graph.'));return ve(e,t)},n.export=function(){var e=new Array(this._nodes.size),t=0;this._nodes.forEach((function(r,n){e[t++]=pe(n,r)}));var r=new Array(this._edges.size);return t=0,this._edges.forEach((function(e,n){r[t++]=ve(n,e)})),{attributes:this.getAttributes(),nodes:e,edges:r}},n.importNode=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=ge(e);if(r){if("not-object"===r)throw new A('Graph.importNode: invalid serialized node. A serialized node should be a plain object with at least a "key" property.');if("no-key"===r)throw new A("Graph.importNode: no key provided.");if("invalid-attributes"===r)throw new A("Graph.importNode: invalid attributes. Attributes should be a plain object, null or omitted.")}var n=e.key,i=e.attributes,a=void 0===i?{}:i;return t?this.mergeNode(n,a):this.addNode(n,a),this},n.importEdge=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=ye(e);if(r){if("not-object"===r)throw new A('Graph.importEdge: invalid serialized edge. A serialized edge should be a plain object with at least a "source" & "target" property.');if("no-source"===r)throw new A("Graph.importEdge: missing souce.");if("no-target"===r)throw new A("Graph.importEdge: missing target.");if("invalid-attributes"===r)throw new A("Graph.importEdge: invalid attributes. Attributes should be a plain object, null or omitted.");if("invalid-undirected"===r)throw new A("Graph.importEdge: invalid undirected. Undirected should be boolean or omitted.")}var n=e.source,i=e.target,a=e.attributes,o=void 0===a?{}:a,s=e.undirected,u=void 0!==s&&s;return"key"in e?(t?u?this.mergeUndirectedEdgeWithKey:this.mergeDirectedEdgeWithKey:u?this.addUndirectedEdgeWithKey:this.addDirectedEdgeWithKey).call(this,e.key,n,i,o):(t?u?this.mergeUndirectedEdge:this.mergeDirectedEdge:u?this.addUndirectedEdge:this.addDirectedEdge).call(this,n,i,o),this},n.import=function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(l(e))return this.import(e.export(),r),this;if(!f(e))throw new A("Graph.import: invalid argument. Expecting a serialized graph or, alternatively, a Graph instance.");if(e.attributes){if(!f(e.attributes))throw new A("Graph.import: invalid attributes. Expecting a plain object.");r?this.mergeAttributes(e.attributes):this.replaceAttributes(e.attributes)}return e.nodes&&e.nodes.forEach((function(e){return t.importNode(e,r)})),e.edges&&e.edges.forEach((function(e){return t.importEdge(e,r)})),this},n.nullCopy=function(e){return new r(u({},this._options,e))},n.emptyCopy=function(e){var t=new r(u({},this._options,e));return this._nodes.forEach((function(e,r){e=new t.NodeDataClass(r,u({},e.attributes)),t._nodes.set(r,e)})),t},n.copy=function(){var e=new r(this._options);return e.import(this),e},n.upgradeToMixed=function(){return"mixed"===this.type||(this._nodes.forEach((function(e){return e.upgradeToMixed()})),this._options.type="mixed",p(this,"type",this._options.type),d(this,"NodeDataClass",L)),this},n.upgradeToMulti=function(){return this.multi||(this._options.multi=!0,p(this,"multi",!0),(e=this)._nodes.forEach((function(t,r){if(t.out)for(var n in t.out){var i=new Set;i.add(t.out[n]),t.out[n]=i,e._nodes.get(n).in[r]=i}if(t.undirected)for(var a in t.undirected)if(!(a>r)){var o=new Set;o.add(t.undirected[a]),t.undirected[a]=o,e._nodes.get(a).undirected[r]=o}}))),this;var e},n.clearIndex=function(){return this._nodes.forEach((function(e){void 0!==e.in&&(e.in={},e.out={}),void 0!==e.undirected&&(e.undirected={})})),this},n.toJSON=function(){return this.export()},n.toString=function(){var e=this.order>1||0===this.order,t=this.size>1||0===this.size;return"Graph<".concat(h(this.order)," node").concat(e?"s":"",", ").concat(h(this.size)," edge").concat(t?"s":"",">")},n.inspect=function(){var e=this,t={};this._nodes.forEach((function(e,r){t[r]=e.attributes}));var r={},n={};this._edges.forEach((function(t,i){var a=t instanceof F?"--":"->",o="",s="(".concat(t.source.key,")").concat(a,"(").concat(t.target.key,")");t.generatedKey?e.multi&&(void 0===n[s]?n[s]=0:n[s]++,o+="".concat(n[s],". ")):o+="[".concat(i,"]: "),r[o+=s]=t.attributes}));var i={};for(var a in this)this.hasOwnProperty(a)&&!me.has(a)&&"function"!=typeof this[a]&&(i[a]=this[a]);return i.attributes=this._attributes,i.nodes=t,i.edges=r,d(i,"constructor",this.constructor),i},r}(g);"undefined"!=typeof Symbol&&(ke.prototype[Symbol.for("nodejs.util.inspect.custom")]=ke.prototype.inspect),[{name:function(e){return"".concat(e,"Edge")},generateKey:!0},{name:function(e){return"".concat(e,"DirectedEdge")},generateKey:!0,type:"directed"},{name:function(e){return"".concat(e,"UndirectedEdge")},generateKey:!0,type:"undirected"},{name:function(e){return"".concat(e,"EdgeWithKey")}},{name:function(e){return"".concat(e,"DirectedEdgeWithKey")},type:"directed"},{name:function(e){return"".concat(e,"UndirectedEdgeWithKey")},type:"undirected"}].forEach((function(e){["add","merge"].forEach((function(t){var r=e.name(t),n="add"===t?we:xe;ke.prototype[r]=e.generateKey?function(t,i,a){return n(this,r,!0,"undirected"===(e.type||this.type),null,t,i,a)}:function(t,i,a,o){return n(this,r,!1,"undirected"===(e.type||this.type),t,i,a,o)}}))})),"undefined"!=typeof Symbol&&(ke.prototype[Symbol.iterator]=ke.prototype.adjacency),function(e){G.forEach((function(t){var r=t.name,n=t.attacher;n(e,r("Edge"),"mixed",P),n(e,r("DirectedEdge"),"directed",P),n(e,r("UndirectedEdge"),"undirected",F)}))}(ke),function(e){q.forEach((function(t){!function(e,t){var r=t.name,n=t.type,i=t.direction;e.prototype[r]=function(e,t){if("mixed"!==n&&"mixed"!==this.type&&n!==this.type)return[];if(!arguments.length)return Y(this,n);if(1===arguments.length){var a=this._nodes.get(e=""+e);if(void 0===a)throw new R("Graph.".concat(r,': could not find the "').concat(e,'" node in the graph.'));return ee("mixed"===n?this.type:n,i,a)}if(2===arguments.length){t=""+t;var o=this._nodes.get(e=""+e);if(!o)throw new R("Graph.".concat(r,':  could not find the "').concat(e,'" source node in the graph.'));if(!this._nodes.has(t))throw new R("Graph.".concat(r,':  could not find the "').concat(t,'" target node in the graph.'));return ne(n,i,o,t)}throw new A("Graph.".concat(r,": too many arguments (expecting 0, 1 or 2 and got ").concat(arguments.length,")."))}}(e,t),function(e,t){var r=t.name,n=t.type,i=t.direction,a="forEach"+r[0].toUpperCase()+r.slice(1,-1);e.prototype[a]=function(e,t,r){if("mixed"===n||"mixed"===this.type||n===this.type){if(1===arguments.length)return Z(this,n,r=e);if(2===arguments.length){r=t;var o=this._nodes.get(e=""+e);if(void 0===o)throw new R("Graph.".concat(a,': could not find the "').concat(e,'" node in the graph.'));return te(this.multi,"mixed"===n?this.type:n,i,o,r)}if(3===arguments.length){t=""+t;var s=this._nodes.get(e=""+e);if(!s)throw new R("Graph.".concat(a,':  could not find the "').concat(e,'" source node in the graph.'));if(!this._nodes.has(t))throw new R("Graph.".concat(a,':  could not find the "').concat(t,'" target node in the graph.'));return ie(n,i,s,t,r)}throw new A("Graph.".concat(a,": too many arguments (expecting 1, 2 or 3 and got ").concat(arguments.length,")."))}}}(e,t),function(e,t){var r=t.type,n=t.direction,i=t.name.slice(0,-1)+"Entries";e.prototype[i]=function(e,t){if("mixed"!==r&&"mixed"!==this.type&&r!==this.type)return j.empty();if(!arguments.length)return $(this,r);if(1===arguments.length){var a=this._nodes.get(e=""+e);if(!a)throw new R("Graph.".concat(i,': could not find the "').concat(e,'" node in the graph.'));return re(r,n,a)}if(2===arguments.length){t=""+t;var o=this._nodes.get(e=""+e);if(!o)throw new R("Graph.".concat(i,':  could not find the "').concat(e,'" source node in the graph.'));if(!this._nodes.has(t))throw new R("Graph.".concat(i,':  could not find the "').concat(t,'" target node in the graph.'));return ae(r,n,o,t)}throw new A("Graph.".concat(i,": too many arguments (expecting 0, 1 or 2 and got ").concat(arguments.length,")."))}}(e,t)}))}(ke),function(e){oe.forEach((function(t){!function(e,t){var r=t.name,n=t.type,i=t.direction;e.prototype[r]=function(e){if("mixed"!==n&&"mixed"!==this.type&&n!==this.type)return[];if(2===arguments.length){var t=""+arguments[0],a=""+arguments[1];if(!this._nodes.has(t))throw new R("Graph.".concat(r,': could not find the "').concat(t,'" node in the graph.'));if(!this._nodes.has(a))throw new R("Graph.".concat(r,': could not find the "').concat(a,'" node in the graph.'));return de(this,n,i,t,a)}if(1===arguments.length){var o=this._nodes.get(e=""+e);if(void 0===o)throw new R("Graph.".concat(r,': could not find the "').concat(e,'" node in the graph.'));var s=ue("mixed"===n?this.type:n,i,o);return s}throw new A("Graph.".concat(r,": invalid number of arguments (expecting 1 or 2 and got ").concat(arguments.length,")."))}}(e,t),function(e,t){var r=t.name,n=t.type,i=t.direction,a="forEach"+r[0].toUpperCase()+r.slice(1,-1);e.prototype[a]=function(e,t){if("mixed"===n||"mixed"===this.type||n===this.type){var r=this._nodes.get(e=""+e);if(void 0===r)throw new R("Graph.".concat(a,': could not find the "').concat(e,'" node in the graph.'));!function(e,t,r,n){if("mixed"!==e){if("undirected"===e)return ce(r,r.undirected,n);if("string"==typeof t)return ce(r,r[t],n)}var i=new Set;"undirected"!==e&&("out"!==t&&le(i,r,r.in,n),"in"!==t&&le(i,r,r.out,n)),"directed"!==e&&le(i,r,r.undirected,n)}("mixed"===n?this.type:n,i,r,t)}}}(e,t),function(e,t){var r=t.type,n=t.direction,i=t.name.slice(0,-1)+"Entries";e.prototype[i]=function(e){if("mixed"!==r&&"mixed"!==this.type&&r!==this.type)return j.empty();var t=this._nodes.get(e=""+e);if(void 0===t)throw new R("Graph.".concat(i,': could not find the "').concat(e,'" node in the graph.'));return function(e,t,r){if("mixed"!==e){if("undirected"===e)return fe(r,r.undirected);if("string"==typeof t)return fe(r,r[t])}var n=j.empty(),i=new Set;return"undirected"!==e&&("out"!==t&&(n=z(n,he(i,r,r.in))),"in"!==t&&(n=z(n,he(i,r,r.out)))),"directed"!==e&&(n=z(n,he(i,r,r.undirected))),n}("mixed"===r?this.type:r,n,t)}}(e,t)}))}(ke);var Se=function(e){function r(t){return e.call(this,u({type:"directed"},t))||this}return t(r,e),r}(ke),Ee=function(e){function r(t){return e.call(this,u({type:"undirected"},t))||this}return t(r,e),r}(ke),Te=function(e){function r(t){return e.call(this,u({multi:!0},t))||this}return t(r,e),r}(ke),Ie=function(e){function r(t){return e.call(this,u({multi:!0,type:"directed"},t))||this}return t(r,e),r}(ke),je=function(e){function r(t){return e.call(this,u({multi:!0,type:"undirected"},t))||this}return t(r,e),r}(ke);function Ne(e){e.from=function(t,r){var n=new e(r);return n.import(t),n}}return Ne(ke),Ne(Se),Ne(Ee),Ne(Te),Ne(Ie),Ne(je),ke.Graph=ke,ke.DirectedGraph=Se,ke.UndirectedGraph=Ee,ke.MultiGraph=Te,ke.MultiDirectedGraph=Ie,ke.MultiUndirectedGraph=je,ke.InvalidArgumentsGraphError=A,ke.NotFoundGraphError=R,ke.UsageGraphError=C,ke}()},JFj6:function(e,t,r){e.exports=function e(t,r,n){function i(o,s){if(!r[o]){if(!t[o]){if(a)return a(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var c=r[o]={exports:{}};t[o][0].call(c.exports,(function(e){return i(t[o][1][e]||e)}),c,c.exports,e,t,r,n)}return r[o].exports}for(var a=!1,o=0;o<n.length;o++)i(n[o]);return i}({1:[function(e,t,r){!function(n,i){"object"==typeof r&&void 0!==t?i(r,e("jsonld"),e("n3"),e("rdfxml-streaming-parser"),e("readable-stream")):i((n=n||self).tripleStoreUtils={},n.jsonld,n.n3,n.rdfxmlStreamingParser,n.readablestream)}(this,(function(e,t,r,n,i){"use strict";function a(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))}function o(e,t){var r,n,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(s){a=[6,s],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}function s(e){var t=e.length,r=0;return new i.Readable({objectMode:!0,read:function(){this.push(r<t?e[r++]:null)}})}Object.keys(r).forEach((function(t){"default"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})})),e.addJsonLdToStore=function(e,r){return a(this,void 0,void 0,(function(){var n,i,a;return o(this,(function(o){switch(o.label){case 0:return"string"!=typeof e?[3,4]:[4,fetch(e,{redirect:"follow"})];case 1:return(i=o.sent()).ok?[4,i.json()]:[3,3];case 2:n=o.sent(),o.label=3;case 3:return[3,5];case 4:n=e,o.label=5;case 5:return n?[4,t.toRDF(n)]:[3,7];case 6:a=o.sent(),r.import(s(a)),o.label=7;case 7:return[2,r]}}))}))},e.addN3ToStore=function(e,t){var n;return a(this,void 0,void 0,(function(){var i,a,u;return o(this,(function(o){switch(o.label){case 0:return"string"==typeof e&&(null===(n=e)||void 0===n?void 0:n.startsWith("http"))?[4,fetch(e,{redirect:"follow"})]:[3,4];case 1:return(a=o.sent()).ok?[4,a.text()]:[3,3];case 2:i=o.sent(),o.label=3;case 3:return[3,5];case 4:i=e,o.label=5;case 5:return i&&(u=new r.Parser({format:"n3"}).parse(i),t.import(s(u))),[2,t]}}))}))},e.addRdfXmlToStore=function(e,t){var i;return a(this,void 0,void 0,(function(){var a,s,u,c;return o(this,(function(o){switch(o.label){case 0:return"string"==typeof e&&(null===(i=e)||void 0===i?void 0:i.startsWith("http"))?[4,fetch(e,{redirect:"follow"})]:[3,4];case 1:return(s=o.sent()).ok?[4,s.text()]:[3,3];case 2:a=o.sent(),o.label=3;case 3:return[3,5];case 4:a=e,o.label=5;case 5:return a?(u=new n.RdfXmlParser({dataFactory:r.DataFactory,strict:!0}),c=new Promise((function(e){return u.once("end",(function(){return e(t)}))})),t.import(u),u.write(a),u.end(),[2,c]):[2,t]}}))}))},e.arrayToStream=s,e.streamToArray=function(e){return new Promise((function(t,r){var n=[];e.on("data",(function(e){n.push(e)})).once("end",(function(){t(n)})).once("error",(function(e){r(e)}))}))},Object.defineProperty(e,"__esModule",{value:!0})}))},{jsonld:38,n3:54,"rdfxml-streaming-parser":75,"readable-stream":92}],2:[function(e,t,r){var n=e("./lib/data-factory");t.exports=n},{"./lib/data-factory":4}],3:[function(e,t,r){function n(e){this.value=e||"b"+ ++n.nextId}n.prototype.equals=function(e){return!!e&&e.termType===this.termType&&e.value===this.value},n.prototype.termType="BlankNode",n.nextId=0,t.exports=n},{}],4:[function(e,t,r){var n=e("./blank-node"),i=e("./default-graph"),a=e("./literal"),o=e("./named-node"),s=e("./quad"),u=e("./variable");function c(){}c.namedNode=function(e){return new o(e)},c.blankNode=function(e){return new n(e)},c.literal=function(e,t){return"string"==typeof t?-1===t.indexOf(":")?new a(e,t):new a(e,null,c.namedNode(t)):new a(e,null,t)},c.defaultGraph=function(){return c.defaultGraphInstance},c.variable=function(e){return new u(e)},c.triple=function(e,t,r){return c.quad(e,t,r)},c.quad=function(e,t,r,n){return new s(e,t,r,n||c.defaultGraphInstance)},c.defaultGraphInstance=new i,t.exports=c},{"./blank-node":3,"./default-graph":5,"./literal":6,"./named-node":7,"./quad":8,"./variable":9}],5:[function(e,t,r){function n(){this.value=""}n.prototype.equals=function(e){return!!e&&e.termType===this.termType},n.prototype.termType="DefaultGraph",t.exports=n},{}],6:[function(e,t,r){var n=e("./named-node");function i(e,t,r){this.value=e,this.datatype=i.stringDatatype,this.language="",t?(this.language=t,this.datatype=i.langStringDatatype):r&&(this.datatype=r)}i.prototype.equals=function(e){return!!e&&e.termType===this.termType&&e.value===this.value&&e.language===this.language&&e.datatype.equals(this.datatype)},i.prototype.termType="Literal",i.langStringDatatype=new n("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),i.stringDatatype=new n("http://www.w3.org/2001/XMLSchema#string"),t.exports=i},{"./named-node":7}],7:[function(e,t,r){function n(e){this.value=e}n.prototype.equals=function(e){return!!e&&e.termType===this.termType&&e.value===this.value},n.prototype.termType="NamedNode",t.exports=n},{}],8:[function(e,t,r){var n=e("./default-graph");function i(e,t,r,i){this.subject=e,this.predicate=t,this.object=r,this.graph=i||new n}i.prototype.equals=function(e){return!!e&&e.subject.equals(this.subject)&&e.predicate.equals(this.predicate)&&e.object.equals(this.object)&&e.graph.equals(this.graph)},t.exports=i},{"./default-graph":5}],9:[function(e,t,r){function n(e){this.value=e}n.prototype.equals=function(e){return!!e&&e.termType===this.termType&&e.value===this.value},n.prototype.termType="Variable",t.exports=n},{}],10:[function(e,t,r){"use strict";r.byteLength=function(e){var t=c(e),r=t[1];return 3*(t[0]+r)/4-r},r.toByteArray=function(e){var t,r,n=c(e),o=n[0],s=n[1],u=new a(function(e,t,r){return 3*(t+r)/4-r}(0,o,s)),l=0,f=s>0?o-4:o;for(r=0;r<f;r+=4)t=i[e.charCodeAt(r)]<<18|i[e.charCodeAt(r+1)]<<12|i[e.charCodeAt(r+2)]<<6|i[e.charCodeAt(r+3)],u[l++]=t>>16&255,u[l++]=t>>8&255,u[l++]=255&t;return 2===s&&(t=i[e.charCodeAt(r)]<<2|i[e.charCodeAt(r+1)]>>4,u[l++]=255&t),1===s&&(t=i[e.charCodeAt(r)]<<10|i[e.charCodeAt(r+1)]<<4|i[e.charCodeAt(r+2)]>>2,u[l++]=t>>8&255,u[l++]=255&t),u},r.fromByteArray=function(e){for(var t,r=e.length,i=r%3,a=[],o=0,s=r-i;o<s;o+=16383)a.push(l(e,o,o+16383>s?s:o+16383));return 1===i?a.push(n[(t=e[r-1])>>2]+n[t<<4&63]+"=="):2===i&&a.push(n[(t=(e[r-2]<<8)+e[r-1])>>10]+n[t>>4&63]+n[t<<2&63]+"="),a.join("")};for(var n=[],i=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=o.length;s<u;++s)n[s]=o[s],i[o.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function l(e,t,r){for(var i,a=[],o=t;o<r;o+=3)a.push(n[(i=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]))>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},{}],11:[function(e,t,r){},{}],12:[function(e,t,r){(function(t){"use strict";var n=e("base64-js"),i=e("ieee754");function a(e){if(e>2147483647)throw new RangeError('The value "'+e+'" is invalid for option "size"');var r=new Uint8Array(e);return r.__proto__=t.prototype,r}function t(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return u(e)}return o(e,t,r)}function o(e,r,n){if("string"==typeof e)return function(e,r){if("string"==typeof r&&""!==r||(r="utf8"),!t.isEncoding(r))throw new TypeError("Unknown encoding: "+r);var n=0|f(e,r),i=a(n),o=i.write(e,r);return o!==n&&(i=i.slice(0,o)),i}(e,r);if(ArrayBuffer.isView(e))return c(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(P(e,ArrayBuffer)||e&&P(e.buffer,ArrayBuffer))return function(e,r,n){if(r<0||e.byteLength<r)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<r+(n||0))throw new RangeError('"length" is outside of buffer bounds');var i;return(i=void 0===r&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,r):new Uint8Array(e,r,n)).__proto__=t.prototype,i}(e,r,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var i=e.valueOf&&e.valueOf();if(null!=i&&i!==e)return t.from(i,r,n);var o=function(e){if(t.isBuffer(e)){var r=0|l(e.length),n=a(r);return 0===n.length||e.copy(n,0,0,r),n}return void 0!==e.length?"number"!=typeof e.length||F(e.length)?a(0):c(e):"Buffer"===e.type&&Array.isArray(e.data)?c(e.data):void 0}(e);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return t.from(e[Symbol.toPrimitive]("string"),r,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function s(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function u(e){return s(e),a(e<0?0:0|l(e))}function c(e){for(var t=e.length<0?0:0|l(e.length),r=a(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}function l(e){if(e>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+2147483647..toString(16)+" bytes");return 0|e}function f(e,r){if(t.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||P(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var n=e.length,i=arguments.length>2&&!0===arguments[2];if(!i&&0===n)return 0;for(var a=!1;;)switch(r){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return L(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return D(e).length;default:if(a)return i?-1:L(e).length;r=(""+r).toLowerCase(),a=!0}}function h(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return T(this,t,r);case"utf8":case"utf-8":return k(this,t,r);case"ascii":return S(this,t,r);case"latin1":case"binary":return E(this,t,r);case"base64":return x(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function d(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function p(e,r,n,i,a){if(0===e.length)return-1;if("string"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),F(n=+n)&&(n=a?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(a)return-1;n=e.length-1}else if(n<0){if(!a)return-1;n=0}if("string"==typeof r&&(r=t.from(r,i)),t.isBuffer(r))return 0===r.length?-1:v(e,r,n,i,a);if("number"==typeof r)return r&=255,"function"==typeof Uint8Array.prototype.indexOf?a?Uint8Array.prototype.indexOf.call(e,r,n):Uint8Array.prototype.lastIndexOf.call(e,r,n):v(e,[r],n,i,a);throw new TypeError("val must be string, number or Buffer")}function v(e,t,r,n,i){var a,o=1,s=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;o=2,s/=2,u/=2,r/=2}function c(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){var l=-1;for(a=r;a<s;a++)if(c(e,a)===c(t,-1===l?0:a-l)){if(-1===l&&(l=a),a-l+1===u)return l*o}else-1!==l&&(a-=a-l),l=-1}else for(r+u>s&&(r=s-u),a=r;a>=0;a--){for(var f=!0,h=0;h<u;h++)if(c(e,a+h)!==c(t,h)){f=!1;break}if(f)return a}return-1}function g(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var a=t.length;n>a/2&&(n=a/2);for(var o=0;o<n;++o){var s=parseInt(t.substr(2*o,2),16);if(F(s))return o;e[r+o]=s}return o}function y(e,t,r,n){return M(L(t,e.length-r),e,r,n)}function b(e,t,r,n){return M(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function m(e,t,r,n){return b(e,t,r,n)}function _(e,t,r,n){return M(D(t),e,r,n)}function w(e,t,r,n){return M(function(e,t){for(var r,n,i=[],a=0;a<e.length&&!((t-=2)<0);++a)n=(r=e.charCodeAt(a))>>8,i.push(r%256),i.push(n);return i}(t,e.length-r),e,r,n)}function x(e,t,r){return n.fromByteArray(0===t&&r===e.length?e:e.slice(t,r))}function k(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var a,o,s,u,c=e[i],l=null,f=c>239?4:c>223?3:c>191?2:1;if(i+f<=r)switch(f){case 1:c<128&&(l=c);break;case 2:128==(192&(a=e[i+1]))&&(u=(31&c)<<6|63&a)>127&&(l=u);break;case 3:o=e[i+2],128==(192&(a=e[i+1]))&&128==(192&o)&&(u=(15&c)<<12|(63&a)<<6|63&o)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:o=e[i+2],s=e[i+3],128==(192&(a=e[i+1]))&&128==(192&o)&&128==(192&s)&&(u=(15&c)<<18|(63&a)<<12|(63&o)<<6|63&s)>65535&&u<1114112&&(l=u)}null===l?(l=65533,f=1):l>65535&&(n.push((l-=65536)>>>10&1023|55296),l=56320|1023&l),n.push(l),i+=f}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=4096));return r}(n)}function S(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function E(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function T(e,t,r){var n,i=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>i)&&(r=i);for(var a="",o=t;o<r;++o)a+=(n=e[o])<16?"0"+n.toString(16):n.toString(16);return a}function I(e,t,r){for(var n=e.slice(t,r),i="",a=0;a<n.length;a+=2)i+=String.fromCharCode(n[a]+256*n[a+1]);return i}function j(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function N(e,r,n,i,a,o){if(!t.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(r>a||r<o)throw new RangeError('"value" argument is out of bounds');if(n+i>e.length)throw new RangeError("Index out of range")}function O(e,t,r,n,i,a){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function A(e,t,r,n,a){return t=+t,r>>>=0,a||O(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function R(e,t,r,n,a){return t=+t,r>>>=0,a||O(e,0,r,8),i.write(e,t,r,n,52,8),r+8}r.Buffer=t,r.SlowBuffer=function(e){return+e!=e&&(e=0),t.alloc(+e)},r.INSPECT_MAX_BYTES=50,r.kMaxLength=2147483647,(t.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(t){return!1}}())||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(t.prototype,"parent",{enumerable:!0,get:function(){if(t.isBuffer(this))return this.buffer}}),Object.defineProperty(t.prototype,"offset",{enumerable:!0,get:function(){if(t.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&t[Symbol.species]===t&&Object.defineProperty(t,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),t.poolSize=8192,t.from=function(e,t,r){return o(e,t,r)},t.prototype.__proto__=Uint8Array.prototype,t.__proto__=Uint8Array,t.alloc=function(e,t,r){return function(e,t,r){return s(e),e<=0?a(e):void 0!==t?"string"==typeof r?a(e).fill(t,r):a(e).fill(t):a(e)}(e,t,r)},t.allocUnsafe=function(e){return u(e)},t.allocUnsafeSlow=function(e){return u(e)},t.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==t.prototype},t.compare=function(e,r){if(P(e,Uint8Array)&&(e=t.from(e,e.offset,e.byteLength)),P(r,Uint8Array)&&(r=t.from(r,r.offset,r.byteLength)),!t.isBuffer(e)||!t.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===r)return 0;for(var n=e.length,i=r.length,a=0,o=Math.min(n,i);a<o;++a)if(e[a]!==r[a]){n=e[a],i=r[a];break}return n<i?-1:i<n?1:0},t.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},t.concat=function(e,r){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return t.alloc(0);var n;if(void 0===r)for(r=0,n=0;n<e.length;++n)r+=e[n].length;var i=t.allocUnsafe(r),a=0;for(n=0;n<e.length;++n){var o=e[n];if(P(o,Uint8Array)&&(o=t.from(o)),!t.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(i,a),a+=o.length}return i},t.byteLength=f,t.prototype._isBuffer=!0,t.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)d(this,t,t+1);return this},t.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)d(this,t,t+3),d(this,t+1,t+2);return this},t.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)d(this,t,t+7),d(this,t+1,t+6),d(this,t+2,t+5),d(this,t+3,t+4);return this},t.prototype.toLocaleString=t.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?k(this,0,e):h.apply(this,arguments)},t.prototype.equals=function(e){if(!t.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===t.compare(this,e)},t.prototype.inspect=function(){var e="",t=r.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},t.prototype.compare=function(e,r,n,i,a){if(P(e,Uint8Array)&&(e=t.from(e,e.offset,e.byteLength)),!t.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===r&&(r=0),void 0===n&&(n=e?e.length:0),void 0===i&&(i=0),void 0===a&&(a=this.length),r<0||n>e.length||i<0||a>this.length)throw new RangeError("out of range index");if(i>=a&&r>=n)return 0;if(i>=a)return-1;if(r>=n)return 1;if(this===e)return 0;for(var o=(a>>>=0)-(i>>>=0),s=(n>>>=0)-(r>>>=0),u=Math.min(o,s),c=this.slice(i,a),l=e.slice(r,n),f=0;f<u;++f)if(c[f]!==l[f]){o=c[f],s=l[f];break}return o<s?-1:s<o?1:0},t.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},t.prototype.indexOf=function(e,t,r){return p(this,e,t,r,!0)},t.prototype.lastIndexOf=function(e,t,r){return p(this,e,t,r,!1)},t.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var a=!1;;)switch(n){case"hex":return g(this,e,t,r);case"utf8":case"utf-8":return y(this,e,t,r);case"ascii":return b(this,e,t,r);case"latin1":case"binary":return m(this,e,t,r);case"base64":return _(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w(this,e,t,r);default:if(a)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),a=!0}},t.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},t.prototype.slice=function(e,r){var n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(r=void 0===r?n:~~r)<0?(r+=n)<0&&(r=0):r>n&&(r=n),r<e&&(r=e);var i=this.subarray(e,r);return i.__proto__=t.prototype,i},t.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||j(e,t,this.length);for(var n=this[e],i=1,a=0;++a<t&&(i*=256);)n+=this[e+a]*i;return n},t.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||j(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},t.prototype.readUInt8=function(e,t){return e>>>=0,t||j(e,1,this.length),this[e]},t.prototype.readUInt16LE=function(e,t){return e>>>=0,t||j(e,2,this.length),this[e]|this[e+1]<<8},t.prototype.readUInt16BE=function(e,t){return e>>>=0,t||j(e,2,this.length),this[e]<<8|this[e+1]},t.prototype.readUInt32LE=function(e,t){return e>>>=0,t||j(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},t.prototype.readUInt32BE=function(e,t){return e>>>=0,t||j(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},t.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||j(e,t,this.length);for(var n=this[e],i=1,a=0;++a<t&&(i*=256);)n+=this[e+a]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},t.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||j(e,t,this.length);for(var n=t,i=1,a=this[e+--n];n>0&&(i*=256);)a+=this[e+--n]*i;return a>=(i*=128)&&(a-=Math.pow(2,8*t)),a},t.prototype.readInt8=function(e,t){return e>>>=0,t||j(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},t.prototype.readInt16LE=function(e,t){e>>>=0,t||j(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},t.prototype.readInt16BE=function(e,t){e>>>=0,t||j(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},t.prototype.readInt32LE=function(e,t){return e>>>=0,t||j(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},t.prototype.readInt32BE=function(e,t){return e>>>=0,t||j(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},t.prototype.readFloatLE=function(e,t){return e>>>=0,t||j(e,4,this.length),i.read(this,e,!0,23,4)},t.prototype.readFloatBE=function(e,t){return e>>>=0,t||j(e,4,this.length),i.read(this,e,!1,23,4)},t.prototype.readDoubleLE=function(e,t){return e>>>=0,t||j(e,8,this.length),i.read(this,e,!0,52,8)},t.prototype.readDoubleBE=function(e,t){return e>>>=0,t||j(e,8,this.length),i.read(this,e,!1,52,8)},t.prototype.writeUIntLE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||N(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,a=0;for(this[t]=255&e;++a<r&&(i*=256);)this[t+a]=e/i&255;return t+r},t.prototype.writeUIntBE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||N(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,a=1;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=e/a&255;return t+r},t.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,1,255,0),this[t]=255&e,t+1},t.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},t.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},t.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},t.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},t.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);N(this,e,t,r,i-1,-i)}var a=0,o=1,s=0;for(this[t]=255&e;++a<r&&(o*=256);)e<0&&0===s&&0!==this[t+a-1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+r},t.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);N(this,e,t,r,i-1,-i)}var a=r-1,o=1,s=0;for(this[t+a]=255&e;--a>=0&&(o*=256);)e<0&&0===s&&0!==this[t+a+1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+r},t.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},t.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},t.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},t.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},t.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},t.prototype.writeFloatLE=function(e,t,r){return A(this,e,t,!0,r)},t.prototype.writeFloatBE=function(e,t,r){return A(this,e,t,!1,r)},t.prototype.writeDoubleLE=function(e,t,r){return R(this,e,t,!0,r)},t.prototype.writeDoubleBE=function(e,t,r){return R(this,e,t,!1,r)},t.prototype.copy=function(e,r,n,i){if(!t.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),i||0===i||(i=this.length),r>=e.length&&(r=e.length),r||(r=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===e.length||0===this.length)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-r<i-n&&(i=e.length-r+n);var a=i-n;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(r,n,i);else if(this===e&&n<r&&r<i)for(var o=a-1;o>=0;--o)e[o+r]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,i),r);return a},t.prototype.fill=function(e,r,n,i){if("string"==typeof e){if("string"==typeof r?(i=r,r=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!t.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(1===e.length){var a=e.charCodeAt(0);("utf8"===i&&a<128||"latin1"===i)&&(e=a)}}else"number"==typeof e&&(e&=255);if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;var o;if(r>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=r;o<n;++o)this[o]=e;else{var s=t.isBuffer(e)?e:t.from(e,i),u=s.length;if(0===u)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-r;++o)this[o+r]=s[o%u]}return this};var C=/[^+/0-9A-Za-z-_]/g;function L(e,t){var r;t=t||1/0;for(var n=e.length,i=null,a=[],o=0;o<n;++o){if((r=e.charCodeAt(o))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(o+1===n){(t-=3)>-1&&a.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&a.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;a.push(r)}else if(r<2048){if((t-=2)<0)break;a.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;a.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return a}function D(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(C,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function M(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function P(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function F(e){return e!=e}}).call(this,e("buffer").Buffer)},{"base64-js":10,buffer:12,ieee754:17}],13:[function(e,t,r){var n=Object.create||function(e){var t=function(){};return t.prototype=e,new t},i=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return r},a=Function.prototype.bind||function(e){var t=this;return function(){return t.apply(e,arguments)}};function o(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=n(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}t.exports=o,o.EventEmitter=o,o.prototype._events=void 0,o.prototype._maxListeners=void 0;var s,u=10;try{var c={};Object.defineProperty&&Object.defineProperty(c,"x",{value:0}),s=0===c.x}catch(x){s=!1}function l(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function f(e,t,r){if(t)e.call(r);else for(var n=e.length,i=w(e,n),a=0;a<n;++a)i[a].call(r)}function h(e,t,r,n){if(t)e.call(r,n);else for(var i=e.length,a=w(e,i),o=0;o<i;++o)a[o].call(r,n)}function d(e,t,r,n,i){if(t)e.call(r,n,i);else for(var a=e.length,o=w(e,a),s=0;s<a;++s)o[s].call(r,n,i)}function p(e,t,r,n,i,a){if(t)e.call(r,n,i,a);else for(var o=e.length,s=w(e,o),u=0;u<o;++u)s[u].call(r,n,i,a)}function v(e,t,r,n){if(t)e.apply(r,n);else for(var i=e.length,a=w(e,i),o=0;o<i;++o)a[o].apply(r,n)}function g(e,t,r,i){var a,o,s;if("function"!=typeof r)throw new TypeError('"listener" argument must be a function');if((o=e._events)?(o.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),o=e._events),s=o[t]):(o=e._events=n(null),e._eventsCount=0),s){if("function"==typeof s?s=o[t]=i?[r,s]:[s,r]:i?s.unshift(r):s.push(r),!s.warned&&(a=l(e))&&a>0&&s.length>a){s.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+s.length+' "'+String(t)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=s.length,"object"==typeof console&&console.warn&&console.warn("%s: %s",u.name,u.message)}}else s=o[t]=r,++e._eventsCount;return e}function y(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var e=new Array(arguments.length),t=0;t<e.length;++t)e[t]=arguments[t];this.listener.apply(this.target,e)}}function b(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=a.call(y,n);return i.listener=r,n.wrapFn=i,i}function m(e,t,r){var n=e._events;if(!n)return[];var i=n[t];return i?"function"==typeof i?r?[i.listener||i]:[i]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):w(i,i.length):[]}function _(e){var t=this._events;if(t){var r=t[e];if("function"==typeof r)return 1;if(r)return r.length}return 0}function w(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}s?Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(e){if("number"!=typeof e||e<0||e!=e)throw new TypeError('"defaultMaxListeners" must be a positive number');u=e}}):o.defaultMaxListeners=u,o.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return l(this)},o.prototype.emit=function(e){var t,r,n,i,a,o,s="error"===e;if(o=this._events)s=s&&null==o.error;else if(!s)return!1;if(s){if(arguments.length>1&&(t=arguments[1]),t instanceof Error)throw t;var u=new Error('Unhandled "error" event. ('+t+")");throw u.context=t,u}if(!(r=o[e]))return!1;var c="function"==typeof r;switch(n=arguments.length){case 1:f(r,c,this);break;case 2:h(r,c,this,arguments[1]);break;case 3:d(r,c,this,arguments[1],arguments[2]);break;case 4:p(r,c,this,arguments[1],arguments[2],arguments[3]);break;default:for(i=new Array(n-1),a=1;a<n;a++)i[a-1]=arguments[a];v(r,c,this,i)}return!0},o.prototype.on=o.prototype.addListener=function(e,t){return g(this,e,t,!1)},o.prototype.prependListener=function(e,t){return g(this,e,t,!0)},o.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.on(e,b(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.prependListener(e,b(this,e,t)),this},o.prototype.removeListener=function(e,t){var r,i,a,o,s;if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');if(!(i=this._events))return this;if(!(r=i[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=n(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(a=-1,o=r.length-1;o>=0;o--)if(r[o]===t||r[o].listener===t){s=r[o].listener,a=o;break}if(a<0)return this;0===a?r.shift():function(e,t){for(var r=t,n=r+1,i=e.length;n<i;r+=1,n+=1)e[r]=e[n];e.pop()}(r,a),1===r.length&&(i[e]=r[0]),i.removeListener&&this.emit("removeListener",e,s||t)}return this},o.prototype.removeAllListeners=function(e){var t,r,a;if(!(r=this._events))return this;if(!r.removeListener)return 0===arguments.length?(this._events=n(null),this._eventsCount=0):r[e]&&(0==--this._eventsCount?this._events=n(null):delete r[e]),this;if(0===arguments.length){var o,s=i(r);for(a=0;a<s.length;++a)"removeListener"!==(o=s[a])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=n(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(t)for(a=t.length-1;a>=0;a--)this.removeListener(e,t[a]);return this},o.prototype.listeners=function(e){return m(this,e,!0)},o.prototype.rawListeners=function(e){return m(this,e,!1)},o.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):_.call(e,t)},o.prototype.listenerCount=_,o.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],14:[function(e,t,r){(function(t,n){var i=e("process/browser.js").nextTick,a=Function.prototype.apply,o=Array.prototype.slice,s={},u=0;function c(e,t){this._id=e,this._clearFn=t}r.setTimeout=function(){return new c(a.call(setTimeout,window,arguments),clearTimeout)},r.setInterval=function(){return new c(a.call(setInterval,window,arguments),clearInterval)},r.clearTimeout=r.clearInterval=function(e){e.close()},c.prototype.unref=c.prototype.ref=function(){},c.prototype.close=function(){this._clearFn.call(window,this._id)},r.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},r.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},r._unrefActive=r.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},r.setImmediate="function"==typeof t?t:function(e){var t=u++,n=!(arguments.length<2)&&o.call(arguments,1);return s[t]=!0,i((function(){s[t]&&(n?e.apply(null,n):e.call(null),r.clearImmediate(t))})),t},r.clearImmediate="function"==typeof n?n:function(e){delete s[e]}}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":62,timers:14}],15:[function(e,t,r){"use strict";t.exports=function(e){return function e(t){if(null===t||"object"!=typeof t||null!=t.toJSON)return JSON.stringify(t);if(Array.isArray(t)&&0===t.length)return"[]";if(Array.isArray(t)&&1===t.length)return"["+e(t[0])+"]";if(Array.isArray(t))return"["+t.reduce((function(t,r,n){return(t=1===n?e(t):t)+","+e(r)}))+"]";var r=Object.keys(t);return 0===r.length?"{}":1===r.length?"{"+e(r[0])+":"+e(t[r[0]])+"}":"{"+r.sort().reduce((function(r,n,i){return(r=1===i?e(r)+":"+e(t[r]):r)+","+e(n)+":"+e(t[n])}))+"}"}(e)}},{}],16:[function(e,t,r){(function(e){function t(e){return Object.prototype.toString.call(e)}r.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===t(e)},r.isBoolean=function(e){return"boolean"==typeof e},r.isNull=function(e){return null===e},r.isNullOrUndefined=function(e){return null==e},r.isNumber=function(e){return"number"==typeof e},r.isString=function(e){return"string"==typeof e},r.isSymbol=function(e){return"symbol"==typeof e},r.isUndefined=function(e){return void 0===e},r.isRegExp=function(e){return"[object RegExp]"===t(e)},r.isObject=function(e){return"object"==typeof e&&null!==e},r.isDate=function(e){return"[object Date]"===t(e)},r.isError=function(e){return"[object Error]"===t(e)||e instanceof Error},r.isFunction=function(e){return"function"==typeof e},r.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},r.isBuffer=e.isBuffer}).call(this,{isBuffer:e("../../is-buffer/index.js")})},{"../../is-buffer/index.js":19}],17:[function(e,t,r){r.read=function(e,t,r,n,i){var a,o,s=8*i-n-1,u=(1<<s)-1,c=u>>1,l=-7,f=r?i-1:0,h=r?-1:1,d=e[t+f];for(f+=h,a=d&(1<<-l)-1,d>>=-l,l+=s;l>0;a=256*a+e[t+f],f+=h,l-=8);for(o=a&(1<<-l)-1,a>>=-l,l+=n;l>0;o=256*o+e[t+f],f+=h,l-=8);if(0===a)a=1-c;else{if(a===u)return o?NaN:1/0*(d?-1:1);o+=Math.pow(2,n),a-=c}return(d?-1:1)*o*Math.pow(2,a-n)},r.write=function(e,t,r,n,i,a){var o,s,u,c=8*a-i-1,l=(1<<c)-1,f=l>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:a-1,p=n?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=l):(o=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-o))<1&&(o--,u*=2),(t+=o+f>=1?h/u:h*Math.pow(2,1-f))*u>=2&&(o++,u/=2),o+f>=l?(s=0,o=l):o+f>=1?(s=(t*u-1)*Math.pow(2,i),o+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),o=0));i>=8;e[r+d]=255&s,d+=p,s/=256,i-=8);for(o=o<<i|s,c+=i;c>0;e[r+d]=255&o,d+=p,o/=256,c-=8);e[r+d-p]|=128*v}},{}],18:[function(e,t,r){t.exports="function"==typeof Object.create?function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},{}],19:[function(e,t,r){function n(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}t.exports=function(e){return null!=e&&(n(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&n(e.slice(0,0))}(e)||!!e._isBuffer)}},{}],20:[function(e,t,r){var n={}.toString;t.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},{}],21:[function(e,t,r){"use strict";var n=e("./types"),i=n.isArray,a=n.isObject,o=n.isString,s=e("./util").asArray,u=e("./url").prependBase,c=e("./JsonLdError"),l=e("./ResolvedContext");function f(e){throw new c("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:e})}t.exports=function(){function e(t){var r=t.sharedCache;_classCallCheck2(this,e),this.perOpCache=new Map,this.sharedCache=r}var t,r,n;return _createClass2(e,[{key:"resolve",value:(n=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var r,n,u,c,h,d,p,v,g,y,b,m,_;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.activeCtx,n=t.context,u=t.documentLoader,c=t.base,h=t.cycles,d=void 0===h?new Set:h,n&&a(n)&&n["@context"]&&(n=n["@context"]),n=s(n),p=[],v=_createForOfIteratorHelper(n),e.prev=4,v.s();case 6:if((g=v.n()).done){e.next=26;break}if(y=g.value,!o(y)){e.next=17;break}if(b=this._get(y),e.t0=b,e.t0){e.next=15;break}return e.next=14,this._resolveRemoteContext({activeCtx:r,url:y,documentLoader:u,base:c,cycles:d});case 14:b=e.sent;case 15:return i(b)?p.push.apply(p,_toConsumableArray(b)):p.push(b),e.abrupt("continue",24);case 17:if(null!==y){e.next=20;break}return p.push(new l({document:null})),e.abrupt("continue",24);case 20:a(y)||f(n),m=JSON.stringify(y),(_=this._get(m))||(_=new l({document:y}),this._cacheResolvedContext({key:m,resolved:_,tag:"static"})),p.push(_);case 24:e.next=6;break;case 26:e.next=31;break;case 28:e.prev=28,e.t1=e.catch(4),v.e(e.t1);case 31:return e.prev=31,v.f(),e.finish(31);case 34:return e.abrupt("return",p);case 35:case"end":return e.stop()}}),e,this,[[4,28,31,34]])}))),function(e){return n.apply(this,arguments)})},{key:"_get",value:function(e){var t=this.perOpCache.get(e);if(!t){var r=this.sharedCache.get(e);r&&((t=r.get("static"))&&this.perOpCache.set(e,t))}return t}},{key:"_cacheResolvedContext",value:function(e){var t=e.key,r=e.resolved,n=e.tag;if(this.perOpCache.set(t,r),void 0!==n){var i=this.sharedCache.get(t);i||(i=new Map,this.sharedCache.set(t,i)),i.set(n,r)}return r}},{key:"_resolveRemoteContext",value:(r=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var r,n,s,c,l,f,h,d,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.activeCtx,n=t.url,s=t.documentLoader,c=t.base,l=t.cycles,n=u(c,n),e.next=4,this._fetchContext({activeCtx:r,url:n,documentLoader:s,cycles:l});case 4:return f=e.sent,h=f.context,d=f.remoteDoc,function e(t){var r=t.context,n=t.base;if(r){var s=r["@context"];if(o(s))r["@context"]=u(n,s);else if(i(s))for(var c=0;c<s.length;++c){var l=s[c];o(l)?s[c]=u(n,l):a(l)&&e({context:{"@context":l},base:n})}else if(a(s))for(var f in s)e({context:s[f],base:n})}}({context:h,base:c=d.documentUrl||n}),e.next=10,this.resolve({activeCtx:r,context:h,documentLoader:s,base:c,cycles:l});case 10:return p=e.sent,e.abrupt("return",(this._cacheResolvedContext({key:n,resolved:p,tag:d.tag}),p));case 12:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"_fetchContext",value:(t=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var r,n,s,u,l,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.activeCtx,n=t.url,s=t.documentLoader,!((u=t.cycles).size>10)){e.next=3;break}throw new c("Maximum number of @context URLs exceeded.","jsonld.ContextUrlError",{code:"json-ld-1.0"===r.processingMode?"loading remote context failed":"context overflow",max:10});case 3:if(!u.has(n)){e.next=5;break}throw new c("Cyclical @context URLs detected.","jsonld.ContextUrlError",{code:"json-ld-1.0"===r.processingMode?"recursive context inclusion":"context overflow",url:n});case 5:return u.add(n),e.prev=6,e.next=9,s(n);case 9:f=e.sent,l=f.document||null,o(l)&&(l=JSON.parse(l)),e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(6),new c("Dereferencing a URL did not result in a valid JSON-LD object. Possible causes are an inaccessible URL perhaps due to a same-origin policy (ensure the server uses CORS if you are using client-side JavaScript), too many redirects, a non-JSON response, or more than one HTTP Link Header was provided for a remote context.","jsonld.InvalidUrl",{code:"loading remote context failed",url:n,cause:e.t0});case 17:if(a(l)){e.next=19;break}throw new c("Dereferencing a URL did not result in a JSON object. The response was valid JSON, but it was not a JSON object.","jsonld.InvalidUrl",{code:"invalid remote context",url:n});case 19:return e.abrupt("return",(l="@context"in l?{"@context":l["@context"]}:{"@context":{}},f.contextUrl&&(i(l["@context"])||(l["@context"]=[l["@context"]]),l["@context"].push(f.contextUrl)),{context:l,remoteDoc:f}));case 20:case"end":return e.stop()}}),e,null,[[6,14]])}))),function(e){return t.apply(this,arguments)})}]),e}()},{"./JsonLdError":22,"./ResolvedContext":27,"./types":41,"./url":42,"./util":43}],22:[function(e,t,r){"use strict";t.exports=function(e){_inherits2(r,_wrapNativeSuper(Error));var t=_createSuper(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"An unspecified JSON-LD error occurred.",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"jsonld.Error",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return _classCallCheck2(this,r),(e=t.call(this,n)).name=i,e.message=n,e.details=a,e}return r}()},{}],23:[function(e,t,r){"use strict";t.exports=function(e){var t=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"toString",value:function(){return"[object JsonLdProcessor]"}}]),e}();return Object.defineProperty(t,"prototype",{writable:!1,enumerable:!1}),Object.defineProperty(t.prototype,"constructor",{writable:!0,enumerable:!1,configurable:!0,value:t}),t.compact=function(t,r){return arguments.length<2?Promise.reject(new TypeError("Could not compact, too few arguments.")):e.compact(t,r)},t.expand=function(t){return arguments.length<1?Promise.reject(new TypeError("Could not expand, too few arguments.")):e.expand(t)},t.flatten=function(t){return arguments.length<1?Promise.reject(new TypeError("Could not flatten, too few arguments.")):e.flatten(t)},t}},{}],24:[function(e,t,r){"use strict";t.exports=e("rdf-canonize").NQuads},{"rdf-canonize":73}],25:[function(e,t,r){"use strict";var n,i=e("./constants"),a=i.RDF_LANGSTRING,o=i.RDF_PLAIN_LITERAL,s=i.RDF_OBJECT,u=i.RDF_XML_LITERAL,c=i.XSD_STRING;n="undefined"!=typeof Node?Node:{ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12},t.exports=function(){function t(){_classCallCheck2(this,t)}return _createClass2(t,[{key:"parse",value:function(t){for(var r={"@default":[]},i=t.getSubjects(),l=0;l<i.length;++l){var f=i[l];if(null!==f){var h=t.getSubjectTriples(f);if(null!==h){var d=h.predicates;for(var p in d)for(var v=d[p].objects,g=0;g<v.length;++g){var y=v[g],b={};b.subject=0===f.indexOf("_:")?{type:"blank node",value:f}:{type:"IRI",value:f},b.predicate=0===p.indexOf("_:")?{type:"blank node",value:p}:{type:"IRI",value:p};var m=y.value;if(y.type===u){var _=new("undefined"==typeof XMLSerializer?e("xmldom").XMLSerializer:XMLSerializer);m="";for(var w=0;w<y.value.length;w++)y.value[w].nodeType===n.ELEMENT_NODE?m+=_.serializeToString(y.value[w]):y.value[w].nodeType===n.TEXT_NODE&&(m+=y.value[w].nodeValue)}b.object={},y.type===s?b.object.type=0===y.value.indexOf("_:")?"blank node":"IRI":(b.object.type="literal",y.type===o?y.language?(b.object.datatype=a,b.object.language=y.language):b.object.datatype=c:b.object.datatype=y.type),b.object.value=m,r["@default"].push(b)}}}}return r}}]),t}()},{"./constants":29,xmldom:11}],26:[function(e,t,r){"use strict";t.exports=function(){function e(){_classCallCheck2(this,e),this._requests={}}var t;return _createClass2(e,[{key:"wrapLoader",value:function(e){var t=this;return t._loader=e,function(){return t.add.apply(t,arguments)}}},{key:"add",value:(t=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=this._requests[t])){e.next=3;break}return e.abrupt("return",Promise.resolve(r));case 3:return r=this._requests[t]=this._loader(t),e.prev=4,e.next=7,r;case 7:return e.abrupt("return",e.sent);case 8:return e.prev=8,delete this._requests[t],e.finish(8);case 11:case"end":return e.stop()}}),e,this,[[4,,8,11]])}))),function(e){return t.apply(this,arguments)})}]),e}()},{}],27:[function(e,t,r){"use strict";var n=e("lru-cache");t.exports=function(){function e(t){var r=t.document;_classCallCheck2(this,e),this.document=r,this.cache=new n({max:10})}return _createClass2(e,[{key:"getProcessed",value:function(e){return this.cache.get(e)}},{key:"setProcessed",value:function(e,t){this.cache.set(e,t)}}]),e}()},{"lru-cache":44}],28:[function(e,t,r){"use strict";var n=e("./JsonLdError"),i=e("./types"),a=i.isArray,o=i.isObject,s=i.isString,u=i.isUndefined,c=e("./graphTypes"),l=c.isList,f=c.isValue,h=c.isGraph,d=c.isSimpleGraph,p=c.isSubjectReference,v=e("./context"),g=v.expandIri,y=v.getContextValue,b=v.isKeyword,m=v.process,_=v.processingMode,w=e("./url"),x=w.removeBase,k=w.prependBase,S=e("./util"),E=S.addValue,T=S.asArray,I=S.compareShortestLeast,j={};function N(e,t,r){if("@nest"!==g(e,t,{vocab:!0},r))throw new n("JSON-LD compact error; nested property must have an @nest value resolving to @nest.","jsonld.SyntaxError",{code:"invalid @nest value"})}t.exports=j,j.compact=function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var r,i,c,v,g,w,x,k,S,I,O,A,R;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.activeCtx,i=t.activeProperty,c=void 0===i?null:i,v=t.element,g=t.options,w=void 0===g?{}:g,x=t.compactionMap,k=void 0===x?function(){}:x,!a(v)){e.next=21;break}S=[],I=0;case 4:if(!(I<v.length)){e.next=20;break}return e.next=7,j.compact({activeCtx:r,activeProperty:c,element:v[I],options:w,compactionMap:k});case 7:if(O=e.sent,e.t0=null===O,!e.t0){e.next=14;break}return e.next=12,k({unmappedValue:v[I],activeCtx:r,activeProperty:c,parent:v,index:I,options:w});case 12:O=e.sent,e.t0=void 0===O;case 14:if(e.t1=e.t0,e.t1){e.next=17;break}S.push(O);case 17:++I,e.next=4;break;case 20:return e.abrupt("return",(w.compactArrays&&1===S.length&&0===(y(r,c,"@container")||[]).length&&(S=S[0]),S));case 21:if(A=y(r,c,"@context"),e.t2=u(A),e.t2){e.next=27;break}return e.next=26,m({activeCtx:r,localCtx:A,propagate:!0,overrideProtected:!0,options:w});case 26:r=e.sent;case 27:if(!o(v)){e.next=32;break}return e.delegateYield(regeneratorRuntime.mark((function e(){var t,i,g,x,S,I,O,A,R,C,L,D,M,P,F,B,U,G,z,q,H,V,W,K,J,X,Q,Y,Z,$,ee,te,re,ne,ie,ae,oe,se,ue,ce,le,fe,he,de,pe,ve,ge,ye,be,me,_e,we,xe,ke,Se,Ee,Te,Ie,je,Ne;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(w.link&&"@id"in v&&w.link.hasOwnProperty(v["@id"]))){e.next=9;break}g=w.link[v["@id"]],x=0;case 3:if(!(x<g.length)){e.next=9;break}if(g[x].expanded!==v){e.next=6;break}return e.abrupt("return",{v:g[x].compacted});case 6:++x,e.next=3;break;case 9:if(!f(v)&&!p(v)){e.next=12;break}return S=j.compactValue({activeCtx:r,activeProperty:c,value:v,options:w}),e.abrupt("return",{v:(w.link&&p(v)&&(w.link.hasOwnProperty(v["@id"])||(w.link[v["@id"]]=[]),w.link[v["@id"]].push({expanded:v,compacted:S})),S)});case 12:if(!l(v)||!(y(r,c,"@container")||[]).includes("@list")){e.next=14;break}return e.abrupt("return",{v:j.compact({activeCtx:r,activeProperty:c,element:v["@list"],options:w,compactionMap:k})});case 14:if(I="@reverse"===c,O={},A=r,f(v)||p(v)||(r=r.revertToPreviousContext()),R=y(A,c,"@context"),e.t0=u(R),e.t0){e.next=22;break}return e.next=21,m({activeCtx:r,localCtx:R,propagate:!0,overrideProtected:!0,options:w});case 21:r=e.sent;case 22:w.link&&"@id"in v&&(w.link.hasOwnProperty(v["@id"])||(w.link[v["@id"]]=[]),w.link[v["@id"]].push({expanded:v,compacted:O})),(C=v["@type"]||[]).length>1&&(C=Array.from(C).sort()),L=r,D=_createForOfIteratorHelper(C),e.prev=27,D.s();case 29:if((M=D.n()).done){e.next=39;break}if(P=M.value,F=j.compactIri({activeCtx:L,iri:P,relativeTo:{vocab:!0}}),B=y(A,F,"@context"),e.t1=u(B),e.t1){e.next=37;break}return e.next=36,m({activeCtx:r,localCtx:B,options:w,propagate:!1});case 36:r=e.sent;case 37:e.next=29;break;case 39:e.next=44;break;case 41:e.prev=41,e.t2=e.catch(27),D.e(e.t2);case 44:return e.prev=44,D.f(),e.finish(44);case 47:U=Object.keys(v).sort(),G=_createForOfIteratorHelper(U),e.prev=49,G.s();case 51:if((z=G.n()).done){e.next=184;break}if(q=z.value,H=v[q],"@id"===q){e.next=180;break}if("@type"===q){e.next=174;break}if("@reverse"===q){e.next=167;break}if("@preserve"===q){e.next=161;break}if("@index"===q){e.next=155;break}if("@graph"===q||"@list"===q||"@included"===q||!b(q)){e.next=64;break}V=j.compactIri({activeCtx:r,iri:q,relativeTo:{vocab:!0}}),E(O,V,H),e.next=153;break;case 64:if(a(H)){e.next=66;break}throw new n("JSON-LD expansion error; expanded value must be an array.","jsonld.SyntaxError");case 66:0===H.length&&(W=j.compactIri({activeCtx:r,iri:q,value:H,relativeTo:{vocab:!0},reverse:I}),K=r.mappings.has(W)?r.mappings.get(W)["@nest"]:null,J=O,K&&(N(r,K,w),o(O[K])||(O[K]={}),J=O[K]),E(J,W,H,{propertyIsArray:!0})),X=_createForOfIteratorHelper(H),e.prev=68,X.s();case 70:if((Q=X.n()).done){e.next=145;break}return Y=Q.value,Z=j.compactIri({activeCtx:r,iri:q,value:Y,relativeTo:{vocab:!0},reverse:I}),$=r.mappings.has(Z)?r.mappings.get(Z)["@nest"]:null,ee=O,$&&(N(r,$,w),o(O[$])||(O[$]={}),ee=O[$]),te=y(r,Z,"@container")||[],re=h(Y),ne=l(Y),ie=void 0,ne?ie=Y["@list"]:re&&(ie=Y["@graph"]),e.next=80,j.compact({activeCtx:r,activeProperty:Z,element:ne||re?ie:Y,options:w,compactionMap:k});case 80:if(ae=e.sent,!ne){e.next=86;break}if(a(ae)||(ae=[ae]),!te.includes("@list")){e.next=85;break}return E(ee,Z,ae,{valueIsArray:!0,allowDuplicate:!0}),e.abrupt("continue",143);case 85:ae=_defineProperty2({},j.compactIri({activeCtx:r,iri:"@list",relativeTo:{vocab:!0}}),ae),"@index"in Y&&(ae[j.compactIri({activeCtx:r,iri:"@index",relativeTo:{vocab:!0}})]=Y["@index"]);case 86:if(!re){e.next=90;break}te.includes("@graph")&&(te.includes("@id")||te.includes("@index")&&d(Y))?(oe=void 0,ee.hasOwnProperty(Z)?oe=ee[Z]:ee[Z]=oe={},se=(te.includes("@id")?Y["@id"]:Y["@index"])||j.compactIri({activeCtx:r,iri:"@none",relativeTo:{vocab:!0}}),E(oe,se,ae,{propertyIsArray:!w.compactArrays||te.includes("@set")})):te.includes("@graph")&&d(Y)?(a(ae)&&ae.length>1&&(ae={"@included":ae}),E(ee,Z,ae,{propertyIsArray:!w.compactArrays||te.includes("@set")})):(a(ae)&&1===ae.length&&w.compactArrays&&(ae=ae[0]),ae=_defineProperty2({},j.compactIri({activeCtx:r,iri:"@graph",relativeTo:{vocab:!0}}),ae),"@id"in Y&&(ae[j.compactIri({activeCtx:r,iri:"@id",relativeTo:{vocab:!0}})]=Y["@id"]),"@index"in Y&&(ae[j.compactIri({activeCtx:r,iri:"@index",relativeTo:{vocab:!0}})]=Y["@index"]),E(ee,Z,ae,{propertyIsArray:!w.compactArrays||te.includes("@set")})),e.next=143;break;case 90:if(!(te.includes("@language")||te.includes("@index")||te.includes("@id")||te.includes("@type"))){e.next=141;break}if(ue=void 0,ce=void 0,ee.hasOwnProperty(Z)?ue=ee[Z]:ee[Z]=ue={},!te.includes("@language")){e.next=96;break}f(ae)&&(ae=ae["@value"]),ce=Y["@language"],e.next=138;break;case 96:if(!te.includes("@index")){e.next=117;break}if(le=y(r,Z,"@index")||"@index",fe=j.compactIri({activeCtx:r,iri:le,relativeTo:{vocab:!0}}),"@index"!==le){e.next=102;break}ce=Y["@index"],delete ae[fe],e.next=115;break;case 102:if(pe=void 0,he=T(ae[le]||[]),de=_toArray(he),ce=de[0],pe=de.slice(1),!s(ce)){e.next=114;break}e.t3=pe.length,e.next=0===e.t3?107:1===e.t3?109:111;break;case 107:return delete ae[le],e.abrupt("break",112);case 109:return ae[le]=pe[0],e.abrupt("break",112);case 111:ae[le]=pe;case 112:e.next=115;break;case 114:ce=null;case 115:e.next=138;break;case 117:if(!te.includes("@id")){e.next=122;break}ve=j.compactIri({activeCtx:r,iri:"@id",relativeTo:{vocab:!0}}),ce=ae[ve],delete ae[ve],e.next=138;break;case 122:if(!te.includes("@type")){e.next=138;break}ge=j.compactIri({activeCtx:r,iri:"@type",relativeTo:{vocab:!0}}),ye=void 0,e.t4=(t=T(ae[ge]||[]),i=_toArray(t),ce=i[0],(ye=i.slice(1)).length),e.next=0===e.t4?128:1===e.t4?130:132;break;case 128:return delete ae[ge],e.abrupt("break",133);case 130:return ae[ge]=ye[0],e.abrupt("break",133);case 132:ae[ge]=ye;case 133:if(e.t5=1===Object.keys(ae).length&&"@id"in Y,!e.t5){e.next=138;break}return e.next=137,j.compact({activeCtx:r,activeProperty:Z,element:{"@id":Y["@id"]},options:w,compactionMap:k});case 137:ae=e.sent;case 138:ce||(ce=j.compactIri({activeCtx:r,iri:"@none",relativeTo:{vocab:!0}})),E(ue,ce,ae,{propertyIsArray:te.includes("@set")}),e.next=143;break;case 141:be=!w.compactArrays||te.includes("@set")||te.includes("@list")||a(ae)&&0===ae.length||"@list"===q||"@graph"===q,E(ee,Z,ae,{propertyIsArray:be});case 143:e.next=70;break;case 145:e.next=150;break;case 147:e.prev=147,e.t6=e.catch(68),X.e(e.t6);case 150:return e.prev=150,X.f(),e.finish(150);case 153:e.next=159;break;case 155:if(!(y(r,c,"@container")||[]).includes("@index")){e.next=157;break}return e.abrupt("continue",182);case 157:me=j.compactIri({activeCtx:r,iri:q,relativeTo:{vocab:!0}}),E(O,me,H);case 159:e.next=165;break;case 161:return e.next=163,j.compact({activeCtx:r,activeProperty:c,element:H,options:w,compactionMap:k});case 163:_e=e.sent,a(_e)&&0===_e.length||E(O,q,_e);case 165:e.next=172;break;case 167:return e.next=169,j.compact({activeCtx:r,activeProperty:"@reverse",element:H,options:w,compactionMap:k});case 169:for(xe in we=e.sent)r.mappings.has(xe)&&r.mappings.get(xe).reverse&&(ke=we[xe],Se=(y(r,xe,"@container")||[]).includes("@set")||!w.compactArrays,E(O,xe,ke,{propertyIsArray:Se}),delete we[xe]);Object.keys(we).length>0&&(Ee=j.compactIri({activeCtx:r,iri:q,relativeTo:{vocab:!0}}),E(O,Ee,we));case 172:e.next=178;break;case 174:1===(Te=T(H).map((function(e){return j.compactIri({activeCtx:A,iri:e,relativeTo:{vocab:!0}})}))).length&&(Te=Te[0]),Ie=j.compactIri({activeCtx:r,iri:"@type",relativeTo:{vocab:!0}}),je=(y(r,Ie,"@container")||[]).includes("@set")&&_(r,1.1)||a(Te)&&0===H.length,E(O,Ie,Te,{propertyIsArray:je});case 178:e.next=182;break;case 180:1===(Ne=T(H).map((function(e){return j.compactIri({activeCtx:r,iri:e,relativeTo:{vocab:!1},base:w.base})}))).length&&(Ne=Ne[0]),O[j.compactIri({activeCtx:r,iri:"@id",relativeTo:{vocab:!0}})]=Ne;case 182:e.next=51;break;case 184:e.next=189;break;case 186:e.prev=186,e.t7=e.catch(49),G.e(e.t7);case 189:return e.prev=189,G.f(),e.finish(189);case 192:return e.abrupt("return",{v:O});case 193:case"end":return e.stop()}}),e,null,[[27,41,44,47],[49,186,189,192],[68,147,150,153]])}))(),"t3",29);case 29:if("object"!=typeof(R=e.t3)){e.next=32;break}return e.abrupt("return",R.v);case 32:return e.abrupt("return",v);case 33:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j.compactIri=function(e){var t=e.activeCtx,r=e.iri,i=e.value,a=void 0===i?null:i,s=e.relativeTo,u=void 0===s?{vocab:!1}:s,c=e.reverse,d=void 0!==c&&c,p=e.base,v=void 0===p?null:p;if(null===r)return r;t.isPropertyTermScoped&&t.previousContext&&(t=t.previousContext);var g=t.getInverse();if(b(r)&&r in g&&"@none"in g[r]&&"@type"in g[r]["@none"]&&"@none"in g[r]["@none"]["@type"])return g[r]["@none"]["@type"]["@none"];if(u.vocab&&r in g){var y=t["@language"]||"@none",m=[];o(a)&&"@index"in a&&!("@graph"in a)&&m.push("@index","@index@set"),o(a)&&"@preserve"in a&&(a=a["@preserve"][0]),h(a)?("@index"in a&&m.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in a&&m.push("@graph@id","@graph@id@set"),m.push("@graph","@graph@set","@set"),"@index"in a||m.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in a||m.push("@graph@id","@graph@id@set")):o(a)&&!f(a)&&m.push("@id","@id@set","@type","@set@type");var _="@language",w="@null";if(d)_="@type",w="@reverse",m.push("@set");else if(l(a)){"@index"in a||m.push("@list");var S=a["@list"];if(0===S.length)_="@any",w="@none";else{for(var E=0===S.length?y:null,T=null,N=0;N<S.length;++N){var O=S[N],A="@none",R="@none";if(f(O)?"@direction"in O?A="".concat((O["@language"]||"").toLowerCase(),"_").concat(O["@direction"]):"@language"in O?A=O["@language"].toLowerCase():"@type"in O?R=O["@type"]:A="@null":R="@id",null===E?E=A:A!==E&&f(O)&&(E="@none"),null===T?T=R:R!==T&&(T="@none"),"@none"===E&&"@none"===T)break}E=E||"@none","@none"!==(T=T||"@none")?(_="@type",w=T):w=E}}else{if(f(a))if("@language"in a&&!("@index"in a)){m.push("@language","@language@set"),w=a["@language"];var C=a["@direction"];C&&(w="".concat(w,"_").concat(C))}else"@direction"in a&&!("@index"in a)?w="_"+a["@direction"]:"@type"in a&&(_="@type",w=a["@type"]);else _="@type",w="@id";m.push("@set")}m.push("@none"),o(a)&&!("@index"in a)&&m.push("@index","@index@set"),f(a)&&1===Object.keys(a).length&&m.push("@language","@language@set");var L=function(e,t,r,n,i,a){null===a&&(a="@null");var s=[];if(("@id"===a||"@reverse"===a)&&o(r)&&"@id"in r){"@reverse"===a&&s.push("@reverse");var u=j.compactIri({activeCtx:e,iri:r["@id"],relativeTo:{vocab:!0}});e.mappings.has(u)&&e.mappings.get(u)&&e.mappings.get(u)["@id"]===r["@id"]?s.push.apply(s,["@vocab","@id"]):s.push.apply(s,["@id","@vocab"])}else{s.push(a);var c=s.find((function(e){return e.includes("_")}));c&&s.push(c.replace(/^[^_]+_/,"_"))}s.push("@none");var l,f=e.inverse[t],h=_createForOfIteratorHelper(n);try{for(h.s();!(l=h.n()).done;){var d=l.value;if(d in f){var p,v=f[d][i],g=_createForOfIteratorHelper(s);try{for(g.s();!(p=g.n()).done;){var y=p.value;if(y in v)return v[y]}}catch(b){g.e(b)}finally{g.f()}}}}catch(b){h.e(b)}finally{h.f()}return null}(t,r,a,m,_,w);if(null!==L)return L}if(u.vocab&&"@vocab"in t){var D=t["@vocab"];if(0===r.indexOf(D)&&r!==D){var M=r.substr(D.length);if(!t.mappings.has(M))return M}}for(var P=null,F=[],B=t.fastCurieMap,U=r.length-1,G=0;G<U&&r[G]in B;++G)""in(B=B[r[G]])&&F.push(B[""][0]);for(var z=F.length-1;z>=0;--z){var q,H=F[z],V=_createForOfIteratorHelper(H.terms);try{for(V.s();!(q=V.n()).done;){var W=q.value,K=W+":"+r.substr(H.iri.length);t.mappings.get(W)._prefix&&(!t.mappings.has(K)||null===a&&t.mappings.get(K)["@id"]===r)&&(null===P||I(K,P)<0)&&(P=K)}}catch($){V.e($)}finally{V.f()}}if(null!==P)return P;var J,X=_createForOfIteratorHelper(t.mappings);try{for(X.s();!(J=X.n()).done;){var Q=_slicedToArray(J.value,2),Y=Q[0],Z=Q[1];if(Z&&Z._prefix&&r.startsWith(Y+":"))throw new n('Absolute IRI "'.concat(r,'" confused with prefix "').concat(Y,'".'),"jsonld.SyntaxError",{code:"IRI confused with prefix",context:t})}}catch($){X.e($)}finally{X.f()}return u.vocab?r:"@base"in t?t["@base"]?x(k(v,t["@base"]),r):r:x(v,r)},j.compactValue=function(e){var t=e.activeCtx,r=e.activeProperty,n=e.value,i=e.options;if(f(n)){var a=y(t,r,"@type"),o=y(t,r,"@language"),u=y(t,r,"@direction"),c=y(t,r,"@container")||[],l="@index"in n&&!c.includes("@index");if(!l&&"@none"!==a){if(n["@type"]===a)return n["@value"];if("@language"in n&&n["@language"]===o&&"@direction"in n&&n["@direction"]===u)return n["@value"];if("@language"in n&&n["@language"]===o)return n["@value"];if("@direction"in n&&n["@direction"]===u)return n["@value"]}var h=Object.keys(n).length,d=1===h||2===h&&"@index"in n&&!l,p="@language"in t,v=s(n["@value"]),b=t.mappings.has(r)&&null===t.mappings.get(r)["@language"];if(d&&"@none"!==a&&(!p||!v||b))return n["@value"];var m={};return l&&(m[j.compactIri({activeCtx:t,iri:"@index",relativeTo:{vocab:!0}})]=n["@index"]),"@type"in n?m[j.compactIri({activeCtx:t,iri:"@type",relativeTo:{vocab:!0}})]=j.compactIri({activeCtx:t,iri:n["@type"],relativeTo:{vocab:!0}}):"@language"in n&&(m[j.compactIri({activeCtx:t,iri:"@language",relativeTo:{vocab:!0}})]=n["@language"]),"@direction"in n&&(m[j.compactIri({activeCtx:t,iri:"@direction",relativeTo:{vocab:!0}})]=n["@direction"]),m[j.compactIri({activeCtx:t,iri:"@value",relativeTo:{vocab:!0}})]=n["@value"],m}var _=g(t,r,{vocab:!0},i),w=y(t,r,"@type"),x=j.compactIri({activeCtx:t,iri:n["@id"],relativeTo:{vocab:"@vocab"===w},base:i.base});return"@id"===w||"@vocab"===w||"@graph"===_?x:_defineProperty2({},j.compactIri({activeCtx:t,iri:"@id",relativeTo:{vocab:!0}}),x)}},{"./JsonLdError":22,"./context":30,"./graphTypes":37,"./types":41,"./url":42,"./util":43}],29:[function(e,t,r){"use strict";var n="http://www.w3.org/1999/02/22-rdf-syntax-ns#",i="http://www.w3.org/2001/XMLSchema#";t.exports={LINK_HEADER_REL:"http://www.w3.org/ns/json-ld#context",LINK_HEADER_CONTEXT:"http://www.w3.org/ns/json-ld#context",RDF:n,RDF_LIST:n+"List",RDF_FIRST:n+"first",RDF_REST:n+"rest",RDF_NIL:n+"nil",RDF_TYPE:n+"type",RDF_PLAIN_LITERAL:n+"PlainLiteral",RDF_XML_LITERAL:n+"XMLLiteral",RDF_JSON_LITERAL:n+"JSON",RDF_OBJECT:n+"object",RDF_LANGSTRING:n+"langString",XSD:i,XSD_BOOLEAN:i+"boolean",XSD_DOUBLE:i+"double",XSD_INTEGER:i+"integer",XSD_STRING:i+"string"}},{}],30:[function(e,t,r){"use strict";var n=e("./util"),i=e("./JsonLdError"),a=e("./types"),o=a.isArray,s=a.isObject,u=a.isString,c=a.isUndefined,l=e("./url"),f=l.isAbsolute,h=l.isRelative,d=l.prependBase,p=e("./util"),v=p.asArray,g=p.compareShortestLeast,y=new Map,b=/^@[a-zA-Z]+$/,m={};function _(e,t,r,n,i,a){if(null===t||!u(t)||m.isKeyword(t))return t;if(t.match(b))return null;if(n&&n.hasOwnProperty(t)&&!0!==i.get(t)&&m.createTermDefinition({activeCtx:e,localCtx:n,term:t,defined:i,options:a}),(r=r||{}).vocab){var o=e.mappings.get(t);if(null===o)return null;if(s(o)&&"@id"in o)return o["@id"]}var c=t.indexOf(":");if(c>0){var l=t.substr(0,c),h=t.substr(c+1);if("_"===l||0===h.indexOf("//"))return t;n&&n.hasOwnProperty(l)&&m.createTermDefinition({activeCtx:e,localCtx:n,term:l,defined:i,options:a});var p=e.mappings.get(l);if(p&&p._prefix)return p["@id"]+h;if(f(t))return t}if(r.vocab&&"@vocab"in e)return e["@vocab"]+t;if(r.base&&"@base"in e){if(e["@base"])return d(d(a.base,e["@base"]),t)}else if(r.base)return d(a.base,t);return t}t.exports=m,m.process=function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var r,a,c,l,p,g,y,b,w,x,k,S,E,T,I,j,N,O,A,R,C,L,D,M,P,F,B,U,G,z,q,H,V,W,K,J,X,Q;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.activeCtx,a=t.localCtx,c=t.options,l=t.propagate,p=void 0===l||l,g=t.overrideProtected,y=void 0!==g&&g,b=t.cycles,w=void 0===b?new Set:b,s(a)&&"@context"in a&&o(a["@context"])&&(a=a["@context"]),0!==v(a).length){e.next=3;break}return e.abrupt("return",r);case 3:return e.next=5,c.contextResolver.resolve({activeCtx:r,context:a,documentLoader:c.documentLoader,base:c.base});case 5:x=e.sent,s(x[0].document)&&"boolean"==typeof x[0].document["@propagate"]&&(p=x[0].document["@propagate"]),k=r,p||k.previousContext||((k=k.clone()).previousContext=r),S=_createForOfIteratorHelper(x),e.prev=10,S.s();case 12:if((E=S.n()).done){e.next=143;break}if(T=E.value,I=T.document,r=k,null!==I){e.next=34;break}if(y||0===Object.keys(r.protected).length){e.next=32;break}if("error"!==(j=c&&c.protectedMode||"error")){e.next=20;break}throw new i("Tried to nullify a context with protected terms outside of a term definition.","jsonld.SyntaxError",{code:"invalid context nullification"});case 20:if("warn"!==j){e.next=31;break}if(console.warn("WARNING: invalid context nullification"),!(N=T.getProcessed(r))){e.next=26;break}return k=r=N,e.abrupt("continue",141);case 26:for(O=r,k=r=m.getInitialContext(c).clone(),A=0,R=Object.entries(O.protected);A<R.length;A++)C=_slicedToArray(R[A],2),L=C[0],C[1]&&(r.mappings[L]=n.clone(O.mappings[L]));return r.protected=n.clone(O.protected),T.setProcessed(O,k),e.abrupt("continue",141);case 31:throw new i("Invalid protectedMode.","jsonld.SyntaxError",{code:"invalid protected mode",context:a,protectedMode:j});case 32:return k=r=m.getInitialContext(c).clone(),e.abrupt("continue",141);case 34:if(!(D=T.getProcessed(r))){e.next=38;break}return k=r=D,e.abrupt("continue",141);case 38:if(s(I)&&"@context"in I&&(I=I["@context"]),s(I)){e.next=40;break}throw new i("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:I});case 40:if(k=k.clone(),M=new Map,!("@version"in I)){e.next=48;break}if(1.1===I["@version"]){e.next=45;break}throw new i("Unsupported JSON-LD version: "+I["@version"],"jsonld.UnsupportedVersion",{code:"invalid @version value",context:I});case 45:if(!r.processingMode||"json-ld-1.0"!==r.processingMode){e.next=47;break}throw new i("@version: "+I["@version"]+" not compatible with "+r.processingMode,"jsonld.ProcessingModeConflict",{code:"processing mode conflict",context:I});case 47:k.processingMode="json-ld-1.1",k["@version"]=I["@version"],M.set("@version",!0);case 48:if(k.processingMode=k.processingMode||r.processingMode,!("@base"in I)){e.next=58;break}if(null!==(P=I["@base"])&&!f(P)){e.next=54;break}e.next=57;break;case 54:if(h(P)){e.next=56;break}throw new i('Invalid JSON-LD syntax; the value of "@base" in a @context must be an absolute IRI, a relative IRI, or null.',"jsonld.SyntaxError",{code:"invalid base IRI",context:I});case 56:P=d(k["@base"],P);case 57:k["@base"]=P,M.set("@base",!0);case 58:if(!("@vocab"in I)){e.next=70;break}if(null!==(F=I["@vocab"])){e.next=64;break}delete k["@vocab"],e.next=69;break;case 64:if(u(F)){e.next=66;break}throw new i('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:I});case 66:if(f(F)||!m.processingMode(k,1)){e.next=68;break}throw new i('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be an absolute IRI.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:I});case 68:k["@vocab"]=_(k,F,{vocab:!0,base:!0},void 0,void 0,c);case 69:M.set("@vocab",!0);case 70:if(!("@language"in I)){e.next=80;break}if(null!==(B=I["@language"])){e.next=76;break}delete k["@language"],e.next=79;break;case 76:if(u(B)){e.next=78;break}throw new i('Invalid JSON-LD syntax; the value of "@language" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid default language",context:I});case 78:k["@language"]=B.toLowerCase();case 79:M.set("@language",!0);case 80:if(!("@direction"in I)){e.next=92;break}if(U=I["@direction"],"json-ld-1.0"!==r.processingMode){e.next=84;break}throw new i("Invalid JSON-LD syntax; @direction not compatible with "+r.processingMode,"jsonld.SyntaxError",{code:"invalid context member",context:I});case 84:if(null!==U){e.next=88;break}delete k["@direction"],e.next=91;break;case 88:if("ltr"===U||"rtl"===U){e.next=90;break}throw new i('Invalid JSON-LD syntax; the value of "@direction" in a @context must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:I});case 90:k["@direction"]=U;case 91:M.set("@direction",!0);case 92:if(!("@propagate"in I)){e.next=99;break}if(G=I["@propagate"],"json-ld-1.0"!==r.processingMode){e.next=96;break}throw new i("Invalid JSON-LD syntax; @propagate not compatible with "+r.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:I});case 96:if("boolean"==typeof G){e.next=98;break}throw new i("Invalid JSON-LD syntax; @propagate value must be a boolean.","jsonld.SyntaxError",{code:"invalid @propagate value",context:a});case 98:M.set("@propagate",!0);case 99:if(!("@import"in I)){e.next=121;break}if(z=I["@import"],"json-ld-1.0"!==r.processingMode){e.next=103;break}throw new i("Invalid JSON-LD syntax; @import not compatible with "+r.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:I});case 103:if(u(z)){e.next=105;break}throw new i("Invalid JSON-LD syntax; @import must be a string.","jsonld.SyntaxError",{code:"invalid @import value",context:a});case 105:return e.next=107,c.contextResolver.resolve({activeCtx:r,context:z,documentLoader:c.documentLoader,base:c.base});case 107:if(1===(q=e.sent).length){e.next=110;break}throw new i("Invalid JSON-LD syntax; @import must reference a single context.","jsonld.SyntaxError",{code:"invalid remote context",context:a});case 110:if(!(H=q[0].getProcessed(r))){e.next=115;break}I=H,e.next=120;break;case 115:if(!("@import"in(V=q[0].document))){e.next=118;break}throw new i("Invalid JSON-LD syntax: imported context must not include @import.","jsonld.SyntaxError",{code:"invalid context entry",context:a});case 118:for(W in V)I.hasOwnProperty(W)||(I[W]=V[W]);q[0].setProcessed(r,I);case 120:M.set("@import",!0);case 121:M.set("@protected",I["@protected"]||!1),e.t0=regeneratorRuntime.keys(I);case 123:if((e.t1=e.t0()).done){e.next=140;break}if(K=e.t1.value,m.createTermDefinition({activeCtx:k,localCtx:I,term:K,defined:M,options:c,overrideProtected:y}),!s(I[K])||!("@context"in I[K])){e.next=138;break}if(J=I[K]["@context"],X=!0,u(J)&&(Q=d(c.base,J),w.has(Q)?X=!1:w.add(Q)),!X){e.next=138;break}return e.prev=130,e.next=133,m.process({activeCtx:k,localCtx:I[K]["@context"],overrideProtected:!0,options:c,cycles:w});case 133:e.next=138;break;case 135:throw e.prev=135,e.t2=e.catch(130),new i("Invalid JSON-LD syntax; invalid scoped context.","jsonld.SyntaxError",{code:"invalid scoped context",context:I[K]["@context"],term:K});case 138:e.next=123;break;case 140:T.setProcessed(r,k);case 141:e.next=12;break;case 143:e.next=148;break;case 145:e.prev=145,e.t3=e.catch(10),S.e(e.t3);case 148:return e.prev=148,S.f(),e.finish(148);case 151:return e.abrupt("return",k);case 152:case"end":return e.stop()}}),e,null,[[10,145,148,151],[130,135]])})));return function(t){return e.apply(this,arguments)}}(),m.createTermDefinition=function(e){var t,r=e.activeCtx,n=e.localCtx,a=e.term,c=e.defined,l=e.options,h=e.overrideProtected,d=void 0!==h&&h;if(c.has(a)){if(c.get(a))return;throw new i("Cyclical context definition detected.","jsonld.CyclicalContext",{code:"cyclic IRI mapping",context:n,term:a})}if(c.set(a,!1),n.hasOwnProperty(a)&&(t=n[a]),"@type"===a&&s(t)&&"@set"===(t["@container"]||"@set")&&m.processingMode(r,1.1)){var p=["@container","@id","@protected"],v=Object.keys(t);if(0===v.length||v.some((function(e){return!p.includes(e)})))throw new i("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:n,term:a})}else{if(m.isKeyword(a))throw new i("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:n,term:a});if(a.match(b))return void console.warn('WARNING: terms beginning with "@" are reserved for future use and ignored',{term:a});if(""===a)throw new i("Invalid JSON-LD syntax; a term cannot be an empty string.","jsonld.SyntaxError",{code:"invalid term definition",context:n})}var g=r.mappings.get(a);r.mappings.has(a)&&r.mappings.delete(a);var y=!1;if((u(t)||null===t)&&(y=!0,t={"@id":t}),!s(t))throw new i("Invalid JSON-LD syntax; @context term values must be strings or objects.","jsonld.SyntaxError",{code:"invalid term definition",context:n});var w={};r.mappings.set(a,w),w.reverse=!1;var x=["@container","@id","@language","@reverse","@type"];for(var k in m.processingMode(r,1.1)&&x.push("@context","@direction","@index","@nest","@prefix","@protected"),t)if(!x.includes(k))throw new i("Invalid JSON-LD syntax; a term definition must not contain "+k,"jsonld.SyntaxError",{code:"invalid term definition",context:n});var S=a.indexOf(":");if(w._termHasColon=S>0,"@reverse"in t){if("@id"in t)throw new i("Invalid JSON-LD syntax; a @reverse term definition must not contain @id.","jsonld.SyntaxError",{code:"invalid reverse property",context:n});if("@nest"in t)throw new i("Invalid JSON-LD syntax; a @reverse term definition must not contain @nest.","jsonld.SyntaxError",{code:"invalid reverse property",context:n});var E=t["@reverse"];if(!u(E))throw new i("Invalid JSON-LD syntax; a @context @reverse value must be a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:n});if(!m.isKeyword(E)&&E.match(b))return console.warn('WARNING: values beginning with "@" are reserved for future use and ignored',{reverse:E}),void(g?r.mappings.set(a,g):r.mappings.delete(a));var T=_(r,E,{vocab:!0,base:!1},n,c,l);if(!f(T))throw new i("Invalid JSON-LD syntax; a @context @reverse value must be an absolute IRI or a blank node identifier.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:n});w["@id"]=T,w.reverse=!0}else if("@id"in t){var I=t["@id"];if(I&&!u(I))throw new i("Invalid JSON-LD syntax; a @context @id value must be an array of strings or a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:n});if(null===I)w["@id"]=null;else{if(!m.isKeyword(I)&&I.match(b))return console.warn('WARNING: values beginning with "@" are reserved for future use and ignored',{id:I}),void(g?r.mappings.set(a,g):r.mappings.delete(a));if(I!==a){if(I=_(r,I,{vocab:!0,base:!1},n,c,l),!f(I)&&!m.isKeyword(I))throw new i("Invalid JSON-LD syntax; a @context @id value must be an absolute IRI, a blank node identifier, or a keyword.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:n});if(a.match(/(?::[^:])|\//)&&_(r,a,{vocab:!0,base:!1},n,new Map(c).set(a,!0),l)!==I)throw new i("Invalid JSON-LD syntax; term in form of IRI must expand to definition.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:n});w["@id"]=I,w._prefix=y&&!w._termHasColon&&I.match(/[:\/\?#\[\]@]$/)}}}if(!("@id"in w))if(w._termHasColon){var j=a.substr(0,S);if(n.hasOwnProperty(j)&&m.createTermDefinition({activeCtx:r,localCtx:n,term:j,defined:c,options:l}),r.mappings.has(j)){var N=a.substr(S+1);w["@id"]=r.mappings.get(j)["@id"]+N}else w["@id"]=a}else if("@type"===a)w["@id"]=a;else{if(!("@vocab"in r))throw new i("Invalid JSON-LD syntax; @context terms must define an @id.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:n,term:a});w["@id"]=r["@vocab"]+a}if((!0===t["@protected"]||!0===c.get("@protected")&&!1!==t["@protected"])&&(r.protected[a]=!0,w.protected=!0),c.set(a,!0),"@type"in t){var O=t["@type"];if(!u(O))throw new i("Invalid JSON-LD syntax; an @context @type value must be a string.","jsonld.SyntaxError",{code:"invalid type mapping",context:n});if("@json"===O||"@none"===O){if(m.processingMode(r,1))throw new i('Invalid JSON-LD syntax; an @context @type value must not be "'.concat(O,'" in JSON-LD 1.0 mode.'),"jsonld.SyntaxError",{code:"invalid type mapping",context:n})}else if("@id"!==O&&"@vocab"!==O){if(O=_(r,O,{vocab:!0,base:!1},n,c,l),!f(O))throw new i("Invalid JSON-LD syntax; an @context @type value must be an absolute IRI.","jsonld.SyntaxError",{code:"invalid type mapping",context:n});if(0===O.indexOf("_:"))throw new i("Invalid JSON-LD syntax; an @context @type value must be an IRI, not a blank node identifier.","jsonld.SyntaxError",{code:"invalid type mapping",context:n})}w["@type"]=O}if("@container"in t){var A=u(t["@container"])?[t["@container"]]:t["@container"]||[],R=["@list","@set","@index","@language"],C=!0,L=A.includes("@set");if(m.processingMode(r,1.1)){if(R.push("@graph","@id","@type"),A.includes("@list")){if(1!==A.length)throw new i("Invalid JSON-LD syntax; @context @container with @list must have no other values","jsonld.SyntaxError",{code:"invalid container mapping",context:n})}else if(A.includes("@graph")){if(A.some((function(e){return"@graph"!==e&&"@id"!==e&&"@index"!==e&&"@set"!==e})))throw new i("Invalid JSON-LD syntax; @context @container with @graph must have no other values other than @id, @index, and @set","jsonld.SyntaxError",{code:"invalid container mapping",context:n})}else C&=A.length<=(L?2:1);if(A.includes("@type")&&(w["@type"]=w["@type"]||"@id",!["@id","@vocab"].includes(w["@type"])))throw new i("Invalid JSON-LD syntax; container: @type requires @type to be @id or @vocab.","jsonld.SyntaxError",{code:"invalid type mapping",context:n})}else C&=!o(t["@container"]),C&=A.length<=1;if(C&=A.every((function(e){return R.includes(e)})),!(C&=!(L&&A.includes("@list"))))throw new i("Invalid JSON-LD syntax; @context @container value must be one of the following: "+R.join(", "),"jsonld.SyntaxError",{code:"invalid container mapping",context:n});if(w.reverse&&!A.every((function(e){return["@index","@set"].includes(e)})))throw new i("Invalid JSON-LD syntax; @context @container value for a @reverse type definition must be @index or @set.","jsonld.SyntaxError",{code:"invalid reverse property",context:n});w["@container"]=A}if("@index"in t){if(!("@container"in t)||!w["@container"].includes("@index"))throw new i('Invalid JSON-LD syntax; @index without @index in @container: "'.concat(t["@index"],'" on term "').concat(a,'".'),"jsonld.SyntaxError",{code:"invalid term definition",context:n});if(!u(t["@index"])||0===t["@index"].indexOf("@"))throw new i('Invalid JSON-LD syntax; @index must expand to an IRI: "'.concat(t["@index"],'" on term "').concat(a,'".'),"jsonld.SyntaxError",{code:"invalid term definition",context:n});w["@index"]=t["@index"]}if("@context"in t&&(w["@context"]=t["@context"]),"@language"in t&&!("@type"in t)){var D=t["@language"];if(null!==D&&!u(D))throw new i("Invalid JSON-LD syntax; @context @language value must be a string or null.","jsonld.SyntaxError",{code:"invalid language mapping",context:n});null!==D&&(D=D.toLowerCase()),w["@language"]=D}if("@prefix"in t){if(a.match(/:|\//))throw new i("Invalid JSON-LD syntax; @context @prefix used on a compact IRI term","jsonld.SyntaxError",{code:"invalid term definition",context:n});if(m.isKeyword(w["@id"]))throw new i("Invalid JSON-LD syntax; keywords may not be used as prefixes","jsonld.SyntaxError",{code:"invalid term definition",context:n});if("boolean"!=typeof t["@prefix"])throw new i("Invalid JSON-LD syntax; @context value for @prefix must be boolean","jsonld.SyntaxError",{code:"invalid @prefix value",context:n});w._prefix=!0===t["@prefix"]}if("@direction"in t){var M=t["@direction"];if(null!==M&&"ltr"!==M&&"rtl"!==M)throw new i('Invalid JSON-LD syntax; @direction value must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:n});w["@direction"]=M}if("@nest"in t){var P=t["@nest"];if(!u(P)||"@nest"!==P&&0===P.indexOf("@"))throw new i("Invalid JSON-LD syntax; @context @nest value must be a string which is not a keyword other than @nest.","jsonld.SyntaxError",{code:"invalid @nest value",context:n});w["@nest"]=P}var F=w["@id"];if("@context"===F||"@preserve"===F)throw new i("Invalid JSON-LD syntax; @context and @preserve cannot be aliased.","jsonld.SyntaxError",{code:"invalid keyword alias",context:n});if(g&&g.protected&&!d&&(r.protected[a]=!0,w.protected=!0,!function e(t,r){if(!t||"object"!=typeof t||!r||"object"!=typeof r)return t===r;var n=Array.isArray(t);if(n!==Array.isArray(r))return!1;if(n){if(t.length!==r.length)return!1;for(var i=0;i<t.length;++i)if(!e(t[i],r[i]))return!1;return!0}var a=Object.keys(t),o=Object.keys(r);if(a.length!==o.length)return!1;for(var s in t){var u=t[s],c=r[s];if("@container"===s&&Array.isArray(u)&&Array.isArray(c)&&(u=u.slice().sort(),c=c.slice().sort()),!e(u,c))return!1}return!0}(g,w))){var B=l&&l.protectedMode||"error";if("error"===B)throw new i("Invalid JSON-LD syntax; tried to redefine a protected term.","jsonld.SyntaxError",{code:"protected term redefinition",context:n,term:a});if("warn"===B)return void console.warn("WARNING: protected term redefinition",{term:a});throw new i("Invalid protectedMode.","jsonld.SyntaxError",{code:"invalid protected mode",context:n,term:a,protectedMode:B})}},m.expandIri=function(e,t,r,n){return _(e,t,r,void 0,void 0,n)},m.getInitialContext=function(e){var t=JSON.stringify({processingMode:e.processingMode}),r=y.get(t);if(r)return r;var i={processingMode:e.processingMode,mappings:new Map,inverse:null,getInverse:function(){if(this.inverse)return this.inverse;var e,t=this.inverse={},r=this.fastCurieMap={},n={},i=(this["@language"]||"@none").toLowerCase(),s=this["@direction"],u=this.mappings,c=_createForOfIteratorHelper(_toConsumableArray(u.keys()).sort(g));try{for(c.s();!(e=c.n()).done;){var l=e.value,f=u.get(l);if(null!==f){var h=f["@container"]||"@none";if(h=[].concat(h).sort().join(""),null!==f["@id"]){var d,p=_createForOfIteratorHelper(v(f["@id"]));try{for(p.s();!(d=p.n()).done;){var y=d.value,b=t[y],_=m.isKeyword(y);if(b)_||f._termHasColon||n[y].push(l);else if(t[y]=b={},!_&&!f._termHasColon){n[y]=[l];var w={iri:y,terms:n[y]};y[0]in r?r[y[0]].push(w):r[y[0]]=[w]}if(b[h]||(b[h]={"@language":{},"@type":{},"@any":{}}),o(l,(b=b[h])["@any"],"@none"),f.reverse)o(l,b["@type"],"@reverse");else if("@none"===f["@type"])o(l,b["@any"],"@none"),o(l,b["@language"],"@none"),o(l,b["@type"],"@none");else if("@type"in f)o(l,b["@type"],f["@type"]);else if("@language"in f&&"@direction"in f){var x=f["@language"],k=f["@direction"];o(l,b["@language"],x&&k?"".concat(x,"_").concat(k).toLowerCase():x?x.toLowerCase():k?"_"+k:"@null")}else"@language"in f?o(l,b["@language"],(f["@language"]||"@null").toLowerCase()):"@direction"in f?o(l,b["@language"],f["@direction"]?"_"+f["@direction"]:"@none"):s?(o(l,b["@language"],"_"+s),o(l,b["@language"],"@none"),o(l,b["@type"],"@none")):(o(l,b["@language"],i),o(l,b["@language"],"@none"),o(l,b["@type"],"@none"))}}catch(E){p.e(E)}finally{p.f()}}}}}catch(E){c.e(E)}finally{c.f()}for(var S in r)a(r,S,1);return t},clone:function(){var e={};return e.mappings=n.clone(this.mappings),e.clone=this.clone,e.inverse=null,e.getInverse=this.getInverse,e.protected=n.clone(this.protected),this.previousContext&&(e.previousContext=this.previousContext.clone()),e.revertToPreviousContext=this.revertToPreviousContext,"@base"in this&&(e["@base"]=this["@base"]),"@language"in this&&(e["@language"]=this["@language"]),"@vocab"in this&&(e["@vocab"]=this["@vocab"]),e},revertToPreviousContext:function(){return this.previousContext?this.previousContext.clone():this},protected:{}};return 1e4===y.size&&y.clear(),y.set(t,i),i;function a(e,t,r){var n,i,o,s=e[t],u=e[t]={},c=_createForOfIteratorHelper(s);try{for(c.s();!(o=c.n()).done;){var l=o.value;(i=r>=(n=l.iri).length?"":n[r])in u?u[i].push(l):u[i]=[l]}}catch(h){c.e(h)}finally{c.f()}for(var f in u)""!==f&&a(u,f,r+1)}function o(e,t,r){t.hasOwnProperty(r)||(t[r]=e)}},m.getContextValue=function(e,t,r){if(null===t){if("@context"===r)return;return null}if(e.mappings.has(t)){var n=e.mappings.get(t);if(c(r))return n;if(n.hasOwnProperty(r))return n[r]}return"@language"===r&&r in e||"@direction"===r&&r in e?e[r]:"@context"!==r?null:void 0},m.processingMode=function(e,t){return t.toString()>="1.1"?!e.processingMode||e.processingMode>="json-ld-"+t.toString():"json-ld-1.0"===e.processingMode},m.isKeyword=function(e){if(!u(e)||"@"!==e[0])return!1;switch(e){case"@base":case"@container":case"@context":case"@default":case"@direction":case"@embed":case"@explicit":case"@graph":case"@id":case"@included":case"@index":case"@json":case"@language":case"@list":case"@nest":case"@none":case"@omitDefault":case"@prefix":case"@preserve":case"@protected":case"@requireAll":case"@reverse":case"@set":case"@type":case"@value":case"@version":case"@vocab":return!0}return!1}},{"./JsonLdError":22,"./types":41,"./url":42,"./util":43}],31:[function(e,t,r){"use strict";var n=e("../util"),i=n.parseLinkHeader,a=n.buildHeaders,o=e("../constants").LINK_HEADER_CONTEXT,s=e("../JsonLdError"),u=e("../RequestQueue"),c=e("../url").prependBase;t.exports=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{strictSSL:!0,maxRedirects:-1,headers:{}},r=t.secure,n=t.strictSSL,l=void 0===n||n,f=t.maxRedirects,h=void 0===f?-1:f,d=t.request,p=t.headers,v=void 0===p?{}:p;v=a(v),d=d||e("request");var g=e("http");return(new u).wrapLoader((function(e){return function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(n,a){var u,f,p,y,b,m,_,w;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===n.indexOf("http:")||0===n.indexOf("https:")){e.next=2;break}throw new s('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:n});case 2:if(!r||0===n.indexOf("https")){e.next=4;break}throw new s('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:n});case 4:if(null===(f=null)){e.next=7;break}return e.abrupt("return",f);case 7:return p=null,e.prev=8,e.next=11,function(e,t){return new Promise((function(r,n){e(t,(function(e,t,i){e?n(e):r({res:t,body:i})}))}))}(d,{url:n,headers:v,strictSSL:l,followRedirect:!1});case 11:u=e.sent,e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(8),new s("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:n,cause:e.t0});case 17:if(b=(y=u).res,m=y.body,f={contextUrl:null,documentUrl:n,document:m||null},!(b.statusCode>=400)){e.next=20;break}throw new s('URL "'.concat(n,'" could not be dereferenced: ').concat(g.STATUS_CODES[b.statusCode]),"jsonld.InvalidUrl",{code:"loading document failed",url:n,httpStatusCode:b.statusCode});case 20:if(!b.headers.link||"application/ld+json"===b.headers["content-type"]){e.next=25;break}if(_=i(b.headers.link),w=_[o],!Array.isArray(w)){e.next=24;break}throw new s("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:n});case 24:w&&(f.contextUrl=w.target),(p=_.alternate)&&"application/ld+json"==p.type&&!(b.headers["content-type"]||"").match(/^application\/(\w*\+)?json$/)&&(b.headers.location=c(n,p.target));case 25:if(!(p||b.statusCode>=300&&b.statusCode<400)||!b.headers.location){e.next=31;break}if(a.length!==h){e.next=28;break}throw new s("URL could not be dereferenced; there were too many redirects.","jsonld.TooManyRedirects",{code:"loading document failed",url:n,httpStatusCode:b.statusCode,redirects:a});case 28:if(-1===a.indexOf(n)){e.next=30;break}throw new s("URL could not be dereferenced; infinite redirection was detected.","jsonld.InfiniteRedirectDetected",{code:"recursive context inclusion",url:n,httpStatusCode:b.statusCode,redirects:a});case 30:return e.abrupt("return",(a.push(n),t(b.headers.location,a)));case 31:return e.abrupt("return",(a.push(n),f));case 32:case"end":return e.stop()}}),e,null,[[8,14]])})));function t(t,r){return e.apply(this,arguments)}return t}()(e,[])}))}},{"../JsonLdError":22,"../RequestQueue":26,"../constants":29,"../url":42,"../util":43,http:11,request:11}],32:[function(e,t,r){"use strict";var n=e("../util"),i=n.parseLinkHeader,a=n.buildHeaders,o=e("../constants").LINK_HEADER_CONTEXT,s=e("../JsonLdError"),u=e("../RequestQueue"),c=e("../url").prependBase,l=/(^|(\r\n))link:/i;t.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{headers:{}},t=e.secure,r=e.headers,n=void 0===r?{}:r,f=e.xhr;return n=a(n),(new u).wrapLoader(function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(a){var u,h,d,p,v,g,y;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===a.indexOf("http:")||0===a.indexOf("https:")){e.next=2;break}throw new s('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:a});case 2:if(!t||0===a.indexOf("https")){e.next=4;break}throw new s('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:a});case 4:return e.prev=4,e.next=7,function(e,t,r){var n=new(e=e||XMLHttpRequest);return new Promise((function(e,i){for(var a in n.onload=function(){return e(n)},n.onerror=function(e){return i(e)},n.open("GET",t,!0),r)n.setRequestHeader(a,r[a]);n.send()}))}(f,a,n);case 7:u=e.sent,e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(4),new s("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:a,cause:e.t0});case 13:if(!(u.status>=400)){e.next=15;break}throw new s("URL could not be dereferenced: "+u.statusText,"jsonld.LoadDocumentError",{code:"loading document failed",url:a,httpStatusCode:u.status});case 15:if(h={contextUrl:null,documentUrl:a,document:u.response},d=null,p=u.getResponseHeader("Content-Type"),l.test(u.getAllResponseHeaders())&&(v=u.getResponseHeader("Link")),!v||"application/ld+json"===p){e.next=28;break}if(g=i(v),y=g[o],!Array.isArray(y)){e.next=21;break}throw new s("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:a});case 21:if(y&&(h.contextUrl=y.target),d=g.alternate,e.t1=d&&"application/ld+json"==d.type&&!(p||"").match(/^application\/(\w*\+)?json$/),!e.t1){e.next=28;break}return e.next=27,r(c(a,d.target));case 27:h=e.sent;case 28:return e.abrupt("return",h);case 29:case"end":return e.stop()}}),e,null,[[4,10]])})));function r(t){return e.apply(this,arguments)}return r}())}},{"../JsonLdError":22,"../RequestQueue":26,"../constants":29,"../url":42,"../util":43}],33:[function(e,t,r){"use strict";var n=e("./JsonLdError"),i=e("./types"),a=i.isArray,o=i.isObject,s=i.isEmptyObject,u=i.isString,c=i.isUndefined,l=e("./graphTypes"),f=l.isList,h=l.isValue,d=l.isGraph,p=l.isSubject,v=e("./context"),g=v.expandIri,y=v.getContextValue,b=v.isKeyword,m=v.process,_=v.processingMode,w=e("./url").isAbsolute,x=e("./util"),k=x.addValue,S=x.asArray,E=x.getValues,T=x.validateTypeValue,I={};t.exports=I;var j=/^[a-zA-Z]{1,8}(-[a-zA-Z0-9]{1,8})*$/;function N(e){var t=e.activeCtx,r=e.activeProperty,n=e.value,i=e.options;if(null==n)return null;var a=g(t,r,{vocab:!0},i);if("@id"===a)return g(t,n,{base:!0},i);if("@type"===a)return g(t,n,{vocab:!0,base:!0},i);var o=y(t,r,"@type");if(("@id"===o||"@graph"===a)&&u(n))return{"@id":g(t,n,{base:!0},i)};if("@vocab"===o&&u(n))return{"@id":g(t,n,{vocab:!0,base:!0},i)};if(b(a))return n;var s={};if(o&&!["@id","@vocab","@none"].includes(o))s["@type"]=o;else if(u(n)){var c=y(t,r,"@language");null!==c&&(s["@language"]=c);var l=y(t,r,"@direction");null!==l&&(s["@direction"]=l)}return["boolean","number","string"].includes(typeof n)||(n=n.toString()),s["@value"]=n,s}function O(e,t,r,i){var o,s=[],c=_createForOfIteratorHelper(Object.keys(t).sort());try{for(c.s();!(o=c.n()).done;){var l=o.value,f=g(e,l,{vocab:!0},i),h=t[l];a(h)||(h=[h]);var d,p=_createForOfIteratorHelper(h);try{for(p.s();!(d=p.n()).done;){var v=d.value;if(null!==v){if(!u(v))throw new n("Invalid JSON-LD syntax; language map values must be strings.","jsonld.SyntaxError",{code:"invalid language map value",languageMap:t});var y={"@value":v};"@none"!==f&&(y["@language"]=l.toLowerCase()),r&&(y["@direction"]=r),s.push(y)}}}catch(b){p.e(b)}finally{p.f()}}}catch(b){c.e(b)}finally{c.f()}return s}function A(e){return R.apply(this,arguments)}function R(){return(R=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var r,i,o,s,u,l,f,p,v,b,_,w,x,S,E,T,j,O,A,R;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.activeCtx,i=t.options,o=t.activeProperty,s=t.value,u=t.expansionMap,l=t.asGraph,f=t.indexKey,p=t.propertyIndex,v=[],b=Object.keys(s).sort(),_="@type"===f,w=_createForOfIteratorHelper(b),e.prev=3,w.s();case 5:if((x=w.n()).done){e.next=46;break}if(S=x.value,!_){e.next=14;break}if(E=y(r,S,"@context"),e.t0=c(E),e.t0){e.next=14;break}return e.next=13,m({activeCtx:r,localCtx:E,propagate:!1,options:i});case 13:r=e.sent;case 14:return T=void 0,j=s[S],a(j)||(j=[j]),e.next=18,I.expand({activeCtx:r,activeProperty:o,element:j,options:i,insideList:!1,insideIndex:!0,expansionMap:u});case 18:j=e.sent,T=p?"@none"===S?"@none":N({activeCtx:r,activeProperty:f,value:S,options:i}):g(r,S,{vocab:!0},i),"@id"===f?S=g(r,S,{base:!0},i):_&&(S=T),O=_createForOfIteratorHelper(j),e.prev=22,O.s();case 24:if((A=O.n()).done){e.next=36;break}if(R=A.value,l&&!d(R)&&(R={"@graph":[R]}),"@type"!==f){e.next=30;break}"@none"===T||(R["@type"]=R["@type"]?[S].concat(R["@type"]):[S]),e.next=33;break;case 30:if(!h(R)||["@language","@type","@index"].includes(f)){e.next=32;break}throw new n('Invalid JSON-LD syntax; Attempt to add illegal key to value object: "'.concat(f,'".'),"jsonld.SyntaxError",{code:"invalid value object",value:R});case 32:p?"@none"!==T&&k(R,p,T,{propertyIsArray:!0,prependValue:!0}):"@none"===T||f in R||(R[f]=S);case 33:v.push(R);case 34:e.next=24;break;case 36:e.next=41;break;case 38:e.prev=38,e.t1=e.catch(22),O.e(e.t1);case 41:return e.prev=41,O.f(),e.finish(41);case 44:e.next=5;break;case 46:e.next=51;break;case 48:e.prev=48,e.t2=e.catch(3),w.e(e.t2);case 51:return e.prev=51,w.f(),e.finish(51);case 54:return e.abrupt("return",v);case 55:case"end":return e.stop()}}),e,null,[[3,48,51,54],[22,38,41,44]])})))).apply(this,arguments)}I.expand=function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var r,i,l,d,v,x,R,C,L,D,M,P,F,B,U,G,z,q,H,V,W,K,J,X,Q,Y,Z,$,ee,te,re,ne,ie,ae,oe,se,ue,ce,le,fe,he,de,pe,ve,ge;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.activeCtx,i=t.activeProperty,l=void 0===i?null:i,d=t.element,v=t.options,x=void 0===v?{}:v,R=t.insideList,C=void 0!==R&&R,L=t.insideIndex,D=void 0!==L&&L,M=t.typeScopedContext,P=void 0===M?null:M,F=t.expansionMap,B=void 0===F?function(){}:F,null!=d){e.next=3;break}return e.abrupt("return",null);case 3:if("@default"===l&&(x=Object.assign({},x,{isFrame:!1})),a(d)||o(d)){e.next=10;break}if(C||null!==l&&"@graph"!==g(r,l,{vocab:!0},x)){e.next=9;break}return e.next=7,B({unmappedValue:d,activeCtx:r,activeProperty:l,options:x,insideList:C});case 7:return U=e.sent,e.abrupt("return",void 0===U?null:U);case 9:return e.abrupt("return",N({activeCtx:r,activeProperty:l,value:d,options:x}));case 10:if(!a(d)){e.next=33;break}G=[],z=y(r,l,"@container")||[],C=C||z.includes("@list"),q=0;case 15:if(!(q<d.length)){e.next=32;break}return e.next=18,I.expand({activeCtx:r,activeProperty:l,element:d[q],options:x,expansionMap:B,insideIndex:D,typeScopedContext:P});case 18:if(H=e.sent,C&&a(H)&&(H={"@list":H}),e.t0=null===H,!e.t0){e.next=26;break}return e.next=24,B({unmappedValue:d[q],activeCtx:r,activeProperty:l,parent:d,index:q,options:x,expandedParent:G,insideList:C});case 24:H=e.sent,e.t0=void 0===H;case 26:if(e.t1=e.t0,e.t1){e.next=29;break}a(H)?G=G.concat(H):G.push(H);case 29:++q,e.next=15;break;case 32:return e.abrupt("return",G);case 33:if(V=g(r,l,{vocab:!0},x),W=y(r,l,"@context"),P=P||(r.previousContext?r:null),K=Object.keys(d).sort(),!((J=!D)&&P&&K.length<=2)||K.includes("@context")){e.next=59;break}X=_createForOfIteratorHelper(K),e.prev=38,X.s();case 40:if((Q=X.n()).done){e.next=51;break}if(Y=Q.value,"@value"!==(Z=g(P,Y,{vocab:!0},x))){e.next=46;break}return J=!1,r=P,e.abrupt("break",51);case 46:if("@id"!==Z||1!==K.length){e.next=49;break}return J=!1,e.abrupt("break",51);case 49:e.next=40;break;case 51:e.next=56;break;case 53:e.prev=53,e.t2=e.catch(38),X.e(e.t2);case 56:return e.prev=56,X.f(),e.finish(56);case 59:if(J&&(r=r.revertToPreviousContext()),e.t3=c(W),e.t3){e.next=65;break}return e.next=64,m({activeCtx:r,localCtx:W,propagate:!0,overrideProtected:!0,options:x});case 64:r=e.sent;case 65:if(e.t4="@context"in d,!e.t4){e.next=70;break}return e.next=69,m({activeCtx:r,localCtx:d["@context"],options:x});case 69:r=e.sent;case 70:P=r,$=null,ee=_createForOfIteratorHelper(K),e.prev=73,ee.s();case 75:if((te=ee.n()).done){e.next=103;break}if(re=te.value,"@type"!==g(r,re,{vocab:!0},x)){e.next=101;break}$=$||re,ne=d[re],ie=Array.isArray(ne)?ne.length>1?ne.slice().sort():ne:[ne],ae=_createForOfIteratorHelper(ie),e.prev=81,ae.s();case 83:if((oe=ae.n()).done){e.next=93;break}if(se=oe.value,ue=y(P,se,"@context"),e.t5=c(ue),e.t5){e.next=91;break}return e.next=90,m({activeCtx:r,localCtx:ue,options:x,propagate:!1});case 90:r=e.sent;case 91:e.next=83;break;case 93:e.next=98;break;case 95:e.prev=95,e.t6=e.catch(81),ae.e(e.t6);case 98:return e.prev=98,ae.f(),e.finish(98);case 101:e.next=75;break;case 103:e.next=108;break;case 105:e.prev=105,e.t7=e.catch(73),ee.e(e.t7);case 108:return e.prev=108,ee.f(),e.finish(108);case 111:return ce={},e.next=114,function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(r){var i,l,d,v,x,E,N,R,C,L,D,M,P,F,B,U,G,z,q,H,V,W,K,J,X,Q,Y,Z,$,ee,te,re,ne,ie,ae,oe,se,ue,ce,le,fe,he,de,pe,ve,ge,ye,be,me,_e,we,xe,ke;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=r.activeCtx,l=r.activeProperty,d=r.expandedActiveProperty,v=r.element,x=r.expandedParent,E=r.options,N=void 0===E?{}:E,R=r.insideList,C=r.typeKey,L=r.typeScopedContext,D=r.expansionMap,M=Object.keys(v).sort(),P=[],B=v[C]&&"@json"===g(i,a(v[C])?v[C][0]:v[C],{vocab:!0},N),U=_createForOfIteratorHelper(M),e.prev=4,U.s();case 6:if((G=U.n()).done){e.next=188;break}if(z=G.value,q=void 0,H=v[z],"@context"!==z){e.next=11;break}return e.abrupt("continue",186);case 11:if(null!==(V=g(i,z,{vocab:!0},N))&&(w(V)||b(V))||void 0!==(V=D({unmappedProperty:z,activeCtx:i,activeProperty:l,parent:v,options:N,insideList:R,value:H,expandedParent:x}))){e.next=14;break}return e.abrupt("continue",186);case 14:if(!b(V)){e.next=19;break}if("@reverse"!==d){e.next=17;break}throw new n("Invalid JSON-LD syntax; a keyword cannot be used as a @reverse property.","jsonld.SyntaxError",{code:"invalid reverse property map",value:H});case 17:if(!(V in x)||"@included"===V||"@type"===V){e.next=19;break}throw new n("Invalid JSON-LD syntax; colliding keywords detected.","jsonld.SyntaxError",{code:"colliding keywords",keyword:V});case 19:if("@id"!==V){e.next=34;break}if(u(H)){e.next=32;break}if(N.isFrame){e.next=23;break}throw new n('Invalid JSON-LD syntax; "@id" value must a string.',"jsonld.SyntaxError",{code:"invalid @id value",value:H});case 23:if(!o(H)){e.next=28;break}if(s(H)){e.next=26;break}throw new n('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:H});case 26:e.next=32;break;case 28:if(a(H)){e.next=30;break}throw new n('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:H});case 30:if(H.every((function(e){return u(e)}))){e.next=32;break}throw new n('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:H});case 32:return k(x,"@id",S(H).map((function(e){return u(e)?g(i,e,{base:!0},N):e})),{propertyIsArray:N.isFrame}),e.abrupt("continue",186);case 34:if("@type"!==V){e.next=37;break}return o(H)&&(H=Object.fromEntries(Object.entries(H).map((function(e){var t=_slicedToArray(e,2),r=t[0],n=t[1];return[g(L,r,{vocab:!0}),S(n).map((function(e){return g(L,e,{base:!0,vocab:!0})}))]})))),T(H,N.isFrame),k(x,"@type",S(H).map((function(e){return u(e)?g(L,e,{base:!0,vocab:!0},N):e})),{propertyIsArray:N.isFrame}),e.abrupt("continue",186);case 37:if("@included"!==V||!_(i,1.1)){e.next=47;break}return e.t0=S,e.next=41,I.expand({activeCtx:i,activeProperty:l,element:H,options:N,expansionMap:D});case 41:if(e.t1=e.sent,(W=(0,e.t0)(e.t1)).every((function(e){return p(e)}))){e.next=45;break}throw new n("Invalid JSON-LD syntax; values of @included must expand to node objects.","jsonld.SyntaxError",{code:"invalid @included value",value:H});case 45:return k(x,"@included",W,{propertyIsArray:!0}),e.abrupt("continue",186);case 47:if("@graph"!==V||o(H)||a(H)){e.next=49;break}throw new n('Invalid JSON-LD syntax; "@graph" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid @graph value",value:H});case 49:if("@value"!==V){e.next=52;break}return F=H,B&&_(i,1.1)?x["@value"]=H:k(x,"@value",H,{propertyIsArray:N.isFrame}),e.abrupt("continue",186);case 52:if("@language"!==V){e.next=62;break}if(null!==H){e.next=55;break}return e.abrupt("continue",186);case 55:if(u(H)||N.isFrame){e.next=57;break}throw new n('Invalid JSON-LD syntax; "@language" value must be a string.',"jsonld.SyntaxError",{code:"invalid language-tagged string",value:H});case 57:H=S(H).map((function(e){return u(e)?e.toLowerCase():e})),K=_createForOfIteratorHelper(H);try{for(K.s();!(J=K.n()).done;)X=J.value,u(X)&&!X.match(j)&&console.warn("@language must be valid BCP47: "+X)}catch(Se){K.e(Se)}finally{K.f()}return k(x,"@language",H,{propertyIsArray:N.isFrame}),e.abrupt("continue",186);case 62:if("@direction"!==V){e.next=85;break}if(u(H)||N.isFrame){e.next=65;break}throw new n('Invalid JSON-LD syntax; "@direction" value must be a string.',"jsonld.SyntaxError",{code:"invalid base direction",value:H});case 65:H=S(H),Q=_createForOfIteratorHelper(H),e.prev=67,Q.s();case 69:if((Y=Q.n()).done){e.next=75;break}if(Z=Y.value,!u(Z)||"ltr"===Z||"rtl"===Z){e.next=73;break}throw new n('Invalid JSON-LD syntax; "@direction" must be "ltr" or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",value:H});case 73:e.next=69;break;case 75:e.next=80;break;case 77:e.prev=77,e.t2=e.catch(67),Q.e(e.t2);case 80:return e.prev=80,Q.f(),e.finish(80);case 83:return k(x,"@direction",H,{propertyIsArray:N.isFrame}),e.abrupt("continue",186);case 85:if("@index"!==V){e.next=90;break}if(u(H)){e.next=88;break}throw new n('Invalid JSON-LD syntax; "@index" value must be a string.',"jsonld.SyntaxError",{code:"invalid @index value",value:H});case 88:return k(x,"@index",H),e.abrupt("continue",186);case 90:if("@reverse"!==V){e.next=118;break}if(o(H)){e.next=93;break}throw new n('Invalid JSON-LD syntax; "@reverse" value must be an object.',"jsonld.SyntaxError",{code:"invalid @reverse value",value:H});case 93:return e.next=95,I.expand({activeCtx:i,activeProperty:"@reverse",element:H,options:N,expansionMap:D});case 95:if(!("@reverse"in(q=e.sent))){e.next=98;break}for($ in q["@reverse"])k(x,$,q["@reverse"][$],{propertyIsArray:!0});case 98:ee=x["@reverse"]||null,e.t3=regeneratorRuntime.keys(q);case 100:if((e.t4=e.t3()).done){e.next=117;break}if("@reverse"!==(te=e.t4.value)){e.next=104;break}return e.abrupt("continue",100);case 104:null===ee&&(ee=x["@reverse"]={}),k(ee,te,[],{propertyIsArray:!0}),re=q[te],ne=0;case 107:if(!(ne<re.length)){e.next=115;break}if(ie=re[ne],!h(ie)&&!f(ie)){e.next=111;break}throw new n('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:q});case 111:k(ee,te,ie,{propertyIsArray:!0});case 112:++ne,e.next=107;break;case 115:e.next=100;break;case 117:return e.abrupt("continue",186);case 118:if("@nest"!==V){e.next=121;break}return P.push(z),e.abrupt("continue",186);case 121:if(ae=i,oe=y(i,z,"@context"),e.t5=c(oe),e.t5){e.next=128;break}return e.next=127,m({activeCtx:i,localCtx:oe,propagate:!0,overrideProtected:!0,options:N});case 127:ae=e.sent;case 128:if(!(se=y(ae,z,"@container")||[]).includes("@language")||!o(H)){e.next=133;break}q=O(ae,H,y(ae,z,"@direction"),N),e.next=170;break;case 133:if(!se.includes("@index")||!o(H)){e.next=140;break}return ue=se.includes("@graph"),ce=y(ae,z,"@index")||"@index",le="@index"!==ce&&g(i,ce,{vocab:!0},N),e.next=137,A({activeCtx:ae,options:N,activeProperty:z,value:H,expansionMap:D,asGraph:ue,indexKey:ce,propertyIndex:le});case 137:q=e.sent,e.next=170;break;case 140:if(!se.includes("@id")||!o(H)){e.next=147;break}return fe=se.includes("@graph"),e.next=144,A({activeCtx:ae,options:N,activeProperty:z,value:H,expansionMap:D,asGraph:fe,indexKey:"@id"});case 144:q=e.sent,e.next=170;break;case 147:if(!se.includes("@type")||!o(H)){e.next=153;break}return e.next=150,A({activeCtx:ae.revertToPreviousContext(),options:N,activeProperty:z,value:H,expansionMap:D,asGraph:!1,indexKey:"@type"});case 150:q=e.sent,e.next=170;break;case 153:if(!(he="@list"===V)&&"@set"!==V){e.next=162;break}return de=l,he&&"@graph"===d&&(de=null),e.next=159,I.expand({activeCtx:ae,activeProperty:de,element:H,options:N,insideList:he,expansionMap:D});case 159:q=e.sent,e.next=170;break;case 162:if("@json"!==y(i,z,"@type")){e.next=166;break}e.t6={"@type":"@json","@value":H},e.next=169;break;case 166:return e.next=168,I.expand({activeCtx:ae,activeProperty:z,element:H,options:N,insideList:!1,expansionMap:D});case 168:e.t6=e.sent;case 169:q=e.t6;case 170:if(null===q&&"@value"!==V&&void 0===(q=D({unmappedValue:H,expandedProperty:V,activeCtx:ae,activeProperty:l,parent:v,options:N,insideList:R,key:z,expandedParent:x}))){e.next=186;break}if("@list"!==V&&!f(q)&&se.includes("@list")&&(q={"@list":S(q)}),se.includes("@graph")&&!se.some((function(e){return"@id"===e||"@index"===e}))&&(q=S(q).map((function(e){return{"@graph":S(e)}}))),!ae.mappings.has(z)||!ae.mappings.get(z).reverse){e.next=185;break}pe=x["@reverse"]=x["@reverse"]||{},q=S(q),ve=0;case 175:if(!(ve<q.length)){e.next=183;break}if(ge=q[ve],!h(ge)&&!f(ge)){e.next=179;break}throw new n('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:q});case 179:k(pe,V,ge,{propertyIsArray:!0});case 180:++ve,e.next=175;break;case 183:e.next=186;break;case 185:k(x,V,q,{propertyIsArray:!0});case 186:e.next=6;break;case 188:e.next=193;break;case 190:e.prev=190,e.t7=e.catch(4),U.e(e.t7);case 193:return e.prev=193,U.f(),e.finish(193);case 196:if(!("@value"in x)){e.next=203;break}if("@json"!==x["@type"]||!_(i,1.1)){e.next=201;break}e.next=203;break;case 201:if(!o(F)&&!a(F)||N.isFrame){e.next=203;break}throw new n('Invalid JSON-LD syntax; "@value" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid value object value",value:F});case 203:ye=0,be=P;case 204:if(!(ye<be.length)){e.next=229;break}me=be[ye],_e=a(v[me])?v[me]:[v[me]],we=_createForOfIteratorHelper(_e),e.prev=208,we.s();case 210:if((xe=we.n()).done){e.next=218;break}if(ke=xe.value,o(ke)&&!Object.keys(ke).some((function(e){return"@value"===g(i,e,{vocab:!0},N)}))){e.next=214;break}throw new n("Invalid JSON-LD syntax; nested value must be a node object.","jsonld.SyntaxError",{code:"invalid @nest value",value:ke});case 214:return e.next=216,t({activeCtx:i,activeProperty:l,expandedActiveProperty:d,element:ke,expandedParent:x,options:N,insideList:R,typeScopedContext:L,typeKey:C,expansionMap:D});case 216:e.next=210;break;case 218:e.next=223;break;case 220:e.prev=220,e.t8=e.catch(208),we.e(e.t8);case 223:return e.prev=223,we.f(),e.finish(223);case 226:ye++,e.next=204;break;case 229:case"end":return e.stop()}}),e,null,[[4,190,193,196],[67,77,80,83],[208,220,223,226]])})));function t(t){return e.apply(this,arguments)}return t}()({activeCtx:r,activeProperty:l,expandedActiveProperty:V,element:d,expandedParent:ce,options:x,insideList:C,typeKey:$,typeScopedContext:P,expansionMap:B});case 114:if(K=Object.keys(ce),le=K.length,!("@value"in ce)){e.next=140;break}if(!("@type"in ce)||!("@language"in ce)&&!("@direction"in ce)){e.next=119;break}throw new n('Invalid JSON-LD syntax; an element containing "@value" may not contain both "@type" and either "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:ce});case 119:if(fe=le-1,"@type"in ce&&(fe-=1),"@index"in ce&&(fe-=1),"@language"in ce&&(fe-=1),"@direction"in ce&&(fe-=1),0===fe){e.next=122;break}throw new n('Invalid JSON-LD syntax; an element containing "@value" may only have an "@index" property and either "@type" or either or both "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:ce});case 122:if(he=null===ce["@value"]?[]:S(ce["@value"]),de=E(ce,"@type"),!_(r,1.1)||!de.includes("@json")||1!==de.length){e.next=127;break}e.next=138;break;case 127:if(0!==he.length){e.next=134;break}return e.next=130,B({unmappedValue:ce,activeCtx:r,activeProperty:l,element:d,options:x,insideList:C});case 130:pe=e.sent,ce=void 0!==pe?pe:null,e.next=138;break;case 134:if(he.every((function(e){return u(e)||s(e)}))||!("@language"in ce)){e.next=136;break}throw new n("Invalid JSON-LD syntax; only strings may be language-tagged.","jsonld.SyntaxError",{code:"invalid language-tagged value",element:ce});case 136:if(de.every((function(e){return w(e)&&!(u(e)&&0===e.indexOf("_:"))||s(e)}))){e.next=138;break}throw new n('Invalid JSON-LD syntax; an element containing "@value" and "@type" must have an absolute IRI for the value of "@type".',"jsonld.SyntaxError",{code:"invalid typed value",element:ce});case 138:e.next=155;break;case 140:if(!("@type"in ce)||a(ce["@type"])){e.next=144;break}ce["@type"]=[ce["@type"]],e.next=155;break;case 144:if(!("@set"in ce)&&!("@list"in ce)){e.next=150;break}if(!(le>1)||2===le&&"@index"in ce){e.next=147;break}throw new n('Invalid JSON-LD syntax; if an element has the property "@set" or "@list", then it can have at most one other property that is "@index".',"jsonld.SyntaxError",{code:"invalid set or list object",element:ce});case 147:"@set"in ce&&(ce=ce["@set"],K=Object.keys(ce),le=K.length),e.next=155;break;case 150:if(1!==le||!("@language"in ce)){e.next=155;break}return e.next=153,B(ce,{unmappedValue:ce,activeCtx:r,activeProperty:l,element:d,options:x,insideList:C});case 153:ve=e.sent,ce=void 0!==ve?ve:null;case 155:if(!o(ce)||x.keepFreeFloatingNodes||C||null!==l&&"@graph"!==V||!(0===le||"@value"in ce||"@list"in ce||1===le&&"@id"in ce)){e.next=160;break}return e.next=158,B({unmappedValue:ce,activeCtx:r,activeProperty:l,element:d,options:x,insideList:C});case 158:ge=e.sent,ce=void 0!==ge?ge:null;case 160:return e.abrupt("return",ce);case 161:case"end":return e.stop()}}),e,null,[[38,53,56,59],[73,105,108,111],[81,95,98,101]])})));return function(t){return e.apply(this,arguments)}}()},{"./JsonLdError":22,"./context":30,"./graphTypes":37,"./types":41,"./url":42,"./util":43}],34:[function(e,t,r){"use strict";var n=e("./graphTypes").isSubjectReference,i=e("./nodeMap").createMergedNodeMap,a={};t.exports=a,a.flatten=function(e){for(var t=i(e),r=[],a=Object.keys(t).sort(),o=0;o<a.length;++o){var s=t[a[o]];n(s)||r.push(s)}return r}},{"./graphTypes":37,"./nodeMap":39}],35:[function(e,t,r){"use strict";var n=e("./context").isKeyword,i=e("./graphTypes"),a=e("./types"),o=e("./util"),s=e("./url"),u=e("./JsonLdError"),c=e("./nodeMap"),l=c.createNodeMap,f=c.mergeNodeMapGraphs,h={};function d(e){var t={};for(var r in e)void 0!==e[r]&&(t["@"+r]=[e[r]]);return[t]}function p(e,t,r){for(var n=r.length-1;n>=0;--n){var i=r[n];if(i.graph===t&&i.subject["@id"]===e["@id"])return!0}return!1}function v(e,t,r){var n="@"+r,i=n in e?e[n][0]:t[r];if("embed"===r)if(!0===i)i="@once";else if(!1===i)i="@never";else if("@always"!==i&&"@never"!==i&&"@link"!==i&&"@first"!==i&&"@last"!==i&&"@once"!==i)throw new u("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:e});return i}function g(e){if(!a.isArray(e)||1!==e.length||!a.isObject(e[0]))throw new u("Invalid JSON-LD syntax; a JSON-LD frame must be a single object.","jsonld.SyntaxError",{frame:e});if("@id"in e[0]){var t,r=_createForOfIteratorHelper(o.asArray(e[0]["@id"]));try{for(r.s();!(t=r.n()).done;){var n=t.value;if(!a.isObject(n)&&!s.isAbsolute(n)||a.isString(n)&&0===n.indexOf("_:"))throw new u("Invalid JSON-LD syntax; invalid @id in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:e})}}catch(f){r.e(f)}finally{r.f()}}if("@type"in e[0]){var i,c=_createForOfIteratorHelper(o.asArray(e[0]["@type"]));try{for(c.s();!(i=c.n()).done;){var l=i.value;if(!a.isObject(l)&&!s.isAbsolute(l)||a.isString(l)&&0===l.indexOf("_:"))throw new u("Invalid JSON-LD syntax; invalid @type in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:e})}}catch(f){c.e(f)}finally{c.f()}}}function y(e,t,r,s){var u=!0,c=!1;for(var l in r){var f=!1,h=o.getValues(t,l),d=0===o.getValues(r,l).length;if("@id"===l){if(a.isEmptyObject(r["@id"][0]||{})?f=!0:r["@id"].length>=0&&(f=r["@id"].includes(h[0])),!s.requireAll)return f}else if("@type"===l){if(u=!1,d){if(h.length>0)return!1;f=!0}else if(1===r["@type"].length&&a.isEmptyObject(r["@type"][0]))f=h.length>0;else{var p,v=_createForOfIteratorHelper(r["@type"]);try{var y=function(){var e=p.value;f=!(!a.isObject(e)||!("@default"in e))||f||h.some((function(t){return t===e}))};for(v.s();!(p=v.n()).done;)y()}catch(m){v.e(m)}finally{v.f()}}if(!s.requireAll)return f}else{if(n(l))continue;var b=function(){var t=o.getValues(r,l)[0],n=!1;if(t&&(g([t]),n="@default"in t),u=!1,0===h.length&&n)return"continue";if(h.length>0&&d)return{v:!1};if(void 0===t){if(h.length>0)return{v:!1};f=!0}else if(i.isList(t)){var c=t["@list"][0];if(i.isList(h[0])){var p=h[0]["@list"];i.isValue(c)?f=p.some((function(e){return w(c,e)})):(i.isSubject(c)||i.isSubjectReference(c))&&(f=p.some((function(t){return _(e,c,t,s)})))}}else f=i.isValue(t)?h.some((function(e){return w(t,e)})):i.isSubjectReference(t)?h.some((function(r){return _(e,t,r,s)})):!!a.isObject(t)&&h.length>0}();switch(b){case"continue":continue;default:if("object"==typeof b)return b.v}}if(!f&&s.requireAll)return!1;c=c||f}return u||c}function b(e,t){var r=e.uniqueEmbeds[e.graph],n=r[t],i=n.parent,s=n.property,u={"@id":t};if(a.isArray(i)){for(var c=0;c<i.length;++c)if(o.compareValues(i[c],u)){i[c]=u;break}}else{var l=a.isArray(i[s]);o.removeValue(i,s,u,{propertyIsArray:l}),o.addValue(i,s,u,{propertyIsArray:l})}!function e(t){for(var n=0,i=Object.keys(r);n<i.length;n++){var o=i[n];o in r&&a.isObject(r[o].parent)&&r[o].parent["@id"]===t&&(delete r[o],e(o))}}(t)}function m(e,t,r){a.isObject(e)?o.addValue(e,t,r,{propertyIsArray:!0}):e.push(r)}function _(e,t,r,n){if(!("@id"in r))return!1;var i=e.subjects[r["@id"]];return i&&y(e,i,t,n)}function w(e,t){var r=t["@value"],n=t["@type"],i=t["@language"],o=e["@value"]?a.isArray(e["@value"])?e["@value"]:[e["@value"]]:[],s=e["@type"]?a.isArray(e["@type"])?e["@type"]:[e["@type"]]:[],u=e["@language"]?a.isArray(e["@language"])?e["@language"]:[e["@language"]]:[];return 0===o.length&&0===s.length&&0===u.length||!(!o.includes(r)&&!a.isEmptyObject(o[0]))&&!!(!n&&0===s.length||s.includes(n)||n&&a.isEmptyObject(s[0]))&&!!(!i&&0===u.length||u.includes(i)||i&&a.isEmptyObject(u[0]))}t.exports=h,h.frameMergedOrDefault=function(e,t,r){var n={options:r,embedded:!1,graph:"@default",graphMap:{"@default":{}},subjectStack:[],link:{},bnodeMap:{}},s=new o.IdentifierIssuer("_:b");l(e,n.graphMap,"@default",s),r.merged&&(n.graphMap["@merged"]=f(n.graphMap),n.graph="@merged"),n.subjects=n.graphMap[n.graph];var u=[];return h.frame(n,Object.keys(n.subjects).sort(),t,u),r.pruneBlankNodeIdentifiers&&(r.bnodesToClear=Object.keys(n.bnodeMap).filter((function(e){return 1===n.bnodeMap[e].length}))),r.link={},function e(t,r){if(a.isArray(t))return t.map((function(t){return e(t,r)}));if(a.isObject(t)){if("@preserve"in t)return t["@preserve"][0];if(i.isValue(t))return t;if(i.isList(t))return t["@list"]=e(t["@list"],r),t;if("@id"in t){var n=t["@id"];if(r.link.hasOwnProperty(n)){var o=r.link[n].indexOf(t);if(-1!==o)return r.link[n][o];r.link[n].push(t)}else r.link[n]=[t]}for(var s in t)"@id"===s&&r.bnodesToClear.includes(t[s])?delete t["@id"]:t[s]=e(t[s],r)}return t}(u,r)},h.frame=function(e,t,r,s){var c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;g(r);var l=e.options,f={embed:v(r=r[0],l,"embed"),explicit:v(r,l,"explicit"),requireAll:v(r,l,"requireAll")};e.link.hasOwnProperty(e.graph)||(e.link[e.graph]={});var _,x=e.link[e.graph],k=function(e,t,r,n){var i,a={},o=_createForOfIteratorHelper(t);try{for(o.s();!(i=o.n()).done;){var s=i.value,u=e.graphMap[e.graph][s];y(e,u,r,n)&&(a[s]=u)}}catch(c){o.e(c)}finally{o.f()}return a}(e,t,r,f),S=Object.keys(k).sort(),E=_createForOfIteratorHelper(S);try{var T=function(){var g=_.value,y=k[g];if(null===c?e.uniqueEmbeds=_defineProperty2({},e.graph,{}):e.uniqueEmbeds[e.graph]=e.uniqueEmbeds[e.graph]||{},"@link"===f.embed&&g in x)return m(s,c,x[g]),"continue";var S={"@id":g};if(0===g.indexOf("_:")&&o.addValue(e.bnodeMap,g,S,{propertyIsArray:!0}),x[g]=S,("@first"===f.embed||"@last"===f.embed)&&e.is11)throw new u("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:r});if(e.embedded||!e.uniqueEmbeds[e.graph].hasOwnProperty(g))if(!e.embedded||"@never"!==f.embed&&!p(y,e.graph,e.subjectStack))if(!e.embedded||"@first"!=f.embed&&"@once"!=f.embed||!e.uniqueEmbeds[e.graph].hasOwnProperty(g)){if("@last"===f.embed&&g in e.uniqueEmbeds[e.graph]&&b(e,g),e.uniqueEmbeds[e.graph][g]={parent:s,property:c},e.subjectStack.push({subject:y,graph:e.graph}),g in e.graphMap){var E=!1,T=null;"@graph"in r?(T=r["@graph"][0],E=!("@merged"===g||"@default"===g),a.isObject(T)||(T={})):(E="@merged"!==e.graph,T={}),E&&h.frame(_objectSpread(_objectSpread({},e),{},{graph:g,embedded:!1}),Object.keys(e.graphMap[g]).sort(),[T],S,"@graph")}"@included"in r&&h.frame(_objectSpread(_objectSpread({},e),{},{embedded:!1}),t,r["@included"],S,"@included");var I,j=_createForOfIteratorHelper(Object.keys(y).sort());try{for(j.s();!(I=j.n()).done;){var N=I.value;if(n(N)){if(S[N]=o.clone(y[N]),"@type"===N){var O,A=_createForOfIteratorHelper(y["@type"]);try{for(A.s();!(O=A.n()).done;){var R=O.value;0===R.indexOf("_:")&&o.addValue(e.bnodeMap,R,S,{propertyIsArray:!0})}}catch(ee){A.e(ee)}finally{A.f()}}}else if(!f.explicit||N in r){var C,L=_createForOfIteratorHelper(y[N]);try{for(L.s();!(C=L.n()).done;){var D=C.value,M=N in r?r[N]:d(f);if(i.isList(D)){var P=r[N]&&r[N][0]&&r[N][0]["@list"]?r[N][0]["@list"]:d(f),F={"@list":[]};m(S,N,F);var B,U=_createForOfIteratorHelper(D["@list"]);try{for(U.s();!(B=U.n()).done;){var G=B.value;i.isSubjectReference(G)?h.frame(_objectSpread(_objectSpread({},e),{},{embedded:!0}),[G["@id"]],P,F,"@list"):m(F,"@list",o.clone(G))}}catch(ee){U.e(ee)}finally{U.f()}}else i.isSubjectReference(D)?h.frame(_objectSpread(_objectSpread({},e),{},{embedded:!0}),[D["@id"]],M,S,N):w(M[0],D)&&m(S,N,o.clone(D))}}catch(ee){L.e(ee)}finally{L.f()}}}}catch(ee){j.e(ee)}finally{j.f()}var z,q=_createForOfIteratorHelper(Object.keys(r).sort());try{for(q.s();!(z=q.n()).done;){var H=z.value;if("@type"===H){if(!a.isObject(r[H][0])||!("@default"in r[H][0]))continue}else if(n(H))continue;var V=r[H][0]||{};if(!v(V,l,"omitDefault")&&!(H in S)){var W="@null";"@default"in V&&(W=o.clone(V["@default"])),a.isArray(W)||(W=[W]),S[H]=[{"@preserve":W}]}}}catch(ee){q.e(ee)}finally{q.f()}var K,J=_createForOfIteratorHelper(Object.keys(r["@reverse"]||{}).sort());try{for(J.s();!(K=J.n()).done;)for(var X=K.value,Q=r["@reverse"][X],Y=0,Z=Object.keys(e.subjects);Y<Z.length;Y++){var $=Z[Y];o.getValues(e.subjects[$],X).some((function(e){return e["@id"]===g}))&&(S["@reverse"]=S["@reverse"]||{},o.addValue(S["@reverse"],X,[],{propertyIsArray:!0}),h.frame(_objectSpread(_objectSpread({},e),{},{embedded:!0}),[$],Q,S["@reverse"][X],c))}}catch(ee){J.e(ee)}finally{J.f()}m(s,c,S),e.subjectStack.pop()}else m(s,c,S);else m(s,c,S)};for(E.s();!(_=E.n()).done;)T()}catch(I){E.e(I)}finally{E.f()}},h.cleanupNull=function(e,t){if(a.isArray(e))return e.map((function(e){return h.cleanupNull(e,t)})).filter((function(e){return e}));if("@null"===e)return null;if(a.isObject(e)){if("@id"in e){var r=e["@id"];if(t.link.hasOwnProperty(r)){var n=t.link[r].indexOf(e);if(-1!==n)return t.link[r][n];t.link[r].push(e)}else t.link[r]=[e]}for(var i in e)e[i]=h.cleanupNull(e[i],t)}return e}},{"./JsonLdError":22,"./context":30,"./graphTypes":37,"./nodeMap":39,"./types":41,"./url":42,"./util":43}],36:[function(e,t,r){"use strict";var n=e("./JsonLdError"),i=e("./graphTypes"),a=e("./types"),o=e("./util"),s=e("./constants"),u=s.RDF_LIST,c=s.RDF_FIRST,l=s.RDF_REST,f=s.RDF_NIL,h=s.RDF_TYPE,d=s.RDF_JSON_LITERAL,p=s.XSD_BOOLEAN,v=s.XSD_DOUBLE,g=s.XSD_INTEGER,y=s.XSD_STRING,b=/^[a-zA-Z]{1,8}(-[a-zA-Z0-9]{1,8})*$/,m={};function _(e,t,r){if(e.termType.endsWith("Node"))return{"@id":e.value};var i={"@value":e.value};if(e.language)i["@language"]=e.language;else{var o=e.datatype.value;if(o||(o=y),o===d){o="@json";try{i["@value"]=JSON.parse(i["@value"])}catch(f){throw new n("JSON literal could not be parsed.","jsonld.InvalidJsonLiteral",{code:"invalid JSON literal",value:i["@value"],cause:f})}}if(t){if(o===p)"true"===i["@value"]?i["@value"]=!0:"false"===i["@value"]&&(i["@value"]=!1);else if(a.isNumeric(i["@value"]))if(o===g){var s=parseInt(i["@value"],10);s.toFixed(0)===i["@value"]&&(i["@value"]=s)}else o===v&&(i["@value"]=parseFloat(i["@value"]));[p,g,v,y].includes(o)||(i["@type"]=o)}else if("i18n-datatype"===r&&o.startsWith("https://www.w3.org/ns/i18n#")){var u=_slicedToArray(o.split(/[#_]/),3),c=u[1],l=u[2];c.length>0&&(i["@language"]=c,c.match(b)||console.warn("@language must be valid BCP47: "+c)),i["@direction"]=l}else o!==y&&(i["@type"]=o)}return i}t.exports=m,m.fromRDF=function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(t,r){var n,s,d,p,v,g,y,b,m,w,x,k,S,E,T,I,j,N,O,A,R,C,L,D,M,P,F,B,U,G,z,q,H,V,W,K,J,X,Q,Y,Z,$,ee,te,re,ne,ie,ae,oe;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=r.useRdfType,s=void 0!==n&&n,d=r.useNativeTypes,p=void 0!==d&&d,v=r.rdfDirection,g=void 0===v?null:v,b={"@default":y={}},m={},w=_createForOfIteratorHelper(t),e.prev=3,w.s();case 5:if((x=w.n()).done){e.next=19;break}if(k=x.value,(S="DefaultGraph"===k.graph.termType?"@default":k.graph.value)in b||(b[S]={}),"@default"===S||S in y||(y[S]={"@id":S}),E=b[S],T=k.subject.value,I=k.predicate.value,j=k.object,T in E||(E[T]={"@id":T}),N=E[T],(O=j.termType.endsWith("Node"))&&!(j.value in E)&&(E[j.value]={"@id":j.value}),I!==h||s||!O){e.next=15;break}return o.addValue(N,"@type",j.value,{propertyIsArray:!0}),e.abrupt("continue",17);case 15:A=_(j,p,g),o.addValue(N,I,A,{propertyIsArray:!0}),O&&(j.value===f?("usages"in(R=E[j.value])||(R.usages=[]),R.usages.push({node:N,property:I,value:A})):m[j.value]=!(j.value in m)&&{node:N,property:I,value:A});case 17:e.next=5;break;case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(3),w.e(e.t0);case 24:return e.prev=24,w.f(),e.finish(24);case 27:e.t1=regeneratorRuntime.keys(b);case 28:if((e.t2=e.t1()).done){e.next=37;break}if(C=e.t2.value,L=b[C],f in L){e.next=33;break}return e.abrupt("continue",28);case 33:if((D=L[f]).usages){M=_createForOfIteratorHelper(D.usages);try{for(M.s();!(P=M.n()).done;){for(F=P.value,B=F.node,U=F.property,G=F.value,z=[],q=[],H=Object.keys(B).length;U===l&&a.isObject(m[B["@id"]])&&a.isArray(B[c])&&1===B[c].length&&a.isArray(B[l])&&1===B[l].length&&(3===H||4===H&&a.isArray(B["@type"])&&1===B["@type"].length&&B["@type"][0]===u)&&(z.push(B[c][0]),q.push(B["@id"]),F=m[B["@id"]],B=F.node,U=F.property,G=F.value,H=Object.keys(B).length,i.isBlankNode(B)););for(delete G["@id"],G["@list"]=z.reverse(),V=0,W=q;V<W.length;V++)K=W[V],delete L[K]}}catch(se){M.e(se)}finally{M.f()}delete D.usages}e.next=28;break;case 37:J=[],X=Object.keys(y).sort(),Q=_createForOfIteratorHelper(X);try{for(Q.s();!(Y=Q.n()).done;){if(Z=Y.value,$=y[Z],Z in b){ee=$["@graph"]=[],te=b[Z],re=Object.keys(te).sort(),ne=_createForOfIteratorHelper(re);try{for(ne.s();!(ie=ne.n()).done;)ae=ie.value,oe=te[ae],i.isSubjectReference(oe)||ee.push(oe)}catch(se){ne.e(se)}finally{ne.f()}}i.isSubjectReference($)||J.push($)}}catch(se){Q.e(se)}finally{Q.f()}return e.abrupt("return",J);case 41:case"end":return e.stop()}}),e,null,[[3,21,24,27]])})));return function(t,r){return e.apply(this,arguments)}}()},{"./JsonLdError":22,"./constants":29,"./graphTypes":37,"./types":41,"./util":43}],37:[function(e,t,r){"use strict";var n=e("./types"),i={};t.exports=i,i.isSubject=function(e){return!(!n.isObject(e)||"@value"in e||"@set"in e||"@list"in e)&&(Object.keys(e).length>1||!("@id"in e))},i.isSubjectReference=function(e){return n.isObject(e)&&1===Object.keys(e).length&&"@id"in e},i.isValue=function(e){return n.isObject(e)&&"@value"in e},i.isList=function(e){return n.isObject(e)&&"@list"in e},i.isGraph=function(e){return n.isObject(e)&&"@graph"in e&&1===Object.keys(e).filter((function(e){return"@id"!==e&&"@index"!==e})).length},i.isSimpleGraph=function(e){return i.isGraph(e)&&!("@id"in e)},i.isBlankNode=function(e){return!!n.isObject(e)&&("@id"in e?0===e["@id"].indexOf("_:"):0===Object.keys(e).length||!("@value"in e||"@set"in e||"@list"in e))}},{"./types":41}],38:[function(e,t,r){(function(r,n){var i=e("rdf-canonize"),a=e("./util"),o=e("./ContextResolver"),s=a.IdentifierIssuer,u=e("./JsonLdError"),c=e("lru-cache"),l=e("./NQuads"),f=e("./Rdfa"),h=e("./expand").expand,d=e("./flatten").flatten,p=e("./fromRdf").fromRDF,v=e("./toRdf").toRDF,g=e("./frame"),y=g.frameMergedOrDefault,b=g.cleanupNull,m=e("./types"),_=m.isArray,w=m.isObject,x=m.isString,k=e("./graphTypes").isSubjectReference,S=e("./context"),E=S.expandIri,T=S.getInitialContext,I=S.process,j=S.processingMode,N=e("./compact"),O=N.compact,A=N.compactIri,R=e("./nodeMap"),C=R.createNodeMap,L=R.createMergedNodeMap,D=R.mergeNodeMaps,M=void 0!==r&&r.versions&&r.versions.node,P=!M&&("undefined"!=typeof window||"undefined"!=typeof self),F=function(t){var r={},g=new c({max:100});function m(e,r){var n=r.documentLoader,i=void 0===n?t.documentLoader:n,a=_objectWithoutProperties(r,["documentLoader"]);return Object.assign({},{documentLoader:i},a,e)}return t.compact=function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(r,n,i){var c,l,f,h,d,p,v,y,b,k,S=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(S.length<2)){e.next=2;break}throw new TypeError("Could not compact, too few arguments.");case 2:if(null!==n){e.next=4;break}throw new u("The compaction context must not be null.","jsonld.CompactError",{code:"invalid local context"});case 4:if(null!==r){e.next=6;break}return e.abrupt("return",null);case 6:if((i=m(i,{base:x(r)?r:"",compactArrays:!0,compactToRelative:!0,graph:!1,skipExpansion:!1,link:!1,issuer:new s("_:b"),contextResolver:new o({sharedCache:g})})).link&&(i.skipExpansion=!0),i.compactToRelative||delete i.base,!i.skipExpansion){e.next=12;break}e.t0=r,e.next=15;break;case 12:return e.next=14,t.expand(r,i);case 14:e.t0=e.sent;case 15:return c=e.t0,e.next=18,t.processContext(T(i),n,i);case 18:return l=e.sent,e.next=21,O({activeCtx:l,element:c,options:i,compactionMap:i.compactionMap});case 21:f=e.sent,i.compactArrays&&!i.graph&&_(f)?1===f.length?f=f[0]:0===f.length&&(f={}):i.graph&&w(f)&&(f=[f]),w(n)&&"@context"in n&&(n=n["@context"]),n=a.clone(n),_(n)||(n=[n]),h=n,n=[];for(d=0;d<h.length;++d)(!w(h[d])||Object.keys(h[d]).length>0)&&n.push(h[d]);if(p=n.length>0,1===n.length&&(n=n[0]),_(f))v=A({activeCtx:l,iri:"@graph",relativeTo:{vocab:!0}}),y=f,f={},p&&(f["@context"]=n),f[v]=y;else if(w(f)&&p)for(k in b=f,f={"@context":n},b)f[k]=b[k];return e.abrupt("return",f);case 29:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),t.expand=function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(r,n){var i,s,u,c,l,f,d,p,v,y,b=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(b.length<1)){e.next=2;break}throw new TypeError("Could not expand, too few arguments.");case 2:if(!1===(n=m(n,{keepFreeFloatingNodes:!1,contextResolver:new o({sharedCache:g})})).expansionMap&&(n.expansionMap=void 0),i={},s=[],"expandContext"in n&&(u=a.clone(n.expandContext),i.expandContext=w(u)&&"@context"in u?u:{"@context":u},s.push(i.expandContext)),!x(r)){e.next=12;break}return e.next=8,t.get(r,n);case 8:l=e.sent,c=l.documentUrl,i.input=l.document,l.contextUrl&&(i.remoteContext={"@context":l.contextUrl},s.push(i.remoteContext)),e.next=13;break;case 12:i.input=a.clone(r);case 13:"base"in n||(n.base=c||""),f=T(n),d=0,p=s;case 16:if(!(d<p.length)){e.next=24;break}return v=p[d],e.next=20,I({activeCtx:f,localCtx:v,options:n});case 20:f=e.sent;case 21:d++,e.next=16;break;case 24:return e.next=26,h({activeCtx:f,element:i.input,options:n,expansionMap:n.expansionMap});case 26:return y=e.sent,e.abrupt("return",(w(y)&&"@graph"in y&&1===Object.keys(y).length?y=y["@graph"]:null===y&&(y=[]),_(y)||(y=[y]),y));case 28:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),t.flatten=function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(r,n,i){var a,s,u,c=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(c.length<1)){e.next=2;break}return e.abrupt("return",new TypeError("Could not flatten, too few arguments."));case 2:return n="function"==typeof n?null:n||null,i=m(i,{base:x(r)?r:"",contextResolver:new o({sharedCache:g})}),e.next=5,t.expand(r,i);case 5:if(a=e.sent,s=d(a),null!==n){e.next=9;break}return e.abrupt("return",s);case 9:return i.graph=!0,i.skipExpansion=!0,e.next=12,t.compact(s,n,i);case 12:return u=e.sent,e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),t.frame=function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(r,n,i){var a,s,u,c,l,f,h,d,p,v,w=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(w.length<2)){e.next=2;break}throw new TypeError("Could not frame, too few arguments.");case 2:if(i=m(i,{base:x(r)?r:"",embed:"@once",explicit:!1,requireAll:!1,omitDefault:!1,bnodesToClear:[],contextResolver:new o({sharedCache:g})}),!x(n)){e.next=7;break}return e.next=5,t.get(n,i);case 5:a=e.sent,n=a.document,a.contextUrl&&((s=n["@context"])?_(s)?s.push(a.contextUrl):s=[s,a.contextUrl]:s=a.contextUrl,n["@context"]=s);case 7:return u=n&&n["@context"]||{},e.next=10,t.processContext(T(i),u,i);case 10:return c=e.sent,i.hasOwnProperty("omitGraph")||(i.omitGraph=j(c,1.1)),i.hasOwnProperty("pruneBlankNodeIdentifiers")||(i.pruneBlankNodeIdentifiers=j(c,1.1)),e.next=14,t.expand(r,i);case 14:return l=e.sent,(f=_objectSpread({},i)).isFrame=!0,f.keepFreeFloatingNodes=!0,e.next=19,t.expand(n,f);case 19:return h=e.sent,d=Object.keys(n).map((function(e){return E(c,e,{vocab:!0})})),f.merged=!d.includes("@graph"),f.is11=j(c,1.1),p=y(l,h,f),f.graph=!i.omitGraph,f.skipExpansion=!0,f.link={},f.framing=!0,e.next=26,t.compact(p,u,f);case 26:return v=e.sent,e.abrupt("return",(f.link={},v=b(v,f)));case 28:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),t.link=function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(r,n,i){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},e.abrupt("return",(n&&(a["@context"]=n),a["@embed"]="@link",t.frame(r,a,i)));case 2:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),t.normalize=t.canonize=function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(r,n){var a,s,c,f=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(f.length<1)){e.next=2;break}throw new TypeError("Could not canonize, too few arguments.");case 2:if(!("inputFormat"in(n=m(n,{base:x(r)?r:"",algorithm:"URDNA2015",skipExpansion:!1,contextResolver:new o({sharedCache:g})})))){e.next=7;break}if("application/n-quads"===n.inputFormat||"application/nquads"===n.inputFormat){e.next=5;break}throw new u("Unknown canonicalization input format.","jsonld.CanonizeError");case 5:return a=l.parse(r),e.abrupt("return",i.canonize(a,n));case 7:return delete(s=_objectSpread({},n)).format,s.produceGeneralizedRdf=!1,e.next=11,t.toRDF(r,s);case 11:return c=e.sent,e.abrupt("return",i.canonize(c,n));case 13:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),t.fromRDF=function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(t,n){var i,a,o,s=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(s.length<1)){e.next=2;break}throw new TypeError("Could not convert from RDF, too few arguments.");case 2:if(n=m(n,{format:x(t)?"application/n-quads":void 0}),i=n.format,a=n.rdfParser,!i){e.next=10;break}if(a=a||r[i]){e.next=8;break}throw new u("Unknown input format.","jsonld.UnknownFormat",{format:i});case 8:e.next=11;break;case 10:a=function(){return t};case 11:return e.next=13,a(t);case 13:return o=e.sent,e.abrupt("return",p(o,n));case 15:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),t.toRDF=function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(r,n){var i,a,s=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(s.length<1)){e.next=2;break}throw new TypeError("Could not convert to RDF, too few arguments.");case 2:if(!(n=m(n,{base:x(r)?r:"",skipExpansion:!1,contextResolver:new o({sharedCache:g})})).skipExpansion){e.next=6;break}e.t0=r,e.next=9;break;case 6:return e.next=8,t.expand(r,n);case 8:e.t0=e.sent;case 9:if(i=e.t0,a=v(i,n),!n.format){e.next=17;break}if("application/n-quads"!==n.format&&"application/nquads"!==n.format){e.next=16;break}return e.next=15,l.serialize(a);case 15:return e.abrupt("return",e.sent);case 16:throw new u("Unknown output format.","jsonld.UnknownFormat",{format:n.format});case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),t.createNodeMap=function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(r,n){var i,a=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a.length<1)){e.next=2;break}throw new TypeError("Could not create node map, too few arguments.");case 2:return n=m(n,{base:x(r)?r:"",contextResolver:new o({sharedCache:g})}),e.next=5,t.expand(r,n);case 5:return i=e.sent,e.abrupt("return",L(i,n));case 7:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),t.merge=function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(r,n,i){var u,c,l,f,h,d,p,v,y,b,w,x,S,E,T,I,j,N=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(N.length<1)){e.next=2;break}throw new TypeError("Could not merge, too few arguments.");case 2:if(_(r)){e.next=4;break}throw new TypeError('Could not merge, "docs" must be an array.');case 4:return n="function"==typeof n?null:n||null,i=m(i,{contextResolver:new o({sharedCache:g})}),e.next=7,Promise.all(r.map((function(e){var r=_objectSpread({},i);return t.expand(e,r)})));case 7:u=e.sent,c=!0,"mergeNodes"in i&&(c=i.mergeNodes),l=i.issuer||new s("_:b"),f={"@default":{}},h=0;case 12:if(!(h<u.length)){e.next=29;break}if(d=a.relabelBlankNodes(u[h],{issuer:new s("_:b"+h+"-")}),C(d,p=c||0===h?f:{"@default":{}},"@default",l),p===f){e.next=26;break}e.t0=regeneratorRuntime.keys(p);case 16:if((e.t1=e.t0()).done){e.next=26;break}if(v=e.t1.value,y=p[v],v in f){e.next=22;break}return f[v]=y,e.abrupt("continue",16);case 22:for(w in b=f[v],y)w in b||(b[w]=y[w]);e.next=16;break;case 26:++h,e.next=12;break;case 29:for(x=D(f),S=[],E=Object.keys(x).sort(),T=0;T<E.length;++T)I=x[E[T]],k(I)||S.push(I);if(null!==n){e.next=33;break}return e.abrupt("return",S);case 33:return i.graph=!0,i.skipExpansion=!0,e.next=36,t.compact(S,n,i);case 36:return j=e.sent,e.abrupt("return",j);case 38:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),Object.defineProperty(t,"documentLoader",{get:function(){return t._documentLoader},set:function(e){return t._documentLoader=e}}),t.documentLoader=function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new u("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed",url:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.get=function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(r,n){var i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i="function"==typeof n.documentLoader?n.documentLoader:t.documentLoader,e.next=3,i(r);case 3:if(a=e.sent,e.prev=4,a.document){e.next=7;break}throw new u("No remote document found at the given URL.","jsonld.NullRemoteDocument");case 7:x(a.document)&&(a.document=JSON.parse(a.document)),e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(4),new u("Could not retrieve a JSON-LD document from the URL.","jsonld.LoadDocumentError",{code:"loading document failed",cause:e.t0,remoteDoc:a});case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e,null,[[4,10]])})));return function(t,r){return e.apply(this,arguments)}}(),t.processContext=function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(t,r,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(n=m(n,{base:"",contextResolver:new o({sharedCache:g})}),null===r?T(n):(r=a.clone(r),w(r)&&"@context"in r||(r={"@context":r}),I({activeCtx:t,localCtx:r,options:n}))));case 1:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),t.getContextValue=e("./context").getContextValue,t.documentLoaders={},t.documentLoaders.node=e("./documentLoaders/node"),t.documentLoaders.xhr=e("./documentLoaders/xhr"),t.useDocumentLoader=function(e){if(!(e in t.documentLoaders))throw new u('Unknown document loader type: "'+e+'"',"jsonld.UnknownDocumentLoader",{type:e});t.documentLoader=t.documentLoaders[e].apply(t,Array.prototype.slice.call(arguments,1))},t.registerRDFParser=function(e,t){r[e]=t},t.unregisterRDFParser=function(e){delete r[e]},t.registerRDFParser("application/n-quads",l.parse),t.registerRDFParser("application/nquads",l.parse),t.registerRDFParser("rdfa-api",f.parse),t.url=e("./url"),t.util=a,Object.assign(t,a),t.promises=t,t.RequestQueue=e("./RequestQueue"),t.JsonLdProcessor=e("./JsonLdProcessor")(t),P&&void 0===n.JsonLdProcessor&&Object.defineProperty(n,"JsonLdProcessor",{writable:!0,enumerable:!1,configurable:!0,value:t.JsonLdProcessor}),M?t.useDocumentLoader("node"):"undefined"!=typeof XMLHttpRequest&&t.useDocumentLoader("xhr"),t},B=function e(){return F((function(){return e()}))};F(B),t.exports=B}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./ContextResolver":21,"./JsonLdError":22,"./JsonLdProcessor":23,"./NQuads":24,"./Rdfa":25,"./RequestQueue":26,"./compact":28,"./context":30,"./documentLoaders/node":31,"./documentLoaders/xhr":32,"./expand":33,"./flatten":34,"./frame":35,"./fromRdf":36,"./graphTypes":37,"./nodeMap":39,"./toRdf":40,"./types":41,"./url":42,"./util":43,_process:62,"lru-cache":44,"rdf-canonize":73}],39:[function(e,t,r){"use strict";var n=e("./context").isKeyword,i=e("./graphTypes"),a=e("./types"),o=e("./util"),s=e("./JsonLdError"),u={};t.exports=u,u.createMergedNodeMap=function(e,t){var r=(t=t||{}).issuer||new o.IdentifierIssuer("_:b"),n={"@default":{}};return u.createNodeMap(e,n,"@default",r),u.mergeNodeMaps(n)},u.createNodeMap=function(e,t,r,c,l,f){if(a.isArray(e)){var h,d=_createForOfIteratorHelper(e);try{for(d.s();!(h=d.n()).done;){var p=h.value;u.createNodeMap(p,t,r,c,void 0,f)}}catch(F){d.e(F)}finally{d.f()}}else if(a.isObject(e))if(i.isValue(e)){if("@type"in e){var v=e["@type"];0===v.indexOf("_:")&&(e["@type"]=v=c.getId(v))}f&&f.push(e)}else{if(f&&i.isList(e)){var g=[];return u.createNodeMap(e["@list"],t,r,c,l,g),void f.push({"@list":g})}if("@type"in e){var y,b=_createForOfIteratorHelper(e["@type"]);try{for(b.s();!(y=b.n()).done;){var m=y.value;0===m.indexOf("_:")&&c.getId(m)}}catch(F){b.e(F)}finally{b.f()}}a.isUndefined(l)&&(l=i.isBlankNode(e)?c.getId(e["@id"]):e["@id"]),f&&f.push({"@id":l});var _=t[r],w=_[l]=_[l]||{};w["@id"]=l;var x,k=_createForOfIteratorHelper(Object.keys(e).sort());try{for(k.s();!(x=k.n()).done;){var S=x.value;if("@id"!==S)if("@reverse"!==S)if("@graph"!==S)if("@included"!==S)if("@type"!==S&&n(S)){if("@index"===S&&S in w&&(e[S]!==w[S]||e[S]["@id"]!==w[S]["@id"]))throw new s("Invalid JSON-LD syntax; conflicting @index property detected.","jsonld.SyntaxError",{code:"conflicting indexes",subject:w});w[S]=e[S]}else{var E=e[S];if(0===S.indexOf("_:")&&(S=c.getId(S)),0!==E.length){var T,I=_createForOfIteratorHelper(E);try{for(I.s();!(T=I.n()).done;){var j=T.value;if("@type"===S&&(j=0===j.indexOf("_:")?c.getId(j):j),i.isSubject(j)||i.isSubjectReference(j)){if("@id"in j&&!j["@id"])continue;var N=i.isBlankNode(j)?c.getId(j["@id"]):j["@id"];o.addValue(w,S,{"@id":N},{propertyIsArray:!0,allowDuplicate:!1}),u.createNodeMap(j,t,r,c,N)}else if(i.isValue(j))o.addValue(w,S,j,{propertyIsArray:!0,allowDuplicate:!1});else if(i.isList(j)){var O=[];u.createNodeMap(j["@list"],t,r,c,l,O),j={"@list":O},o.addValue(w,S,j,{propertyIsArray:!0,allowDuplicate:!1})}else u.createNodeMap(j,t,r,c,l),o.addValue(w,S,j,{propertyIsArray:!0,allowDuplicate:!1})}}catch(F){I.e(F)}finally{I.f()}}else o.addValue(w,S,[],{propertyIsArray:!0})}else u.createNodeMap(e[S],t,r,c);else l in t||(t[l]={}),u.createNodeMap(e[S],t,l,c);else{var A={"@id":l},R=e["@reverse"];for(var C in R){var L,D=_createForOfIteratorHelper(R[C]);try{for(D.s();!(L=D.n()).done;){var M=L.value,P=M["@id"];i.isBlankNode(M)&&(P=c.getId(P)),u.createNodeMap(M,t,r,c,P),o.addValue(_[P],C,A,{propertyIsArray:!0,allowDuplicate:!1})}}catch(F){D.e(F)}finally{D.f()}}}}}catch(F){k.e(F)}finally{k.f()}}else f&&f.push(e)},u.mergeNodeMapGraphs=function(e){var t,r={},i=_createForOfIteratorHelper(Object.keys(e).sort());try{for(i.s();!(t=i.n()).done;){var a,s=t.value,u=_createForOfIteratorHelper(Object.keys(e[s]).sort());try{for(u.s();!(a=u.n()).done;){var c=a.value,l=e[s][c];c in r||(r[c]={"@id":c});var f,h=r[c],d=_createForOfIteratorHelper(Object.keys(l).sort());try{for(d.s();!(f=d.n()).done;){var p=f.value;if(n(p)&&"@type"!==p)h[p]=o.clone(l[p]);else{var v,g=_createForOfIteratorHelper(l[p]);try{for(g.s();!(v=g.n()).done;){var y=v.value;o.addValue(h,p,o.clone(y),{propertyIsArray:!0,allowDuplicate:!1})}}catch(b){g.e(b)}finally{g.f()}}}}catch(b){d.e(b)}finally{d.f()}}}catch(b){u.e(b)}finally{u.f()}}}catch(b){i.e(b)}finally{i.f()}return r},u.mergeNodeMaps=function(e){var t,r=e["@default"],n=_createForOfIteratorHelper(Object.keys(e).sort());try{for(n.s();!(t=n.n()).done;){var a=t.value;if("@default"!==a){var o=e[a],s=r[a];s?"@graph"in s||(s["@graph"]=[]):r[a]=s={"@id":a,"@graph":[]};var u,c=s["@graph"],l=_createForOfIteratorHelper(Object.keys(o).sort());try{for(l.s();!(u=l.n()).done;){var f=o[u.value];i.isSubjectReference(f)||c.push(f)}}catch(h){l.e(h)}finally{l.f()}}}}catch(h){n.e(h)}finally{n.f()}return r}},{"./JsonLdError":22,"./context":30,"./graphTypes":37,"./types":41,"./util":43}],40:[function(e,t,r){"use strict";var n=e("./nodeMap").createNodeMap,i=e("./context").isKeyword,a=e("./graphTypes"),o=e("canonicalize"),s=e("./types"),u=e("./util"),c=e("./constants"),l=c.RDF_FIRST,f=c.RDF_REST,h=c.RDF_NIL,d=c.RDF_TYPE,p=c.RDF_JSON_LITERAL,v=c.RDF_LANGSTRING,g=c.XSD_BOOLEAN,y=c.XSD_DOUBLE,b=c.XSD_INTEGER,m=c.XSD_STRING,_=e("./url").isAbsolute,w={};function x(e,t,r,n,a){var o,s=_createForOfIteratorHelper(Object.keys(t).sort());try{for(s.s();!(o=s.n()).done;){var u,c=o.value,l=t[c],f=_createForOfIteratorHelper(Object.keys(l).sort());try{for(f.s();!(u=f.n()).done;){var h=u.value,p=l[h];if("@type"===h)h=d;else if(i(h))continue;var v,g=_createForOfIteratorHelper(p);try{for(g.s();!(v=g.n()).done;){var y=v.value,b={termType:c.startsWith("_:")?"BlankNode":"NamedNode",value:c};if(_(c)){var m={termType:h.startsWith("_:")?"BlankNode":"NamedNode",value:h};if(_(h)&&("BlankNode"!==m.termType||a.produceGeneralizedRdf)){var w=k(y,n,e,r,a.rdfDirection);w&&e.push({subject:b,predicate:m,object:w,graph:r})}}}}catch(x){g.e(x)}finally{g.f()}}}catch(x){f.e(x)}finally{f.f()}}}catch(x){s.e(x)}finally{s.f()}}function k(e,t,r,n,i){var u={};if(a.isValue(e)){u.termType="Literal",u.value=void 0,u.datatype={termType:"NamedNode"};var c=e["@value"],d=e["@type"]||null;"@json"===d?(u.value=o(c),u.datatype.value=p):s.isBoolean(c)?(u.value=c.toString(),u.datatype.value=d||g):s.isDouble(c)||d===y?(s.isDouble(c)||(c=parseFloat(c)),u.value=c.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),u.datatype.value=d||y):s.isNumber(c)?(u.value=c.toFixed(0),u.datatype.value=d||b):"i18n-datatype"===i&&"@direction"in e?(u.datatype.value="https://www.w3.org/ns/i18n#"+(e["@language"]||"")+"_"+e["@direction"],u.value=c):"@language"in e?(u.value=c,u.datatype.value=d||v,u.language=e["@language"]):(u.value=c,u.datatype.value=d||m)}else if(a.isList(e)){var w=function(e,t,r,n,i){var a,o={termType:"NamedNode",value:l},s={termType:"NamedNode",value:f},u={termType:"NamedNode",value:h},c=e.pop(),d=c?{termType:"BlankNode",value:t.getId()}:u,p=d,v=_createForOfIteratorHelper(e);try{for(v.s();!(a=v.n()).done;){var g=k(a.value,t,r,n,i),y={termType:"BlankNode",value:t.getId()};r.push({subject:p,predicate:o,object:g,graph:n}),r.push({subject:p,predicate:s,object:y,graph:n}),p=y}}catch(m){v.e(m)}finally{v.f()}if(c){var b=k(c,t,r,n,i);r.push({subject:p,predicate:o,object:b,graph:n}),r.push({subject:p,predicate:s,object:u,graph:n})}return d}(e["@list"],t,r,n,i);u.termType=w.termType,u.value=w.value}else{var x=s.isObject(e)?e["@id"]:e;u.termType=x.startsWith("_:")?"BlankNode":"NamedNode",u.value=x}return"NamedNode"!==u.termType||_(u.value)?u:null}t.exports=w,w.toRDF=function(e,t){var r=new u.IdentifierIssuer("_:b"),i={"@default":{}};n(e,i,"@default",r);var a,o=[],s=_createForOfIteratorHelper(Object.keys(i).sort());try{for(s.s();!(a=s.n()).done;){var c=a.value,l=void 0;if("@default"===c)l={termType:"DefaultGraph",value:""};else{if(!_(c))continue;(l=c.startsWith("_:")?{termType:"BlankNode"}:{termType:"NamedNode"}).value=c}x(o,i[c],l,r,t)}}catch(f){s.e(f)}finally{s.f()}return o}},{"./constants":29,"./context":30,"./graphTypes":37,"./nodeMap":39,"./types":41,"./url":42,"./util":43,canonicalize:15}],41:[function(e,t,r){"use strict";var n={};t.exports=n,n.isArray=Array.isArray,n.isBoolean=function(e){return"boolean"==typeof e||"[object Boolean]"===Object.prototype.toString.call(e)},n.isDouble=function(e){return n.isNumber(e)&&(-1!==String(e).indexOf(".")||Math.abs(e)>=1e21)},n.isEmptyObject=function(e){return n.isObject(e)&&0===Object.keys(e).length},n.isNumber=function(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)},n.isNumeric=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},n.isObject=function(e){return"[object Object]"===Object.prototype.toString.call(e)},n.isString=function(e){return"string"==typeof e||"[object String]"===Object.prototype.toString.call(e)},n.isUndefined=function(e){return void 0===e}},{}],42:[function(e,t,r){"use strict";var n=e("./types"),i={};t.exports=i,i.parsers={simple:{keys:["href","scheme","authority","path","query","fragment"],regex:/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/},full:{keys:["href","protocol","scheme","authority","auth","user","password","hostname","port","path","directory","file","query","fragment"],regex:/^(([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?(?:(((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/}},i.parse=function(e,t){for(var r={},n=i.parsers[t||"full"],a=n.regex.exec(e),o=n.keys.length;o--;)r[n.keys[o]]=void 0===a[o]?null:a[o];return("https"===r.scheme&&"443"===r.port||"http"===r.scheme&&"80"===r.port)&&(r.href=r.href.replace(":"+r.port,""),r.authority=r.authority.replace(":"+r.port,""),r.port=null),r.normalizedPath=i.removeDotSegments(r.path),r},i.prependBase=function(e,t){if(null===e)return t;if(i.isAbsolute(t))return t;e&&!n.isString(e)||(e=i.parse(e||""));var r=i.parse(t),a={protocol:e.protocol||""};if(null!==r.authority)a.authority=r.authority,a.path=r.path,a.query=r.query;else if(a.authority=e.authority,""===r.path)a.path=e.path,a.query=null!==r.query?r.query:e.query;else{if(0===r.path.indexOf("/"))a.path=r.path;else{var o=e.path;((o=o.substr(0,o.lastIndexOf("/")+1)).length>0||e.authority)&&"/"!==o.substr(-1)&&(o+="/"),o+=r.path,a.path=o}a.query=r.query}""!==r.path&&(a.path=i.removeDotSegments(a.path));var s=a.protocol;return null!==a.authority&&(s+="//"+a.authority),s+=a.path,null!==a.query&&(s+="?"+a.query),null!==r.fragment&&(s+="#"+r.fragment),""===s&&(s="./"),s},i.removeBase=function(e,t){if(null===e)return t;e&&!n.isString(e)||(e=i.parse(e||""));var r="";if(""!==e.href?r+=(e.protocol||"")+"//"+(e.authority||""):t.indexOf("//")&&(r+="//"),0!==t.indexOf(r))return t;for(var a=i.parse(t.substr(r.length)),o=e.normalizedPath.split("/"),s=a.normalizedPath.split("/"),u=a.fragment||a.query?0:1;o.length>0&&s.length>u&&o[0]===s[0];)o.shift(),s.shift();var c="";if(o.length>0){o.pop();for(var l=0;l<o.length;++l)c+="../"}return c+=s.join("/"),null!==a.query&&(c+="?"+a.query),null!==a.fragment&&(c+="#"+a.fragment),""===c&&(c="./"),c},i.removeDotSegments=function(e){if(0===e.length)return"";for(var t=e.split("/"),r=[];t.length>0;){var n=t.shift(),i=0===t.length;"."!==n?".."!==n?r.push(n):(r.pop(),i&&r.push("")):i&&r.push("")}return"/"===e[0]&&r.length>0&&""!==r[0]&&r.unshift(""),1===r.length&&""===r[0]?"/":r.join("/")};var a=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^\s]*$/;i.isAbsolute=function(e){return n.isString(e)&&a.test(e)},i.isRelative=function(e){return n.isString(e)}},{"./types":41}],43:[function(e,t,r){"use strict";var n=e("./graphTypes"),i=e("./types"),a=e("rdf-canonize").IdentifierIssuer,o=e("./JsonLdError"),s=/(?:<[^>]*?>|"[^"]*?"|[^,])+/g,u=/\s*<([^>]*?)>\s*(?:;\s*(.*))?/,c=/(.*?)=(?:(?:"([^"]*?)")|([^"]*?))\s*(?:(?:;\s*)|$)/g,l={};t.exports=l,l.IdentifierIssuer=a,l.clone=function(e){if(e&&"object"==typeof e){var t;if(i.isArray(e)){t=[];for(var r=0;r<e.length;++r)t[r]=l.clone(e[r])}else if(e instanceof Map){t=new Map;var n,a=_createForOfIteratorHelper(e);try{for(a.s();!(n=a.n()).done;){var o=_slicedToArray(n.value,2),s=o[0],u=o[1];t.set(s,l.clone(u))}}catch(p){a.e(p)}finally{a.f()}}else if(e instanceof Set){t=new Set;var c,f=_createForOfIteratorHelper(e);try{for(f.s();!(c=f.n()).done;){var h=c.value;t.add(l.clone(h))}}catch(p){f.e(p)}finally{f.f()}}else if(i.isObject(e))for(var d in t={},e)t[d]=l.clone(e[d]);else t=e.toString();return t}return e},l.asArray=function(e){return Array.isArray(e)?e:[e]},l.buildHeaders=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object.keys(e).some((function(e){return"accept"===e.toLowerCase()})))throw new RangeError('Accept header may not be specified; only "application/ld+json, application/json" is supported.');return Object.assign({Accept:"application/ld+json, application/json"},e)},l.parseLinkHeader=function(e){for(var t={},r=e.match(s),n=0;n<r.length;++n){var i=r[n].match(u);if(i){for(var a={target:i[1]},o=i[2];i=c.exec(o);)a[i[1]]=void 0===i[2]?i[3]:i[2];var l=a.rel||"";Array.isArray(t[l])?t[l].push(a):t[l]=t.hasOwnProperty(l)?[t[l],a]:a}}return t},l.validateTypeValue=function(e,t){if(!(i.isString(e)||i.isArray(e)&&e.every((function(e){return i.isString(e)})))){if(t&&i.isObject(e))switch(Object.keys(e).length){case 0:return;case 1:if("@default"in e&&l.asArray(e["@default"]).every((function(e){return i.isString(e)})))return}throw new o('Invalid JSON-LD syntax; "@type" value must a string, an array of strings, an empty object, or a default object.',"jsonld.SyntaxError",{code:"invalid type value",value:e})}},l.hasProperty=function(e,t){if(e.hasOwnProperty(t)){var r=e[t];return!i.isArray(r)||r.length>0}return!1},l.hasValue=function(e,t,r){if(l.hasProperty(e,t)){var a=e[t],o=n.isList(a);if(i.isArray(a)||o){o&&(a=a["@list"]);for(var s=0;s<a.length;++s)if(l.compareValues(r,a[s]))return!0}else if(!i.isArray(r))return l.compareValues(r,a)}return!1},l.addValue=function(e,t,r,n){if("propertyIsArray"in(n=n||{})||(n.propertyIsArray=!1),"valueIsArray"in n||(n.valueIsArray=!1),"allowDuplicate"in n||(n.allowDuplicate=!0),"prependValue"in n||(n.prependValue=!1),n.valueIsArray)e[t]=r;else if(i.isArray(r)){0===r.length&&n.propertyIsArray&&!e.hasOwnProperty(t)&&(e[t]=[]),n.prependValue&&(r=r.concat(e[t]),e[t]=[]);for(var a=0;a<r.length;++a)l.addValue(e,t,r[a],n)}else if(e.hasOwnProperty(t)){var o=!n.allowDuplicate&&l.hasValue(e,t,r);i.isArray(e[t])||o&&!n.propertyIsArray||(e[t]=[e[t]]),o||(n.prependValue?e[t].unshift(r):e[t].push(r))}else e[t]=n.propertyIsArray?[r]:r},l.getValues=function(e,t){return[].concat(e[t]||[])},l.removeProperty=function(e,t){delete e[t]},l.removeValue=function(e,t,r,n){"propertyIsArray"in(n=n||{})||(n.propertyIsArray=!1);var i=l.getValues(e,t).filter((function(e){return!l.compareValues(e,r)}));0===i.length?l.removeProperty(e,t):e[t]=1!==i.length||n.propertyIsArray?i:i[0]},l.relabelBlankNodes=function(e,t){return function e(t,r){if(i.isArray(r))for(var a=0;a<r.length;++a)r[a]=e(t,r[a]);else if(n.isList(r))r["@list"]=e(t,r["@list"]);else if(i.isObject(r)){n.isBlankNode(r)&&(r["@id"]=t.getId(r["@id"]));for(var o=Object.keys(r).sort(),s=0;s<o.length;++s){var u=o[s];"@id"!==u&&(r[u]=e(t,r[u]))}}return r}((t=t||{}).issuer||new a("_:b"),e)},l.compareValues=function(e,t){return e===t||!(!n.isValue(e)||!n.isValue(t)||e["@value"]!==t["@value"]||e["@type"]!==t["@type"]||e["@language"]!==t["@language"]||e["@index"]!==t["@index"])||!!(i.isObject(e)&&"@id"in e&&i.isObject(t)&&"@id"in t)&&e["@id"]===t["@id"]},l.compareShortestLeast=function(e,t){return e.length<t.length?-1:t.length<e.length?1:e===t?0:e<t?-1:1}},{"./JsonLdError":22,"./graphTypes":37,"./types":41,"rdf-canonize":73}],44:[function(e,t,r){"use strict";var n=e("yallist"),i=Symbol("max"),a=Symbol("length"),o=Symbol("lengthCalculator"),s=Symbol("allowStale"),u=Symbol("maxAge"),c=Symbol("dispose"),l=Symbol("noDisposeOnSet"),f=Symbol("lruList"),h=Symbol("cache"),d=Symbol("updateAgeOnGet"),p=function(){return 1},v=function(e,t,r){var n=e[h].get(t);if(n){var i=n.value;if(g(e,i)){if(b(e,n),!e[s])return}else r&&(e[d]&&(n.value.now=Date.now()),e[f].unshiftNode(n));return i.value}},g=function(e,t){if(!t||!t.maxAge&&!e[u])return!1;var r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[u]&&r>e[u]},y=function(e){if(e[a]>e[i])for(var t=e[f].tail;e[a]>e[i]&&null!==t;){var r=t.prev;b(e,t),t=r}},b=function(e,t){if(t){var r=t.value;e[c]&&e[c](r.key,r.value),e[a]-=r.length,e[h].delete(r.key),e[f].removeNode(t)}},m=function e(t,r,n,i,a){_classCallCheck2(this,e),this.key=t,this.value=r,this.length=n,this.now=i,this.maxAge=a||0},_=function(e,t,r,n){var i=r.value;g(e,i)&&(b(e,r),e[s]||(i=void 0)),i&&t.call(n,i.value,i.key,e)};t.exports=function(){function e(t){if(_classCallCheck2(this,e),"number"==typeof t&&(t={max:t}),t||(t={}),t.max&&("number"!=typeof t.max||t.max<0))throw new TypeError("max must be a non-negative number");this[i]=t.max||1/0;var r=t.length||p;if(this[o]="function"!=typeof r?p:r,this[s]=t.stale||!1,t.maxAge&&"number"!=typeof t.maxAge)throw new TypeError("maxAge must be a number");this[u]=t.maxAge||0,this[c]=t.dispose,this[l]=t.noDisposeOnSet||!1,this[d]=t.updateAgeOnGet||!1,this.reset()}return _createClass2(e,[{key:"rforEach",value:function(e,t){t=t||this;for(var r=this[f].tail;null!==r;){var n=r.prev;_(this,e,r,t),r=n}}},{key:"forEach",value:function(e,t){t=t||this;for(var r=this[f].head;null!==r;){var n=r.next;_(this,e,r,t),r=n}}},{key:"keys",value:function(){return this[f].toArray().map((function(e){return e.key}))}},{key:"values",value:function(){return this[f].toArray().map((function(e){return e.value}))}},{key:"reset",value:function(){var e=this;this[c]&&this[f]&&this[f].length&&this[f].forEach((function(t){return e[c](t.key,t.value)})),this[h]=new Map,this[f]=new n,this[a]=0}},{key:"dump",value:function(){var e=this;return this[f].map((function(t){return!g(e,t)&&{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}})).toArray().filter((function(e){return e}))}},{key:"dumpLru",value:function(){return this[f]}},{key:"set",value:function(e,t,r){if((r=r||this[u])&&"number"!=typeof r)throw new TypeError("maxAge must be a number");var n=r?Date.now():0,s=this[o](t,e);if(this[h].has(e)){if(s>this[i])return b(this,this[h].get(e)),!1;var d=this[h].get(e).value;return this[c]&&(this[l]||this[c](e,d.value)),d.now=n,d.maxAge=r,d.value=t,this[a]+=s-d.length,d.length=s,this.get(e),y(this),!0}var p=new m(e,t,s,n,r);return p.length>this[i]?(this[c]&&this[c](e,t),!1):(this[a]+=p.length,this[f].unshift(p),this[h].set(e,this[f].head),y(this),!0)}},{key:"has",value:function(e){if(!this[h].has(e))return!1;var t=this[h].get(e).value;return!g(this,t)}},{key:"get",value:function(e){return v(this,e,!0)}},{key:"peek",value:function(e){return v(this,e,!1)}},{key:"pop",value:function(){var e=this[f].tail;return e?(b(this,e),e.value):null}},{key:"del",value:function(e){b(this,this[h].get(e))}},{key:"load",value:function(e){this.reset();for(var t=Date.now(),r=e.length-1;r>=0;r--){var n=e[r],i=n.e||0;if(0===i)this.set(n.k,n.v);else{var a=i-t;a>0&&this.set(n.k,n.v,a)}}}},{key:"prune",value:function(){var e=this;this[h].forEach((function(t,r){return v(e,r,!1)}))}},{key:"max",set:function(e){if("number"!=typeof e||e<0)throw new TypeError("max must be a non-negative number");this[i]=e||1/0,y(this)},get:function(){return this[i]}},{key:"allowStale",set:function(e){this[s]=!!e},get:function(){return this[s]}},{key:"maxAge",set:function(e){if("number"!=typeof e)throw new TypeError("maxAge must be a non-negative number");this[u]=e,y(this)},get:function(){return this[u]}},{key:"lengthCalculator",set:function(e){var t=this;"function"!=typeof e&&(e=p),e!==this[o]&&(this[o]=e,this[a]=0,this[f].forEach((function(e){e.length=t[o](e.value,e.key),t[a]+=e.length}))),y(this)},get:function(){return this[o]}},{key:"length",get:function(){return this[a]}},{key:"itemCount",get:function(){return this[f].length}}]),e}()},{yallist:116}],45:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n="http://www.w3.org/1999/02/22-rdf-syntax-ns#",i="http://www.w3.org/2001/XMLSchema#",a="http://www.w3.org/2000/10/swap/";r.default={xsd:{decimal:i+"decimal",boolean:i+"boolean",double:i+"double",integer:i+"integer",string:i+"string"},rdf:{type:n+"type",nil:n+"nil",first:n+"first",rest:n+"rest",langString:n+"langString"},owl:{sameAs:"http://www.w3.org/2002/07/owl#sameAs"},r:{forSome:a+"reify#forSome",forAll:a+"reify#forAll"},log:{implies:a+"log#implies"}}},{}],46:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,i,a,o=((n=e("./IRIs"))&&n.__esModule?n:{default:n}).default,s=o.rdf,u=o.xsd,c=0,l=function(){function e(t){_classCallCheck2(this,e),this.id=t}return _createClass2(e,[{key:"equals",value:function(t){return t instanceof e?this.id===t.id:!!t&&this.termType===t.termType&&this.value===t.value}},{key:"toJSON",value:function(){return{termType:this.termType,value:this.value}}},{key:"value",get:function(){return this.id}}]),e}(),f=function(e){_inherits2(r,e);var t=_createSuper(r);function r(){return _classCallCheck2(this,r),t.apply(this,arguments)}return _createClass2(r,[{key:"termType",get:function(){return"NamedNode"}}]),r}(l),h=function(e){_inherits2(r,e);var t=_createSuper(r);function r(){return _classCallCheck2(this,r),t.apply(this,arguments)}return _createClass2(r,[{key:"equals",value:function(e){return e instanceof r?this.id===e.id:!!e&&!!e.datatype&&this.termType===e.termType&&this.value===e.value&&this.language===e.language&&this.datatype.value===e.datatype.value}},{key:"toJSON",value:function(){return{termType:this.termType,value:this.value,language:this.language,datatype:{termType:"NamedNode",value:this.datatypeString}}}},{key:"termType",get:function(){return"Literal"}},{key:"value",get:function(){return this.id.substring(1,this.id.lastIndexOf('"'))}},{key:"language",get:function(){var e=this.id,t=e.lastIndexOf('"')+1;return t<e.length&&"@"===e[t++]?e.substr(t).toLowerCase():""}},{key:"datatype",get:function(){return new f(this.datatypeString)}},{key:"datatypeString",get:function(){var e,t=this.id,r=t.lastIndexOf('"')+1;return r<t.length&&"^"===(e=t[r])?t.substr(r+2):"@"!==e?u.string:s.langString}}]),r}(l),d=function(e){_inherits2(r,e);var t=_createSuper(r);function r(e){return _classCallCheck2(this,r),t.call(this,"_:"+e)}return _createClass2(r,[{key:"termType",get:function(){return"BlankNode"}},{key:"value",get:function(){return this.id.substr(2)}}]),r}(l),p=function(e){_inherits2(r,e);var t=_createSuper(r);function r(e){return _classCallCheck2(this,r),t.call(this,"?"+e)}return _createClass2(r,[{key:"termType",get:function(){return"Variable"}},{key:"value",get:function(){return this.id.substr(1)}}]),r}(l),v=function(e){_inherits2(r,e);var t=_createSuper(r);function r(){var e;return _classCallCheck2(this,r),_possibleConstructorReturn2(e,(e=t.call(this,""),a||_assertThisInitialized(e)))}return _createClass2(r,[{key:"equals",value:function(e){return this===e||!!e&&this.termType===e.termType}},{key:"termType",get:function(){return"DefaultGraph"}}]),r}(l);a=new v;var g=function(){function e(t,r,n,i){_classCallCheck2(this,e),this.subject=t,this.predicate=r,this.object=n,this.graph=i||a}return _createClass2(e,[{key:"toJSON",value:function(){return{subject:this.subject.toJSON(),predicate:this.predicate.toJSON(),object:this.object.toJSON(),graph:this.graph.toJSON()}}},{key:"equals",value:function(e){return!!e&&this.subject.equals(e.subject)&&this.predicate.equals(e.predicate)&&this.object.equals(e.object)&&this.graph.equals(e.graph)}}]),e}();function y(e,t,r,n){return new g(e,t,r,n)}r.default=i={namedNode:function(e){return new f(e)},blankNode:function(e){return new d(e||"n3-"+c++)},variable:function(e){return new p(e)},literal:function(e,t){if("string"==typeof t)return new h('"'+e+'"@'+t.toLowerCase());var r=t?t.value:"";return""===r&&("boolean"==typeof e?r=u.boolean:"number"==typeof e&&(Number.isFinite(e)?r=Number.isInteger(e)?u.integer:u.double:(r=u.double,Number.isNaN(e)||(e=e>0?"INF":"-INF")))),new h(""===r||r===u.string?'"'+e+'"':'"'+e+'"^^'+r)},defaultGraph:function(){return a},quad:y,triple:y,internal:{Term:l,NamedNode:f,BlankNode:d,Variable:p,Literal:h,DefaultGraph:v,Quad:g,Triple:g,fromId:function(e,t){if(t=t||i,!e)return t.defaultGraph();switch(e[0]){case"_":return t.blankNode(e.substr(2));case"?":return t.variable(e.substr(1));case'"':if(t===i)return new h(e);if('"'===e[e.length-1])return t.literal(e.substr(1,e.length-2));var r=e.lastIndexOf('"',e.length-1);return t.literal(e.substr(1,r-1),"@"===e[r+1]?e.substr(r+2):t.namedNode(e.substr(r+3)));default:return t.namedNode(e)}},toId:function(e){if("string"==typeof e)return e;if(e instanceof l)return e.id;if(!e)return a.id;switch(e.termType){case"NamedNode":return e.value;case"BlankNode":return"_:"+e.value;case"Variable":return"?"+e.value;case"DefaultGraph":return"";case"Literal":return'"'+e.value+'"'+(e.language?"@"+e.language:e.datatype&&e.datatype.value!==u.string?"^^"+e.datatype.value:"");default:throw new Error("Unexpected termType: "+e.termType)}}}}},{"./IRIs":45}],47:[function(e,t,r){(function(t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=a(e("./IRIs")),i=a(e("queue-microtask"));function a(e){return e&&e.__esModule?e:{default:e}}var o=n.default.xsd,s=String.fromCharCode,u=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\[uU]|\\(.)/g,c={"\\":"\\","'":"'",'"':'"',n:"\n",r:"\r",t:"\t",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},l=/[\x00-\x20<>\\"\{\}\|\^\`]/,f={_iri:!0,_unescapedIri:!0,_simpleQuotedString:!0,_langcode:!0,_blank:!0,_newline:!0,_comment:!0,_whitespace:!0,_endOfFile:!0},h=/$0^/;r.default=function(){function e(t){if(_classCallCheck2(this,e),this._iri=/^<((?:[^ <>{}\\]|\\[uU])+)>[ \t]*/,this._unescapedIri=/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>[ \t]*/,this._simpleQuotedString=/^"([^"\\\r\n]*)"(?=[^"])/,this._simpleApostropheString=/^'([^'\\\r\n]*)'(?=[^'])/,this._langcode=/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,this._prefix=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,this._prefixed=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?:[ \t]+|(?=\.?[,;!\^\s#()\[\]\{\}"'<]))/,this._variable=/^\?(?:(?:[A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=[.,;!\^\s#()\[\]\{\}"'<])/,this._blank=/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?:[ \t]+|(?=\.?[,;:\s#()\[\]\{\}"'<]))/,this._number=/^[\-+]?(?:(\d+\.\d*|\.?\d+)[eE][\-+]?|\d*(\.)?)\d+(?=\.?[,;:\s#()\[\]\{\}"'<])/,this._boolean=/^(?:true|false)(?=[.,;\s#()\[\]\{\}"'<])/,this._keyword=/^@[a-z]+(?=[\s#<:])/i,this._sparqlKeyword=/^(?:PREFIX|BASE|GRAPH)(?=[\s#<])/i,this._shortPredicates=/^a(?=[\s()\[\]\{\}"'<])/,this._newline=/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,this._comment=/#([^\n\r]*)/,this._whitespace=/^[ \t]+/,this._endOfFile=/^(?:#[^\n\r]*)?$/,this._lineMode=!!(t=t||{}).lineMode)for(var r in this._n3Mode=!1,this)!(r in f)&&this[r]instanceof RegExp&&(this[r]=h);else this._n3Mode=!1!==t.n3;this._comments=!!t.comments,this._literalClosingPos=0}return _createClass2(e,[{key:"_tokenizeToEnd",value:function(e,t){for(var r,n=this._input,i=this._comments;;){for(var a,s;a=this._newline.exec(n);)i&&(s=this._comment.exec(a[0]))&&e(null,{line:this._line,type:"comment",value:s[1],prefix:""}),n=n.substr(a[0].length,n.length),this._line++;if(!a&&(a=this._whitespace.exec(n))&&(n=n.substr(a[0].length,n.length)),this._endOfFile.test(n))return t&&(i&&(s=this._comment.exec(n))&&e(null,{line:this._line,type:"comment",value:s[1],prefix:""}),e(n=null,{line:this._line,type:"eof",value:"",prefix:""})),this._input=n;var u=this._line,c="",f="",h="",d=n[0],p=null,v=0,g=!1;switch(d){case"^":if(n.length<3)break;if("^"!==n[1]){this._n3Mode&&(v=1,c="^");break}if(this._previousMarker="^^","<"!==(n=n.substr(2))[0]){g=!0;break}case"<":if(p=this._unescapedIri.exec(n))c="IRI",f=p[1];else if(p=this._iri.exec(n)){if(null===(f=this._unescape(p[1]))||l.test(f))return m(this);c="IRI"}else this._n3Mode&&n.length>1&&"="===n[1]&&(c="inverse",v=2,f=">");break;case"_":((p=this._blank.exec(n))||t&&(p=this._blank.exec(n+" ")))&&(c="blank",h="_",f=p[1]);break;case'"':if(p=this._simpleQuotedString.exec(n))f=p[1];else if(f=(r=this._parseLiteral(n)).value,v=r.matchLength,null===f)return m(this);null===p&&0===v||(c="literal",this._literalClosingPos=0);break;case"'":if(!this._lineMode){var y;if(p=this._simpleApostropheString.exec(n))f=p[1];else if(f=(y=this._parseLiteral(n)).value,v=y.matchLength,null===f)return m(this);null===p&&0===v||(c="literal",this._literalClosingPos=0)}break;case"?":this._n3Mode&&(p=this._variable.exec(n))&&(c="var",f=p[0]);break;case"@":"literal"===this._previousMarker&&(p=this._langcode.exec(n))?(c="langcode",f=p[1]):(p=this._keyword.exec(n))&&(c=p[0]);break;case".":if(1===n.length?t:n[1]<"0"||n[1]>"9"){c=".",v=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":(p=this._number.exec(n)||t&&(p=this._number.exec(n+" ")))&&(c="literal",f=p[0],h="string"==typeof p[1]?o.double:"string"==typeof p[2]?o.decimal:o.integer);break;case"B":case"b":case"p":case"P":case"G":case"g":(p=this._sparqlKeyword.exec(n))?c=p[0].toUpperCase():g=!0;break;case"f":case"t":(p=this._boolean.exec(n))?(c="literal",f=p[0],h=o.boolean):g=!0;break;case"a":(p=this._shortPredicates.exec(n))?(c="abbreviation",f="a"):g=!0;break;case"=":this._n3Mode&&n.length>1&&(c="abbreviation",">"!==n[1]?(v=1,f="="):(v=2,f=">"));break;case"!":if(!this._n3Mode)break;case",":case";":case"[":case"]":case"(":case")":case"{":case"}":this._lineMode||(v=1,c=d);break;default:g=!0}if(g&&("@prefix"!==this._previousMarker&&"PREFIX"!==this._previousMarker||!(p=this._prefix.exec(n))?((p=this._prefixed.exec(n))||t&&(p=this._prefixed.exec(n+" ")))&&(c="prefixed",h=p[1]||"",f=this._unescape(p[2])):(c="prefix",f=p[1]||"")),"^^"===this._previousMarker)switch(c){case"prefixed":c="type";break;case"IRI":c="typeIRI";break;default:c=""}if(!c)return t||!/^'''|^"""/.test(n)&&/\n|\r/.test(n)?m(this):this._input=n;var b={line:u,type:c,value:f,prefix:h};e(null,b),this.previousToken=b,this._previousMarker=c,n=n.substr(v||p[0].length,n.length)}function m(t){e(t._syntaxError(/^\S*/.exec(n)[0]))}}},{key:"_unescape",value:function(e){try{return e.replace(u,(function(e,t,r,n){var i;if(t){if(i=parseInt(t,16),isNaN(i))throw new Error;return s(i)}if(r){if(i=parseInt(r,16),isNaN(i))throw new Error;return i<=65535?s(i):s(55296+(i-=65536)/1024,56320+(1023&i))}var a=c[n];if(!a)throw new Error;return a}))}catch(t){return null}}},{key:"_parseLiteral",value:function(e){if(e.length>=3){for(var t=e.match(/^(?:"""|"|'''|'|)/)[0],r=t.length,n=Math.max(this._literalClosingPos,r);(n=e.indexOf(t,n))>0;){for(var i=0;"\\"===e[n-i-1];)i++;if(i%2==0){var a=e.substring(r,n),o=a.split(/\r\n|\r|\n/).length-1,s=n+r;if(1===r&&0!==o||3===r&&this._lineMode)break;return this._line+=o,{value:this._unescape(a),matchLength:s}}n++}this._literalClosingPos=e.length-r+1}return{value:"",matchLength:0}}},{key:"_syntaxError",value:function(e){this._input=null;var t=new Error('Unexpected "'+e+'" on line '+this._line+".");return t.context={token:void 0,line:this._line,previousToken:this.previousToken},t}},{key:"tokenize",value:function(e,r){var n=this;if(this._line=1,"string"==typeof e){if(this._input=e,"function"!=typeof r){var a,o=[];if(this._tokenizeToEnd((function(e,t){e?a=e:o.push(t)}),!0),a)throw a;return o}(0,i.default)((function(){return n._tokenizeToEnd(r,!0)}))}else this._input="",this._pendingBuffer=null,"function"==typeof e.setEncoding&&e.setEncoding("utf8"),e.on("data",(function(e){null!==n._input&&0!==e.length&&(n._pendingBuffer&&(e=t.concat([n._pendingBuffer,e]),n._pendingBuffer=null),128&e[e.length-1]?n._pendingBuffer=e:(n._input+=e,n._tokenizeToEnd(r,!1)))})),e.on("end",(function(){null!==n._input&&n._tokenizeToEnd(r,!0)})),e.on("error",r)}}]),e}()}).call(this,e("buffer").Buffer)},{"./IRIs":45,buffer:12,"queue-microtask":63}],48:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=o(e("./N3Lexer")),i=o(e("./N3DataFactory")),a=o(e("./IRIs"));function o(e){return e&&e.__esModule?e:{default:e}}var s=0,u=function(){function e(t){_classCallCheck2(this,e),this._contextStack=[],this._graph=null,this._setBase((t=t||{}).baseIRI),t.factory&&l(this,t.factory);var r="string"==typeof t.format?t.format.match(/\w*$/)[0].toLowerCase():"",i="turtle"===r,a="trig"===r,o=/triple/.test(r),s=/quad/.test(r),u=this._n3Mode=/n3/.test(r),c=o||s;(this._supportsNamedGraphs=!(i||u))||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(i||a||o||u),c&&(this._resolveRelativeIRI=function(e){return null}),this._blankNodePrefix="string"!=typeof t.blankNodePrefix?"":t.blankNodePrefix.replace(/^(?!_:)/,"_:"),this._lexer=t.lexer||new n.default({lineMode:c,n3:u}),this._explicitQuantifiers=!!t.explicitQuantifiers}return _createClass2(e,[{key:"_setBase",value:function(e){if(e){var t=e.indexOf("#");t>=0&&(e=e.substr(0,t)),this._base=e,this._basePath=e.indexOf("/")<0?e:e.replace(/[^\/?]*(?:\?.*)?$/,""),e=e.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i),this._baseRoot=e[0],this._baseScheme=e[1]}else this._base="",this._basePath=""}},{key:"_saveContext",value:function(e,t,r,n,i){var a=this._n3Mode;this._contextStack.push({subject:r,predicate:n,object:i,graph:t,type:e,inverse:!!a&&this._inversePredicate,blankPrefix:a?this._prefixes._:"",quantified:a?this._quantified:null}),a&&(this._inversePredicate=!1,this._prefixes._=this._graph?this._graph.id.substr(2)+".":".",this._quantified=Object.create(this._quantified))}},{key:"_restoreContext",value:function(){var e=this._contextStack.pop(),t=this._n3Mode;this._subject=e.subject,this._predicate=e.predicate,this._object=e.object,this._graph=e.graph,t&&(this._inversePredicate=e.inverse,this._prefixes._=e.blankPrefix,this._quantified=e.quantified)}},{key:"_readInTopContext",value:function(e){switch(e.type){case"eof":return null!==this._graph?this._error("Unclosed graph",e):(delete this._prefixes._,this._callback(null,null,this._prefixes));case"PREFIX":this._sparqlStyle=!0;case"@prefix":return this._readPrefix;case"BASE":this._sparqlStyle=!0;case"@base":return this._readBaseIRI;case"{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(e)}}},{key:"_readEntity",value:function(e,t){var r;switch(e.type){case"IRI":case"typeIRI":var n=this._resolveIRI(e.value);if(null===n)return this._error("Invalid IRI",e);r=this._namedNode(n);break;case"type":case"prefixed":var i=this._prefixes[e.prefix];if(void 0===i)return this._error('Undefined prefix "'+e.prefix+':"',e);r=this._namedNode(i+e.value);break;case"blank":r=this._blankNode(this._prefixes[e.prefix]+e.value);break;case"var":r=this._variable(e.value.substr(1));break;default:return this._error("Expected entity but got "+e.type,e)}return!t&&this._n3Mode&&r.id in this._quantified&&(r=this._quantified[r.id]),r}},{key:"_readSubject",value:function(e){switch(this._predicate=null,e.type){case"[":return this._saveContext("blank",this._graph,this._subject=this._blankNode(),null,null),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this.RDF_NIL,null,null),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._graph=this._blankNode(),null,null),this._readSubject):this._error("Unexpected graph",e);case"}":return this._readPunctuation(e);case"@forSome":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORSOME,this._quantifier=this._blankNode,this._readQuantifierList):this._error('Unexpected "@forSome"',e);case"@forAll":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORALL,this._quantifier=this._variable,this._readQuantifierList):this._error('Unexpected "@forAll"',e);case"literal":if(!this._n3Mode)return this._error("Unexpected literal",e);if(0===e.prefix.length)return this._literalValue=e.value,this._completeSubjectLiteral;this._subject=this._literal(e.value,this._namedNode(e.prefix));break;default:if(void 0===(this._subject=this._readEntity(e)))return;if(this._n3Mode)return this._getPathReader(this._readPredicateOrNamedGraph)}return this._readPredicateOrNamedGraph}},{key:"_readPredicate",value:function(e){var t=e.type;switch(t){case"inverse":this._inversePredicate=!0;case"abbreviation":this._predicate=this.ABBREVIATIONS[e.value];break;case".":case"]":case"}":return null===this._predicate?this._error("Unexpected "+t,e):(this._subject=null,"]"===t?this._readBlankNodeTail(e):this._readPunctuation(e));case";":return null!==this._predicate?this._readPredicate:this._error("Expected predicate but got ;",e);case"blank":if(!this._n3Mode)return this._error("Disallowed blank node as predicate",e);default:if(void 0===(this._predicate=this._readEntity(e)))return}return this._readObject}},{key:"_readObject",value:function(e){switch(e.type){case"literal":if(0===e.prefix.length)return this._literalValue=e.value,this._readDataTypeOrLang;this._object=this._literal(e.value,this._namedNode(e.prefix));break;case"[":return this._saveContext("blank",this._graph,this._subject,this._predicate,this._subject=this._blankNode()),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this._subject,this._predicate,this.RDF_NIL),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",e);default:if(void 0===(this._object=this._readEntity(e)))return;if(this._n3Mode)return this._getPathReader(this._getContextEndReader())}return this._getContextEndReader()}},{key:"_readPredicateOrNamedGraph",value:function(e){return"{"===e.type?this._readGraph(e):this._readPredicate(e)}},{key:"_readGraph",value:function(e){return"{"!==e.type?this._error("Expected graph but got "+e.type,e):(this._graph=this._subject,this._subject=null,this._readSubject)}},{key:"_readBlankNodeHead",value:function(e){return"]"===e.type?(this._subject=null,this._readBlankNodeTail(e)):(this._predicate=null,this._readPredicate(e))}},{key:"_readBlankNodeTail",value:function(e){if("]"!==e.type)return this._readBlankNodePunctuation(e);null!==this._subject&&this._emit(this._subject,this._predicate,this._object,this._graph);var t=null===this._predicate;return this._restoreContext(),null===this._object?t?this._readPredicateOrNamedGraph:this._readPredicateAfterBlank:this._getContextEndReader()}},{key:"_readPredicateAfterBlank",value:function(e){switch(e.type){case".":case"}":return this._subject=null,this._readPunctuation(e);default:return this._readPredicate(e)}}},{key:"_readListItem",value:function(e){var t=null,r=null,n=this._subject,i=this._contextStack,a=i[i.length-1],o=this._readListItem;switch(e.type){case"[":this._saveContext("blank",this._graph,r=this._blankNode(),this.RDF_FIRST,this._subject=t=this._blankNode()),o=this._readBlankNodeHead;break;case"(":this._saveContext("list",this._graph,r=this._blankNode(),this.RDF_FIRST,this.RDF_NIL),this._subject=null;break;case")":if(this._restoreContext(),0!==i.length&&"list"===i[i.length-1].type&&this._emit(this._subject,this._predicate,this._object,this._graph),null===this._predicate){if(o=this._readPredicate,this._subject===this.RDF_NIL)return o}else if(o=this._getContextEndReader(),this._object===this.RDF_NIL)return o;r=this.RDF_NIL;break;case"literal":0===e.prefix.length?(this._literalValue=e.value,o=this._readListItemDataTypeOrLang):(t=this._literal(e.value,this._namedNode(e.prefix)),o=this._getContextEndReader());break;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",e);default:if(void 0===(t=this._readEntity(e)))return}if(null===r&&(this._subject=r=this._blankNode()),null===n?null===a.predicate?a.subject=r:a.object=r:this._emit(n,this.RDF_REST,r,this._graph),null!==t){if(this._n3Mode&&("IRI"===e.type||"prefixed"===e.type))return this._saveContext("item",this._graph,r,this.RDF_FIRST,t),this._subject=t,this._predicate=null,this._getPathReader(this._readListItem);this._emit(r,this.RDF_FIRST,t,this._graph)}return o}},{key:"_readDataTypeOrLang",value:function(e){return this._completeObjectLiteral(e,!1)}},{key:"_readListItemDataTypeOrLang",value:function(e){return this._completeObjectLiteral(e,!0)}},{key:"_completeLiteral",value:function(e){var t=this._literal(this._literalValue);switch(e.type){case"type":case"typeIRI":var r=this._readEntity(e);if(void 0===r)return;t=this._literal(this._literalValue,r),e=null;break;case"langcode":t=this._literal(this._literalValue,e.value),e=null}return{token:e,literal:t}}},{key:"_completeSubjectLiteral",value:function(e){return this._subject=this._completeLiteral(e).literal,this._readPredicateOrNamedGraph}},{key:"_completeObjectLiteral",value:function(e,t){var r=this._completeLiteral(e);if(r)return this._object=r.literal,t&&this._emit(this._subject,this.RDF_FIRST,this._object,this._graph),null===r.token?this._getContextEndReader():(this._readCallback=this._getContextEndReader(),this._readCallback(r.token))}},{key:"_readFormulaTail",value:function(e){return"}"!==e.type?this._readPunctuation(e):(null!==this._subject&&this._emit(this._subject,this._predicate,this._object,this._graph),this._restoreContext(),null===this._object?this._readPredicate:this._getContextEndReader())}},{key:"_readPunctuation",value:function(e){var t,r=this._subject,n=this._graph,i=this._inversePredicate;switch(e.type){case"}":if(null===this._graph)return this._error("Unexpected graph closing",e);if(this._n3Mode)return this._readFormulaTail(e);this._graph=null;case".":this._subject=null,t=this._contextStack.length?this._readSubject:this._readInTopContext,i&&(this._inversePredicate=!1);break;case";":t=this._readPredicate;break;case",":t=this._readObject;break;default:if(this._supportsQuads&&null===this._graph&&void 0!==(n=this._readEntity(e))){t=this._readQuadPunctuation;break}return this._error('Expected punctuation to follow "'+this._object.id+'"',e)}if(null!==r){var a=this._predicate,o=this._object;i?this._emit(o,a,r,n):this._emit(r,a,o,n)}return t}},{key:"_readBlankNodePunctuation",value:function(e){var t;switch(e.type){case";":t=this._readPredicate;break;case",":t=this._readObject;break;default:return this._error('Expected punctuation to follow "'+this._object.id+'"',e)}return this._emit(this._subject,this._predicate,this._object,this._graph),t}},{key:"_readQuadPunctuation",value:function(e){return"."!==e.type?this._error("Expected dot to follow quad",e):this._readInTopContext}},{key:"_readPrefix",value:function(e){return"prefix"!==e.type?this._error("Expected prefix to follow @prefix",e):(this._prefix=e.value,this._readPrefixIRI)}},{key:"_readPrefixIRI",value:function(e){if("IRI"!==e.type)return this._error('Expected IRI to follow prefix "'+this._prefix+':"',e);var t=this._readEntity(e);return this._prefixes[this._prefix]=t.value,this._prefixCallback(this._prefix,t),this._readDeclarationPunctuation}},{key:"_readBaseIRI",value:function(e){var t="IRI"===e.type&&this._resolveIRI(e.value);return t?(this._setBase(t),this._readDeclarationPunctuation):this._error("Expected valid IRI to follow base declaration",e)}},{key:"_readNamedGraphLabel",value:function(e){switch(e.type){case"IRI":case"blank":case"prefixed":return this._readSubject(e),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",e)}}},{key:"_readNamedGraphBlankLabel",value:function(e){return"]"!==e.type?this._error("Invalid graph label",e):(this._subject=this._blankNode(),this._readGraph)}},{key:"_readDeclarationPunctuation",value:function(e){return this._sparqlStyle?(this._sparqlStyle=!1,this._readInTopContext(e)):"."!==e.type?this._error("Expected declaration to end with a dot",e):this._readInTopContext}},{key:"_readQuantifierList",value:function(e){var t;switch(e.type){case"IRI":case"prefixed":if(void 0!==(t=this._readEntity(e,!0)))break;default:return this._error("Unexpected "+e.type,e)}return this._explicitQuantifiers?(null===this._subject?this._emit(this._graph||this.DEFAULTGRAPH,this._predicate,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH):this._emit(this._subject,this.RDF_REST,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH),this._emit(this._subject,this.RDF_FIRST,t,this.QUANTIFIERS_GRAPH)):this._quantified[t.id]=this._quantifier(this._blankNode().value),this._readQuantifierPunctuation}},{key:"_readQuantifierPunctuation",value:function(e){return","===e.type?this._readQuantifierList:(this._explicitQuantifiers&&(this._emit(this._subject,this.RDF_REST,this.RDF_NIL,this.QUANTIFIERS_GRAPH),this._subject=null),this._readCallback=this._getContextEndReader(),this._readCallback(e))}},{key:"_getPathReader",value:function(e){return this._afterPath=e,this._readPath}},{key:"_readPath",value:function(e){switch(e.type){case"!":return this._readForwardPath;case"^":return this._readBackwardPath;default:var t=this._contextStack,r=t.length&&t[t.length-1];if(r&&"item"===r.type){var n=this._subject;this._restoreContext(),this._emit(this._subject,this.RDF_FIRST,n,this._graph)}return this._afterPath(e)}}},{key:"_readForwardPath",value:function(e){var t,r,n=this._blankNode();if(void 0!==(r=this._readEntity(e)))return null===this._predicate?(t=this._subject,this._subject=n):(t=this._object,this._object=n),this._emit(t,r,n,this._graph),this._readPath}},{key:"_readBackwardPath",value:function(e){var t,r,n=this._blankNode();if(void 0!==(t=this._readEntity(e)))return null===this._predicate?(r=this._subject,this._subject=n):(r=this._object,this._object=n),this._emit(n,t,r,this._graph),this._readPath}},{key:"_getContextEndReader",value:function(){var e=this._contextStack;if(!e.length)return this._readPunctuation;switch(e[e.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem;case"formula":return this._readFormulaTail}}},{key:"_emit",value:function(e,t,r,n){this._callback(null,this._quad(e,t,r,n||this.DEFAULTGRAPH))}},{key:"_error",value:function(e,t){var r=new Error(e+" on line "+t.line+".");r.context={token:t,line:t.line,previousToken:this._lexer.previousToken},this._callback(r),this._callback=c}},{key:"_resolveIRI",value:function(e){return/^[a-z][a-z0-9+.-]*:/i.test(e)?e:this._resolveRelativeIRI(e)}},{key:"_resolveRelativeIRI",value:function(e){if(!e.length)return this._base;switch(e[0]){case"#":return this._base+e;case"?":return this._base.replace(/(?:\?.*)?$/,e);case"/":return("/"===e[1]?this._baseScheme:this._baseRoot)+this._removeDotSegments(e);default:return/^[^/:]*:/.test(e)?null:this._removeDotSegments(this._basePath+e)}}},{key:"_removeDotSegments",value:function(e){if(!/(^|\/)\.\.?($|[/#?])/.test(e))return e;for(var t="",r=e.length,n=-1,i=-1,a=0,o="/";n<r;){switch(o){case":":if(i<0&&"/"===e[++n]&&"/"===e[++n])for(;(i=n+1)<r&&"/"!==e[i];)n=i;break;case"?":case"#":n=r;break;case"/":if("."===e[n+1])switch(o=e[1+ ++n]){case"/":t+=e.substring(a,n-1),a=n+1;break;case void 0:case"?":case"#":return t+e.substring(a,n)+e.substr(n+1);case".":if(void 0===(o=e[1+ ++n])||"/"===o||"?"===o||"#"===o){if((a=(t+=e.substring(a,n-2)).lastIndexOf("/"))>=i&&(t=t.substr(0,a)),"/"!==o)return t+"/"+e.substr(n+1);a=n+1}}}o=e[++n]}return t+e.substring(a)}},{key:"parse",value:function(e,t,r){var n=this;if(this._readCallback=this._readInTopContext,this._sparqlStyle=!1,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix?this._blankNodePrefix.substr(2):"b"+s+++"_",this._prefixCallback=r||c,this._inversePredicate=!1,this._quantified=Object.create(null),!t){var i,a=[];if(this._callback=function(e,t){e?i=e:t&&a.push(t)},this._lexer.tokenize(e).every((function(e){return n._readCallback=n._readCallback(e)})),i)throw i;return a}this._callback=t,this._lexer.tokenize(e,(function(e,t){null!==e?(n._callback(e),n._callback=c):n._readCallback&&(n._readCallback=n._readCallback(t))}))}}],[{key:"_resetBlankNodePrefix",value:function(){s=0}}]),e}();function c(){}function l(e,t){var r=t.namedNode;e._namedNode=r,e._blankNode=t.blankNode,e._literal=t.literal,e._variable=t.variable,e._quad=t.quad,e.DEFAULTGRAPH=t.defaultGraph(),e.RDF_FIRST=r(a.default.rdf.first),e.RDF_REST=r(a.default.rdf.rest),e.RDF_NIL=r(a.default.rdf.nil),e.N3_FORALL=r(a.default.r.forAll),e.N3_FORSOME=r(a.default.r.forSome),e.ABBREVIATIONS={a:r(a.default.rdf.type),"=":r(a.default.owl.sameAs),">":r(a.default.log.implies)},e.QUANTIFIERS_GRAPH=r("urn:n3:quantifiers")}r.default=u,l(u.prototype,i.default)},{"./IRIs":45,"./N3DataFactory":46,"./N3Lexer":47}],49:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=o(e("./N3DataFactory")),i=e("stream"),a=o(e("./IRIs"));function o(e){return e&&e.__esModule?e:{default:e}}var s=n.default.internal,u=s.toId,c=s.fromId;function l(e){return"string"==typeof e||e instanceof String}r.default=function(){function e(t,r){_classCallCheck2(this,e),this._size=0,this._graphs=Object.create(null),this._id=0,this._ids=Object.create(null),this._ids["><"]=0,this._entities=Object.create(null),this._blankNodeIndex=0,r||!t||t[0]||(r=t,t=null),this._factory=(r=r||{}).factory||n.default,t&&this.addQuads(t)}return _createClass2(e,[{key:"_addToIndex",value:function(e,t,r,n){var i=e[t]||(e[t]={}),a=i[r]||(i[r]={}),o=n in a;return o||(a[n]=null),!o}},{key:"_removeFromIndex",value:function(e,t,r,n){var i,a=e[t],o=a[r];for(i in delete o[n],o)return;for(i in delete a[r],a)return;delete e[t]}},{key:"_findInIndex",value:function(e,t,r,n,i,a,o,s,u,l){var f,h,d,p=!t+!r+!n>1?Object.keys(this._ids):this._entities;for(var v in t&&((f=e,e={})[t]=f[t]),e){var g=p[v];if(h=e[v])for(var y in r&&((f=h,h={})[r]=f[r]),h){var b=p[y];if(d=h[y])for(var m=(n?n in d?[n]:[]:Object.keys(d)),_=0;_<m.length;_++){var w={subject:null,predicate:null,object:null};w[i]=c(g,this._factory),w[a]=c(b,this._factory),w[o]=c(p[m[_]],this._factory);var x=this._factory.quad(w.subject,w.predicate,w.object,c(s,this._factory));if(l)l.push(x);else if(u(x))return!0}}}return l}},{key:"_loop",value:function(e,t){for(var r in e)t(r)}},{key:"_loopByKey0",value:function(e,t,r){var n,i;if(n=e[t])for(i in n)r(i)}},{key:"_loopByKey1",value:function(e,t,r){var n;for(n in e)e[n][t]&&r(n)}},{key:"_loopBy2Keys",value:function(e,t,r,n){var i,a,o;if((i=e[t])&&(a=i[r]))for(o in a)n(o)}},{key:"_countInIndex",value:function(e,t,r,n){var i,a,o,s=0;for(var u in t&&((i=e,e={})[t]=i[t]),e)if(a=e[u])for(var c in r&&((i=a,a={})[r]=i[r]),a)(o=a[c])&&(n?n in o&&s++:s+=Object.keys(o).length);return s}},{key:"_getGraphs",value:function(e){if(!l(e))return this._graphs;var t={};return t[e]=this._graphs[e],t}},{key:"_uniqueEntities",value:function(e){var t=Object.create(null),r=this._entities;return function(n){n in t||(t[n]=!0,e(c(r[n])))}}},{key:"addQuad",value:function(e,t,r,n){t||(n=e.graph,r=e.object,t=e.predicate,e=e.subject),e=u(e),t=u(t),r=u(r),n=u(n);var i=this._graphs[n];i||(i=this._graphs[n]={subjects:{},predicates:{},objects:{}},Object.freeze(i));var a=this._ids,o=this._entities;e=a[e]||(a[o[++this._id]=e]=this._id),t=a[t]||(a[o[++this._id]=t]=this._id),r=a[r]||(a[o[++this._id]=r]=this._id);var s=this._addToIndex(i.subjects,e,t,r);return this._addToIndex(i.predicates,t,r,e),this._addToIndex(i.objects,r,e,t),this._size=null,s}},{key:"addQuads",value:function(e){for(var t=0;t<e.length;t++)this.addQuad(e[t])}},{key:"import",value:function(e){var t=this;return e.on("data",(function(e){t.addQuad(e)})),e}},{key:"removeQuad",value:function(e,t,r,n){t||(n=e.graph,r=e.object,t=e.predicate,e=e.subject),e=u(e),t=u(t),r=u(r),n=u(n);var i,a,o,s=this._ids,c=this._graphs;if(!((e=s[e])&&(t=s[t])&&(r=s[r])&&(i=c[n])&&(a=i.subjects[e])&&(o=a[t])&&r in o))return!1;for(e in this._removeFromIndex(i.subjects,e,t,r),this._removeFromIndex(i.predicates,t,r,e),this._removeFromIndex(i.objects,r,e,t),null!==this._size&&this._size--,i.subjects)return!0;return delete c[n],!0}},{key:"removeQuads",value:function(e){for(var t=0;t<e.length;t++)this.removeQuad(e[t])}},{key:"remove",value:function(e){var t=this;return e.on("data",(function(e){t.removeQuad(e)})),e}},{key:"removeMatches",value:function(e,t,r,n){return this.remove(this.match(e,t,r,n))}},{key:"deleteGraph",value:function(e){return this.removeMatches(null,null,null,e)}},{key:"getQuads",value:function(e,t,r,n){e=e&&u(e),t=t&&u(t),r=r&&u(r),n=n&&u(n);var i,a,o,s,c=[],f=this._getGraphs(n),h=this._ids;if(l(e)&&!(a=h[e])||l(t)&&!(o=h[t])||l(r)&&!(s=h[r]))return c;for(var d in f)(i=f[d])&&(a?s?this._findInIndex(i.objects,s,a,o,"object","subject","predicate",d,null,c):this._findInIndex(i.subjects,a,o,null,"subject","predicate","object",d,null,c):o?this._findInIndex(i.predicates,o,s,null,"predicate","object","subject",d,null,c):s?this._findInIndex(i.objects,s,null,null,"object","subject","predicate",d,null,c):this._findInIndex(i.subjects,null,null,null,"subject","predicate","object",d,null,c));return c}},{key:"match",value:function(e,t,r,n){var a=this,o=new i.Readable({objectMode:!0});return o._read=function(){var i,s=_createForOfIteratorHelper(a.getQuads(e,t,r,n));try{for(s.s();!(i=s.n()).done;){var u=i.value;o.push(u)}}catch(c){s.e(c)}finally{s.f()}o.push(null)},o}},{key:"countQuads",value:function(e,t,r,n){e=e&&u(e),t=t&&u(t),r=r&&u(r),n=n&&u(n);var i,a,o,s,c=0,f=this._getGraphs(n),h=this._ids;if(l(e)&&!(a=h[e])||l(t)&&!(o=h[t])||l(r)&&!(s=h[r]))return 0;for(var d in f)(i=f[d])&&(c+=e?r?this._countInIndex(i.objects,s,a,o):this._countInIndex(i.subjects,a,o,s):t?this._countInIndex(i.predicates,o,s,a):this._countInIndex(i.objects,s,a,o));return c}},{key:"forEach",value:function(e,t,r,n,i){this.some((function(t){return e(t),!1}),t,r,n,i)}},{key:"every",value:function(e,t,r,n,i){var a=!1,o=!this.some((function(t){return a=!0,!e(t)}),t,r,n,i);return a&&o}},{key:"some",value:function(e,t,r,n,i){t=t&&u(t),r=r&&u(r),n=n&&u(n),i=i&&u(i);var a,o,s,c,f=this._getGraphs(i),h=this._ids;if(l(t)&&!(o=h[t])||l(r)&&!(s=h[r])||l(n)&&!(c=h[n]))return!1;for(var d in f)if(a=f[d])if(o){if(c){if(this._findInIndex(a.objects,c,o,s,"object","subject","predicate",d,e,null))return!0}else if(this._findInIndex(a.subjects,o,s,null,"subject","predicate","object",d,e,null))return!0}else if(s){if(this._findInIndex(a.predicates,s,c,null,"predicate","object","subject",d,e,null))return!0}else if(c){if(this._findInIndex(a.objects,c,null,null,"object","subject","predicate",d,e,null))return!0}else if(this._findInIndex(a.subjects,null,null,null,"subject","predicate","object",d,e,null))return!0;return!1}},{key:"getSubjects",value:function(e,t,r){var n=[];return this.forSubjects((function(e){n.push(e)}),e,t,r),n}},{key:"forSubjects",value:function(e,t,r,n){t=t&&u(t),r=r&&u(r),n=n&&u(n);var i,a,o,s=this._ids,c=this._getGraphs(n);if(e=this._uniqueEntities(e),!(l(t)&&!(a=s[t])||l(r)&&!(o=s[r])))for(n in c)(i=c[n])&&(a?o?this._loopBy2Keys(i.predicates,a,o,e):this._loopByKey1(i.subjects,a,e):o?this._loopByKey0(i.objects,o,e):this._loop(i.subjects,e))}},{key:"getPredicates",value:function(e,t,r){var n=[];return this.forPredicates((function(e){n.push(e)}),e,t,r),n}},{key:"forPredicates",value:function(e,t,r,n){t=t&&u(t),r=r&&u(r),n=n&&u(n);var i,a,o,s=this._ids,c=this._getGraphs(n);if(e=this._uniqueEntities(e),!(l(t)&&!(a=s[t])||l(r)&&!(o=s[r])))for(n in c)(i=c[n])&&(a?o?this._loopBy2Keys(i.objects,o,a,e):this._loopByKey0(i.subjects,a,e):o?this._loopByKey1(i.predicates,o,e):this._loop(i.predicates,e))}},{key:"getObjects",value:function(e,t,r){var n=[];return this.forObjects((function(e){n.push(e)}),e,t,r),n}},{key:"forObjects",value:function(e,t,r,n){t=t&&u(t),r=r&&u(r),n=n&&u(n);var i,a,o,s=this._ids,c=this._getGraphs(n);if(e=this._uniqueEntities(e),!(l(t)&&!(a=s[t])||l(r)&&!(o=s[r])))for(n in c)(i=c[n])&&(a?o?this._loopBy2Keys(i.subjects,a,o,e):this._loopByKey1(i.objects,a,e):o?this._loopByKey0(i.predicates,o,e):this._loop(i.objects,e))}},{key:"getGraphs",value:function(e,t,r){var n=[];return this.forGraphs((function(e){n.push(e)}),e,t,r),n}},{key:"forGraphs",value:function(e,t,r,n){for(var i in this._graphs)this.some((function(t){return e(t.graph),!0}),t,r,n,i)}},{key:"createBlankNode",value:function(e){var t,r;if(e)for(t=e="_:"+e,r=1;this._ids[t];)t=e+r++;else do{t="_:b"+this._blankNodeIndex++}while(this._ids[t]);return this._ids[t]=++this._id,this._entities[this._id]=t,this._factory.blankNode(t.substr(2))}},{key:"extractLists",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.remove,n=void 0!==r&&r,i=t.ignoreErrors,o=void 0!==i&&i,s={},u=o?function(){return!0}:function(e,t){throw new Error("".concat(e.value," ").concat(t))},c=this.getQuads(null,a.default.rdf.rest,a.default.rdf.nil,null),l=n?_toConsumableArray(c):[];return c.forEach((function(t){for(var r,i,o=[],c=!1,f=t.graph,h=t.subject;h&&!c;){var d,p,v=e.getQuads(null,null,h,null),g=e.getQuads(h,null,null,null),y=null,b=null,m=null;for(d=0;d<g.length&&!c;d++)(p=g[d]).graph.equals(f)?r?c=u(h,"has non-list arcs out"):p.predicate.value===a.default.rdf.first?y?c=u(h,"has multiple rdf:first arcs"):l.push(y=p):p.predicate.value===a.default.rdf.rest?b?c=u(h,"has multiple rdf:rest arcs"):l.push(b=p):v.length?c=u(h,"can't be subject and object"):(r=p,i="subject"):c=u(h,"not confined to single graph");for(d=0;d<v.length&&!c;++d)p=v[d],r?c=u(h,"can't have coreferences"):p.predicate.value===a.default.rdf.rest?m?c=u(h,"has incoming rdf:rest arcs"):m=p:(r=p,i="object");y?o.unshift(y.object):c=u(h,"has no list head"),h=m&&m.subject}c?n=!1:r&&(s[r[i].value]=o)})),n&&this.removeQuads(l),s}},{key:"size",get:function(){var e=this._size;if(null!==e)return e;e=0;var t,r,n=this._graphs;for(var i in n)for(var a in t=n[i].subjects)for(var o in r=t[a])e+=Object.keys(r[o]).length;return this._size=e}}]),e}()},{"./IRIs":45,"./N3DataFactory":46,stream:97}],50:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,i=(n=e("./N3Parser"))&&n.__esModule?n:{default:n},a=e("stream");r.default=function(e){_inherits2(r,e);var t=_createSuper(r);function r(e){var n;_classCallCheck2(this,r),(n=t.call(this,{decodeStrings:!0}))._readableState.objectMode=!0;var a,o,s=_assertThisInitialized(n);return new i.default(e).parse({on:function(e,t){switch(e){case"data":a=t;break;case"end":o=t}}},(function(e,t){e&&s.emit("error",e)||t&&s.push(t)}),(function(e,t){s.emit("prefix",e,t)})),n._transform=function(e,t,r){a(e),r()},n._flush=function(e){o(),e()},n}return _createClass2(r,[{key:"import",value:function(e){var t=this;return e.on("data",(function(e){t.write(e)})),e.on("end",(function(){t.end()})),e.on("error",(function(e){t.emit("error",e)})),this}}]),r}(a.Transform)},{"./N3Parser":48,stream:97}],51:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,i=e("stream"),a=(n=e("./N3Writer"))&&n.__esModule?n:{default:n};r.default=function(e){_inherits2(r,e);var t=_createSuper(r);function r(e){var n;_classCallCheck2(this,r),(n=t.call(this,{encoding:"utf8"}))._writableState.objectMode=!0;var i=_assertThisInitialized(n),o=n._writer=new a.default({write:function(e,t,r){i.push(e),r&&r()},end:function(e){i.push(null),e&&e()}},e);return n._transform=function(e,t,r){o.addQuad(e,r)},n._flush=function(e){o.end(e)},n}return _createClass2(r,[{key:"import",value:function(e){var t=this;return e.on("data",(function(e){t.write(e)})),e.on("end",(function(){t.end()})),e.on("error",(function(e){t.emit("error",e)})),e.on("prefix",(function(e,r){t._writer.addPrefix(e,r)})),this}}]),r}(i.Transform)},{"./N3Writer":53,stream:97}],52:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.isNamedNode=function(e){return!!e&&"NamedNode"===e.termType},r.isBlankNode=function(e){return!!e&&"BlankNode"===e.termType},r.isLiteral=function(e){return!!e&&"Literal"===e.termType},r.isVariable=function(e){return!!e&&"Variable"===e.termType},r.isDefaultGraph=a,r.inDefaultGraph=function(e){return a(e.graph)},r.prefix=function(e,t){return o({"":e},t)("")},r.prefixes=o;var n,i=(n=e("./N3DataFactory"))&&n.__esModule?n:{default:n};function a(e){return!!e&&"DefaultGraph"===e.termType}function o(e,t){var r=Object.create(null);for(var n in e)a(n,e[n]);function a(e,n){if("string"==typeof n){var i=Object.create(null);r[e]=function(e){return i[e]||(i[e]=t.namedNode(n+e))}}else if(!(e in r))throw new Error("Unknown prefix: "+e);return r[e]}return t=t||i.default,a}},{"./N3DataFactory":46}],53:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=a(e("./IRIs")),i=a(e("./N3DataFactory"));function a(e){return e&&e.__esModule?e:{default:e}}var o=i.default.defaultGraph(),s=n.default,u=s.rdf,c=s.xsd,l=/["\\\t\n\r\b\f\u0000-\u0019\ud800-\udbff]/,f=/["\\\t\n\r\b\f\u0000-\u0019]|[\ud800-\udbff][\udc00-\udfff]/g,h={"\\":"\\\\",'"':'\\"',"\t":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"},d=function(e){_inherits2(r,e);var t=_createSuper(r);function r(){return _classCallCheck2(this,r),t.apply(this,arguments)}return _createClass2(r,[{key:"equals",value:function(){return!1}}]),r}(i.default.internal.Term);function p(e){var t=h[e];return void 0===t&&(1===e.length?(t=e.charCodeAt(0).toString(16),t="\\u0000".substr(0,6-t.length)+t):(t=(1024*(e.charCodeAt(0)-55296)+e.charCodeAt(1)+9216).toString(16),t="\\U00000000".substr(0,10-t.length)+t)),t}r.default=function(){function e(t,r){if(_classCallCheck2(this,e),this._prefixRegex=/$0^/,t&&"function"!=typeof t.write&&(r=t,t=null),this._lists=(r=r||{}).lists,t)this._outputStream=t,this._endStream=void 0===r.end||!!r.end;else{var n="";this._outputStream={write:function(e,t,r){n+=e,r&&r()},end:function(e){e&&e(null,n)}},this._endStream=!0}this._subject=null,/triple|quad/i.test(r.format)?this._writeQuad=this._writeQuadLine:(this._graph=o,this._prefixIRIs=Object.create(null),r.prefixes&&this.addPrefixes(r.prefixes))}return _createClass2(e,[{key:"_write",value:function(e,t){this._outputStream.write(e,"utf8",t)}},{key:"_writeQuad",value:function(e,t,r,n,i){try{n.equals(this._graph)||(this._write((null===this._subject?"":this._inDefaultGraph?".\n":"\n}\n")+(o.equals(n)?"":this._encodeIriOrBlank(n)+" {\n")),this._graph=n,this._subject=null),e.equals(this._subject)?t.equals(this._predicate)?this._write(", "+this._encodeObject(r),i):this._write(";\n    "+this._encodePredicate(this._predicate=t)+" "+this._encodeObject(r),i):this._write((null===this._subject?"":".\n")+this._encodeIriOrBlank(this._subject=e)+" "+this._encodePredicate(this._predicate=t)+" "+this._encodeObject(r),i)}catch(a){i&&i(a)}}},{key:"_writeQuadLine",value:function(e,t,r,n,i){delete this._prefixMatch,this._write(this.quadToString(e,t,r,n),i)}},{key:"quadToString",value:function(e,t,r,n){return this._encodeIriOrBlank(e)+" "+this._encodeIriOrBlank(t)+" "+this._encodeObject(r)+(n&&n.value?" "+this._encodeIriOrBlank(n)+" .\n":" .\n")}},{key:"quadsToString",value:function(e){return e.map((function(e){return this.quadToString(e.subject,e.predicate,e.object,e.graph)}),this).join("")}},{key:"_encodeIriOrBlank",value:function(e){if("NamedNode"!==e.termType)return this._lists&&e.value in this._lists&&(e=this.list(this._lists[e.value])),"id"in e?e.id:"_:"+e.value;var t=e.value;l.test(t)&&(t=t.replace(f,p));var r=this._prefixRegex.exec(t);return r?r[1]?this._prefixIRIs[r[1]]+r[2]:t:"<"+t+">"}},{key:"_encodeLiteral",value:function(e){var t=e.value;return l.test(t)&&(t=t.replace(f,p)),e.language?'"'+t+'"@'+e.language:e.datatype.value!==c.string?'"'+t+'"^^'+this._encodeIriOrBlank(e.datatype):'"'+t+'"'}},{key:"_encodePredicate",value:function(e){return e.value===u.type?"a":this._encodeIriOrBlank(e)}},{key:"_encodeObject",value:function(e){return"Literal"===e.termType?this._encodeLiteral(e):this._encodeIriOrBlank(e)}},{key:"_blockedWrite",value:function(){throw new Error("Cannot write because the writer has been closed.")}},{key:"addQuad",value:function(e,t,r,n,i){void 0===r?this._writeQuad(e.subject,e.predicate,e.object,e.graph,t):"function"==typeof n?this._writeQuad(e,t,r,o,n):this._writeQuad(e,t,r,n||o,i)}},{key:"addQuads",value:function(e){for(var t=0;t<e.length;t++)this.addQuad(e[t])}},{key:"addPrefix",value:function(e,t,r){var n={};n[e]=t,this.addPrefixes(n,r)}},{key:"addPrefixes",value:function(e,t){var r=this._prefixIRIs,n=!1;for(var i in e){var a=e[i];"string"!=typeof a&&(a=a.value),n=!0,null!==this._subject&&(this._write(this._inDefaultGraph?".\n":"\n}\n"),this._subject=null,this._graph=""),r[a]=i+=":",this._write("@prefix "+i+" <"+a+">.\n")}if(n){var o="",s="";for(var u in r)o+=o?"|"+u:u,s+=(s?"|":"")+r[u];o=o.replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&"),this._prefixRegex=new RegExp("^(?:"+s+")[^/]*$|^("+o+")([a-zA-Z][\\-_a-zA-Z0-9]*)$")}this._write(n?"\n":"",t)}},{key:"blank",value:function(e,t){var r,n,i=e;switch(void 0===e?i=[]:e.termType?i=[{predicate:e,object:t}]:"length"in e||(i=[e]),n=i.length){case 0:return new d("[]");case 1:if(!((r=i[0]).object instanceof d))return new d("[ "+this._encodePredicate(r.predicate)+" "+this._encodeObject(r.object)+" ]");default:for(var a="[",o=0;o<n;o++)(r=i[o]).predicate.equals(e)?a+=", "+this._encodeObject(r.object):(a+=(o?";\n  ":"\n  ")+this._encodePredicate(r.predicate)+" "+this._encodeObject(r.object),e=r.predicate);return new d(a+"\n]")}}},{key:"list",value:function(e){for(var t=e&&e.length||0,r=new Array(t),n=0;n<t;n++)r[n]=this._encodeObject(e[n]);return new d("("+r.join(" ")+")")}},{key:"end",value:function(e){null!==this._subject&&(this._write(this._inDefaultGraph?".\n":"\n}\n"),this._subject=null),this._write=this._blockedWrite;var t=e&&function(r,n){t=null,e(r,n)};if(this._endStream)try{return this._outputStream.end(t)}catch(r){}t&&t()}},{key:"_inDefaultGraph",get:function(){return o.equals(this._graph)}}]),e}()},{"./IRIs":45,"./N3DataFactory":46}],54:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"DataFactory",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(r,"Lexer",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(r,"Parser",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(r,"Writer",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(r,"Store",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(r,"StreamParser",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(r,"StreamWriter",{enumerable:!0,get:function(){return c.default}}),r.Util=void 0;var n=f(e("./N3DataFactory")),i=f(e("./N3Lexer")),a=f(e("./N3Parser")),o=f(e("./N3Writer")),s=f(e("./N3Store")),u=f(e("./N3StreamParser")),c=f(e("./N3StreamWriter")),l=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t="function"!=typeof WeakMap?null:new WeakMap;if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=n?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}return r.default=e,t&&t.set(e,r),r}(e("./N3Util"));function f(e){return e&&e.__esModule?e:{default:e}}r.Util=l},{"./N3DataFactory":46,"./N3Lexer":47,"./N3Parser":48,"./N3Store":49,"./N3StreamParser":50,"./N3StreamWriter":51,"./N3Util":52,"./N3Writer":53}],55:[function(e,t,r){(function(e){var r={};t.exports=r;var n={};r.encode=function(e,t,r){if("string"!=typeof t)throw new TypeError('"alphabet" must be a string.');if(void 0!==r&&"number"!=typeof r)throw new TypeError('"maxline" must be a number.');var n="";if(e instanceof Uint8Array){var i=0,a=t.length,o=t.charAt(0),s=[0];for(i=0;i<e.length;++i){for(var u=0,c=e[i];u<s.length;++u)s[u]=(c+=s[u]<<8)%a,c=c/a|0;for(;c>0;)s.push(c%a),c=c/a|0}for(i=0;0===e[i]&&i<e.length-1;++i)n+=o;for(i=s.length-1;i>=0;--i)n+=t[s[i]]}else n=function(e,t){var r=0,n=t.length,i=t.charAt(0),a=[0];for(r=0;r<e.length();++r){for(var o=0,s=e.at(r);o<a.length;++o)a[o]=(s+=a[o]<<8)%n,s=s/n|0;for(;s>0;)a.push(s%n),s=s/n|0}var u="";for(r=0;0===e.at(r)&&r<e.length()-1;++r)u+=i;for(r=a.length-1;r>=0;--r)u+=t[a[r]];return u}(e,t);if(r){var l=new RegExp(".{1,"+r+"}","g");n=n.match(l).join("\r\n")}return n},r.decode=function(t,r){if("string"!=typeof t)throw new TypeError('"input" must be a string.');if("string"!=typeof r)throw new TypeError('"alphabet" must be a string.');var i=n[r];if(!i){i=n[r]=[];for(var a=0;a<r.length;++a)i[r.charCodeAt(a)]=a}t=t.replace(/\s/g,"");var o=r.length,s=r.charAt(0),u=[0];for(a=0;a<t.length;a++){var c=i[t.charCodeAt(a)];if(void 0===c)return;for(var l=0,f=c;l<u.length;++l)u[l]=255&(f+=u[l]*o),f>>=8;for(;f>0;)u.push(255&f),f>>=8}for(var h=0;t[h]===s&&h<t.length-1;++h)u.push(0);return void 0!==e?e.from(u.reverse()):new Uint8Array(u.reverse())}}).call(this,e("buffer").Buffer)},{buffer:11}],56:[function(e,t,r){t.exports={options:{usePureJavaScript:!1}}},{}],57:[function(e,t,r){var n=e("./forge");t.exports=n.md=n.md||{},n.md.algorithms=n.md.algorithms||{}},{"./forge":56}],58:[function(e,t,r){var n=e("./forge");e("./md"),e("./util");var i=t.exports=n.sha1=n.sha1||{};n.md.sha1=n.md.algorithms.sha1=i,i.create=function(){o||(a=String.fromCharCode(128),a+=n.util.fillString(String.fromCharCode(0),64),o=!0);var e=null,t=n.util.createBuffer(),r=new Array(80),i={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){i.messageLength=0,i.fullMessageLength=i.messageLength64=[];for(var r=i.messageLengthSize/4,a=0;a<r;++a)i.fullMessageLength.push(0);return t=n.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},i}};return i.start(),i.update=function(a,o){"utf8"===o&&(a=n.util.encodeUtf8(a));var u=a.length;i.messageLength+=u,u=[u/4294967296>>>0,u>>>0];for(var c=i.fullMessageLength.length-1;c>=0;--c)i.fullMessageLength[c]+=u[1],u[1]=u[0]+(i.fullMessageLength[c]/4294967296>>>0),i.fullMessageLength[c]=i.fullMessageLength[c]>>>0,u[0]=u[1]/4294967296>>>0;return t.putBytes(a),s(e,r,t),(t.read>2048||0===t.length())&&t.compact(),i},i.digest=function(){var o,u=n.util.createBuffer();u.putBytes(t.bytes()),u.putBytes(a.substr(0,i.blockLength-(i.fullMessageLength[i.fullMessageLength.length-1]+i.messageLengthSize&i.blockLength-1)));for(var c=8*i.fullMessageLength[0],l=0;l<i.fullMessageLength.length-1;++l)u.putInt32((c+=(o=8*i.fullMessageLength[l+1])/4294967296>>>0)>>>0),c=o>>>0;u.putInt32(c);var f={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4};s(f,r,u);var h=n.util.createBuffer();return h.putInt32(f.h0),h.putInt32(f.h1),h.putInt32(f.h2),h.putInt32(f.h3),h.putInt32(f.h4),h},i};var a=null,o=!1;function s(e,t,r){for(var n,i,a,o,s,u,c,l=r.length();l>=64;){for(i=e.h0,a=e.h1,o=e.h2,s=e.h3,u=e.h4,c=0;c<16;++c)n=r.getInt32(),t[c]=n,n=(i<<5|i>>>27)+(s^a&(o^s))+u+1518500249+n,u=s,s=o,o=(a<<30|a>>>2)>>>0,a=i,i=n;for(;c<20;++c)t[c]=n=(n=t[c-3]^t[c-8]^t[c-14]^t[c-16])<<1|n>>>31,n=(i<<5|i>>>27)+(s^a&(o^s))+u+1518500249+n,u=s,s=o,o=(a<<30|a>>>2)>>>0,a=i,i=n;for(;c<32;++c)t[c]=n=(n=t[c-3]^t[c-8]^t[c-14]^t[c-16])<<1|n>>>31,n=(i<<5|i>>>27)+(a^o^s)+u+1859775393+n,u=s,s=o,o=(a<<30|a>>>2)>>>0,a=i,i=n;for(;c<40;++c)t[c]=n=(n=t[c-6]^t[c-16]^t[c-28]^t[c-32])<<2|n>>>30,n=(i<<5|i>>>27)+(a^o^s)+u+1859775393+n,u=s,s=o,o=(a<<30|a>>>2)>>>0,a=i,i=n;for(;c<60;++c)t[c]=n=(n=t[c-6]^t[c-16]^t[c-28]^t[c-32])<<2|n>>>30,n=(i<<5|i>>>27)+(a&o|s&(a^o))+u+2400959708+n,u=s,s=o,o=(a<<30|a>>>2)>>>0,a=i,i=n;for(;c<80;++c)t[c]=n=(n=t[c-6]^t[c-16]^t[c-28]^t[c-32])<<2|n>>>30,n=(i<<5|i>>>27)+(a^o^s)+u+3395469782+n,u=s,s=o,o=(a<<30|a>>>2)>>>0,a=i,i=n;e.h0=e.h0+i|0,e.h1=e.h1+a|0,e.h2=e.h2+o|0,e.h3=e.h3+s|0,e.h4=e.h4+u|0,l-=64}}},{"./forge":56,"./md":57,"./util":60}],59:[function(e,t,r){var n=e("./forge");e("./md"),e("./util");var i=t.exports=n.sha256=n.sha256||{};n.md.sha256=n.md.algorithms.sha256=i,i.create=function(){o||(a=String.fromCharCode(128),a+=n.util.fillString(String.fromCharCode(0),64),s=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],o=!0);var e=null,t=n.util.createBuffer(),r=new Array(64),i={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){i.messageLength=0,i.fullMessageLength=i.messageLength64=[];for(var r=i.messageLengthSize/4,a=0;a<r;++a)i.fullMessageLength.push(0);return t=n.util.createBuffer(),e={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},i}};return i.start(),i.update=function(a,o){"utf8"===o&&(a=n.util.encodeUtf8(a));var s=a.length;i.messageLength+=s,s=[s/4294967296>>>0,s>>>0];for(var c=i.fullMessageLength.length-1;c>=0;--c)i.fullMessageLength[c]+=s[1],s[1]=s[0]+(i.fullMessageLength[c]/4294967296>>>0),i.fullMessageLength[c]=i.fullMessageLength[c]>>>0,s[0]=s[1]/4294967296>>>0;return t.putBytes(a),u(e,r,t),(t.read>2048||0===t.length())&&t.compact(),i},i.digest=function(){var o,s=n.util.createBuffer();s.putBytes(t.bytes()),s.putBytes(a.substr(0,i.blockLength-(i.fullMessageLength[i.fullMessageLength.length-1]+i.messageLengthSize&i.blockLength-1)));for(var c=8*i.fullMessageLength[0],l=0;l<i.fullMessageLength.length-1;++l)s.putInt32((c+=(o=8*i.fullMessageLength[l+1])/4294967296>>>0)>>>0),c=o>>>0;s.putInt32(c);var f={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4,h5:e.h5,h6:e.h6,h7:e.h7};u(f,r,s);var h=n.util.createBuffer();return h.putInt32(f.h0),h.putInt32(f.h1),h.putInt32(f.h2),h.putInt32(f.h3),h.putInt32(f.h4),h.putInt32(f.h5),h.putInt32(f.h6),h.putInt32(f.h7),h},i};var a=null,o=!1,s=null;function u(e,t,r){for(var n,i,a,o,u,c,l,f,h,d,p,v,g=r.length();g>=64;){for(o=0;o<16;++o)t[o]=r.getInt32();for(;o<64;++o)t[o]=(n=((n=t[o-2])>>>17|n<<15)^(n>>>19|n<<13)^n>>>10)+t[o-7]+(i=((i=t[o-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)+t[o-16]|0;for(u=e.h0,c=e.h1,l=e.h2,f=e.h3,h=e.h4,d=e.h5,p=e.h6,v=e.h7,o=0;o<64;++o)a=u&c|l&(u^c),n=v+((h>>>6|h<<26)^(h>>>11|h<<21)^(h>>>25|h<<7))+(p^h&(d^p))+s[o]+t[o],v=p,p=d,d=h,h=f+n>>>0,f=l,l=c,c=u,u=n+(i=((u>>>2|u<<30)^(u>>>13|u<<19)^(u>>>22|u<<10))+a)>>>0;e.h0=e.h0+u|0,e.h1=e.h1+c|0,e.h2=e.h2+l|0,e.h3=e.h3+f|0,e.h4=e.h4+h|0,e.h5=e.h5+d|0,e.h6=e.h6+p|0,e.h7=e.h7+v|0,g-=64}}},{"./forge":56,"./md":57,"./util":60}],60:[function(e,t,r){(function(r,n,i,a,o,s,u,c){var l=e("./forge"),f=e("./baseN"),h=t.exports=l.util=l.util||{};function d(e){if(8!==e&&16!==e&&24!==e&&32!==e)throw new Error("Only 8, 16, 24, or 32 bits supported: "+e)}function p(e){if(this.data="",this.read=0,"string"==typeof e)this.data=e;else if(h.isArrayBuffer(e)||h.isArrayBufferView(e))if(void 0!==i&&e instanceof i)this.data=e.toString("binary");else{var t=new Uint8Array(e);try{this.data=String.fromCharCode.apply(null,t)}catch(n){for(var r=0;r<t.length;++r)this.putByte(t[r])}}else(e instanceof p||"object"==typeof e&&"string"==typeof e.data&&"number"==typeof e.read)&&(this.data=e.data,this.read=e.read);this._constructedStringLength=0}!function(){if(void 0!==r&&r.nextTick&&!r.browser)return h.nextTick=r.nextTick,void(h.setImmediate="function"==typeof c?c:h.nextTick);if("function"==typeof c)return h.setImmediate=function(){return c.apply(void 0,arguments)},void(h.nextTick=function(e){return c(e)});if(h.setImmediate=function(e){setTimeout(e,0)},"undefined"!=typeof window&&"function"==typeof window.postMessage){var e="forge.setImmediate",t=[];h.setImmediate=function(r){t.push(r),1===t.length&&window.postMessage(e,"*")},window.addEventListener("message",(function(r){if(r.source===window&&r.data===e){r.stopPropagation();var n=t.slice();t.length=0,n.forEach((function(e){e()}))}}),!0)}if("undefined"!=typeof MutationObserver){var n=Date.now(),i=!0,a=document.createElement("div");t=[],new MutationObserver((function(){var e=t.slice();t.length=0,e.forEach((function(e){e()}))})).observe(a,{attributes:!0});var o=h.setImmediate;h.setImmediate=function(e){Date.now()-n>15?(n=Date.now(),o(e)):(t.push(e),1===t.length&&a.setAttribute("a",i=!i))}}h.nextTick=h.setImmediate}(),h.isNodejs=void 0!==r&&r.versions&&r.versions.node,h.globalScope=h.isNodejs?n:"undefined"==typeof self?window:self,h.isArray=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},h.isArrayBuffer=function(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer},h.isArrayBufferView=function(e){return e&&h.isArrayBuffer(e.buffer)&&void 0!==e.byteLength},h.ByteBuffer=p,h.ByteStringBuffer=p,h.ByteStringBuffer.prototype._optimizeConstructedString=function(e){this._constructedStringLength+=e,this._constructedStringLength>4096&&(this.data.substr(0,1),this._constructedStringLength=0)},h.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read},h.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0},h.ByteStringBuffer.prototype.putByte=function(e){return this.putBytes(String.fromCharCode(e))},h.ByteStringBuffer.prototype.fillWithByte=function(e,t){e=String.fromCharCode(e);for(var r=this.data;t>0;)1&t&&(r+=e),(t>>>=1)>0&&(e+=e);return this.data=r,this._optimizeConstructedString(t),this},h.ByteStringBuffer.prototype.putBytes=function(e){return this.data+=e,this._optimizeConstructedString(e.length),this},h.ByteStringBuffer.prototype.putString=function(e){return this.putBytes(h.encodeUtf8(e))},h.ByteStringBuffer.prototype.putInt16=function(e){return this.putBytes(String.fromCharCode(e>>8&255)+String.fromCharCode(255&e))},h.ByteStringBuffer.prototype.putInt24=function(e){return this.putBytes(String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e))},h.ByteStringBuffer.prototype.putInt32=function(e){return this.putBytes(String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e))},h.ByteStringBuffer.prototype.putInt16Le=function(e){return this.putBytes(String.fromCharCode(255&e)+String.fromCharCode(e>>8&255))},h.ByteStringBuffer.prototype.putInt24Le=function(e){return this.putBytes(String.fromCharCode(255&e)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255))},h.ByteStringBuffer.prototype.putInt32Le=function(e){return this.putBytes(String.fromCharCode(255&e)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>24&255))},h.ByteStringBuffer.prototype.putInt=function(e,t){d(t);var r="";do{t-=8,r+=String.fromCharCode(e>>t&255)}while(t>0);return this.putBytes(r)},h.ByteStringBuffer.prototype.putSignedInt=function(e,t){return e<0&&(e+=2<<t-1),this.putInt(e,t)},h.ByteStringBuffer.prototype.putBuffer=function(e){return this.putBytes(e.getBytes())},h.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)},h.ByteStringBuffer.prototype.getInt16=function(){var e=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,e},h.ByteStringBuffer.prototype.getInt24=function(){var e=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,e},h.ByteStringBuffer.prototype.getInt32=function(){var e=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,e},h.ByteStringBuffer.prototype.getInt16Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,e},h.ByteStringBuffer.prototype.getInt24Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,e},h.ByteStringBuffer.prototype.getInt32Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,e},h.ByteStringBuffer.prototype.getInt=function(e){d(e);var t=0;do{t=(t<<8)+this.data.charCodeAt(this.read++),e-=8}while(e>0);return t},h.ByteStringBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t},h.ByteStringBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):0===e?t="":(t=0===this.read?this.data:this.data.slice(this.read),this.clear()),t},h.ByteStringBuffer.prototype.bytes=function(e){return void 0===e?this.data.slice(this.read):this.data.slice(this.read,this.read+e)},h.ByteStringBuffer.prototype.at=function(e){return this.data.charCodeAt(this.read+e)},h.ByteStringBuffer.prototype.setAt=function(e,t){return this.data=this.data.substr(0,this.read+e)+String.fromCharCode(t)+this.data.substr(this.read+e+1),this},h.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)},h.ByteStringBuffer.prototype.copy=function(){var e=h.createBuffer(this.data);return e.read=this.read,e},h.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this},h.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this},h.ByteStringBuffer.prototype.truncate=function(e){var t=Math.max(0,this.length()-e);return this.data=this.data.substr(this.read,t),this.read=0,this},h.ByteStringBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.length;++t){var r=this.data.charCodeAt(t);r<16&&(e+="0"),e+=r.toString(16)}return e},h.ByteStringBuffer.prototype.toString=function(){return h.decodeUtf8(this.bytes())},h.DataBuffer=function(e,t){this.read=(t=t||{}).readOffset||0,this.growSize=t.growSize||1024;var r=h.isArrayBuffer(e),n=h.isArrayBufferView(e);if(r||n)return this.data=r?new DataView(e):new DataView(e.buffer,e.byteOffset,e.byteLength),void(this.write="writeOffset"in t?t.writeOffset:this.data.byteLength);this.data=new DataView(new ArrayBuffer(0)),this.write=0,null!=e&&this.putBytes(e),"writeOffset"in t&&(this.write=t.writeOffset)},h.DataBuffer.prototype.length=function(){return this.write-this.read},h.DataBuffer.prototype.isEmpty=function(){return this.length()<=0},h.DataBuffer.prototype.accommodate=function(e,t){if(this.length()>=e)return this;t=Math.max(t||this.growSize,e);var r=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),n=new Uint8Array(this.length()+t);return n.set(r),this.data=new DataView(n.buffer),this},h.DataBuffer.prototype.putByte=function(e){return this.accommodate(1),this.data.setUint8(this.write++,e),this},h.DataBuffer.prototype.fillWithByte=function(e,t){this.accommodate(t);for(var r=0;r<t;++r)this.data.setUint8(e);return this},h.DataBuffer.prototype.putBytes=function(e,t){if(h.isArrayBufferView(e)){var r=(n=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)).byteLength-n.byteOffset;return this.accommodate(r),new Uint8Array(this.data.buffer,this.write).set(n),this.write+=r,this}if(h.isArrayBuffer(e)){var n=new Uint8Array(e);return this.accommodate(n.byteLength),new Uint8Array(this.data.buffer).set(n,this.write),this.write+=n.byteLength,this}if(e instanceof h.DataBuffer||"object"==typeof e&&"number"==typeof e.read&&"number"==typeof e.write&&h.isArrayBufferView(e.data))return n=new Uint8Array(e.data.byteLength,e.read,e.length()),this.accommodate(n.byteLength),new Uint8Array(e.data.byteLength,this.write).set(n),this.write+=n.byteLength,this;if(e instanceof h.ByteStringBuffer&&(e=e.data,t="binary"),t=t||"binary","string"==typeof e){var i;if("hex"===t)return this.accommodate(Math.ceil(e.length/2)),i=new Uint8Array(this.data.buffer,this.write),this.write+=h.binary.hex.decode(e,i,this.write),this;if("base64"===t)return this.accommodate(3*Math.ceil(e.length/4)),i=new Uint8Array(this.data.buffer,this.write),this.write+=h.binary.base64.decode(e,i,this.write),this;if("utf8"===t&&(e=h.encodeUtf8(e),t="binary"),"binary"===t||"raw"===t)return this.accommodate(e.length),i=new Uint8Array(this.data.buffer,this.write),this.write+=h.binary.raw.decode(i),this;if("utf16"===t)return this.accommodate(2*e.length),i=new Uint16Array(this.data.buffer,this.write),this.write+=h.text.utf16.encode(i),this;throw new Error("Invalid encoding: "+t)}throw Error("Invalid parameter: "+e)},h.DataBuffer.prototype.putBuffer=function(e){return this.putBytes(e),e.clear(),this},h.DataBuffer.prototype.putString=function(e){return this.putBytes(e,"utf16")},h.DataBuffer.prototype.putInt16=function(e){return this.accommodate(2),this.data.setInt16(this.write,e),this.write+=2,this},h.DataBuffer.prototype.putInt24=function(e){return this.accommodate(3),this.data.setInt16(this.write,e>>8&65535),this.data.setInt8(this.write,e>>16&255),this.write+=3,this},h.DataBuffer.prototype.putInt32=function(e){return this.accommodate(4),this.data.setInt32(this.write,e),this.write+=4,this},h.DataBuffer.prototype.putInt16Le=function(e){return this.accommodate(2),this.data.setInt16(this.write,e,!0),this.write+=2,this},h.DataBuffer.prototype.putInt24Le=function(e){return this.accommodate(3),this.data.setInt8(this.write,e>>16&255),this.data.setInt16(this.write,e>>8&65535,!0),this.write+=3,this},h.DataBuffer.prototype.putInt32Le=function(e){return this.accommodate(4),this.data.setInt32(this.write,e,!0),this.write+=4,this},h.DataBuffer.prototype.putInt=function(e,t){d(t),this.accommodate(t/8);do{t-=8,this.data.setInt8(this.write++,e>>t&255)}while(t>0);return this},h.DataBuffer.prototype.putSignedInt=function(e,t){return d(t),this.accommodate(t/8),e<0&&(e+=2<<t-1),this.putInt(e,t)},h.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)},h.DataBuffer.prototype.getInt16=function(){var e=this.data.getInt16(this.read);return this.read+=2,e},h.DataBuffer.prototype.getInt24=function(){var e=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,e},h.DataBuffer.prototype.getInt32=function(){var e=this.data.getInt32(this.read);return this.read+=4,e},h.DataBuffer.prototype.getInt16Le=function(){var e=this.data.getInt16(this.read,!0);return this.read+=2,e},h.DataBuffer.prototype.getInt24Le=function(){var e=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,e},h.DataBuffer.prototype.getInt32Le=function(){var e=this.data.getInt32(this.read,!0);return this.read+=4,e},h.DataBuffer.prototype.getInt=function(e){d(e);var t=0;do{t=(t<<8)+this.data.getInt8(this.read++),e-=8}while(e>0);return t},h.DataBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t},h.DataBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):0===e?t="":(t=0===this.read?this.data:this.data.slice(this.read),this.clear()),t},h.DataBuffer.prototype.bytes=function(e){return void 0===e?this.data.slice(this.read):this.data.slice(this.read,this.read+e)},h.DataBuffer.prototype.at=function(e){return this.data.getUint8(this.read+e)},h.DataBuffer.prototype.setAt=function(e,t){return this.data.setUint8(e,t),this},h.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)},h.DataBuffer.prototype.copy=function(){return new h.DataBuffer(this)},h.DataBuffer.prototype.compact=function(){if(this.read>0){var e=new Uint8Array(this.data.buffer,this.read),t=new Uint8Array(e.byteLength);t.set(e),this.data=new DataView(t),this.write-=this.read,this.read=0}return this},h.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this},h.DataBuffer.prototype.truncate=function(e){return this.write=Math.max(0,this.length()-e),this.read=Math.min(this.read,this.write),this},h.DataBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.byteLength;++t){var r=this.data.getUint8(t);r<16&&(e+="0"),e+=r.toString(16)}return e},h.DataBuffer.prototype.toString=function(e){var t=new Uint8Array(this.data,this.read,this.length());if("binary"===(e=e||"utf8")||"raw"===e)return h.binary.raw.encode(t);if("hex"===e)return h.binary.hex.encode(t);if("base64"===e)return h.binary.base64.encode(t);if("utf8"===e)return h.text.utf8.decode(t);if("utf16"===e)return h.text.utf16.decode(t);throw new Error("Invalid encoding: "+e)},h.createBuffer=function(e,t){return t=t||"raw",void 0!==e&&"utf8"===t&&(e=h.encodeUtf8(e)),new h.ByteBuffer(e)},h.fillString=function(e,t){for(var r="";t>0;)1&t&&(r+=e),(t>>>=1)>0&&(e+=e);return r},h.xorBytes=function(e,t,r){for(var n="",i="",a="",o=0,s=0;r>0;--r,++o)i=e.charCodeAt(o)^t.charCodeAt(o),s>=10&&(n+=a,a="",s=0),a+=String.fromCharCode(i),++s;return n+a},h.hexToBytes=function(e){var t="",r=0;for(!0&e.length&&(r=1,t+=String.fromCharCode(parseInt(e[0],16)));r<e.length;r+=2)t+=String.fromCharCode(parseInt(e.substr(r,2),16));return t},h.bytesToHex=function(e){return h.createBuffer(e).toHex()},h.int32ToBytes=function(e){return String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e)};var v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",g=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],y="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";h.encode64=function(e,t){for(var r,n,i,a="",o="",s=0;s<e.length;)r=e.charCodeAt(s++),n=e.charCodeAt(s++),i=e.charCodeAt(s++),a+=v.charAt(r>>2),a+=v.charAt((3&r)<<4|n>>4),isNaN(n)?a+="==":(a+=v.charAt((15&n)<<2|i>>6),a+=isNaN(i)?"=":v.charAt(63&i)),t&&a.length>t&&(o+=a.substr(0,t)+"\r\n",a=a.substr(t));return o+a},h.decode64=function(e){e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var t,r,n,i,a="",o=0;o<e.length;)t=g[e.charCodeAt(o++)-43],r=g[e.charCodeAt(o++)-43],n=g[e.charCodeAt(o++)-43],i=g[e.charCodeAt(o++)-43],a+=String.fromCharCode(t<<2|r>>4),64!==n&&(a+=String.fromCharCode((15&r)<<4|n>>2),64!==i&&(a+=String.fromCharCode((3&n)<<6|i)));return a},h.encodeUtf8=function(e){return unescape(encodeURIComponent(e))},h.decodeUtf8=function(e){return decodeURIComponent(escape(e))},h.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:f.encode,decode:f.decode}},h.binary.raw.encode=function(e){return String.fromCharCode.apply(null,e)},h.binary.raw.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(e.length));for(var i=r=r||0,a=0;a<e.length;++a)n[i++]=e.charCodeAt(a);return t?i-r:n},h.binary.hex.encode=h.bytesToHex,h.binary.hex.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(Math.ceil(e.length/2)));var i=0,a=r=r||0;for(1&e.length&&(i=1,n[a++]=parseInt(e[0],16));i<e.length;i+=2)n[a++]=parseInt(e.substr(i,2),16);return t?a-r:n},h.binary.base64.encode=function(e,t){for(var r,n,i,a="",o="",s=0;s<e.byteLength;)r=e[s++],n=e[s++],i=e[s++],a+=v.charAt(r>>2),a+=v.charAt((3&r)<<4|n>>4),isNaN(n)?a+="==":(a+=v.charAt((15&n)<<2|i>>6),a+=isNaN(i)?"=":v.charAt(63&i)),t&&a.length>t&&(o+=a.substr(0,t)+"\r\n",a=a.substr(t));return o+a},h.binary.base64.decode=function(e,t,r){var n,i,a,o,s=t;s||(s=new Uint8Array(3*Math.ceil(e.length/4))),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var u=0,c=r=r||0;u<e.length;)n=g[e.charCodeAt(u++)-43],i=g[e.charCodeAt(u++)-43],a=g[e.charCodeAt(u++)-43],o=g[e.charCodeAt(u++)-43],s[c++]=n<<2|i>>4,64!==a&&(s[c++]=(15&i)<<4|a>>2,64!==o&&(s[c++]=(3&a)<<6|o));return t?c-r:s.subarray(0,c)},h.binary.base58.encode=function(e,t){return h.binary.baseN.encode(e,y,t)},h.binary.base58.decode=function(e,t){return h.binary.baseN.decode(e,y,t)},h.text={utf8:{},utf16:{}},h.text.utf8.encode=function(e,t,r){e=h.encodeUtf8(e);var n=t;n||(n=new Uint8Array(e.length));for(var i=r=r||0,a=0;a<e.length;++a)n[i++]=e.charCodeAt(a);return t?i-r:n},h.text.utf8.decode=function(e){return h.decodeUtf8(String.fromCharCode.apply(null,e))},h.text.utf16.encode=function(e,t,r){var n=t;n||(n=new Uint8Array(2*e.length));for(var i=new Uint16Array(n.buffer),a=r=r||0,o=r,s=0;s<e.length;++s)i[o++]=e.charCodeAt(s),a+=2;return t?a-r:n},h.text.utf16.decode=function(e){return String.fromCharCode.apply(null,new Uint16Array(e.buffer))},h.deflate=function(e,t,r){if(t=h.decode64(e.deflate(h.encode64(t)).rval),r){var n=2;32&t.charCodeAt(1)&&(n=6),t=t.substring(n,t.length-4)}return t},h.inflate=function(e,t,r){var n=e.inflate(h.encode64(t)).rval;return null===n?null:h.decode64(n)};var b=function(e,t,r){if(!e)throw new Error("WebStorage not available.");var n;if(null===r?n=e.removeItem(t):(r=h.encode64(JSON.stringify(r)),n=e.setItem(t,r)),void 0!==n&&!0!==n.rval){var i=new Error(n.error.message);throw i.id=n.error.id,i.name=n.error.name,i}},m=function(e,t){if(!e)throw new Error("WebStorage not available.");var r=e.getItem(t);if(e.init)if(null===r.rval){if(r.error){var n=new Error(r.error.message);throw n.id=r.error.id,n.name=r.error.name,n}r=null}else r=r.rval;return null!==r&&(r=JSON.parse(h.decode64(r))),r},_=function(e,t,r,n){var i=m(e,t);null===i&&(i={}),i[r]=n,b(e,t,i)},w=function(e,t,r){var n=m(e,t);return null!==n&&(n=r in n?n[r]:null),n},x=function(e,t,r){var n=m(e,t);if(null!==n&&r in n){delete n[r];var i=!0;for(var a in n){i=!1;break}i&&(n=null),b(e,t,n)}},k=function(e,t){b(e,t,null)},S=function(e,t,r){var n,i=null;void 0===r&&(r=["web","flash"]);var a=!1,o=null;for(var s in r){n=r[s];try{if("flash"===n||"both"===n){if(null===t[0])throw new Error("Flash local storage not available.");i=e.apply(this,t),a="flash"===n}"web"!==n&&"both"!==n||(t[0]=localStorage,i=e.apply(this,t),a=!0)}catch(u){o=u}if(a)break}if(!a)throw o;return i};h.setItem=function(e,t,r,n,i){S(_,arguments,i)},h.getItem=function(e,t,r,n){return S(w,arguments,n)},h.removeItem=function(e,t,r,n){S(x,arguments,n)},h.clearItems=function(e,t,r){S(k,arguments,r)},h.parseUrl=function(e){var t=/^(https?):\/\/([^:&^\/]*):?(\d*)(.*)$/g;t.lastIndex=0;var r=t.exec(e),n=null===r?null:{full:e,scheme:r[1],host:r[2],port:r[3],path:r[4]};return n&&(n.fullHost=n.host,n.port?(80!==n.port&&"http"===n.scheme||443!==n.port&&"https"===n.scheme)&&(n.fullHost+=":"+n.port):"http"===n.scheme?n.port=80:"https"===n.scheme&&(n.port=443),n.full=n.scheme+"://"+n.fullHost),n};var E=null;h.getQueryVariables=function(e){var t,r=function(e){for(var t={},r=e.split("&"),n=0;n<r.length;n++){var i,a,o=r[n].indexOf("=");o>0?(i=r[n].substring(0,o),a=r[n].substring(o+1)):(i=r[n],a=null),i in t||(t[i]=[]),i in Object.prototype||null===a||t[i].push(unescape(a))}return t};return void 0===e?(null===E&&(E="undefined"!=typeof window&&window.location&&window.location.search?r(window.location.search.substring(1)):{}),t=E):t=r(e),t},h.parseFragment=function(e){var t=e,r="",n=e.indexOf("?");n>0&&(t=e.substring(0,n),r=e.substring(n+1));var i=t.split("/");return i.length>0&&""===i[0]&&i.shift(),{pathString:t,queryString:r,path:i,query:""===r?{}:h.getQueryVariables(r)}},h.makeRequest=function(e){var t=h.parseFragment(e),r={path:t.pathString,query:t.queryString,getPath:function(e){return void 0===e?t.path:t.path[e]},getQuery:function(e,r){var n;return void 0===e?n=t.query:(n=t.query[e])&&void 0!==r&&(n=n[r]),n},getQueryLast:function(e,t){var n=r.getQuery(e);return n?n[n.length-1]:t}};return r},h.makeLink=function(e,t,r){e=jQuery.isArray(e)?e.join("/"):e;var n=jQuery.param(t||{});return e+(n.length>0?"?"+n:"")+((r=r||"").length>0?"#"+r:"")},h.setPath=function(e,t,r){if("object"==typeof e&&null!==e)for(var n=0,i=t.length;n<i;){var a=t[n++];if(n==i)e[a]=r;else{var o=a in e;(!o||o&&"object"!=typeof e[a]||o&&null===e[a])&&(e[a]={}),e=e[a]}}},h.getPath=function(e,t,r){for(var n=0,i=t.length,a=!0;a&&n<i&&"object"==typeof e&&null!==e;){var o=t[n++];(a=o in e)&&(e=e[o])}return a?e:r},h.deletePath=function(e,t){if("object"==typeof e&&null!==e)for(var r=0,n=t.length;r<n;){var i=t[r++];if(r==n)delete e[i];else{if(!(i in e)||"object"!=typeof e[i]||null===e[i])break;e=e[i]}}},h.isEmpty=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},h.format=function(e){for(var t,r,n=/%./g,i=0,a=[],o=0;t=n.exec(e);){(r=e.substring(o,n.lastIndex-2)).length>0&&a.push(r),o=n.lastIndex;var s=t[0][1];switch(s){case"s":case"o":a.push(i<arguments.length?arguments[1+i++]:"<?>");break;case"%":a.push("%");break;default:a.push("<%"+s+"?>")}}return a.push(e.substring(o)),a.join("")},h.formatNumber=function(e,t,r,n){var i=e,a=isNaN(t=Math.abs(t))?2:t,o=void 0===r?",":r,s=void 0===n?".":n,u=i<0?"-":"",c=parseInt(i=Math.abs(+i||0).toFixed(a),10)+"",l=c.length>3?c.length%3:0;return u+(l?c.substr(0,l)+s:"")+c.substr(l).replace(/(\d{3})(?=\d)/g,"$1"+s)+(a?o+Math.abs(i-c).toFixed(a).slice(2):"")},h.formatSize=function(e){return e>=1073741824?h.formatNumber(e/1073741824,2,".","")+" GiB":e>=1048576?h.formatNumber(e/1048576,2,".","")+" MiB":e>=1024?h.formatNumber(e/1024,0)+" KiB":h.formatNumber(e,0)+" bytes"},h.bytesFromIP=function(e){return-1!==e.indexOf(".")?h.bytesFromIPv4(e):-1!==e.indexOf(":")?h.bytesFromIPv6(e):null},h.bytesFromIPv4=function(e){if(4!==(e=e.split(".")).length)return null;for(var t=h.createBuffer(),r=0;r<e.length;++r){var n=parseInt(e[r],10);if(isNaN(n))return null;t.putByte(n)}return t.getBytes()},h.bytesFromIPv6=function(e){for(var t=0,r=2*(8-(e=e.split(":").filter((function(e){return 0===e.length&&++t,!0}))).length+t),n=h.createBuffer(),i=0;i<8;++i)if(e[i]&&0!==e[i].length){var a=h.hexToBytes(e[i]);a.length<2&&n.putByte(0),n.putBytes(a)}else n.fillWithByte(0,r),r=0;return n.getBytes()},h.bytesToIP=function(e){return 4===e.length?h.bytesToIPv4(e):16===e.length?h.bytesToIPv6(e):null},h.bytesToIPv4=function(e){if(4!==e.length)return null;for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t.join(".")},h.bytesToIPv6=function(e){if(16!==e.length)return null;for(var t=[],r=[],n=0,i=0;i<e.length;i+=2){for(var a=h.bytesToHex(e[i]+e[i+1]);"0"===a[0]&&"0"!==a;)a=a.substr(1);if("0"===a){var o=r[r.length-1],s=t.length;o&&s===o.end+1?(o.end=s,o.end-o.start>r[n].end-r[n].start&&(n=r.length-1)):r.push({start:s,end:s})}t.push(a)}if(r.length>0){var u=r[n];u.end-u.start>0&&(t.splice(u.start,u.end-u.start+1,""),0===u.start&&t.unshift(""),7===u.end&&t.push(""))}return t.join(":")},h.estimateCores=function(e,t){if("function"==typeof e&&(t=e,e={}),e=e||{},"cores"in h&&!e.update)return t(null,h.cores);if("undefined"!=typeof navigator&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return h.cores=navigator.hardwareConcurrency,t(null,h.cores);if("undefined"==typeof Worker)return h.cores=1,t(null,h.cores);if("undefined"==typeof Blob)return h.cores=2,t(null,h.cores);var r=URL.createObjectURL(new Blob(["(",(function(){self.addEventListener("message",(function(e){for(var t=Date.now(),r=t+4;Date.now()<r;);self.postMessage({st:t,et:r})}))}).toString(),")()"],{type:"application/javascript"}));!function e(n,i,a){if(0===i){var o=Math.floor(n.reduce((function(e,t){return e+t}),0)/n.length);return h.cores=Math.max(1,o),URL.revokeObjectURL(r),t(null,h.cores)}!function(e,t){for(var n=[],i=[],a=0;a<e;++a){var o=new Worker(r);o.addEventListener("message",(function(r){if(i.push(r.data),i.length===e){for(var a=0;a<e;++a)n[a].terminate();t(0,i)}})),n.push(o)}for(a=0;a<e;++a)n[a].postMessage(a)}(a,(function(t,r){n.push(function(e,t){for(var r=[],n=0;n<e;++n)for(var i=t[n],a=r[n]=[],o=0;o<e;++o)if(n!==o){var s=t[o];(i.st>s.st&&i.st<s.et||s.st>i.st&&s.st<i.et)&&a.push(o)}return r.reduce((function(e,t){return Math.max(e,t.length)}),0)}(a,r)),e(n,i-1,a)}))}([],5,16)}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],e("timers").setImmediate)},{"./baseN":55,"./forge":56,_process:62,buffer:11,timers:14}],61:[function(e,t,r){(function(e){"use strict";t.exports=void 0===e||!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?{nextTick:function(t,r,n,i){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var a,o,s=arguments.length;switch(s){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick((function(){t.call(null,r)}));case 3:return e.nextTick((function(){t.call(null,r,n)}));case 4:return e.nextTick((function(){t.call(null,r,n,i)}));default:for(a=new Array(s-1),o=0;o<a.length;)a[o++]=arguments[o];return e.nextTick((function(){t.apply(null,a)}))}}}:e}).call(this,e("_process"))},{_process:62}],62:[function(e,t,r){var n,i,a=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function u(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(e){i=s}}();var c,l=[],f=!1,h=-1;function d(){f&&c&&(f=!1,c.length?l=c.concat(l):h=-1,l.length&&p())}function p(){if(!f){var e=u(d);f=!0;for(var t=l.length;t;){for(c=l,l=[];++h<t;)c&&c[h].run();h=-1,t=l.length}c=null,f=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function v(e,t){this.fun=e,this.array=t}function g(){}a.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];l.push(new v(e,t)),1!==l.length||f||u(p)},v.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=g,a.addListener=g,a.once=g,a.off=g,a.removeListener=g,a.removeAllListeners=g,a.emit=g,a.prependListener=g,a.prependOnceListener=g,a.listeners=function(e){return[]},a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},{}],63:[function(e,t,r){var n;t.exports="function"==typeof queueMicrotask?queueMicrotask:function(e){return(n||(n=Promise.resolve())).then(e).catch((function(e){return setTimeout((function(){throw e}),0)}))}},{}],64:[function(e,t,r){"use strict";var n=e("./util");t.exports=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.maxCallStackDepth,n=void 0===r?500:r,i=t.maxTotalCallStackDepth,a=void 0===i?4294967295:i,o=t.timeSlice,s=void 0===o?10:o;_classCallCheck2(this,e),this.schedule={},this.schedule.MAX_DEPTH=n,this.schedule.MAX_TOTAL_DEPTH=a,this.schedule.depth=0,this.schedule.totalDepth=0,this.schedule.timeSlice=s}return _createClass2(e,[{key:"doWork",value:function(e,t){var r=this.schedule;if(r.totalDepth>=r.MAX_TOTAL_DEPTH)return t(new Error("Maximum total call stack depth exceeded; canonicalization aborting."));!function i(){if(r.depth===r.MAX_DEPTH)return r.depth=0,r.running=!1,n.nextTick(i);var a=Date.now();if(r.running||(r.start=Date.now(),r.deadline=r.start+r.timeSlice),a<r.deadline)return r.running=!0,r.depth++,r.totalDepth++,e((function(e,n){r.depth--,r.totalDepth--,t(e,n)}));r.depth=0,r.running=!1,n.setImmediate(i)}()}},{key:"forEach",value:function(e,t,r){var n,i,a=this,o=0;if(Array.isArray(e))i=e.length,n=function(){return o!==i&&(n.value=e[o++],n.key=o,!0)};else{var s=Object.keys(e);i=s.length,n=function(){return o!==i&&(n.key=s[o++],n.value=e[n.key],!0)}}!function e(i){return i?r(i):n()?a.doWork((function(){return t(n.value,n.key,e)})):void r()}()}},{key:"waterfall",value:function(e,t){var r=this;r.forEach(e,(function(e,t,n){return r.doWork(e,n)}),t)}},{key:"whilst",value:function(e,t,r){var n=this;!function i(a){return a?r(a):e()?void n.doWork(t,i):r()}()}}]),e}()},{"./util":74}],65:[function(e,t,r){"use strict";var n=e("./util");t.exports=function(){function e(t){_classCallCheck2(this,e),this.prefix=t,this.counter=0,this.existing={}}return _createClass2(e,[{key:"clone",value:function(){var t=new e(this.prefix);return t.counter=this.counter,t.existing=n.clone(this.existing),t}},{key:"getId",value:function(e){if(e&&e in this.existing)return this.existing[e];var t=this.prefix+this.counter;return this.counter+=1,e&&(this.existing[e]=t),t}},{key:"hasId",value:function(e){return e in this.existing}}]),e}()},{"./util":74}],66:[function(e,t,r){"use strict";var n=e("node-forge/lib/forge");e("node-forge/lib/md"),e("node-forge/lib/sha1"),e("node-forge/lib/sha256"),t.exports=function(){function e(t){_classCallCheck2(this,e),this.md=n.md[t].create()}return _createClass2(e,[{key:"update",value:function(e){this.md.update(e,"utf8")}},{key:"digest",value:function(){return this.md.digest().toHex()}}]),e}()},{"node-forge/lib/forge":56,"node-forge/lib/md":57,"node-forge/lib/sha1":58,"node-forge/lib/sha256":59}],67:[function(e,t,r){"use strict";var n="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString",i="http://www.w3.org/2001/XMLSchema#string",a={};function o(e,t){for(var r in e)if(e[r].termType!==t[r].termType||e[r].value!==t[r].value)return!1;return"Literal"!==e.object.termType||e.object.datatype.termType===t.object.datatype.termType&&e.object.datatype.value===t.object.datatype.value&&e.object.language===t.object.language}a.eoln=/(?:\r\n)|(?:\n)|(?:\r)/g,a.empty=new RegExp("^[ \\t]*$"),a.quad=new RegExp('^[ \\t]*(?:(?:<([^:]+:[^>]*)>)|(_:(?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd_0-9])(?:(?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd_0-9-\xb7\u0300-\u036f\u203f-\u2040.])*(?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd_0-9-\xb7\u0300-\u036f\u203f-\u2040]))?))[ \\t]+(?:<([^:]+:[^>]*)>)[ \\t]+(?:(?:<([^:]+:[^>]*)>)|(_:(?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd_0-9])(?:(?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd_0-9-\xb7\u0300-\u036f\u203f-\u2040.])*(?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd_0-9-\xb7\u0300-\u036f\u203f-\u2040]))?)|(?:"([^"\\\\]*(?:\\\\.[^"\\\\]*)*)"(?:(?:\\^\\^(?:<([^:]+:[^>]*)>))|(?:@([a-zA-Z]+(?:-[a-zA-Z0-9]+)*)))?))[ \\t]*(?:\\.|(?:(?:(?:<([^:]+:[^>]*)>)|(_:(?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd_0-9])(?:(?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd_0-9-\xb7\u0300-\u036f\u203f-\u2040.])*(?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd_0-9-\xb7\u0300-\u036f\u203f-\u2040]))?))[ \\t]*\\.))[ \\t]*$'),t.exports=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,null,[{key:"parse",value:function(e){var t,r=[],s={},c=0,l=_createForOfIteratorHelper(e.split(a.eoln));try{for(l.s();!(t=l.n()).done;){var f=t.value;if(c++,!a.empty.test(f)){var h=f.match(a.quad);if(null===h)throw new Error("N-Quads parse error on line "+c+".");var d={};if(d.subject=void 0!==h[1]?{termType:"NamedNode",value:h[1]}:{termType:"BlankNode",value:h[2]},d.predicate={termType:"NamedNode",value:h[3]},void 0!==h[4]?d.object={termType:"NamedNode",value:h[4]}:void 0!==h[5]?d.object={termType:"BlankNode",value:h[5]}:(d.object={termType:"Literal",value:void 0,datatype:{termType:"NamedNode"}},void 0!==h[7]?d.object.datatype.value=h[7]:void 0!==h[8]?(d.object.datatype.value=n,d.object.language=h[8]):d.object.datatype.value=i,d.object.value=h[6].replace(u,(function(e,t,r,n){if(t)switch(t){case"t":return"\t";case"b":return"\b";case"n":return"\n";case"r":return"\r";case"f":return"\f";case'"':return'"';case"'":return"'";case"\\":return"\\"}if(r)return String.fromCharCode(parseInt(r,16));if(n)throw new Error("Unsupported U escape")}))),d.graph=void 0!==h[9]?{termType:"NamedNode",value:h[9]}:void 0!==h[10]?{termType:"BlankNode",value:h[10]}:{termType:"DefaultGraph",value:""},d.graph.value in s){var p,v=!0,g=s[d.graph.value],y=_createForOfIteratorHelper(g);try{for(y.s();!(p=y.n()).done;){if(o(p.value,d)){v=!1;break}}}catch(b){y.e(b)}finally{y.f()}v&&(g.push(d),r.push(d))}else s[d.graph.value]=[d],r.push(d)}}}catch(b){l.e(b)}finally{l.f()}return r}},{key:"serialize",value:function(t){Array.isArray(t)||(t=e.legacyDatasetToQuads(t));var r,n=[],i=_createForOfIteratorHelper(t);try{for(i.s();!(r=i.n()).done;){var a=r.value;n.push(e.serializeQuad(a))}}catch(o){i.e(o)}finally{i.f()}return n.sort().join("")}},{key:"serializeQuad",value:function(e){var t=e.object,r=e.graph,a="";return[e.subject,e.predicate].forEach((function(e){a+="NamedNode"===e.termType?"<"+e.value+">":e.value,a+=" "})),"NamedNode"===t.termType?a+="<"+t.value+">":"BlankNode"===t.termType?a+=t.value:(a+='"'+t.value.replace(s,(function(e){switch(e){case'"':return'\\"';case"\\":return"\\\\";case"\n":return"\\n";case"\r":return"\\r"}}))+'"',t.datatype.value===n?t.language&&(a+="@"+t.language):t.datatype.value!==i&&(a+="^^<"+t.datatype.value+">")),"NamedNode"===r.termType?a+=" <"+r.value+">":"BlankNode"===r.termType&&(a+=" "+r.value),a+=" .\n"}},{key:"legacyDatasetToQuads",value:function(e){var t=[],r={"blank node":"BlankNode",IRI:"NamedNode",literal:"Literal"},a=function(a){e[a].forEach((function(e){var o={};for(var s in e){var u=e[s],c={termType:r[u.type],value:u.value};"Literal"===c.termType&&(c.datatype={termType:"NamedNode"},"datatype"in u&&(c.datatype.value=u.datatype),"language"in u?("datatype"in u||(c.datatype.value=n),c.language=u.language):"datatype"in u||(c.datatype.value=i)),o[s]=c}o.graph="@default"===a?{termType:"DefaultGraph",value:""}:{termType:a.startsWith("_:")?"BlankNode":"NamedNode",value:a},t.push(o)}))};for(var o in e)a(o);return t}}]),e}();var s=/["\\\n\r]/g,u=/(?:\\([tbnrf"'\\]))|(?:\\u([0-9A-Fa-f]{4}))|(?:\\U([0-9A-Fa-f]{8}))/g},{}],68:[function(e,t,r){"use strict";t.exports=function(){function e(t){_classCallCheck2(this,e),this.list=t.sort(),this.done=!1,this.left={};for(var r=0;r<t.length;++r)this.left[t[r]]=!0}return _createClass2(e,[{key:"hasNext",value:function(){return!this.done}},{key:"next",value:function(){for(var e=this.list.slice(),t=null,r=0,n=this.list.length,i=0;i<n;++i){var a=this.list[i],o=this.left[a];(null===t||a>t)&&(o&&i>0&&a>this.list[i-1]||!o&&i<n-1&&a>this.list[i+1])&&(t=a,r=i)}if(null===t)this.done=!0;else{var s=this.left[t]?r-1:r+1;this.list[r]=this.list[s],this.list[s]=t;for(var u=0;u<n;++u)this.list[u]>t&&(this.left[this.list[u]]=!this.left[this.list[u]])}return e}}]),e}()},{}],69:[function(e,t,r){"use strict";var n=e("./AsyncAlgorithm"),i=e("./IdentifierIssuer"),a=e("./MessageDigest"),o=e("./Permutator"),s=e("./NQuads"),u=e("./util"),c={subject:"s",object:"o",graph:"g"};t.exports=function(e){_inherits2(r,e);var t=_createSuper(r);function r(e){var n;return _classCallCheck2(this,r),(n=t.call(this,e=e||{})).name="URDNA2015",n.options=Object.assign({},e),n.blankNodeInfo={},n.hashToBlankNodes={},n.canonicalIssuer=new i("_:c14n"),n.hashAlgorithm="sha256",n}return _createClass2(r,[{key:"main",value:function(e,t){var r,n=this;n.schedule.start=Date.now(),n.quads=e;var a={};n.waterfall([function(t){n.forEach(e,(function(e,t,r){n.forEachComponent(e,(function(t){if("BlankNode"===t.termType){var r=t.value;r in n.blankNodeInfo?n.blankNodeInfo[r].quads.push(e):(a[r]=!0,n.blankNodeInfo[r]={quads:[e]})}})),r()}),t)},function(e){var t=!0;n.whilst((function(){return t}),(function(e){t=!1,n.hashToBlankNodes={},n.waterfall([function(e){n.forEach(a,(function(e,t,r){n.hashFirstDegreeQuads(t,(function(e,i){if(e)return r(e);i in n.hashToBlankNodes?n.hashToBlankNodes[i].push(t):n.hashToBlankNodes[i]=[t],r()}))}),e)},function(e){var r=Object.keys(n.hashToBlankNodes).sort();n.forEach(r,(function(e,r,i){var o=n.hashToBlankNodes[e];if(o.length>1)return i();var s=o[0];n.canonicalIssuer.getId(s),delete a[s],delete n.hashToBlankNodes[e],t=!0,i()}),e)}],e)}),e)},function(e){var t=Object.keys(n.hashToBlankNodes).sort();n.forEach(t,(function(e,t,r){var a=[],o=n.hashToBlankNodes[e];n.waterfall([function(e){n.forEach(o,(function(e,t,r){if(n.canonicalIssuer.hasId(e))return r();var o=new i("_:b");o.getId(e),n.hashNDegreeQuads(e,o,(function(e,t){if(e)return r(e);a.push(t),r()}))}),e)},function(e){a.sort((function(e,t){return e.hash<t.hash?-1:e.hash>t.hash?1:0})),n.forEach(a,(function(e,t,r){for(var i in e.issuer.existing)n.canonicalIssuer.getId(i);r()}),e)}],r)}),e)},function(e){var t=[];n.waterfall([function(e){n.forEach(n.quads,(function(e,r,i){n.forEachComponent(e,(function(e){"BlankNode"!==e.termType||e.value.startsWith(n.canonicalIssuer.prefix)||(e.value=n.canonicalIssuer.getId(e.value))})),t.push(s.serializeQuad(e)),i()}),e)},function(e){return t.sort(),r=t.join(""),e()}],e)}],(function(e){return t(e,r)}))}},{key:"hashFirstDegreeQuads",value:function(e,t){var r=this,n=r.blankNodeInfo[e];if("hash"in n)return t(null,n.hash);var i=[];r.forEach(n.quads,(function(t,n,a){var o={predicate:t.predicate};r.forEachComponent(t,(function(t,n){o[n]=r.modifyFirstDegreeComponent(e,t,n)})),i.push(s.serializeQuad(o)),a()}),(function(e){if(e)return t(e);i.sort();for(var o=new a(r.hashAlgorithm),s=0;s<i.length;++s)o.update(i[s]);n.hash=o.digest(),t(null,n.hash)}))}},{key:"hashRelatedBlankNode",value:function(e,t,r,n,i){var o,s=this;s.waterfall([function(t){return s.canonicalIssuer.hasId(e)?(o=s.canonicalIssuer.getId(e),t()):r.hasId(e)?(o=r.getId(e),t()):void s.hashFirstDegreeQuads(e,(function(e,r){if(e)return t(e);o=r,t()}))}],(function(e){if(e)return i(e);var r=new a(s.hashAlgorithm);return r.update(n),"g"!==n&&r.update(s.getRelatedPredicate(t)),r.update(o),i(null,r.digest())}))}},{key:"hashNDegreeQuads",value:function(e,t,r){var n,i=this,s=new a(i.hashAlgorithm);i.waterfall([function(r){return i.createHashToRelated(e,t,(function(e,t){if(e)return r(e);n=t,r()}))},function(e){var r=Object.keys(n).sort();i.forEach(r,(function(e,r,a){s.update(e);var u,c="",l=new o(n[e]);i.whilst((function(){return l.hasNext()}),(function(e){var r=l.next(),n=t.clone(),a="",o=[];i.waterfall([function(t){i.forEach(r,(function(t,r,s){if(i.canonicalIssuer.hasId(t)?a+=i.canonicalIssuer.getId(t):(n.hasId(t)||o.push(t),a+=n.getId(t)),0!==c.length&&a>c)return e();s()}),t)},function(t){i.forEach(o,(function(t,r,o){i.hashNDegreeQuads(t,n,(function(r,i){return r?o(r):(a+=n.getId(t),a+="<"+i.hash+">",n=i.issuer,0!==c.length&&a>c?e():void o())}))}),t)},function(e){(0===c.length||a<c)&&(c=a,u=n),e()}],e)}),(function(e){if(e)return a(e);s.update(c),t=u,a()}))}),e)}],(function(e){r(e,{hash:s.digest(),issuer:t})}))}},{key:"modifyFirstDegreeComponent",value:function(e,t){return"BlankNode"!==t.termType||((t=u.clone(t)).value=t.value===e?"_:a":"_:z"),t}},{key:"getRelatedPredicate",value:function(e){return"<"+e.predicate.value+">"}},{key:"createHashToRelated",value:function(e,t,r){var n=this,i={};n.forEach(n.blankNodeInfo[e].quads,(function(r,a,o){n.forEach(r,(function(a,o,s){if("predicate"===o||"BlankNode"!==a.termType||a.value===e)return s();var u=a.value;n.hashRelatedBlankNode(u,r,t,c[o],(function(e,t){if(e)return s(e);t in i?i[t].push(u):i[t]=[u],s()}))}),o)}),(function(e){return r(e,i)}))}},{key:"forEachComponent",value:function(e,t){for(var r in e)"predicate"!==r&&t(e[r],r,e)}}]),r}(n)},{"./AsyncAlgorithm":64,"./IdentifierIssuer":65,"./MessageDigest":66,"./NQuads":67,"./Permutator":68,"./util":74}],70:[function(e,t,r){"use strict";var n=e("./IdentifierIssuer"),i=e("./MessageDigest"),a=e("./Permutator"),o=e("./NQuads"),s=e("./util"),u={subject:"s",object:"o",graph:"g"};t.exports=function(){function e(){_classCallCheck2(this,e),this.name="URDNA2015",this.blankNodeInfo={},this.hashToBlankNodes={},this.canonicalIssuer=new n("_:c14n"),this.hashAlgorithm="sha256"}return _createClass2(e,[{key:"main",value:function(e){var t=this;t.quads=e;var r,i={},a=_createForOfIteratorHelper(e);try{var s=function(){var e=r.value;t.forEachComponent(e,(function(r){if("BlankNode"===r.termType){var n=r.value;n in t.blankNodeInfo?t.blankNodeInfo[n].quads.push(e):(i[n]=!0,t.blankNodeInfo[n]={quads:[e]})}}))};for(a.s();!(r=a.n()).done;)s()}catch(O){a.e(O)}finally{a.f()}for(var u=!0;u;){for(var c in u=!1,t.hashToBlankNodes={},i){var l=t.hashFirstDegreeQuads(c);l in t.hashToBlankNodes?t.hashToBlankNodes[l].push(c):t.hashToBlankNodes[l]=[c]}for(var f=Object.keys(t.hashToBlankNodes).sort(),h=0;h<f.length;++h){var d=f[h],p=t.hashToBlankNodes[d];if(!(p.length>1)){var v=p[0];t.canonicalIssuer.getId(v),delete i[v],delete t.hashToBlankNodes[d],u=!0}}}for(var g=Object.keys(t.hashToBlankNodes).sort(),y=0;y<g.length;++y){for(var b=[],m=t.hashToBlankNodes[g[y]],_=0;_<m.length;++_){var w=m[_];if(!t.canonicalIssuer.hasId(w)){var x=new n("_:b");x.getId(w);var k=t.hashNDegreeQuads(w,x);b.push(k)}}b.sort((function(e,t){return e.hash<t.hash?-1:e.hash>t.hash?1:0}));for(var S=0;S<b.length;++S){var E=b[S];for(var T in E.issuer.existing)t.canonicalIssuer.getId(T)}}for(var I=[],j=0;j<t.quads.length;++j){var N=t.quads[j];t.forEachComponent(N,(function(e){"BlankNode"!==e.termType||e.value.startsWith(t.canonicalIssuer.prefix)||(e.value=t.canonicalIssuer.getId(e.value))})),I.push(o.serializeQuad(N))}return I.sort(),I.join("")}},{key:"hashFirstDegreeQuads",value:function(e){var t=this,r=t.blankNodeInfo[e];if("hash"in r)return r.hash;for(var n=[],a=r.quads,s=function(r){var i=a[r],s={predicate:i.predicate};t.forEachComponent(i,(function(r,n){s[n]=t.modifyFirstDegreeComponent(e,r,n)})),n.push(o.serializeQuad(s))},u=0;u<a.length;++u)s(u);n.sort();for(var c=new i(t.hashAlgorithm),l=0;l<n.length;++l)c.update(n[l]);return r.hash=c.digest(),r.hash}},{key:"hashRelatedBlankNode",value:function(e,t,r,n){var a;a=this.canonicalIssuer.hasId(e)?this.canonicalIssuer.getId(e):r.hasId(e)?r.getId(e):this.hashFirstDegreeQuads(e);var o=new i(this.hashAlgorithm);return o.update(n),"g"!==n&&o.update(this.getRelatedPredicate(t)),o.update(a),o.digest()}},{key:"hashNDegreeQuads",value:function(e,t){for(var r=new i(this.hashAlgorithm),n=this.createHashToRelated(e,t),o=Object.keys(n).sort(),s=0;s<o.length;++s){var u=o[s];r.update(u);for(var c=void 0,l="",f=new a(n[u]);f.hasNext();){for(var h=f.next(),d=t.clone(),p="",v=[],g=!1,y=0;y<h.length;++y){var b=h[y];if(this.canonicalIssuer.hasId(b)?p+=this.canonicalIssuer.getId(b):(d.hasId(b)||v.push(b),p+=d.getId(b)),0!==l.length&&p>l){g=!0;break}}if(!g){for(var m=0;m<v.length;++m){var _=v[m],w=this.hashNDegreeQuads(_,d);if(p+=d.getId(_),p+="<"+w.hash+">",d=w.issuer,0!==l.length&&p>l){g=!0;break}}g||(0===l.length||p<l)&&(l=p,c=d)}}r.update(l),t=c}return{hash:r.digest(),issuer:t}}},{key:"modifyFirstDegreeComponent",value:function(e,t){return"BlankNode"!==t.termType||((t=s.clone(t)).value=t.value===e?"_:a":"_:z"),t}},{key:"getRelatedPredicate",value:function(e){return"<"+e.predicate.value+">"}},{key:"createHashToRelated",value:function(e,t){for(var r={},n=this.blankNodeInfo[e].quads,i=0;i<n.length;++i){var a=n[i];for(var o in a){var s=a[o];if("predicate"!==o&&"BlankNode"===s.termType&&s.value!==e){var c=s.value,l=this.hashRelatedBlankNode(c,a,t,u[o]);l in r?r[l].push(c):r[l]=[c]}}}return r}},{key:"forEachComponent",value:function(e,t){for(var r in e)"predicate"!==r&&t(e[r],r,e)}}]),e}()},{"./IdentifierIssuer":65,"./MessageDigest":66,"./NQuads":67,"./Permutator":68,"./util":74}],71:[function(e,t,r){"use strict";var n=e("./URDNA2015"),i=e("./util");t.exports=function(e){_inherits2(r,e);var t=_createSuper(r);function r(e){var n;return _classCallCheck2(this,r),(n=t.call(this,e)).name="URGNA2012",n.hashAlgorithm="sha1",n}return _createClass2(r,[{key:"modifyFirstDegreeComponent",value:function(e,t,r){return"BlankNode"!==t.termType||((t=i.clone(t)).value="name"===r?"_:g":t.value===e?"_:a":"_:z"),t}},{key:"getRelatedPredicate",value:function(e){return e.predicate.value}},{key:"createHashToRelated",value:function(e,t,r){var n=this,i={};n.forEach(n.blankNodeInfo[e].quads,(function(r,a,o){var s,u;if("BlankNode"===r.subject.termType&&r.subject.value!==e)u=r.subject.value,s="p";else{if("BlankNode"!==r.object.termType||r.object.value===e)return o();u=r.object.value,s="r"}n.hashRelatedBlankNode(u,r,t,s,(function(e,t){if(e)return o(e);t in i?i[t].push(u):i[t]=[u],o()}))}),(function(e){return r(e,i)}))}}]),r}(n)},{"./URDNA2015":69,"./util":74}],72:[function(e,t,r){"use strict";var n=e("./URDNA2015Sync"),i=e("./util");t.exports=function(e){_inherits2(r,e);var t=_createSuper(r);function r(){var e;return _classCallCheck2(this,r),(e=t.call(this)).name="URGNA2012",e.hashAlgorithm="sha1",e}return _createClass2(r,[{key:"modifyFirstDegreeComponent",value:function(e,t,r){return"BlankNode"!==t.termType||((t=i.clone(t)).value="name"===r?"_:g":t.value===e?"_:a":"_:z"),t}},{key:"getRelatedPredicate",value:function(e){return e.predicate.value}},{key:"createHashToRelated",value:function(e,t){for(var r={},n=this.blankNodeInfo[e].quads,i=0;i<n.length;++i){var a=n[i],o=void 0,s=void 0;if("BlankNode"===a.subject.termType&&a.subject.value!==e)s=a.subject.value,o="p";else{if("BlankNode"!==a.object.termType||a.object.value===e)continue;s=a.object.value,o="r"}var u=this.hashRelatedBlankNode(s,a,t,o);u in r?r[u].push(s):r[u]=[s]}return r}}]),r}(n)},{"./URDNA2015Sync":70,"./util":74}],73:[function(e,t,r){"use strict";var n,i=e("./util"),a=e("./URDNA2015"),o=e("./URGNA2012"),s=e("./URDNA2015Sync"),u=e("./URGNA2012Sync");try{n=e("rdf-canonize-native")}catch(l){}var c={};t.exports=c,c.NQuads=e("./NQuads"),c.IdentifierIssuer=e("./IdentifierIssuer"),c._rdfCanonizeNative=function(e){return e&&(n=e),n},c.canonize=i.callbackify(function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(t,r){var i,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=new Promise((function(e,t){i=function(r,n){if(r)return t(r);e(n)}})),Array.isArray(t)||(t=c.NQuads.legacyDatasetToQuads(t)),!r.useNative){e.next=7;break}if(n){e.next=4;break}throw new Error("rdf-canonize-native not available");case 4:n.canonize(t,r,i),e.next=14;break;case 7:if("URDNA2015"!==r.algorithm){e.next=11;break}new a(r).main(t,i),e.next=14;break;case 11:if("URGNA2012"===r.algorithm){e.next=13;break}throw"algorithm"in r?new Error("Invalid RDF Dataset Canonicalization algorithm: "+r.algorithm):new Error("No RDF Dataset Canonicalization algorithm specified.");case 13:new o(r).main(t,i);case 14:return e.abrupt("return",s);case 15:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),c.canonizeSync=function(e,t){if(Array.isArray(e)||(e=c.NQuads.legacyDatasetToQuads(e)),t.useNative){if(n)return n.canonizeSync(e,t);throw new Error("rdf-canonize-native not available")}if("URDNA2015"===t.algorithm)return new s(t).main(e);if("URGNA2012"===t.algorithm)return new u(t).main(e);if(!("algorithm"in t))throw new Error("No RDF Dataset Canonicalization algorithm specified.");throw new Error("Invalid RDF Dataset Canonicalization algorithm: "+t.algorithm)}},{"./IdentifierIssuer":65,"./NQuads":67,"./URDNA2015":69,"./URDNA2015Sync":70,"./URGNA2012":71,"./URGNA2012Sync":72,"./util":74,"rdf-canonize-native":11}],74:[function(e,t,r){(function(e,r){"use strict";var n={};t.exports=n;var i="function"==typeof r&&r,a=i?function(e){return i(e)}:function(e){return setTimeout(e,0)};function o(t,r,n){try{return t(r,n)}catch(i){e.nextTick((function(){throw i}))}}n.nextTick="object"==typeof e&&"function"==typeof e.nextTick?e.nextTick:a,n.setImmediate=i?a:n.nextTick,n.clone=function(e){if(e&&"object"==typeof e){var t;if(Array.isArray(e)){t=[];for(var r=0;r<e.length;++r)t[r]=n.clone(e[r])}else if(n.isObject(e))for(var i in t={},e)t[i]=n.clone(e[i]);else t=e.toString();return t}return e},n.isObject=function(e){return"[object Object]"===Object.prototype.toString.call(e)},n.isUndefined=function(e){return void 0===e},n.callbackify=function(e){return _asyncToGenerator(regeneratorRuntime.mark((function t(){var r,n,i,a,s,u=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(r=u.length,n=new Array(r),i=0;i<r;i++)n[i]=u[i];return"function"==typeof(a=n[n.length-1])&&n.pop(),t.prev=3,t.next=6,e.apply(null,n);case 6:s=t.sent,t.next=14;break;case 9:if(t.prev=9,t.t0=t.catch(3),"function"!=typeof a){t.next=13;break}return t.abrupt("return",o(a,t.t0));case 13:throw t.t0;case 14:return t.abrupt("return","function"==typeof a?o(a,null,s):s);case 15:case"end":return t.stop()}}),t,null,[[3,9]])})))}}).call(this,e("_process"),e("timers").setImmediate)},{_process:62,timers:14}],75:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),function(e){for(var t in e)r.hasOwnProperty(t)||(r[t]=e[t])}(e("./lib/RdfXmlParser"))},{"./lib/RdfXmlParser":77}],76:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(e){_inherits2(r,_wrapNativeSuper(Error));var t=_createSuper(r);function r(e,n){_classCallCheck2(this,r);var i=e.saxStream._parser;return t.call(this,e.trackPosition?"Line ".concat(i.line+1," column ").concat(i.column+1,": ").concat(n):n)}return r}();r.ParseError=n},{}],77:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n,i=e("relative-to-absolute-iri"),a=e("sax"),o=e("stream"),s=e("./ParseError"),u=function(t){_inherits2(u,t);var r=_createSuper(u);function u(t){var n;return _classCallCheck2(this,u),(n=r.call(this,{readableObjectMode:!0})).activeTagStack=[],n.nodeIds={},t&&(Object.assign(_assertThisInitialized(n),t),n.options=t),n.dataFactory||(n.dataFactory=e("@rdfjs/data-model")),n.baseIRI||(n.baseIRI=""),n.defaultGraph||(n.defaultGraph=n.dataFactory.defaultGraph()),n.saxStream=a.createStream(n.strict,{xmlns:!1,position:n.trackPosition}),n.strict||(n.saxStream._parser.looseCase="toString"),n.attachSaxListeners(),n}return _createClass2(u,[{key:"import",value:function(e){var t=new o.PassThrough({readableObjectMode:!0});e.on("error",(function(e){return r.emit("error",e)})),e.on("data",(function(e){return t.write(e)})),e.on("end",(function(){return t.emit("end")}));var r=t.pipe(new u(this.options));return r}},{key:"_transform",value:function(e,t,r){try{this.saxStream.write(e,t)}catch(n){return r(n)}r()}},{key:"newParseError",value:function(e){return new s.ParseError(this,e)}},{key:"valueToUri",value:function(e,t){return this.uriToNamedNode(i.resolve(e,t.baseIRI))}},{key:"uriToNamedNode",value:function(e){if(!u.isValidIri(e))throw this.newParseError("Invalid URI: "+e);return this.dataFactory.namedNode(e)}},{key:"validateNcname",value:function(e){if(!u.NCNAME_MATCHER.test(e))throw this.newParseError("Not a valid NCName: "+e)}},{key:"attachSaxListeners",value:function(){var e=this;this.saxStream.on("error",(function(t){return e.emit("error",t)})),this.saxStream.on("opentag",this.onTag.bind(this)),this.saxStream.on("text",this.onText.bind(this)),this.saxStream.on("closetag",this.onCloseTag.bind(this)),this.saxStream.on("doctype",this.onDoctype.bind(this))}},{key:"onTag",value:function(e){var t=this.activeTagStack.length?this.activeTagStack[this.activeTagStack.length-1]:null,r=n.RESOURCE;if(t&&(t.hadChildren=!0,r=t.childrenParseType),t&&t.childrenStringTags){var i=e.name,a="";for(var o in e.attributes)a+=" ".concat(o,'="').concat(e.attributes[o],'"');t.childrenStringTags.push("<".concat(i).concat(a,">"));var s={childrenStringTags:t.childrenStringTags};return s.childrenStringEmitClosingTag="</".concat(i,">"),void this.activeTagStack.push(s)}var c={};t?(c.language=t.language,c.baseIRI=t.baseIRI):c.baseIRI=this.baseIRI,this.activeTagStack.push(c),c.ns=u.parseNamespace(e,t),r===n.RESOURCE?this.onTagResource(e,c,t,!t):this.onTagProperty(e,c,t)}},{key:"onTagResource",value:function(e,t,r,a){var o=u.expandPrefixedTerm(e.name,t.ns,this);t.childrenParseType=n.PROPERTY;var s=!0;if(o.uri===u.RDF){if(!a&&u.FORBIDDEN_NODE_ELEMENTS.indexOf(o.local)>=0)throw this.newParseError("Illegal node element name: "+o.local);switch(o.local){case"RDF":t.childrenParseType=n.RESOURCE;case"Description":s=!1}}var c=[],l=[],f=null,h=!1,d=!1,p=null;for(var v in e.attributes){var g=e.attributes[v],y=u.expandPrefixedTerm(v,t.ns,this);if(r&&y.uri===u.RDF)switch(y.local){case"about":if(f)throw this.newParseError("Only one of rdf:about, rdf:nodeID and rdf:ID can be present, while ".concat(g," and ").concat(f," where found."));f=g;continue;case"ID":if(f)throw this.newParseError("Only one of rdf:about, rdf:nodeID and rdf:ID can be present, while ".concat(g," and ").concat(f," where found."));this.validateNcname(g),f="#"+g,h=!0;continue;case"nodeID":if(f)throw this.newParseError("Only one of rdf:about, rdf:nodeID and rdf:ID can be present, while ".concat(g," and ").concat(f," where found."));this.validateNcname(g),f=g,d=!0;continue;case"bagID":throw this.newParseError("rdf:bagID is not supported.");case"type":p=g;continue;case"aboutEach":throw this.newParseError("rdf:aboutEach is not supported.");case"aboutEachPrefix":throw this.newParseError("rdf:aboutEachPrefix is not supported.");case"li":throw this.newParseError("rdf:li on node elements are not supported.")}else if(y.uri===u.XML){if("lang"===y.local){t.language=""===g?null:g.toLowerCase();continue}if("base"===y.local){t.baseIRI=i.resolve(g,t.baseIRI);continue}}"xml"!==y.prefix&&y.uri&&(c.push(this.uriToNamedNode(y.uri+y.local)),l.push(g))}if(null!==f&&(t.subject=d?this.dataFactory.blankNode(f):this.valueToUri(f,t),h&&this.claimNodeId(t.subject)),t.subject||(t.subject=this.dataFactory.blankNode()),s){var b=this.uriToNamedNode(o.uri+o.local);this.emitTriple(t.subject,this.dataFactory.namedNode(u.RDF+"type"),b,r?r.reifiedStatementId:null)}if(r){if(r.predicate)if(r.childrenCollectionSubject){var m=this.dataFactory.blankNode();this.emitTriple(r.childrenCollectionSubject,r.childrenCollectionPredicate,m,r.reifiedStatementId),this.emitTriple(m,this.dataFactory.namedNode(u.RDF+"first"),t.subject,t.reifiedStatementId),r.childrenCollectionSubject=m,r.childrenCollectionPredicate=this.dataFactory.namedNode(u.RDF+"rest")}else{this.emitTriple(r.subject,r.predicate,t.subject,r.reifiedStatementId);for(var _=0;_<r.predicateSubPredicates.length;_++)this.emitTriple(t.subject,r.predicateSubPredicates[_],r.predicateSubObjects[_],null);r.predicateSubPredicates=[],r.predicateSubObjects=[],r.predicateEmitted=!0}for(var w=0;w<c.length;w++){var x=this.dataFactory.literal(l[w],t.datatype||t.language);this.emitTriple(t.subject,c[w],x,r.reifiedStatementId)}p&&this.emitTriple(t.subject,this.dataFactory.namedNode(u.RDF+"type"),this.uriToNamedNode(p),null)}}},{key:"onTagProperty",value:function(e,t,r){var i=u.expandPrefixedTerm(e.name,t.ns,this);if(t.childrenParseType=n.RESOURCE,t.subject=r.subject,i.uri===u.RDF&&"li"===i.local?(r.listItemCounter||(r.listItemCounter=1),t.predicate=this.uriToNamedNode(i.uri+"_"+r.listItemCounter++)):t.predicate=this.uriToNamedNode(i.uri+i.local),i.uri===u.RDF&&u.FORBIDDEN_PROPERTY_ELEMENTS.indexOf(i.local)>=0)throw this.newParseError("Illegal property element name: "+i.local);t.predicateSubPredicates=[],t.predicateSubObjects=[];var a=!1,o=!1,s=null,c=!0,l=[],f=[];for(var h in e.attributes){var d=e.attributes[h],p=u.expandPrefixedTerm(h,t.ns,this);if(p.uri===u.RDF)switch(p.local){case"resource":if(s)throw this.newParseError("Found both rdf:resource (".concat(d,") and rdf:nodeID (").concat(s,")."));if(a)throw this.newParseError("rdf:parseType is not allowed on property elements with rdf:resource (".concat(d,")"));t.hadChildren=!0,s=d,c=!1;continue;case"datatype":if(o)throw this.newParseError("Found both non-rdf:* property attributes and rdf:datatype (".concat(d,")."));if(a)throw this.newParseError("rdf:parseType is not allowed on property elements with rdf:datatype (".concat(d,")"));t.datatype=this.valueToUri(d,t);continue;case"nodeID":if(o)throw this.newParseError("Found both non-rdf:* property attributes and rdf:nodeID (".concat(d,")."));if(t.hadChildren)throw this.newParseError("Found both rdf:resource and rdf:nodeID (".concat(d,")."));if(a)throw this.newParseError("rdf:parseType is not allowed on property elements with rdf:nodeID (".concat(d,")"));this.validateNcname(d),t.hadChildren=!0,s=d,c=!0;continue;case"bagID":throw this.newParseError("rdf:bagID is not supported.");case"parseType":if(o)throw this.newParseError("rdf:parseType is not allowed when non-rdf:* property attributes are present");if(t.datatype)throw this.newParseError("rdf:parseType is not allowed on property elements with rdf:datatype (".concat(t.datatype.value,")"));if(s)throw this.newParseError("rdf:parseType is not allowed on property elements with rdf:nodeID or rdf:resource (".concat(s,")"));if("Resource"===d){a=!0,t.childrenParseType=n.PROPERTY;var v=this.dataFactory.blankNode();this.emitTriple(t.subject,t.predicate,v,t.reifiedStatementId),t.subject=v,t.predicate=null}else"Collection"===d?(a=!0,t.hadChildren=!0,t.childrenCollectionSubject=t.subject,t.childrenCollectionPredicate=t.predicate,c=!1):"Literal"===d&&(a=!0,t.childrenTagsToString=!0,t.childrenStringTags=[]);continue;case"ID":this.validateNcname(d),t.reifiedStatementId=this.valueToUri("#"+d,t),this.claimNodeId(t.reifiedStatementId);continue}else if(p.uri===u.XML&&"lang"===p.local){t.language=""===d?null:d.toLowerCase();continue}if("xml"!==p.prefix&&"xmlns"!==p.prefix&&p.uri){if(a||t.datatype)throw this.newParseError("Found illegal rdf:* properties on property element with attribute: "+d);t.hadChildren=!0,o=!0,l.push(this.uriToNamedNode(p.uri+p.local)),f.push(this.dataFactory.literal(d,t.datatype||t.language))}}if(null!==s){var g=t.subject;t.subject=c?this.dataFactory.blankNode(s):this.valueToUri(s,t),this.emitTriple(g,t.predicate,t.subject,t.reifiedStatementId);for(var y=0;y<l.length;y++)this.emitTriple(t.subject,l[y],f[y],null);t.predicateEmitted=!0}else c&&(t.predicateSubPredicates=l,t.predicateSubObjects=f,t.predicateEmitted=!1)}},{key:"emitTriple",value:function(e,t,r,n){this.push(this.dataFactory.quad(e,t,r,this.defaultGraph)),n&&(this.push(this.dataFactory.quad(n,this.dataFactory.namedNode(u.RDF+"type"),this.dataFactory.namedNode(u.RDF+"Statement"),this.defaultGraph)),this.push(this.dataFactory.quad(n,this.dataFactory.namedNode(u.RDF+"subject"),e,this.defaultGraph)),this.push(this.dataFactory.quad(n,this.dataFactory.namedNode(u.RDF+"predicate"),t,this.defaultGraph)),this.push(this.dataFactory.quad(n,this.dataFactory.namedNode(u.RDF+"object"),r,this.defaultGraph)))}},{key:"claimNodeId",value:function(e){if(!this.allowDuplicateRdfIds){if(this.nodeIds[e.value])throw this.newParseError("Found multiple occurrences of rdf:ID='".concat(e.value,"'."));this.nodeIds[e.value]=!0}}},{key:"onText",value:function(e){var t=this.activeTagStack.length?this.activeTagStack[this.activeTagStack.length-1]:null;t&&(t.childrenStringTags?t.childrenStringTags.push(e):t.predicate&&(t.text=e))}},{key:"onCloseTag",value:function(){var e=this.activeTagStack.pop();if(e.childrenStringEmitClosingTag&&e.childrenStringTags.push(e.childrenStringEmitClosingTag),e.childrenTagsToString&&(e.datatype=this.dataFactory.namedNode(u.RDF+"XMLLiteral"),e.text=e.childrenStringTags.join(""),e.hadChildren=!1),e.childrenCollectionSubject)this.emitTriple(e.childrenCollectionSubject,e.childrenCollectionPredicate,this.dataFactory.namedNode(u.RDF+"nil"),e.reifiedStatementId);else if(e.predicate)if(e.hadChildren||e.childrenParseType===n.PROPERTY){if(!e.predicateEmitted){var t=this.dataFactory.blankNode();this.emitTriple(e.subject,e.predicate,t,e.reifiedStatementId);for(var r=0;r<e.predicateSubPredicates.length;r++)this.emitTriple(t,e.predicateSubPredicates[r],e.predicateSubObjects[r],null)}}else this.emitTriple(e.subject,e.predicate,this.dataFactory.literal(e.text||"",e.datatype||e.language),e.reifiedStatementId)}},{key:"onDoctype",value:function(e){var t=this;e.replace(/<!ENTITY\s+([^\s]+)\s+["']([^"']+)["']\s*>/g,(function(e,r,n){return t.saxStream._parser.ENTITIES[r]=n,""}))}}],[{key:"parseNamespace",value:function(e,t){var r={},n=!1;for(var i in e.attributes)i.startsWith("xmlns")&&(5===i.length?(n=!0,r[""]=e.attributes[i]):":"===i.charAt(5)&&(n=!0,r[i.substr(6)]=e.attributes[i]));var a=t&&t.ns?t.ns:[u.DEFAULT_NS];return n?a.concat([r]):a}},{key:"expandPrefixedTerm",value:function(e,t,r){var n,i,a=e.indexOf(":");a>=0?(n=e.substr(0,a),i=e.substr(a+1)):(n="",i=e);for(var o=null,u=null,c=t.length-1;c>=0;c--){var l=t[c][n];if(l){o=l;break}u||(u=t[c][""])}if(!o){if(n&&"xmlns"!==n)throw new s.ParseError(r,"The prefix '".concat(n,"' in term '").concat(e,"' was not bound."));o=u||""}return{prefix:n,local:i,uri:o}}},{key:"isValidIri",value:function(e){return u.IRI_REGEX.test(e)}}]),u}(o.Transform);r.RdfXmlParser=u,u.IRI_REGEX=/^([A-Za-z][A-Za-z0-9+-.]*):[^ "<>{}|\\\[\]`]*$/,u.MIME_TYPE="application/rdf+xml",u.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#",u.XML="http://www.w3.org/XML/1998/namespace",u.XMLNS="http://www.w3.org/2000/xmlns/",u.DEFAULT_NS={xml:u.XML},u.FORBIDDEN_NODE_ELEMENTS=["RDF","ID","about","bagID","parseType","resource","nodeID","li","aboutEach","aboutEachPrefix"],u.FORBIDDEN_PROPERTY_ELEMENTS=["Description","RDF","ID","about","bagID","parseType","resource","nodeID","aboutEach","aboutEachPrefix"],u.NCNAME_MATCHER=/^((?:[A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF]))((?:[#\x2D\.0-9A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u037D\u037F-\u1FFF\u200C\u200D\u203F\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF]))*$/,function(e){e[e.RESOURCE=0]="RESOURCE",e[e.PROPERTY=1]="PROPERTY"}(n=r.ParseType||(r.ParseType={}))},{"./ParseError":76,"@rdfjs/data-model":2,"relative-to-absolute-iri":93,sax:96,stream:97}],78:[function(e,t,r){"use strict";var n={};function i(e,t,r){r||(r=Error);var i=function(e){var r,n;function i(r,n,i){return e.call(this,function(e,r,n){return"string"==typeof t?t:t(e,r,n)}(r,n,i))||this}return n=e,(r=i).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n,i}(r);i.prototype.name=r.name,i.prototype.code=e,n[e]=i}function a(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map((function(e){return String(e)})),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}i("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),i("ERR_INVALID_ARG_TYPE",(function(e,t,r){var n,i,o,s;if("string"==typeof t&&"not "===t.substr(0,"not ".length)?(n="must not be",t=t.replace(/^not /,"")):n="must be",o=e,(void 0===s||s>o.length)&&(s=o.length)," argument"===o.substring(s-" argument".length,s))i="The ".concat(e," ").concat(n," ").concat(a(t,"type"));else{var u=function(e,t,r){return"number"!=typeof r&&(r=0),!(r+".".length>e.length)&&-1!==e.indexOf(".",r)}(e)?"property":"argument";i='The "'.concat(e,'" ').concat(u," ").concat(n," ").concat(a(t,"type"))}return i+". Received type ".concat(typeof r)}),TypeError),i("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),i("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),i("ERR_STREAM_PREMATURE_CLOSE","Premature close"),i("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),i("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),i("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),i("ERR_STREAM_WRITE_AFTER_END","write after end"),i("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),i("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),i("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),t.exports.codes=n},{}],79:[function(e,t,r){(function(r){"use strict";var n=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};t.exports=c;var i=e("./_stream_readable"),a=e("./_stream_writable");e("inherits")(c,i);for(var o=n(a.prototype),s=0;s<o.length;s++){var u=o[s];c.prototype[u]||(c.prototype[u]=a.prototype[u])}function c(e){if(!(this instanceof c))return new c(e);i.call(this,e),a.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",l)))}function l(){this._writableState.ended||r.nextTick(f,this)}function f(e){e.end()}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(c.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(c.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})}).call(this,e("_process"))},{"./_stream_readable":81,"./_stream_writable":83,_process:62,inherits:18}],80:[function(e,t,r){"use strict";t.exports=i;var n=e("./_stream_transform");function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}e("inherits")(i,n),i.prototype._transform=function(e,t,r){r(null,e)}},{"./_stream_transform":82,inherits:18}],81:[function(e,t,r){(function(r,n){"use strict";var i;t.exports=E,E.ReadableState=S,e("events");var a,o=function(e,t){return e.listeners(t).length},s=e("./internal/streams/stream"),u=e("buffer").Buffer,c=n.Uint8Array||function(){},l=e("util");a=l&&l.debuglog?l.debuglog("stream"):function(){};var f,h,d,p=e("./internal/streams/buffer_list"),v=e("./internal/streams/destroy"),g=e("./internal/streams/state").getHighWaterMark,y=e("../errors").codes,b=y.ERR_INVALID_ARG_TYPE,m=y.ERR_STREAM_PUSH_AFTER_EOF,_=y.ERR_METHOD_NOT_IMPLEMENTED,w=y.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;e("inherits")(E,s);var x=v.errorOrDestroy,k=["error","close","destroy","pause","resume"];function S(t,r,n){i=i||e("./_stream_duplex"),"boolean"!=typeof n&&(n=r instanceof i),this.objectMode=!!(t=t||{}).objectMode,n&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=g(this,t,"readableHighWaterMark",n),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(f||(f=e("string_decoder/").StringDecoder),this.decoder=new f(t.encoding),this.encoding=t.encoding)}function E(t){if(i=i||e("./_stream_duplex"),!(this instanceof E))return new E(t);this._readableState=new S(t,this,this instanceof i),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),s.call(this)}function T(e,t,r,n,i){a("readableAddChunk",t);var o,s=e._readableState;if(null===t)s.reading=!1,function(e,t){if(a("onEofChunk"),!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?N(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,O(e)))}}(e,s);else if(i||(o=function(e,t){var r,n;return u.isBuffer(n=t)||n instanceof c||"string"==typeof t||void 0===t||e.objectMode||(r=new b("chunk",["string","Buffer","Uint8Array"],t)),r}(s,t)),o)x(e,o);else if(s.objectMode||t&&t.length>0)if("string"==typeof t||s.objectMode||Object.getPrototypeOf(t)===u.prototype||(t=function(e){return u.from(e)}(t)),n)s.endEmitted?x(e,new w):I(e,s,t,!0);else if(s.ended)x(e,new m);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!r?(t=s.decoder.write(t),s.objectMode||0!==t.length?I(e,s,t,!1):A(e,s)):I(e,s,t,!1)}else n||(s.reading=!1,A(e,s));return!s.ended&&(s.length<s.highWaterMark||0===s.length)}function I(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&N(e)),A(e,t)}function j(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=1073741824?e=1073741824:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function N(e){var t=e._readableState;a("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(a("emitReadable",t.flowing),t.emittedReadable=!0,r.nextTick(O,e))}function O(e){var t=e._readableState;a("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,M(e)}function A(e,t){t.readingMore||(t.readingMore=!0,r.nextTick(R,e,t))}function R(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(a("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function C(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function L(e){a("readable nexttick read 0"),e.read(0)}function D(e,t){a("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),M(e),t.flowing&&!t.reading&&e.read(0)}function M(e){var t=e._readableState;for(a("flow",t.flowing);t.flowing&&null!==e.read(););}function P(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function F(e){var t=e._readableState;a("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,r.nextTick(B,t,e))}function B(e,t){if(a("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function U(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}Object.defineProperty(E.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),E.prototype.destroy=v.destroy,E.prototype._undestroy=v.undestroy,E.prototype._destroy=function(e,t){t(e)},E.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=u.from(e,t),t=""),r=!0),T(this,e,t,!1,r)},E.prototype.unshift=function(e){return T(this,e,null,!0,!1)},E.prototype.isPaused=function(){return!1===this._readableState.flowing},E.prototype.setEncoding=function(t){f||(f=e("string_decoder/").StringDecoder);var r=new f(t);this._readableState.decoder=r,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,i="";null!==n;)i+=r.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this},E.prototype.read=function(e){a("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return a("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?F(this):N(this),null;if(0===(e=j(e,t))&&t.ended)return 0===t.length&&F(this),null;var n,i=t.needReadable;return a("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&a("length less than watermark",i=!0),t.ended||t.reading?a("reading or ended",i=!1):i&&(a("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=j(r,t))),null===(n=e>0?P(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&F(this)),null!==n&&this.emit("data",n),n},E.prototype._read=function(e){x(this,new _("_read()"))},E.prototype.pipe=function(e,t){var n=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,a("pipe count=%d opts=%j",i.pipesCount,t);var s=t&&!1===t.end||e===r.stdout||e===r.stderr?v:u;function u(){a("onend"),e.end()}i.endEmitted?r.nextTick(s):n.once("end",s),e.on("unpipe",(function t(r,o){a("onunpipe"),r===n&&o&&!1===o.hasUnpiped&&(o.hasUnpiped=!0,a("cleanup"),e.removeListener("close",d),e.removeListener("finish",p),e.removeListener("drain",c),e.removeListener("error",h),e.removeListener("unpipe",t),n.removeListener("end",u),n.removeListener("end",v),n.removeListener("data",f),l=!0,!i.awaitDrain||e._writableState&&!e._writableState.needDrain||c())}));var c=function(e){return function(){var t=e._readableState;a("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&o(e,"data")&&(t.flowing=!0,M(e))}}(n);e.on("drain",c);var l=!1;function f(t){a("ondata");var r=e.write(t);a("dest.write",r),!1===r&&((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==U(i.pipes,e))&&!l&&(a("false write response, pause",i.awaitDrain),i.awaitDrain++),n.pause())}function h(t){a("onerror",t),v(),e.removeListener("error",h),0===o(e,"error")&&x(e,t)}function d(){e.removeListener("finish",p),v()}function p(){a("onfinish"),e.removeListener("close",d),v()}function v(){a("unpipe"),n.unpipe(e)}return n.on("data",f),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener("error",r);e._events&&e._events.error?Array.isArray(e._events.error)?e._events.error.unshift(r):e._events.error=[r,e._events.error]:e.on("error",r)}(e,0,h),e.once("close",d),e.once("finish",p),e.emit("pipe",n),i.flowing||(a("pipe resume"),n.resume()),e},E.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var a=0;a<i;a++)n[a].emit("unpipe",this,{hasUnpiped:!1});return this}var o=U(t.pipes,e);return-1===o||(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},E.prototype.addListener=E.prototype.on=function(e,t){var n=s.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,a("on readable",i.length,i.reading),i.length?N(this):i.reading||r.nextTick(L,this))),n},E.prototype.removeListener=function(e,t){var n=s.prototype.removeListener.call(this,e,t);return"readable"===e&&r.nextTick(C,this),n},E.prototype.removeAllListeners=function(e){var t=s.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||r.nextTick(C,this),t},E.prototype.resume=function(){var e=this._readableState;return e.flowing||(a("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,r.nextTick(D,e,t))}(this,e)),e.paused=!1,this},E.prototype.pause=function(){return a("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(a("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},E.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",(function(){if(a("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){a("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i||(r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<k.length;o++)e.on(k[o],this.emit.bind(this,k[o]));return this._read=function(t){a("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"==typeof Symbol&&(E.prototype[Symbol.asyncIterator]=function(){return void 0===h&&(h=e("./internal/streams/async_iterator")),h(this)}),Object.defineProperty(E.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(E.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(E.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),E._fromList=P,Object.defineProperty(E.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(E.from=function(t,r){return void 0===d&&(d=e("./internal/streams/from")),d(E,t,r)})}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../errors":78,"./_stream_duplex":79,"./internal/streams/async_iterator":84,"./internal/streams/buffer_list":85,"./internal/streams/destroy":86,"./internal/streams/from":88,"./internal/streams/state":90,"./internal/streams/stream":91,_process:62,buffer:12,events:13,inherits:18,"string_decoder/":113,util:11}],82:[function(e,t,r){"use strict";t.exports=l;var n=e("../errors").codes,i=n.ERR_METHOD_NOT_IMPLEMENTED,a=n.ERR_MULTIPLE_CALLBACK,o=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=n.ERR_TRANSFORM_WITH_LENGTH_0,u=e("./_stream_duplex");function c(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new a);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function l(e){if(!(this instanceof l))return new l(e);u.call(this,e),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",f)}function f(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?h(this,null,null):this._flush((function(t,r){h(e,t,r)}))}function h(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new s;if(e._transformState.transforming)throw new o;return e.push(null)}e("inherits")(l,u),l.prototype.push=function(e,t){return this._transformState.needTransform=!1,u.prototype.push.call(this,e,t)},l.prototype._transform=function(e,t,r){r(new i("_transform()"))},l.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},l.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},l.prototype._destroy=function(e,t){u.prototype._destroy.call(this,e,(function(e){t(e)}))}},{"../errors":78,"./_stream_duplex":79,inherits:18}],83:[function(e,t,r){(function(r,n){"use strict";function i(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(void 0),n=n.next}t.corkedRequestsFree.next=e}(t,e)}}var a;t.exports=E,E.WritableState=S;var o,s={deprecate:e("util-deprecate")},u=e("./internal/streams/stream"),c=e("buffer").Buffer,l=n.Uint8Array||function(){},f=e("./internal/streams/destroy"),h=e("./internal/streams/state").getHighWaterMark,d=e("../errors").codes,p=d.ERR_INVALID_ARG_TYPE,v=d.ERR_METHOD_NOT_IMPLEMENTED,g=d.ERR_MULTIPLE_CALLBACK,y=d.ERR_STREAM_CANNOT_PIPE,b=d.ERR_STREAM_DESTROYED,m=d.ERR_STREAM_NULL_VALUES,_=d.ERR_STREAM_WRITE_AFTER_END,w=d.ERR_UNKNOWN_ENCODING,x=f.errorOrDestroy;function k(){}function S(t,n,o){a=a||e("./_stream_duplex"),"boolean"!=typeof o&&(o=n instanceof a),this.objectMode=!!(t=t||{}).objectMode,o&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=h(this,t,"writableHighWaterMark",o),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===t.decodeStrings),this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,i=n.sync,a=n.writecb;if("function"!=typeof a)throw new g;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,i,a){--t.pendingcb,n?(r.nextTick(a,i),r.nextTick(A,e,t),e._writableState.errorEmitted=!0,x(e,i)):(a(i),e._writableState.errorEmitted=!0,x(e,i),A(e,t))}(e,n,i,t,a);else{var o=N(n)||e.destroyed;o||n.corked||n.bufferProcessing||!n.bufferedRequest||j(e,n),i?r.nextTick(I,e,n,o,a):I(e,n,o,a)}}(n,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function E(t){var r=this instanceof(a=a||e("./_stream_duplex"));if(!r&&!o.call(E,this))return new E(t);this._writableState=new S(t,this,r),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),u.call(this)}function T(e,t,r,n,i,a,o){t.writelen=n,t.writecb=o,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new b("write")):r?e._writev(i,t.onwrite):e._write(i,a,t.onwrite),t.sync=!1}function I(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),A(e,t)}function j(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=new Array(t.bufferedRequestCount),a=t.corkedRequestsFree;a.entry=r;for(var o=0,s=!0;r;)n[o]=r,r.isBuf||(s=!1),r=r.next,o+=1;n.allBuffers=s,T(e,t,!0,t.length,n,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new i(t),t.bufferedRequestCount=0}else{for(;r;){var u=r.chunk;if(T(e,t,!1,t.objectMode?1:u.length,u,r.encoding,r.callback),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function N(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function O(e,t){e._final((function(r){t.pendingcb--,r&&x(e,r),t.prefinished=!0,e.emit("prefinish"),A(e,t)}))}function A(e,t){var n=N(t);if(n&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,r.nextTick(O,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var i=e._readableState;(!i||i.autoDestroy&&i.endEmitted)&&e.destroy()}return n}e("inherits")(E,u),S.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(S.prototype,"buffer",{get:s.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(o=Function.prototype[Symbol.hasInstance],Object.defineProperty(E,Symbol.hasInstance,{value:function(e){return!!o.call(this,e)||this===E&&e&&e._writableState instanceof S}})):o=function(e){return e instanceof this},E.prototype.pipe=function(){x(this,new y)},E.prototype.write=function(e,t,n){var i,a=this._writableState,o=!1,s=!a.objectMode&&(c.isBuffer(i=e)||i instanceof l);return s&&!c.isBuffer(e)&&(e=function(e){return c.from(e)}(e)),"function"==typeof t&&(n=t,t=null),s?t="buffer":t||(t=a.defaultEncoding),"function"!=typeof n&&(n=k),a.ending?function(e,t){var n=new _;x(e,n),r.nextTick(t,n)}(this,n):(s||function(e,t,n,i){var a;return null===n?a=new m:"string"==typeof n||t.objectMode||(a=new p("chunk",["string","Buffer"],n)),!a||(x(e,a),r.nextTick(i,a),!1)}(this,a,e,n))&&(a.pendingcb++,o=function(e,t,r,n,i,a){if(!r){var o=function(e,t,r){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=c.from(t,r)),t}(t,n,i);n!==o&&(r=!0,i="buffer",n=o)}var s=t.objectMode?1:n.length;t.length+=s;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:a,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else T(e,t,!1,s,n,i,a);return u}(this,a,s,e,t,n)),o},E.prototype.cork=function(){this._writableState.corked++},E.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||j(this,e))},E.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new w(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(E.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(E.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),E.prototype._write=function(e,t,r){r(new v("_write()"))},E.prototype._writev=null,E.prototype.end=function(e,t,n){var i=this._writableState;return"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||function(e,t,n){t.ending=!0,A(e,t),n&&(t.finished?r.nextTick(n):e.once("finish",n)),t.ended=!0,e.writable=!1}(this,i,n),this},Object.defineProperty(E.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(E.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),E.prototype.destroy=f.destroy,E.prototype._undestroy=f.undestroy,E.prototype._destroy=function(e,t){t(e)}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../errors":78,"./_stream_duplex":79,"./internal/streams/destroy":86,"./internal/streams/state":90,"./internal/streams/stream":91,_process:62,buffer:12,inherits:18,"util-deprecate":114}],84:[function(e,t,r){(function(r){"use strict";var n;function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=e("./end-of-stream"),o=Symbol("lastResolve"),s=Symbol("lastReject"),u=Symbol("error"),c=Symbol("ended"),l=Symbol("lastPromise"),f=Symbol("handlePromise"),h=Symbol("stream");function d(e,t){return{value:e,done:t}}function p(e){var t=e[o];if(null!==t){var r=e[h].read();null!==r&&(e[l]=null,e[o]=null,e[s]=null,t(d(r,!1)))}}function v(e){r.nextTick(p,e)}var g=Object.getPrototypeOf((function(){})),y=Object.setPrototypeOf((i(n={get stream(){return this[h]},next:function(){var e=this,t=this[u];if(null!==t)return Promise.reject(t);if(this[c])return Promise.resolve(d(void 0,!0));if(this[h].destroyed)return new Promise((function(t,n){r.nextTick((function(){e[u]?n(e[u]):t(d(void 0,!0))}))}));var n,i=this[l];if(i)n=new Promise(function(e,t){return function(r,n){e.then((function(){t[c]?r(d(void 0,!0)):t[f](r,n)}),n)}}(i,this));else{var a=this[h].read();if(null!==a)return Promise.resolve(d(a,!1));n=new Promise(this[f])}return this[l]=n,n}},Symbol.asyncIterator,(function(){return this})),i(n,"return",(function(){var e=this;return new Promise((function(t,r){e[h].destroy(null,(function(e){e?r(e):t(d(void 0,!0))}))}))})),n),g);t.exports=function(e){var t,r=Object.create(y,(i(t={},h,{value:e,writable:!0}),i(t,o,{value:null,writable:!0}),i(t,s,{value:null,writable:!0}),i(t,u,{value:null,writable:!0}),i(t,c,{value:e._readableState.endEmitted,writable:!0}),i(t,f,{value:function(e,t){var n=r[h].read();n?(r[l]=null,r[o]=null,r[s]=null,e(d(n,!1))):(r[o]=e,r[s]=t)},writable:!0}),t));return r[l]=null,a(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[s];return null!==t&&(r[l]=null,r[o]=null,r[s]=null,t(e)),void(r[u]=e)}var n=r[o];null!==n&&(r[l]=null,r[o]=null,r[s]=null,n(d(void 0,!0))),r[c]=!0})),e.on("readable",v.bind(null,r)),r}}).call(this,e("_process"))},{"./end-of-stream":87,_process:62}],85:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=e("buffer").Buffer,o=e("util").inspect,s=o&&o.custom||"inspect";t.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t;return(t=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return a.alloc(0);for(var t=a.allocUnsafe(e>>>0),r=this.head,n=0;r;)a.prototype.copy.call(r.data,t,n),n+=r.data.length,r=r.next;return t}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var i=t.data,a=e>i.length?i.length:e;if(n+=a===i.length?i:i.slice(0,e),0==(e-=a)){a===i.length?(++r,this.head=t.next?t.next:this.tail=null):(this.head=t,t.data=i.slice(a));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(e){var t=a.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var i=r.data,o=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,o),0==(e-=o)){o===i.length?(++n,this.head=r.next?r.next:this.tail=null):(this.head=r,r.data=i.slice(o));break}++n}return this.length-=n,t}},{key:s,value:function(e,t){return o(this,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t,{depth:0,customInspect:!1}))}}])&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(e.prototype,t),e}()},{buffer:12,util:11}],86:[function(e,t,r){(function(e){"use strict";function r(e,t){i(e,t),n(e)}function n(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function i(e,t){e.emit("error",t)}t.exports={destroy:function(t,a){var o=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(a?a(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,e.nextTick(i,this,t)):e.nextTick(i,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,(function(t){!a&&t?o._writableState?o._writableState.errorEmitted?e.nextTick(n,o):(o._writableState.errorEmitted=!0,e.nextTick(r,o,t)):e.nextTick(r,o,t):a?(e.nextTick(n,o),a(t)):e.nextTick(n,o)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}}}).call(this,e("_process"))},{_process:62}],87:[function(e,t,r){"use strict";var n=e("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function i(){}t.exports=function e(t,r,a){if("function"==typeof r)return e(t,null,r);r||(r={}),a=function(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}(a||i);var o=r.readable||!1!==r.readable&&t.readable,s=r.writable||!1!==r.writable&&t.writable,u=function(){t.writable||l()},c=t._writableState&&t._writableState.finished,l=function(){s=!1,c=!0,o||a.call(t)},f=t._readableState&&t._readableState.endEmitted,h=function(){o=!1,f=!0,s||a.call(t)},d=function(e){a.call(t,e)},p=function(){var e;return o&&!f?(t._readableState&&t._readableState.ended||(e=new n),a.call(t,e)):s&&!c?(t._writableState&&t._writableState.ended||(e=new n),a.call(t,e)):void 0},v=function(){t.req.on("finish",l)};return function(e){return e.setHeader&&"function"==typeof e.abort}(t)?(t.on("complete",l),t.on("abort",p),t.req?v():t.on("request",v)):s&&!t._writableState&&(t.on("end",u),t.on("close",u)),t.on("end",h),t.on("finish",l),!1!==r.error&&t.on("error",d),t.on("close",p),function(){t.removeListener("complete",l),t.removeListener("abort",p),t.removeListener("request",v),t.req&&t.req.removeListener("finish",l),t.removeListener("end",u),t.removeListener("close",u),t.removeListener("finish",l),t.removeListener("end",h),t.removeListener("error",d),t.removeListener("close",p)}}},{"../../../errors":78}],88:[function(e,t,r){t.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],89:[function(e,t,r){"use strict";var n,i=e("../../../errors").codes,a=i.ERR_MISSING_ARGS,o=i.ERR_STREAM_DESTROYED;function s(e){if(e)throw e}function u(t,r,i,a){a=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(a);var s=!1;t.on("close",(function(){s=!0})),void 0===n&&(n=e("./end-of-stream")),n(t,{readable:r,writable:i},(function(e){if(e)return a(e);s=!0,a()}));var u=!1;return function(e){if(!s&&!u)return u=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(t)?t.abort():"function"==typeof t.destroy?t.destroy():void a(e||new o("pipe"))}}function c(e){e()}function l(e,t){return e.pipe(t)}function f(e){return e.length?"function"!=typeof e[e.length-1]?s:e.pop():s}t.exports=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,i=f(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new a("streams");var o=t.map((function(e,r){var a=r<t.length-1;return u(e,a,r>0,(function(e){n||(n=e),e&&o.forEach(c),a||(o.forEach(c),i(n))}))}));return t.reduce(l)}},{"../../../errors":78,"./end-of-stream":87}],90:[function(e,t,r){"use strict";var n=e("../../../errors").codes.ERR_INVALID_OPT_VALUE;t.exports={getHighWaterMark:function(e,t,r,i){var a=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,i,r);if(null!=a){if(!isFinite(a)||Math.floor(a)!==a||a<0)throw new n(i?r:"highWaterMark",a);return Math.floor(a)}return e.objectMode?16:16384}}},{"../../../errors":78}],91:[function(e,t,r){t.exports=e("events").EventEmitter},{events:13}],92:[function(e,t,r){(r=t.exports=e("./lib/_stream_readable.js")).Stream=r,r.Readable=r,r.Writable=e("./lib/_stream_writable.js"),r.Duplex=e("./lib/_stream_duplex.js"),r.Transform=e("./lib/_stream_transform.js"),r.PassThrough=e("./lib/_stream_passthrough.js"),r.finished=e("./lib/internal/streams/end-of-stream.js"),r.pipeline=e("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":79,"./lib/_stream_passthrough.js":80,"./lib/_stream_readable.js":81,"./lib/_stream_transform.js":82,"./lib/_stream_writable.js":83,"./lib/internal/streams/end-of-stream.js":87,"./lib/internal/streams/pipeline.js":89}],93:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),function(e){for(var t in e)r.hasOwnProperty(t)||(r[t]=e[t])}(e("./lib/Resolve"))},{"./lib/Resolve":94}],94:[function(e,t,r){"use strict";function n(e){for(var t=[],r=0;r<e.length;)switch(e[r]){case"/":if("."===e[r+1])if("."===e[r+2]){if(!a(e[r+3])){t.push([]),r++;break}t.pop(),e[r+3]||t.push([]),r+=3}else{if(!a(e[r+2])){t.push([]),r++;break}e[r+2]||t.push([]),r+=2}else t.push([]),r++;break;case"#":case"?":t.length||t.push([]),t[t.length-1].push(e.substr(r)),r=e.length;break;default:t.length||t.push([]),t[t.length-1].push(e[r]),r++}return"/"+t.map((function(e){return e.join("")})).join("/")}function i(e,t){var r=t+1;t>=0?"/"===e[t+1]&&"/"===e[t+2]&&(r=t+3):"/"===e[0]&&"/"===e[1]&&(r=2);var i=e.indexOf("/",r);return i<0?e:e.substr(0,i)+n(e.substr(i))}function a(e){return!e||"#"===e||"?"===e||"/"===e}Object.defineProperty(r,"__esModule",{value:!0}),r.resolve=function(e,t){var r=(t=t||"").indexOf("#");if(r>0&&(t=t.substr(0,r)),!e.length){if(t.indexOf(":")<0)throw new Error("Found invalid baseIRI '".concat(t,"' for value '").concat(e,"'"));return t}if(e.startsWith("?")){var a=t.indexOf("?");return a>0&&(t=t.substr(0,a)),t+e}if(e.startsWith("#"))return t+e;if(!t.length){var o=e.indexOf(":");if(o<0)throw new Error("Found invalid relative IRI '".concat(e,"' for a missing baseIRI"));return i(e,o)}var s=e.indexOf(":");if(s>=0)return i(e,s);var u=t.indexOf(":");if(u<0)throw new Error("Found invalid baseIRI '".concat(t,"' for value '").concat(e,"'"));var c,l=t.substr(0,u+1);if(0===e.indexOf("//"))return l+i(e,s);if(t.indexOf("//",u)===u+1){if((c=t.indexOf("/",u+3))<0)return t.length>u+3?t+"/"+i(e,s):l+i(e,s)}else if((c=t.indexOf("/",u+1))<0)return l+i(e,s);if(0===e.indexOf("/"))return t.substr(0,c)+n(e);var f=t.substr(c),h=f.lastIndexOf("/");return h>=0&&h<f.length-1&&(f=f.substr(0,h+1),"."===e[0]&&"."!==e[1]&&"/"!==e[1]&&e[2]&&(e=e.substr(1))),e=n(e=f+e),t.substr(0,c)+e},r.removeDotSegments=n,r.removeDotSegmentsOfPath=i},{}],95:[function(e,t,r){var n=e("buffer"),i=n.Buffer;function a(e,t){for(var r in e)t[r]=e[r]}function o(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=n:(a(n,r),r.Buffer=o),o.prototype=Object.create(i.prototype),a(i,o),o.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},o.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},o.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},{buffer:12}],96:[function(e,t,r){(function(t){!function(r){r.parser=function(e,t){return new a(e,t)},r.SAXParser=a,r.SAXStream=s,r.createStream=function(e,t){return new s(e,t)},r.MAX_BUFFER_LENGTH=65536;var n,i=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function a(e,t){if(!(this instanceof a))return new a(e,t);!function(e){for(var t=0,r=i.length;t<r;t++)e[i[t]]=""}(this),this.q=this.c="",this.bufferCheckPosition=r.MAX_BUFFER_LENGTH,this.opt=t||{},this.opt.lowercase=this.opt.lowercase||this.opt.lowercasetags,this.looseCase=this.opt.lowercase?"toLowerCase":"toUpperCase",this.tags=[],this.closed=this.closedRoot=this.sawRoot=!1,this.tag=this.error=null,this.strict=!!e,this.noscript=!(!e&&!this.opt.noscript),this.state=x.BEGIN,this.strictEntities=this.opt.strictEntities,this.ENTITIES=Object.create(this.strictEntities?r.XML_ENTITIES:r.ENTITIES),this.attribList=[],this.opt.xmlns&&(this.ns=Object.create(c)),this.trackPosition=!1!==this.opt.position,this.trackPosition&&(this.position=this.line=this.column=0),S(this,"onready")}r.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(e){function t(){}return t.prototype=e,new t}),Object.keys||(Object.keys=function(e){var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(r);return t}),a.prototype={end:function(){N(this)},write:function(e){if(this.error)throw this.error;if(this.closed)return j(this,"Cannot write after close. Assign an onready handler.");if(null===e)return N(this);"object"==typeof e&&(e=e.toString());for(var t=0,n="";n=P(e,t++),this.c=n,n;)switch(this.trackPosition&&(this.position++,"\n"===n?(this.line++,this.column=0):this.column++),this.state){case x.BEGIN:if(this.state=x.BEGIN_WHITESPACE,"\ufeff"===n)continue;M(this,n);continue;case x.BEGIN_WHITESPACE:M(this,n);continue;case x.TEXT:if(this.sawRoot&&!this.closedRoot){for(var a=t-1;n&&"<"!==n&&"&"!==n;)(n=P(e,t++))&&this.trackPosition&&(this.position++,"\n"===n?(this.line++,this.column=0):this.column++);this.textNode+=e.substring(a,t-1)}"<"!==n||this.sawRoot&&this.closedRoot&&!this.strict?(p(n)||this.sawRoot&&!this.closedRoot||O(this,"Text data outside of root node."),"&"===n?this.state=x.TEXT_ENTITY:this.textNode+=n):(this.state=x.OPEN_WAKA,this.startTagPosition=this.position);continue;case x.SCRIPT:"<"===n?this.state=x.SCRIPT_ENDING:this.script+=n;continue;case x.SCRIPT_ENDING:"/"===n?this.state=x.CLOSE_TAG:(this.script+="<"+n,this.state=x.SCRIPT);continue;case x.OPEN_WAKA:"!"===n?(this.state=x.SGML_DECL,this.sgmlDecl=""):p(n)||(y(l,n)?(this.state=x.OPEN_TAG,this.tagName=n):"/"===n?(this.state=x.CLOSE_TAG,this.tagName=""):"?"===n?(this.state=x.PROC_INST,this.procInstName=this.procInstBody=""):(O(this,"Unencoded <"),this.startTagPosition+1<this.position&&(n=new Array(this.position-this.startTagPosition).join(" ")+n),this.textNode+="<"+n,this.state=x.TEXT));continue;case x.SGML_DECL:"[CDATA["===(this.sgmlDecl+n).toUpperCase()?(E(this,"onopencdata"),this.state=x.CDATA,this.sgmlDecl="",this.cdata=""):this.sgmlDecl+n==="--"?(this.state=x.COMMENT,this.comment="",this.sgmlDecl=""):"DOCTYPE"===(this.sgmlDecl+n).toUpperCase()?(this.state=x.DOCTYPE,(this.doctype||this.sawRoot)&&O(this,"Inappropriately located doctype declaration"),this.doctype="",this.sgmlDecl=""):">"===n?(E(this,"onsgmldeclaration",this.sgmlDecl),this.sgmlDecl="",this.state=x.TEXT):v(n)?(this.state=x.SGML_DECL_QUOTED,this.sgmlDecl+=n):this.sgmlDecl+=n;continue;case x.SGML_DECL_QUOTED:n===this.q&&(this.state=x.SGML_DECL,this.q=""),this.sgmlDecl+=n;continue;case x.DOCTYPE:">"===n?(this.state=x.TEXT,E(this,"ondoctype",this.doctype),this.doctype=!0):(this.doctype+=n,"["===n?this.state=x.DOCTYPE_DTD:v(n)&&(this.state=x.DOCTYPE_QUOTED,this.q=n));continue;case x.DOCTYPE_QUOTED:this.doctype+=n,n===this.q&&(this.q="",this.state=x.DOCTYPE);continue;case x.DOCTYPE_DTD:this.doctype+=n,"]"===n?this.state=x.DOCTYPE:v(n)&&(this.state=x.DOCTYPE_DTD_QUOTED,this.q=n);continue;case x.DOCTYPE_DTD_QUOTED:this.doctype+=n,n===this.q&&(this.state=x.DOCTYPE_DTD,this.q="");continue;case x.COMMENT:"-"===n?this.state=x.COMMENT_ENDING:this.comment+=n;continue;case x.COMMENT_ENDING:"-"===n?(this.state=x.COMMENT_ENDED,this.comment=I(this.opt,this.comment),this.comment&&E(this,"oncomment",this.comment),this.comment=""):(this.comment+="-"+n,this.state=x.COMMENT);continue;case x.COMMENT_ENDED:">"!==n?(O(this,"Malformed comment"),this.comment+="--"+n,this.state=x.COMMENT):this.state=x.TEXT;continue;case x.CDATA:"]"===n?this.state=x.CDATA_ENDING:this.cdata+=n;continue;case x.CDATA_ENDING:"]"===n?this.state=x.CDATA_ENDING_2:(this.cdata+="]"+n,this.state=x.CDATA);continue;case x.CDATA_ENDING_2:">"===n?(this.cdata&&E(this,"oncdata",this.cdata),E(this,"onclosecdata"),this.cdata="",this.state=x.TEXT):"]"===n?this.cdata+="]":(this.cdata+="]]"+n,this.state=x.CDATA);continue;case x.PROC_INST:"?"===n?this.state=x.PROC_INST_ENDING:p(n)?this.state=x.PROC_INST_BODY:this.procInstName+=n;continue;case x.PROC_INST_BODY:if(!this.procInstBody&&p(n))continue;"?"===n?this.state=x.PROC_INST_ENDING:this.procInstBody+=n;continue;case x.PROC_INST_ENDING:">"===n?(E(this,"onprocessinginstruction",{name:this.procInstName,body:this.procInstBody}),this.procInstName=this.procInstBody="",this.state=x.TEXT):(this.procInstBody+="?"+n,this.state=x.PROC_INST_BODY);continue;case x.OPEN_TAG:y(f,n)?this.tagName+=n:(A(this),">"===n?L(this):"/"===n?this.state=x.OPEN_TAG_SLASH:(p(n)||O(this,"Invalid character in tag name"),this.state=x.ATTRIB));continue;case x.OPEN_TAG_SLASH:">"===n?(L(this,!0),D(this)):(O(this,"Forward-slash in opening tag not followed by >"),this.state=x.ATTRIB);continue;case x.ATTRIB:if(p(n))continue;">"===n?L(this):"/"===n?this.state=x.OPEN_TAG_SLASH:y(l,n)?(this.attribName=n,this.attribValue="",this.state=x.ATTRIB_NAME):O(this,"Invalid attribute name");continue;case x.ATTRIB_NAME:"="===n?this.state=x.ATTRIB_VALUE:">"===n?(O(this,"Attribute without value"),this.attribValue=this.attribName,C(this),L(this)):p(n)?this.state=x.ATTRIB_NAME_SAW_WHITE:y(f,n)?this.attribName+=n:O(this,"Invalid attribute name");continue;case x.ATTRIB_NAME_SAW_WHITE:if("="===n)this.state=x.ATTRIB_VALUE;else{if(p(n))continue;O(this,"Attribute without value"),this.tag.attributes[this.attribName]="",this.attribValue="",E(this,"onattribute",{name:this.attribName,value:""}),this.attribName="",">"===n?L(this):y(l,n)?(this.attribName=n,this.state=x.ATTRIB_NAME):(O(this,"Invalid attribute name"),this.state=x.ATTRIB)}continue;case x.ATTRIB_VALUE:if(p(n))continue;v(n)?(this.q=n,this.state=x.ATTRIB_VALUE_QUOTED):(O(this,"Unquoted attribute value"),this.state=x.ATTRIB_VALUE_UNQUOTED,this.attribValue=n);continue;case x.ATTRIB_VALUE_QUOTED:if(n!==this.q){"&"===n?this.state=x.ATTRIB_VALUE_ENTITY_Q:this.attribValue+=n;continue}C(this),this.q="",this.state=x.ATTRIB_VALUE_CLOSED;continue;case x.ATTRIB_VALUE_CLOSED:p(n)?this.state=x.ATTRIB:">"===n?L(this):"/"===n?this.state=x.OPEN_TAG_SLASH:y(l,n)?(O(this,"No whitespace between attributes"),this.attribName=n,this.attribValue="",this.state=x.ATTRIB_NAME):O(this,"Invalid attribute name");continue;case x.ATTRIB_VALUE_UNQUOTED:if(!g(n)){"&"===n?this.state=x.ATTRIB_VALUE_ENTITY_U:this.attribValue+=n;continue}C(this),">"===n?L(this):this.state=x.ATTRIB;continue;case x.CLOSE_TAG:if(this.tagName)">"===n?D(this):y(f,n)?this.tagName+=n:this.script?(this.script+="</"+this.tagName,this.tagName="",this.state=x.SCRIPT):(p(n)||O(this,"Invalid tagname in closing tag"),this.state=x.CLOSE_TAG_SAW_WHITE);else{if(p(n))continue;b(l,n)?this.script?(this.script+="</"+n,this.state=x.SCRIPT):O(this,"Invalid tagname in closing tag."):this.tagName=n}continue;case x.CLOSE_TAG_SAW_WHITE:if(p(n))continue;">"===n?D(this):O(this,"Invalid characters in closing tag");continue;case x.TEXT_ENTITY:case x.ATTRIB_VALUE_ENTITY_Q:case x.ATTRIB_VALUE_ENTITY_U:var o,s;switch(this.state){case x.TEXT_ENTITY:o=x.TEXT,s="textNode";break;case x.ATTRIB_VALUE_ENTITY_Q:o=x.ATTRIB_VALUE_QUOTED,s="attribValue";break;case x.ATTRIB_VALUE_ENTITY_U:o=x.ATTRIB_VALUE_UNQUOTED,s="attribValue"}";"===n?(this[s]+=(u=void 0,c=void 0,_=void 0,m=(c=this.entity).toLowerCase(),_="",this.ENTITIES[c]?this.ENTITIES[c]:this.ENTITIES[m]?this.ENTITIES[m]:("#"===(c=m).charAt(0)&&("x"===c.charAt(1)?(c=c.slice(2),_=(u=parseInt(c,16)).toString(16)):(c=c.slice(1),_=(u=parseInt(c,10)).toString(10))),c=c.replace(/^0+/,""),isNaN(u)||_.toLowerCase()!==c?(O(this,"Invalid character entity"),"&"+this.entity+";"):String.fromCodePoint(u))),this.entity="",this.state=o):y(this.entity.length?d:h,n)?this.entity+=n:(O(this,"Invalid character in entity name"),this[s]+="&"+this.entity+n,this.entity="",this.state=o);continue;default:throw new Error(this,"Unknown state: "+this.state)}var u,c,m,_;return this.position>=this.bufferCheckPosition&&function(e){for(var t=Math.max(r.MAX_BUFFER_LENGTH,10),n=0,a=0,o=i.length;a<o;a++){var s=e[i[a]].length;if(s>t)switch(i[a]){case"textNode":T(e);break;case"cdata":E(e,"oncdata",e.cdata),e.cdata="";break;case"script":E(e,"onscript",e.script),e.script="";break;default:j(e,"Max buffer length exceeded: "+i[a])}n=Math.max(n,s)}e.bufferCheckPosition=r.MAX_BUFFER_LENGTH-n+e.position}(this),this},resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){T(this),""!==this.cdata&&(E(this,"oncdata",this.cdata),this.cdata=""),""!==this.script&&(E(this,"onscript",this.script),this.script="")}};try{n=e("stream").Stream}catch(F){n=function(){}}var o=r.EVENTS.filter((function(e){return"error"!==e&&"end"!==e}));function s(e,t){if(!(this instanceof s))return new s(e,t);n.apply(this),this._parser=new a(e,t),this.writable=!0,this.readable=!0;var r=this;this._parser.onend=function(){r.emit("end")},this._parser.onerror=function(e){r.emit("error",e),r._parser.error=null},this._decoder=null,o.forEach((function(e){Object.defineProperty(r,"on"+e,{get:function(){return r._parser["on"+e]},set:function(t){if(!t)return r.removeAllListeners(e),r._parser["on"+e]=t,t;r.on(e,t)},enumerable:!0,configurable:!1})}))}(s.prototype=Object.create(n.prototype,{constructor:{value:s}})).write=function(r){if("function"==typeof t&&"function"==typeof t.isBuffer&&t.isBuffer(r)){if(!this._decoder){var n=e("string_decoder").StringDecoder;this._decoder=new n("utf8")}r=this._decoder.write(r)}return this._parser.write(r.toString()),this.emit("data",r),!0},s.prototype.end=function(e){return e&&e.length&&this.write(e),this._parser.end(),!0},s.prototype.on=function(e,t){var r=this;return r._parser["on"+e]||-1===o.indexOf(e)||(r._parser["on"+e]=function(){var t=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);t.splice(0,0,e),r.emit.apply(r,t)}),n.prototype.on.call(r,e,t)};var u="http://www.w3.org/XML/1998/namespace",c={xml:u,xmlns:"http://www.w3.org/2000/xmlns/"},l=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,f=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,h=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,d=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function p(e){return" "===e||"\n"===e||"\r"===e||"\t"===e}function v(e){return'"'===e||"'"===e}function g(e){return">"===e||p(e)}function y(e,t){return e.test(t)}function b(e,t){return!y(e,t)}var m,_,w,x=0;for(var k in r.STATE={BEGIN:x++,BEGIN_WHITESPACE:x++,TEXT:x++,TEXT_ENTITY:x++,OPEN_WAKA:x++,SGML_DECL:x++,SGML_DECL_QUOTED:x++,DOCTYPE:x++,DOCTYPE_QUOTED:x++,DOCTYPE_DTD:x++,DOCTYPE_DTD_QUOTED:x++,COMMENT_STARTING:x++,COMMENT:x++,COMMENT_ENDING:x++,COMMENT_ENDED:x++,CDATA:x++,CDATA_ENDING:x++,CDATA_ENDING_2:x++,PROC_INST:x++,PROC_INST_BODY:x++,PROC_INST_ENDING:x++,OPEN_TAG:x++,OPEN_TAG_SLASH:x++,ATTRIB:x++,ATTRIB_NAME:x++,ATTRIB_NAME_SAW_WHITE:x++,ATTRIB_VALUE:x++,ATTRIB_VALUE_QUOTED:x++,ATTRIB_VALUE_CLOSED:x++,ATTRIB_VALUE_UNQUOTED:x++,ATTRIB_VALUE_ENTITY_Q:x++,ATTRIB_VALUE_ENTITY_U:x++,CLOSE_TAG:x++,CLOSE_TAG_SAW_WHITE:x++,SCRIPT:x++,SCRIPT_ENDING:x++},r.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},r.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(r.ENTITIES).forEach((function(e){var t=r.ENTITIES[e],n="number"==typeof t?String.fromCharCode(t):t;r.ENTITIES[e]=n})),r.STATE)r.STATE[r.STATE[k]]=k;function S(e,t,r){e[t]&&e[t](r)}function E(e,t,r){e.textNode&&T(e),S(e,t,r)}function T(e){e.textNode=I(e.opt,e.textNode),e.textNode&&S(e,"ontext",e.textNode),e.textNode=""}function I(e,t){return e.trim&&(t=t.trim()),e.normalize&&(t=t.replace(/\s+/g," ")),t}function j(e,t){return T(e),e.trackPosition&&(t+="\nLine: "+e.line+"\nColumn: "+e.column+"\nChar: "+e.c),t=new Error(t),e.error=t,S(e,"onerror",t),e}function N(e){return e.sawRoot&&!e.closedRoot&&O(e,"Unclosed root tag"),e.state!==x.BEGIN&&e.state!==x.BEGIN_WHITESPACE&&e.state!==x.TEXT&&j(e,"Unexpected end"),T(e),e.c="",e.closed=!0,S(e,"onend"),a.call(e,e.strict,e.opt),e}function O(e,t){if("object"!=typeof e||!(e instanceof a))throw new Error("bad call to strictFail");e.strict&&j(e,t)}function A(e){e.strict||(e.tagName=e.tagName[e.looseCase]());var t=e.tags[e.tags.length-1]||e,r=e.tag={name:e.tagName,attributes:{}};e.opt.xmlns&&(r.ns=t.ns),e.attribList.length=0,E(e,"onopentagstart",r)}function R(e,t){var r=e.indexOf(":")<0?["",e]:e.split(":"),n=r[0],i=r[1];return t&&"xmlns"===e&&(n="xmlns",i=""),{prefix:n,local:i}}function C(e){if(e.strict||(e.attribName=e.attribName[e.looseCase]()),-1!==e.attribList.indexOf(e.attribName)||e.tag.attributes.hasOwnProperty(e.attribName))e.attribName=e.attribValue="";else{if(e.opt.xmlns){var t=R(e.attribName,!0),r=t.local;if("xmlns"===t.prefix)if("xml"===r&&e.attribValue!==u)O(e,"xml: prefix must be bound to "+u+"\nActual: "+e.attribValue);else if("xmlns"===r&&"http://www.w3.org/2000/xmlns/"!==e.attribValue)O(e,"xmlns: prefix must be bound to http://www.w3.org/2000/xmlns/\nActual: "+e.attribValue);else{var n=e.tag,i=e.tags[e.tags.length-1]||e;n.ns===i.ns&&(n.ns=Object.create(i.ns)),n.ns[r]=e.attribValue}e.attribList.push([e.attribName,e.attribValue])}else e.tag.attributes[e.attribName]=e.attribValue,E(e,"onattribute",{name:e.attribName,value:e.attribValue});e.attribName=e.attribValue=""}}function L(e,t){if(e.opt.xmlns){var r=e.tag,n=R(e.tagName);r.prefix=n.prefix,r.local=n.local,r.uri=r.ns[n.prefix]||"",r.prefix&&!r.uri&&(O(e,"Unbound namespace prefix: "+JSON.stringify(e.tagName)),r.uri=n.prefix),r.ns&&(e.tags[e.tags.length-1]||e).ns!==r.ns&&Object.keys(r.ns).forEach((function(t){E(e,"onopennamespace",{prefix:t,uri:r.ns[t]})}));for(var i=0,a=e.attribList.length;i<a;i++){var o=e.attribList[i],s=o[0],u=o[1],c=R(s,!0),l=c.prefix,f=""===l?"":r.ns[l]||"",h={name:s,value:u,prefix:l,local:c.local,uri:f};l&&"xmlns"!==l&&!f&&(O(e,"Unbound namespace prefix: "+JSON.stringify(l)),h.uri=l),e.tag.attributes[s]=h,E(e,"onattribute",h)}e.attribList.length=0}e.tag.isSelfClosing=!!t,e.sawRoot=!0,e.tags.push(e.tag),E(e,"onopentag",e.tag),t||(e.state=e.noscript||"script"!==e.tagName.toLowerCase()?x.TEXT:x.SCRIPT,e.tag=null,e.tagName=""),e.attribName=e.attribValue="",e.attribList.length=0}function D(e){if(!e.tagName)return O(e,"Weird empty close tag."),e.textNode+="</>",void(e.state=x.TEXT);if(e.script){if("script"!==e.tagName)return e.script+="</"+e.tagName+">",e.tagName="",void(e.state=x.SCRIPT);E(e,"onscript",e.script),e.script=""}var t=e.tags.length,r=e.tagName;e.strict||(r=r[e.looseCase]());for(var n=r;t--&&e.tags[t].name!==n;)O(e,"Unexpected close tag");if(t<0)return O(e,"Unmatched closing tag: "+e.tagName),e.textNode+="</"+e.tagName+">",void(e.state=x.TEXT);e.tagName=r;for(var i=e.tags.length;i-- >t;){var a=e.tag=e.tags.pop();e.tagName=e.tag.name,E(e,"onclosetag",e.tagName);var o={};for(var s in a.ns)o[s]=a.ns[s];e.opt.xmlns&&a.ns!==(e.tags[e.tags.length-1]||e).ns&&Object.keys(a.ns).forEach((function(t){E(e,"onclosenamespace",{prefix:t,uri:a.ns[t]})}))}0===t&&(e.closedRoot=!0),e.tagName=e.attribValue=e.attribName="",e.attribList.length=0,e.state=x.TEXT}function M(e,t){"<"===t?(e.state=x.OPEN_WAKA,e.startTagPosition=e.position):p(t)||(O(e,"Non-whitespace before first tag."),e.textNode=t,e.state=x.TEXT)}function P(e,t){var r="";return t<e.length&&(r=e.charAt(t)),r}x=r.STATE,String.fromCodePoint||(m=String.fromCharCode,_=Math.floor,w=function(){var e=16384,t=[],r=-1,n=arguments.length;if(!n)return"";for(var i="";++r<n;){var a=Number(arguments[r]);if(!isFinite(a)||a<0||a>1114111||_(a)!==a)throw RangeError("Invalid code point: "+a);a<=65535?t.push(a):t.push(55296+((a-=65536)>>10),a%1024+56320),(r+1===n||t.length>e)&&(i+=m.apply(null,t),t.length=0)}return i},Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:w,configurable:!0,writable:!0}):String.fromCodePoint=w)}(void 0===r?this.sax={}:r)}).call(this,e("buffer").Buffer)},{buffer:12,stream:97,string_decoder:113}],97:[function(e,t,r){t.exports=i;var n=e("events").EventEmitter;function i(){n.call(this)}e("inherits")(i,n),i.Readable=e("readable-stream/readable.js"),i.Writable=e("readable-stream/writable.js"),i.Duplex=e("readable-stream/duplex.js"),i.Transform=e("readable-stream/transform.js"),i.PassThrough=e("readable-stream/passthrough.js"),i.Stream=i,i.prototype.pipe=function(e,t){var r=this;function i(t){e.writable&&!1===e.write(t)&&r.pause&&r.pause()}function a(){r.readable&&r.resume&&r.resume()}r.on("data",i),e.on("drain",a),e._isStdio||t&&!1===t.end||(r.on("end",s),r.on("close",u));var o=!1;function s(){o||(o=!0,e.end())}function u(){o||(o=!0,"function"==typeof e.destroy&&e.destroy())}function c(e){if(l(),0===n.listenerCount(this,"error"))throw e}function l(){r.removeListener("data",i),e.removeListener("drain",a),r.removeListener("end",s),r.removeListener("close",u),r.removeListener("error",c),e.removeListener("error",c),r.removeListener("end",l),r.removeListener("close",l),e.removeListener("close",l)}return r.on("error",c),e.on("error",c),r.on("end",l),r.on("close",l),e.on("close",l),e.emit("pipe",r),e}},{events:13,inherits:18,"readable-stream/duplex.js":98,"readable-stream/passthrough.js":107,"readable-stream/readable.js":108,"readable-stream/transform.js":109,"readable-stream/writable.js":110}],98:[function(e,t,r){t.exports=e("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":99}],99:[function(e,t,r){"use strict";var n=e("process-nextick-args"),i=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};t.exports=f;var a=Object.create(e("core-util-is"));a.inherits=e("inherits");var o=e("./_stream_readable"),s=e("./_stream_writable");a.inherits(f,o);for(var u=i(s.prototype),c=0;c<u.length;c++){var l=u[c];f.prototype[l]||(f.prototype[l]=s.prototype[l])}function f(e){if(!(this instanceof f))return new f(e);o.call(this,e),s.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",h)}function h(){this.allowHalfOpen||this._writableState.ended||n.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),f.prototype._destroy=function(e,t){this.push(null),this.end(),n.nextTick(t,e)}},{"./_stream_readable":101,"./_stream_writable":103,"core-util-is":16,inherits:18,"process-nextick-args":61}],100:[function(e,t,r){"use strict";t.exports=a;var n=e("./_stream_transform"),i=Object.create(e("core-util-is"));function a(e){if(!(this instanceof a))return new a(e);n.call(this,e)}i.inherits=e("inherits"),i.inherits(a,n),a.prototype._transform=function(e,t,r){r(null,e)}},{"./_stream_transform":102,"core-util-is":16,inherits:18}],101:[function(e,t,r){(function(r,n){"use strict";var i=e("process-nextick-args");t.exports=m;var a,o=e("isarray");m.ReadableState=b,e("events");var s=function(e,t){return e.listeners(t).length},u=e("./internal/streams/stream"),c=e("safe-buffer").Buffer,l=n.Uint8Array||function(){},f=Object.create(e("core-util-is"));f.inherits=e("inherits");var h=e("util"),d=void 0;d=h&&h.debuglog?h.debuglog("stream"):function(){};var p,v=e("./internal/streams/BufferList"),g=e("./internal/streams/destroy");f.inherits(m,u);var y=["error","close","destroy","pause","resume"];function b(t,r){var n=r instanceof(a=a||e("./_stream_duplex"));this.objectMode=!!(t=t||{}).objectMode,n&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var i=t.highWaterMark,o=t.readableHighWaterMark;this.highWaterMark=i||0===i?i:n&&(o||0===o)?o:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new v,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(p||(p=e("string_decoder/").StringDecoder),this.decoder=new p(t.encoding),this.encoding=t.encoding)}function m(t){if(a=a||e("./_stream_duplex"),!(this instanceof m))return new m(t);this._readableState=new b(t,this),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),u.call(this)}function _(e,t,r,n,i){var a,o=e._readableState;return null===t?(o.reading=!1,function(e,t){if(!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,k(e)}}(e,o)):(i||(a=function(e,t){var r,n;return c.isBuffer(n=t)||n instanceof l||"string"==typeof t||void 0===t||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk")),r}(o,t)),a?e.emit("error",a):o.objectMode||t&&t.length>0?("string"==typeof t||o.objectMode||Object.getPrototypeOf(t)===c.prototype||(t=function(e){return c.from(e)}(t)),n?o.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):w(e,o,t,!0):o.ended?e.emit("error",new Error("stream.push() after EOF")):(o.reading=!1,o.decoder&&!r?(t=o.decoder.write(t),o.objectMode||0!==t.length?w(e,o,t,!1):E(e,o)):w(e,o,t,!1))):n||(o.reading=!1)),function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(o)}function w(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&k(e)),E(e,t)}function x(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=8388608?e=8388608:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function k(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(d("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?i.nextTick(S,e):S(e))}function S(e){d("emit readable"),e.emit("readable"),N(e)}function E(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(T,e,t))}function T(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(d("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}function I(e){d("readable nexttick read 0"),e.read(0)}function j(e,t){t.reading||(d("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),N(e),t.flowing&&!t.reading&&e.read(0)}function N(e){var t=e._readableState;for(d("flow",t.flowing);t.flowing&&null!==e.read(););}function O(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):r=function(e,t,r){var n;return e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):n=e===t.head.data.length?t.shift():r?function(e,t){var r=t.head,n=1,i=r.data;for(e-=i.length;r=r.next;){var a=r.data,o=e>a.length?a.length:e;if(i+=o===a.length?a:a.slice(0,e),0==(e-=o)){o===a.length?(++n,t.head=r.next?r.next:t.tail=null):(t.head=r,r.data=a.slice(o));break}++n}return t.length-=n,i}(e,t):function(e,t){var r=c.allocUnsafe(e),n=t.head,i=1;for(n.data.copy(r),e-=n.data.length;n=n.next;){var a=n.data,o=e>a.length?a.length:e;if(a.copy(r,r.length-e,0,o),0==(e-=o)){o===a.length?(++i,t.head=n.next?n.next:t.tail=null):(t.head=n,n.data=a.slice(o));break}++i}return t.length-=i,r}(e,t),n}(e,t.buffer,t.decoder),r);var r}function A(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,i.nextTick(R,t,e))}function R(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function C(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}Object.defineProperty(m.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),m.prototype.destroy=g.destroy,m.prototype._undestroy=g.undestroy,m.prototype._destroy=function(e,t){this.push(null),t(e)},m.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=c.from(e,t),t=""),r=!0),_(this,e,t,!1,r)},m.prototype.unshift=function(e){return _(this,e,null,!0,!1)},m.prototype.isPaused=function(){return!1===this._readableState.flowing},m.prototype.setEncoding=function(t){return p||(p=e("string_decoder/").StringDecoder),this._readableState.decoder=new p(t),this._readableState.encoding=t,this},m.prototype.read=function(e){d("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return d("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?A(this):k(this),null;if(0===(e=x(e,t))&&t.ended)return 0===t.length&&A(this),null;var n,i=t.needReadable;return d("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&d("length less than watermark",i=!0),t.ended||t.reading?d("reading or ended",i=!1):i&&(d("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=x(r,t))),null===(n=e>0?O(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&A(this)),null!==n&&this.emit("data",n),n},m.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},m.prototype.pipe=function(e,t){var n=this,a=this._readableState;switch(a.pipesCount){case 0:a.pipes=e;break;case 1:a.pipes=[a.pipes,e];break;default:a.pipes.push(e)}a.pipesCount+=1,d("pipe count=%d opts=%j",a.pipesCount,t);var u=t&&!1===t.end||e===r.stdout||e===r.stderr?b:c;function c(){d("onend"),e.end()}a.endEmitted?i.nextTick(u):n.once("end",u),e.on("unpipe",(function t(r,i){d("onunpipe"),r===n&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,d("cleanup"),e.removeListener("close",g),e.removeListener("finish",y),e.removeListener("drain",l),e.removeListener("error",v),e.removeListener("unpipe",t),n.removeListener("end",c),n.removeListener("end",b),n.removeListener("data",p),f=!0,!a.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}));var l=function(e){return function(){var t=e._readableState;d("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,N(e))}}(n);e.on("drain",l);var f=!1,h=!1;function p(t){d("ondata"),h=!1,!1!==e.write(t)||h||((1===a.pipesCount&&a.pipes===e||a.pipesCount>1&&-1!==C(a.pipes,e))&&!f&&(d("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,h=!0),n.pause())}function v(t){d("onerror",t),b(),e.removeListener("error",v),0===s(e,"error")&&e.emit("error",t)}function g(){e.removeListener("finish",y),b()}function y(){d("onfinish"),e.removeListener("close",g),b()}function b(){d("unpipe"),n.unpipe(e)}return n.on("data",p),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener("error",r);e._events&&e._events.error?o(e._events.error)?e._events.error.unshift(r):e._events.error=[r,e._events.error]:e.on("error",r)}(e,0,v),e.once("close",g),e.once("finish",y),e.emit("pipe",n),a.flowing||(d("pipe resume"),n.resume()),e},m.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var a=0;a<i;a++)n[a].emit("unpipe",this,r);return this}var o=C(t.pipes,e);return-1===o||(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},m.prototype.addListener=m.prototype.on=function(e,t){var r=u.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&k(this):i.nextTick(I,this))}return r},m.prototype.resume=function(){var e=this._readableState;return e.flowing||(d("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(j,e,t))}(this,e)),this},m.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this},m.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",(function(){if(d("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){d("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i||(r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var a=0;a<y.length;a++)e.on(y[a],this.emit.bind(this,y[a]));return this._read=function(t){d("wrapped _read",t),n&&(n=!1,e.resume())},this},Object.defineProperty(m.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),m._fromList=O}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./_stream_duplex":99,"./internal/streams/BufferList":104,"./internal/streams/destroy":105,"./internal/streams/stream":106,_process:62,"core-util-is":16,events:13,inherits:18,isarray:20,"process-nextick-args":61,"safe-buffer":111,"string_decoder/":112,util:11}],102:[function(e,t,r){"use strict";t.exports=o;var n=e("./_stream_duplex"),i=Object.create(e("core-util-is"));function a(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function o(e){if(!(this instanceof o))return new o(e);n.call(this,e),this._transformState={afterTransform:a.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",s)}function s(){var e=this;"function"==typeof this._flush?this._flush((function(t,r){u(e,t,r)})):u(this,null,null)}function u(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}i.inherits=e("inherits"),i.inherits(o,n),o.prototype.push=function(e,t){return this._transformState.needTransform=!1,n.prototype.push.call(this,e,t)},o.prototype._transform=function(e,t,r){throw new Error("_transform() is not implemented")},o.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},o.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},o.prototype._destroy=function(e,t){var r=this;n.prototype._destroy.call(this,e,(function(e){t(e),r.emit("close")}))}},{"./_stream_duplex":99,"core-util-is":16,inherits:18}],103:[function(e,t,r){(function(r,n,i){"use strict";var a=e("process-nextick-args");function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(void 0),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}t.exports=b;var s,u=!r.browser&&["v0.10","v0.9."].indexOf(r.version.slice(0,5))>-1?i:a.nextTick;b.WritableState=y;var c=Object.create(e("core-util-is"));c.inherits=e("inherits");var l,f={deprecate:e("util-deprecate")},h=e("./internal/streams/stream"),d=e("safe-buffer").Buffer,p=n.Uint8Array||function(){},v=e("./internal/streams/destroy");function g(){}function y(t,r){s=s||e("./_stream_duplex");var n=r instanceof s;this.objectMode=!!(t=t||{}).objectMode,n&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var i=t.highWaterMark,c=t.writableHighWaterMark;this.highWaterMark=i||0===i?i:n&&(c||0===c)?c:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===t.decodeStrings),this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,i){--t.pendingcb,r?(a.nextTick(i,n),a.nextTick(S,e,t),e._writableState.errorEmitted=!0,e.emit("error",n)):(i(n),e._writableState.errorEmitted=!0,e.emit("error",n),S(e,t))}(e,r,n,t,i);else{var o=x(r);o||r.corked||r.bufferProcessing||!r.bufferedRequest||w(e,r),n?u(_,e,r,o,i):_(e,r,o,i)}}(r,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function b(t){if(s=s||e("./_stream_duplex"),!(l.call(b,this)||this instanceof s))return new b(t);this._writableState=new y(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),h.call(this)}function m(e,t,r,n,i,a,o){t.writelen=n,t.writecb=o,t.writing=!0,t.sync=!0,r?e._writev(i,t.onwrite):e._write(i,a,t.onwrite),t.sync=!1}function _(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),S(e,t)}function w(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=new Array(t.bufferedRequestCount),i=t.corkedRequestsFree;i.entry=r;for(var a=0,s=!0;r;)n[a]=r,r.isBuf||(s=!1),r=r.next,a+=1;n.allBuffers=s,m(e,t,!0,t.length,n,"",i.finish),t.pendingcb++,t.lastBufferedRequest=null,i.next?(t.corkedRequestsFree=i.next,i.next=null):t.corkedRequestsFree=new o(t),t.bufferedRequestCount=0}else{for(;r;){var u=r.chunk;if(m(e,t,!1,t.objectMode?1:u.length,u,r.encoding,r.callback),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function x(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function k(e,t){e._final((function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),S(e,t)}))}function S(e,t){var r=x(t);return r&&(function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,a.nextTick(k,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),r}c.inherits(b,h),y.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(y.prototype,"buffer",{get:f.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(l=Function.prototype[Symbol.hasInstance],Object.defineProperty(b,Symbol.hasInstance,{value:function(e){return!!l.call(this,e)||this===b&&e&&e._writableState instanceof y}})):l=function(e){return e instanceof this},b.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},b.prototype.write=function(e,t,r){var n,i=this._writableState,o=!1,s=!i.objectMode&&(d.isBuffer(n=e)||n instanceof p);return s&&!d.isBuffer(e)&&(e=function(e){return d.from(e)}(e)),"function"==typeof t&&(r=t,t=null),s?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof r&&(r=g),i.ended?function(e,t){var r=new Error("write after end");e.emit("error",r),a.nextTick(t,r)}(this,r):(s||function(e,t,r,n){var i=!0,o=!1;return null===r?o=new TypeError("May not write null values to stream"):"string"==typeof r||void 0===r||t.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(e.emit("error",o),a.nextTick(n,o),i=!1),i}(this,i,e,r))&&(i.pendingcb++,o=function(e,t,r,n,i,a){if(!r){var o=function(e,t,r){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=d.from(t,r)),t}(t,n,i);n!==o&&(r=!0,i="buffer",n=o)}var s=t.objectMode?1:n.length;t.length+=s;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:a,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else m(e,t,!1,s,n,i,a);return u}(this,i,s,e,t,r)),o},b.prototype.cork=function(){this._writableState.corked++},b.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||w(this,e))},b.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(b.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),b.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))},b.prototype._writev=null,b.prototype.end=function(e,t,r){var n=this._writableState;"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||function(e,t,r){t.ending=!0,S(e,t),r&&(t.finished?a.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}(this,n,r)},Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),b.prototype.destroy=v.destroy,b.prototype._undestroy=v.undestroy,b.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("timers").setImmediate)},{"./_stream_duplex":99,"./internal/streams/destroy":105,"./internal/streams/stream":106,_process:62,"core-util-is":16,inherits:18,"process-nextick-args":61,"safe-buffer":111,timers:14,"util-deprecate":114}],104:[function(e,t,r){"use strict";var n=e("safe-buffer").Buffer,i=e("util");t.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r},e.prototype.concat=function(e){if(0===this.length)return n.alloc(0);if(1===this.length)return this.head.data;for(var t=n.allocUnsafe(e>>>0),r=this.head,i=0;r;)r.data.copy(t,i),i+=r.data.length,r=r.next;return t},e}(),i&&i.inspect&&i.inspect.custom&&(t.exports.prototype[i.inspect.custom]=function(){var e=i.inspect({length:this.length});return this.constructor.name+" "+e})},{"safe-buffer":111,util:11}],105:[function(e,t,r){"use strict";var n=e("process-nextick-args");function i(e,t){e.emit("error",t)}t.exports={destroy:function(e,t){var r=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||n.nextTick(i,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?(n.nextTick(i,r,e),r._writableState&&(r._writableState.errorEmitted=!0)):t&&t(e)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":61}],106:[function(e,t,r){arguments[4][91][0].apply(r,arguments)},{dup:91,events:13}],107:[function(e,t,r){t.exports=e("./readable").PassThrough},{"./readable":108}],108:[function(e,t,r){(r=t.exports=e("./lib/_stream_readable.js")).Stream=r,r.Readable=r,r.Writable=e("./lib/_stream_writable.js"),r.Duplex=e("./lib/_stream_duplex.js"),r.Transform=e("./lib/_stream_transform.js"),r.PassThrough=e("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":99,"./lib/_stream_passthrough.js":100,"./lib/_stream_readable.js":101,"./lib/_stream_transform.js":102,"./lib/_stream_writable.js":103}],109:[function(e,t,r){t.exports=e("./readable").Transform},{"./readable":108}],110:[function(e,t,r){t.exports=e("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":103}],111:[function(e,t,r){var n=e("buffer"),i=n.Buffer;function a(e,t){for(var r in e)t[r]=e[r]}function o(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=n:(a(n,r),r.Buffer=o),a(i,o),o.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},o.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},o.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},{buffer:12}],112:[function(e,t,r){"use strict";var n=e("safe-buffer").Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=u,this.end=c,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=l,this.end=f,t=3;break;default:return this.write=h,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function o(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"\ufffd";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"\ufffd";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"\ufffd"}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function u(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):t}function l(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function f(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function h(e){return e.toString(this.encoding)}function d(e){return e&&e.length?this.write(e):""}r.StringDecoder=a,a.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},a.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\ufffd":t},a.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=o(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||-2===i?0:(i=o(t[n]))>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||-2===i?0:(i=o(t[n]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},a.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},{"safe-buffer":111}],113:[function(e,t,r){arguments[4][112][0].apply(r,arguments)},{dup:112,"safe-buffer":95}],114:[function(e,t,r){(function(e){function r(t){try{if(!e.localStorage)return!1}catch(n){return!1}var r=e.localStorage[t];return null!=r&&"true"===String(r).toLowerCase()}t.exports=function(e,t){if(r("noDeprecation"))return e;var n=!1;return function(){if(!n){if(r("throwDeprecation"))throw new Error(t);r("traceDeprecation")?console.trace(t):console.warn(t),n=!0}return e.apply(this,arguments)}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],115:[function(e,t,r){"use strict";t.exports=function(e){e.prototype[Symbol.iterator]=regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.head;case 1:if(!t){e.next=7;break}return e.next=4,t.value;case 4:t=t.next,e.next=1;break;case 7:case"end":return e.stop()}}),e,this)}))}},{}],116:[function(e,t,r){"use strict";function n(e){var t=this;if(t instanceof n||(t=new n),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach((function(e){t.push(e)}));else if(arguments.length>0)for(var r=0,i=arguments.length;r<i;r++)t.push(arguments[r]);return t}function i(e,t,r){var n=t===e.head?new s(r,null,t,e):new s(r,t,t.next,e);return null===n.next&&(e.tail=n),null===n.prev&&(e.head=n),e.length++,n}function a(e,t){e.tail=new s(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function o(e,t){e.head=new s(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function s(e,t,r,n){if(!(this instanceof s))return new s(e,t,r,n);this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}t.exports=n,n.Node=s,n.create=n,n.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,r=e.prev;return t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null,t},n.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},n.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},n.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)a(this,arguments[e]);return this.length},n.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)o(this,arguments[e]);return this.length},n.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},n.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},n.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,n=0;null!==r;n++)e.call(t,r.value,n,this),r=r.next},n.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,n=this.length-1;null!==r;n--)e.call(t,r.value,n,this),r=r.prev},n.prototype.get=function(e){for(var t=0,r=this.head;null!==r&&t<e;t++)r=r.next;if(t===e&&null!==r)return r.value},n.prototype.getReverse=function(e){for(var t=0,r=this.tail;null!==r&&t<e;t++)r=r.prev;if(t===e&&null!==r)return r.value},n.prototype.map=function(e,t){t=t||this;for(var r=new n,i=this.head;null!==i;)r.push(e.call(t,i.value,this)),i=i.next;return r},n.prototype.mapReverse=function(e,t){t=t||this;for(var r=new n,i=this.tail;null!==i;)r.push(e.call(t,i.value,this)),i=i.prev;return r},n.prototype.reduce=function(e,t){var r,n=this.head;if(arguments.length>1)r=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");n=this.head.next,r=this.head.value}for(var i=0;null!==n;i++)r=e(r,n.value,i),n=n.next;return r},n.prototype.reduceReverse=function(e,t){var r,n=this.tail;if(arguments.length>1)r=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");n=this.tail.prev,r=this.tail.value}for(var i=this.length-1;null!==n;i--)r=e(r,n.value,i),n=n.prev;return r},n.prototype.toArray=function(){for(var e=new Array(this.length),t=0,r=this.head;null!==r;t++)e[t]=r.value,r=r.next;return e},n.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,r=this.tail;null!==r;t++)e[t]=r.value,r=r.prev;return e},n.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new n;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=0,a=this.head;null!==a&&i<e;i++)a=a.next;for(;null!==a&&i<t;i++,a=a.next)r.push(a.value);return r},n.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new n;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=this.length,a=this.tail;null!==a&&i>t;i--)a=a.prev;for(;null!==a&&i>e;i--,a=a.prev)r.push(a.value);return r},n.prototype.splice=function(e,t){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var r=0,n=this.head;null!==n&&r<e;r++)n=n.next;var a=[];for(r=0;n&&r<t;r++)a.push(n.value),n=this.removeNode(n);for(null===n&&(n=this.tail),n!==this.head&&n!==this.tail&&(n=n.prev),r=2;r<arguments.length;r++)n=i(this,n,arguments[r]);return a},n.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;null!==r;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=t,this.tail=e,this};try{e("./iterator.js")(n)}catch(u){}},{"./iterator.js":115}]},{},[1])(1)},"L1/z":function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0});var i=r("m5Kp"),a=r("TrB0"),o=r("FZPO");n(r("TrB0")),n(r("FZPO"));var s=new o.Translator;function u(e,t){return s.fromRdf(e,t)}s.registerHandler(new a.TypeHandlerString,a.TypeHandlerString.TYPES.map(i.namedNode),["string"]),s.registerHandler(new a.TypeHandlerBoolean,[a.TypeHandlerBoolean.TYPE].map(i.namedNode),["boolean"]),s.registerHandler(new a.TypeHandlerNumberDouble,a.TypeHandlerNumberDouble.TYPES.map(i.namedNode),["number"]),s.registerHandler(new a.TypeHandlerNumberInteger,a.TypeHandlerNumberInteger.TYPES.map(i.namedNode),["number"]),s.registerHandler(new a.TypeHandlerDate,a.TypeHandlerDate.TYPES.map(i.namedNode),["object"]),t.fromRdf=u,t.toRdf=function(e,t){return t&&"namedNode"in t&&(t={dataFactory:t}),(t=t||{})&&!t.dataFactory&&(t.dataFactory=i),s.toRdf(e,t)},t.getTermRaw=function(e,t){return"Literal"===e.termType?u(e,t):e.value},t.getSupportedRdfDatatypes=function(){return s.getSupportedRdfDatatypes()},t.getSupportedJavaScriptPrimitives=function(){return s.getSupportedJavaScriptPrimitives()}},LvDl:function(e,t,r){(function(e){var n;(function(){var i="Expected a function",a="__lodash_placeholder__",o=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],s="[object Arguments]",u="[object Array]",c="[object Boolean]",l="[object Date]",f="[object Error]",h="[object Function]",d="[object GeneratorFunction]",p="[object Map]",v="[object Number]",g="[object Object]",y="[object RegExp]",b="[object Set]",m="[object String]",_="[object Symbol]",w="[object WeakMap]",x="[object ArrayBuffer]",k="[object DataView]",S="[object Float32Array]",E="[object Float64Array]",T="[object Int8Array]",I="[object Int16Array]",j="[object Int32Array]",N="[object Uint8Array]",O="[object Uint16Array]",A="[object Uint32Array]",R=/\b__p \+= '';/g,C=/\b(__p \+=) '' \+/g,L=/(__e\(.*?\)|\b__t\)) \+\n'';/g,D=/&(?:amp|lt|gt|quot|#39);/g,M=/[&<>"']/g,P=RegExp(D.source),F=RegExp(M.source),B=/<%-([\s\S]+?)%>/g,U=/<%([\s\S]+?)%>/g,G=/<%=([\s\S]+?)%>/g,z=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,q=/^\w*$/,H=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,V=/[\\^$.*+?()[\]{}|]/g,W=RegExp(V.source),K=/^\s+|\s+$/g,J=/^\s+/,X=/\s+$/,Q=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Y=/\{\n\/\* \[wrapped with (.+)\] \*/,Z=/,? & /,$=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ee=/\\(\\)?/g,te=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,re=/\w*$/,ne=/^[-+]0x[0-9a-f]+$/i,ie=/^0b[01]+$/i,ae=/^\[object .+?Constructor\]$/,oe=/^0o[0-7]+$/i,se=/^(?:0|[1-9]\d*)$/,ue=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ce=/($^)/,le=/['\n\r\u2028\u2029\\]/g,fe="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",he="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",de="["+he+"]",pe="["+fe+"]",ve="\\d+",ge="[a-z\\xdf-\\xf6\\xf8-\\xff]",ye="[^\\ud800-\\udfff"+he+ve+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",be="\\ud83c[\\udffb-\\udfff]",me="[^\\ud800-\\udfff]",_e="(?:\\ud83c[\\udde6-\\uddff]){2}",we="[\\ud800-\\udbff][\\udc00-\\udfff]",xe="[A-Z\\xc0-\\xd6\\xd8-\\xde]",ke="(?:"+ge+"|"+ye+")",Se="(?:"+xe+"|"+ye+")",Ee="(?:"+pe+"|"+be+")?",Te="[\\ufe0e\\ufe0f]?"+Ee+"(?:\\u200d(?:"+[me,_e,we].join("|")+")[\\ufe0e\\ufe0f]?"+Ee+")*",Ie="(?:"+["[\\u2700-\\u27bf]",_e,we].join("|")+")"+Te,je="(?:"+[me+pe+"?",pe,_e,we,"[\\ud800-\\udfff]"].join("|")+")",Ne=RegExp("['\u2019]","g"),Oe=RegExp(pe,"g"),Ae=RegExp(be+"(?="+be+")|"+je+Te,"g"),Re=RegExp([xe+"?"+ge+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?(?="+[de,xe,"$"].join("|")+")",Se+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?(?="+[de,xe+ke,"$"].join("|")+")",xe+"?"+ke+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?",xe+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ve,Ie].join("|"),"g"),Ce=RegExp("[\\u200d\\ud800-\\udfff"+fe+"\\ufe0e\\ufe0f]"),Le=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,De=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Me=-1,Pe={};Pe[S]=Pe[E]=Pe[T]=Pe[I]=Pe[j]=Pe[N]=Pe["[object Uint8ClampedArray]"]=Pe[O]=Pe[A]=!0,Pe[s]=Pe[u]=Pe[x]=Pe[c]=Pe[k]=Pe[l]=Pe[f]=Pe[h]=Pe[p]=Pe[v]=Pe[g]=Pe[y]=Pe[b]=Pe[m]=Pe[w]=!1;var Fe={};Fe[s]=Fe[u]=Fe[x]=Fe[k]=Fe[c]=Fe[l]=Fe[S]=Fe[E]=Fe[T]=Fe[I]=Fe[j]=Fe[p]=Fe[v]=Fe[g]=Fe[y]=Fe[b]=Fe[m]=Fe[_]=Fe[N]=Fe["[object Uint8ClampedArray]"]=Fe[O]=Fe[A]=!0,Fe[f]=Fe[h]=Fe[w]=!1;var Be={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ue=parseFloat,Ge=parseInt,ze="object"==typeof global&&global&&global.Object===Object&&global,qe="object"==typeof self&&self&&self.Object===Object&&self,He=ze||qe||Function("return this")(),Ve=t&&!t.nodeType&&t,We=Ve&&"object"==typeof e&&e&&!e.nodeType&&e,Ke=We&&We.exports===Ve,Je=Ke&&ze.process,Xe=function(){try{return We&&We.require&&We.require("util").types||Je&&Je.binding&&Je.binding("util")}catch(e){}}(),Qe=Xe&&Xe.isArrayBuffer,Ye=Xe&&Xe.isDate,Ze=Xe&&Xe.isMap,$e=Xe&&Xe.isRegExp,et=Xe&&Xe.isSet,tt=Xe&&Xe.isTypedArray;function rt(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function nt(e,t,r,n){for(var i=-1,a=null==e?0:e.length;++i<a;){var o=e[i];t(n,o,r(o),e)}return n}function it(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}function at(e,t){for(var r=null==e?0:e.length;r--&&!1!==t(e[r],r,e););return e}function ot(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}function st(e,t){for(var r=-1,n=null==e?0:e.length,i=0,a=[];++r<n;){var o=e[r];t(o,r,e)&&(a[i++]=o)}return a}function ut(e,t){return!(null==e||!e.length)&&bt(e,t,0)>-1}function ct(e,t,r){for(var n=-1,i=null==e?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}function lt(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}function ft(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}function ht(e,t,r,n){var i=-1,a=null==e?0:e.length;for(n&&a&&(r=e[++i]);++i<a;)r=t(r,e[i],i,e);return r}function dt(e,t,r,n){var i=null==e?0:e.length;for(n&&i&&(r=e[--i]);i--;)r=t(r,e[i],i,e);return r}function pt(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var vt=xt("length");function gt(e,t,r){var n;return r(e,(function(e,r,i){if(t(e,r,i))return n=r,!1})),n}function yt(e,t,r,n){for(var i=e.length,a=r+(n?1:-1);n?a--:++a<i;)if(t(e[a],a,e))return a;return-1}function bt(e,t,r){return t==t?function(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}(e,t,r):yt(e,_t,r)}function mt(e,t,r,n){for(var i=r-1,a=e.length;++i<a;)if(n(e[i],t))return i;return-1}function _t(e){return e!=e}function wt(e,t){var r=null==e?0:e.length;return r?Et(e,t)/r:NaN}function xt(e){return function(t){return null==t?void 0:t[e]}}function kt(e){return function(t){return null==e?void 0:e[t]}}function St(e,t,r,n,i){return i(e,(function(e,i,a){r=n?(n=!1,e):t(r,e,i,a)})),r}function Et(e,t){for(var r,n=-1,i=e.length;++n<i;){var a=t(e[n]);void 0!==a&&(r=void 0===r?a:r+a)}return r}function Tt(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}function It(e){return function(t){return e(t)}}function jt(e,t){return lt(t,(function(t){return e[t]}))}function Nt(e,t){return e.has(t)}function Ot(e,t){for(var r=-1,n=e.length;++r<n&&bt(t,e[r],0)>-1;);return r}function At(e,t){for(var r=e.length;r--&&bt(t,e[r],0)>-1;);return r}function Rt(e,t){for(var r=e.length,n=0;r--;)e[r]===t&&++n;return n}var Ct=kt({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),Lt=kt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Dt(e){return"\\"+Be[e]}function Mt(e){return Ce.test(e)}function Pt(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function Ft(e,t){return function(r){return e(t(r))}}function Bt(e,t){for(var r=-1,n=e.length,i=0,o=[];++r<n;){var s=e[r];s!==t&&s!==a||(e[r]=a,o[i++]=r)}return o}function Ut(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}function Gt(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=[e,e]})),r}function zt(e){return Mt(e)?function(e){for(var t=Ae.lastIndex=0;Ae.test(e);)++t;return t}(e):vt(e)}function qt(e){return Mt(e)?function(e){return e.match(Ae)||[]}(e):function(e){return e.split("")}(e)}var Ht=kt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Vt=function e(t){var r,n=(t=null==t?He:Vt.defaults(He.Object(),t,Vt.pick(He,De))).Array,fe=t.Date,he=t.Error,de=t.Function,pe=t.Math,ve=t.Object,ge=t.RegExp,ye=t.String,be=t.TypeError,me=n.prototype,_e=ve.prototype,we=t["__core-js_shared__"],xe=de.prototype.toString,ke=_e.hasOwnProperty,Se=0,Ee=(r=/[^.]+$/.exec(we&&we.keys&&we.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"",Te=_e.toString,Ie=xe.call(ve),je=He._,Ae=ge("^"+xe.call(ke).replace(V,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ce=Ke?t.Buffer:void 0,Be=t.Symbol,ze=t.Uint8Array,qe=Ce?Ce.allocUnsafe:void 0,Ve=Ft(ve.getPrototypeOf,ve),We=ve.create,Je=_e.propertyIsEnumerable,Xe=me.splice,vt=Be?Be.isConcatSpreadable:void 0,kt=Be?Be.iterator:void 0,Wt=Be?Be.toStringTag:void 0,Kt=function(){try{var e=Yi(ve,"defineProperty");return e({},"",{}),e}catch(t){}}(),Jt=t.clearTimeout!==He.clearTimeout&&t.clearTimeout,Xt=fe&&fe.now!==He.Date.now&&fe.now,Qt=t.setTimeout!==He.setTimeout&&t.setTimeout,Yt=pe.ceil,Zt=pe.floor,$t=ve.getOwnPropertySymbols,er=Ce?Ce.isBuffer:void 0,tr=t.isFinite,rr=me.join,nr=Ft(ve.keys,ve),ir=pe.max,ar=pe.min,or=fe.now,sr=t.parseInt,ur=pe.random,cr=me.reverse,lr=Yi(t,"DataView"),fr=Yi(t,"Map"),hr=Yi(t,"Promise"),dr=Yi(t,"Set"),pr=Yi(t,"WeakMap"),vr=Yi(ve,"create"),gr=pr&&new pr,yr={},br=Ta(lr),mr=Ta(fr),_r=Ta(hr),wr=Ta(dr),xr=Ta(pr),kr=Be?Be.prototype:void 0,Sr=kr?kr.valueOf:void 0,Er=kr?kr.toString:void 0;function Tr(e){if(Ho(e)&&!Co(e)&&!(e instanceof Or)){if(e instanceof Nr)return e;if(ke.call(e,"__wrapped__"))return Ia(e)}return new Nr(e)}var Ir=function(){function e(){}return function(t){if(!qo(t))return{};if(We)return We(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();function jr(){}function Nr(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}function Or(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Ar(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Rr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Cr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Lr(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new Cr;++t<r;)this.add(e[t])}function Dr(e){var t=this.__data__=new Rr(e);this.size=t.size}function Mr(e,t){var r=Co(e),n=!r&&Ro(e),i=!r&&!n&&Po(e),a=!r&&!n&&!i&&Zo(e),o=r||n||i||a,s=o?Tt(e.length,ye):[],u=s.length;for(var c in e)!t&&!ke.call(e,c)||o&&("length"==c||i&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||ia(c,u))||s.push(c);return s}function Pr(e){var t=e.length;return t?e[Ln(0,t-1)]:void 0}function Fr(e,t){return wa(vi(e),Kr(t,0,e.length))}function Br(e){return wa(vi(e))}function Ur(e,t,r){(void 0!==r&&!No(e[t],r)||void 0===r&&!(t in e))&&Vr(e,t,r)}function Gr(e,t,r){var n=e[t];ke.call(e,t)&&No(n,r)&&(void 0!==r||t in e)||Vr(e,t,r)}function zr(e,t){for(var r=e.length;r--;)if(No(e[r][0],t))return r;return-1}function qr(e,t,r,n){return Zr(e,(function(e,i,a){t(n,e,r(e),a)})),n}function Hr(e,t){return e&&gi(t,_s(t),e)}function Vr(e,t,r){"__proto__"==t&&Kt?Kt(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function Wr(e,t){for(var r=-1,i=t.length,a=n(i),o=null==e;++r<i;)a[r]=o?void 0:vs(e,t[r]);return a}function Kr(e,t,r){return e==e&&(void 0!==r&&(e=e<=r?e:r),void 0!==t&&(e=e>=t?e:t)),e}function Jr(e,t,r,n,i,a){var o,u=1&t,f=2&t,w=4&t;if(r&&(o=i?r(e,n,i,a):r(e)),void 0!==o)return o;if(!qo(e))return e;var R=Co(e);if(R){if(o=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&ke.call(e,"index")&&(r.index=e.index,r.input=e.input),r}(e),!u)return vi(e,o)}else{var C=ea(e),L=C==h||C==d;if(Po(e))return ci(e,u);if(C==g||C==s||L&&!i){if(o=f||L?{}:ra(e),!u)return f?function(e,t){return gi(e,$i(e),t)}(e,function(e,t){return e&&gi(t,ws(t),e)}(o,e)):function(e,t){return gi(e,Zi(e),t)}(e,Hr(o,e))}else{if(!Fe[C])return i?e:{};o=function(e,t,r){var n=e.constructor;switch(t){case x:return li(e);case c:case l:return new n(+e);case k:return function(e,t){var r=t?li(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}(e,r);case S:case E:case T:case I:case j:case N:case"[object Uint8ClampedArray]":case O:case A:return fi(e,r);case p:return new n;case v:case m:return new n(e);case y:return function(e){var t=new e.constructor(e.source,re.exec(e));return t.lastIndex=e.lastIndex,t}(e);case b:return new n;case _:return Sr?ve(Sr.call(e)):{}}}(e,C,u)}}a||(a=new Dr);var D=a.get(e);if(D)return D;a.set(e,o),Xo(e)?e.forEach((function(n){o.add(Jr(n,t,r,n,e,a))})):Vo(e)&&e.forEach((function(n,i){o.set(i,Jr(n,t,r,i,e,a))}));var M=R?void 0:(w?f?Hi:qi:f?ws:_s)(e);return it(M||e,(function(n,i){M&&(n=e[i=n]),Gr(o,i,Jr(n,t,r,i,e,a))})),o}function Xr(e,t,r){var n=r.length;if(null==e)return!n;for(e=ve(e);n--;){var i=r[n],a=e[i];if(void 0===a&&!(i in e)||!(0,t[i])(a))return!1}return!0}function Qr(e,t,r){if("function"!=typeof e)throw new be(i);return ya((function(){e.apply(void 0,r)}),t)}function Yr(e,t,r,n){var i=-1,a=ut,o=!0,s=e.length,u=[],c=t.length;if(!s)return u;r&&(t=lt(t,It(r))),n?(a=ct,o=!1):t.length>=200&&(a=Nt,o=!1,t=new Lr(t));e:for(;++i<s;){var l=e[i],f=null==r?l:r(l);if(l=n||0!==l?l:0,o&&f==f){for(var h=c;h--;)if(t[h]===f)continue e;u.push(l)}else a(t,f,n)||u.push(l)}return u}Tr.templateSettings={escape:B,evaluate:U,interpolate:G,variable:"",imports:{_:Tr}},(Tr.prototype=jr.prototype).constructor=Tr,(Nr.prototype=Ir(jr.prototype)).constructor=Nr,(Or.prototype=Ir(jr.prototype)).constructor=Or,Ar.prototype.clear=function(){this.__data__=vr?vr(null):{},this.size=0},Ar.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Ar.prototype.get=function(e){var t=this.__data__;if(vr){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return ke.call(t,e)?t[e]:void 0},Ar.prototype.has=function(e){var t=this.__data__;return vr?void 0!==t[e]:ke.call(t,e)},Ar.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=vr&&void 0===t?"__lodash_hash_undefined__":t,this},Rr.prototype.clear=function(){this.__data__=[],this.size=0},Rr.prototype.delete=function(e){var t=this.__data__,r=zr(t,e);return!(r<0||(r==t.length-1?t.pop():Xe.call(t,r,1),--this.size,0))},Rr.prototype.get=function(e){var t=this.__data__,r=zr(t,e);return r<0?void 0:t[r][1]},Rr.prototype.has=function(e){return zr(this.__data__,e)>-1},Rr.prototype.set=function(e,t){var r=this.__data__,n=zr(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},Cr.prototype.clear=function(){this.size=0,this.__data__={hash:new Ar,map:new(fr||Rr),string:new Ar}},Cr.prototype.delete=function(e){var t=Xi(this,e).delete(e);return this.size-=t?1:0,t},Cr.prototype.get=function(e){return Xi(this,e).get(e)},Cr.prototype.has=function(e){return Xi(this,e).has(e)},Cr.prototype.set=function(e,t){var r=Xi(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},Lr.prototype.add=Lr.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Lr.prototype.has=function(e){return this.__data__.has(e)},Dr.prototype.clear=function(){this.__data__=new Rr,this.size=0},Dr.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},Dr.prototype.get=function(e){return this.__data__.get(e)},Dr.prototype.has=function(e){return this.__data__.has(e)},Dr.prototype.set=function(e,t){var r=this.__data__;if(r instanceof Rr){var n=r.__data__;if(!fr||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Cr(n)}return r.set(e,t),this.size=r.size,this};var Zr=mi(sn),$r=mi(un,!0);function en(e,t){var r=!0;return Zr(e,(function(e,n,i){return r=!!t(e,n,i)})),r}function tn(e,t,r){for(var n=-1,i=e.length;++n<i;){var a=e[n],o=t(a);if(null!=o&&(void 0===s?o==o&&!Yo(o):r(o,s)))var s=o,u=a}return u}function rn(e,t){var r=[];return Zr(e,(function(e,n,i){t(e,n,i)&&r.push(e)})),r}function nn(e,t,r,n,i){var a=-1,o=e.length;for(r||(r=na),i||(i=[]);++a<o;){var s=e[a];t>0&&r(s)?t>1?nn(s,t-1,r,n,i):ft(i,s):n||(i[i.length]=s)}return i}var an=_i(),on=_i(!0);function sn(e,t){return e&&an(e,t,_s)}function un(e,t){return e&&on(e,t,_s)}function cn(e,t){return st(t,(function(t){return Uo(e[t])}))}function ln(e,t){for(var r=0,n=(t=ai(t,e)).length;null!=e&&r<n;)e=e[Ea(t[r++])];return r&&r==n?e:void 0}function fn(e,t,r){var n=t(e);return Co(e)?n:ft(n,r(e))}function hn(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Wt&&Wt in ve(e)?function(e){var t=ke.call(e,Wt),r=e[Wt];try{e[Wt]=void 0;var n=!0}catch(a){}var i=Te.call(e);return n&&(t?e[Wt]=r:delete e[Wt]),i}(e):function(e){return Te.call(e)}(e)}function dn(e,t){return e>t}function pn(e,t){return null!=e&&ke.call(e,t)}function vn(e,t){return null!=e&&t in ve(e)}function gn(e,t,r){for(var i=r?ct:ut,a=e[0].length,o=e.length,s=o,u=n(o),c=1/0,l=[];s--;){var f=e[s];s&&t&&(f=lt(f,It(t))),c=ar(f.length,c),u[s]=!r&&(t||a>=120&&f.length>=120)?new Lr(s&&f):void 0}f=e[0];var h=-1,d=u[0];e:for(;++h<a&&l.length<c;){var p=f[h],v=t?t(p):p;if(p=r||0!==p?p:0,!(d?Nt(d,v):i(l,v,r))){for(s=o;--s;){var g=u[s];if(!(g?Nt(g,v):i(e[s],v,r)))continue e}d&&d.push(v),l.push(p)}}return l}function yn(e,t,r){var n=null==(e=da(e,t=ai(t,e)))?e:e[Ea(Fa(t))];return null==n?void 0:rt(n,e,r)}function bn(e){return Ho(e)&&hn(e)==s}function mn(e,t,r,n,i){return e===t||(null==e||null==t||!Ho(e)&&!Ho(t)?e!=e&&t!=t:function(e,t,r,n,i,a){var o=Co(e),h=Co(t),d=o?u:ea(e),w=h?u:ea(t),S=(d=d==s?g:d)==g,E=(w=w==s?g:w)==g,T=d==w;if(T&&Po(e)){if(!Po(t))return!1;o=!0,S=!1}if(T&&!S)return a||(a=new Dr),o||Zo(e)?Gi(e,t,r,n,i,a):function(e,t,r,n,i,a,o){switch(r){case k:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case x:return!(e.byteLength!=t.byteLength||!a(new ze(e),new ze(t)));case c:case l:case v:return No(+e,+t);case f:return e.name==t.name&&e.message==t.message;case y:case m:return e==t+"";case p:var s=Pt;case b:if(s||(s=Ut),e.size!=t.size&&!(1&n))return!1;var u=o.get(e);if(u)return u==t;n|=2,o.set(e,t);var h=Gi(s(e),s(t),n,i,a,o);return o.delete(e),h;case _:if(Sr)return Sr.call(e)==Sr.call(t)}return!1}(e,t,d,r,n,i,a);if(!(1&r)){var I=S&&ke.call(e,"__wrapped__"),j=E&&ke.call(t,"__wrapped__");if(I||j){var N=I?e.value():e,O=j?t.value():t;return a||(a=new Dr),i(N,O,r,n,a)}}return!!T&&(a||(a=new Dr),function(e,t,r,n,i,a){var o=1&r,s=qi(e),u=s.length;if(u!=qi(t).length&&!o)return!1;for(var c=u;c--;){var l=s[c];if(!(o?l in t:ke.call(t,l)))return!1}var f=a.get(e);if(f&&a.get(t))return f==t;var h=!0;a.set(e,t),a.set(t,e);for(var d=o;++c<u;){var p=e[l=s[c]],v=t[l];if(n)var g=o?n(v,p,l,t,e,a):n(p,v,l,e,t,a);if(!(void 0===g?p===v||i(p,v,r,n,a):g)){h=!1;break}d||(d="constructor"==l)}if(h&&!d){var y=e.constructor,b=t.constructor;y==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(h=!1)}return a.delete(e),a.delete(t),h}(e,t,r,n,i,a))}(e,t,r,n,mn,i))}function _n(e,t,r,n){var i=r.length,a=i,o=!n;if(null==e)return!a;for(e=ve(e);i--;){var s=r[i];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<a;){var u=(s=r[i])[0],c=e[u],l=s[1];if(o&&s[2]){if(void 0===c&&!(u in e))return!1}else{var f=new Dr;if(n)var h=n(c,l,u,e,t,f);if(!(void 0===h?mn(l,c,3,n,f):h))return!1}}return!0}function wn(e){return!(!qo(e)||(t=e,Ee&&Ee in t))&&(Uo(e)?Ae:ae).test(Ta(e));var t}function xn(e){return"function"==typeof e?e:null==e?Ws:"object"==typeof e?Co(e)?In(e[0],e[1]):Tn(e):tu(e)}function kn(e){if(!ca(e))return nr(e);var t=[];for(var r in ve(e))ke.call(e,r)&&"constructor"!=r&&t.push(r);return t}function Sn(e,t){return e<t}function En(e,t){var r=-1,i=Do(e)?n(e.length):[];return Zr(e,(function(e,n,a){i[++r]=t(e,n,a)})),i}function Tn(e){var t=Qi(e);return 1==t.length&&t[0][2]?fa(t[0][0],t[0][1]):function(r){return r===e||_n(r,e,t)}}function In(e,t){return oa(e)&&la(t)?fa(Ea(e),t):function(r){var n=vs(r,e);return void 0===n&&n===t?gs(r,e):mn(t,n,3)}}function jn(e,t,r,n,i){e!==t&&an(t,(function(a,o){if(i||(i=new Dr),qo(a))!function(e,t,r,n,i,a,o){var s=va(e,r),u=va(t,r),c=o.get(u);if(c)Ur(e,r,c);else{var l=a?a(s,u,r+"",e,t,o):void 0,f=void 0===l;if(f){var h=Co(u),d=!h&&Po(u),p=!h&&!d&&Zo(u);l=u,h||d||p?Co(s)?l=s:Mo(s)?l=vi(s):d?(f=!1,l=ci(u,!0)):p?(f=!1,l=fi(u,!0)):l=[]:Ko(u)||Ro(u)?(l=s,Ro(s)?l=os(s):qo(s)&&!Uo(s)||(l=ra(u))):f=!1}f&&(o.set(u,l),i(l,u,n,a,o),o.delete(u)),Ur(e,r,l)}}(e,t,o,r,jn,n,i);else{var s=n?n(va(e,o),a,o+"",e,t,i):void 0;void 0===s&&(s=a),Ur(e,o,s)}}),ws)}function Nn(e,t){var r=e.length;if(r)return ia(t+=t<0?r:0,r)?e[t]:void 0}function On(e,t,r){var n=-1;return t=lt(t.length?t:[Ws],It(Ji())),function(e,t){var n=e.length;for(e.sort((function(e,t){return function(e,t,r){for(var n=-1,i=e.criteria,a=t.criteria,o=i.length,s=r.length;++n<o;){var u=hi(i[n],a[n]);if(u)return n>=s?u:u*("desc"==r[n]?-1:1)}return e.index-t.index}(e,t,r)}));n--;)e[n]=e[n].value;return e}(En(e,(function(e,r,i){return{criteria:lt(t,(function(t){return t(e)})),index:++n,value:e}})))}function An(e,t,r){for(var n=-1,i=t.length,a={};++n<i;){var o=t[n],s=ln(e,o);r(s,o)&&Bn(a,ai(o,e),s)}return a}function Rn(e,t,r,n){var i=n?mt:bt,a=-1,o=t.length,s=e;for(e===t&&(t=vi(t)),r&&(s=lt(e,It(r)));++a<o;)for(var u=0,c=t[a],l=r?r(c):c;(u=i(s,l,u,n))>-1;)s!==e&&Xe.call(s,u,1),Xe.call(e,u,1);return e}function Cn(e,t){for(var r=e?t.length:0,n=r-1;r--;){var i=t[r];if(r==n||i!==a){var a=i;ia(i)?Xe.call(e,i,1):Yn(e,i)}}return e}function Ln(e,t){return e+Zt(ur()*(t-e+1))}function Dn(e,t){var r="";if(!e||t<1||t>9007199254740991)return r;do{t%2&&(r+=e),(t=Zt(t/2))&&(e+=e)}while(t);return r}function Mn(e,t){return ba(ha(e,t,Ws),e+"")}function Pn(e){return Pr(Ns(e))}function Fn(e,t){var r=Ns(e);return wa(r,Kr(t,0,r.length))}function Bn(e,t,r,n){if(!qo(e))return e;for(var i=-1,a=(t=ai(t,e)).length,o=a-1,s=e;null!=s&&++i<a;){var u=Ea(t[i]),c=r;if(i!=o){var l=s[u];void 0===(c=n?n(l,u,s):void 0)&&(c=qo(l)?l:ia(t[i+1])?[]:{})}Gr(s,u,c),s=s[u]}return e}var Un=gr?function(e,t){return gr.set(e,t),e}:Ws,Gn=Kt?function(e,t){return Kt(e,"toString",{configurable:!0,enumerable:!1,value:qs(t),writable:!0})}:Ws;function zn(e){return wa(Ns(e))}function qn(e,t,r){var i=-1,a=e.length;t<0&&(t=-t>a?0:a+t),(r=r>a?a:r)<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var o=n(a);++i<a;)o[i]=e[i+t];return o}function Hn(e,t){var r;return Zr(e,(function(e,n,i){return!(r=t(e,n,i))})),!!r}function Vn(e,t,r){var n=0,i=null==e?n:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;n<i;){var a=n+i>>>1,o=e[a];null!==o&&!Yo(o)&&(r?o<=t:o<t)?n=a+1:i=a}return i}return Wn(e,t,Ws,r)}function Wn(e,t,r,n){t=r(t);for(var i=0,a=null==e?0:e.length,o=t!=t,s=null===t,u=Yo(t),c=void 0===t;i<a;){var l=Zt((i+a)/2),f=r(e[l]),h=void 0!==f,d=null===f,p=f==f,v=Yo(f);if(o)var g=n||p;else g=c?p&&(n||h):s?p&&h&&(n||!d):u?p&&h&&!d&&(n||!v):!d&&!v&&(n?f<=t:f<t);g?i=l+1:a=l}return ar(a,4294967294)}function Kn(e,t){for(var r=-1,n=e.length,i=0,a=[];++r<n;){var o=e[r],s=t?t(o):o;if(!r||!No(s,u)){var u=s;a[i++]=0===o?0:o}}return a}function Jn(e){return"number"==typeof e?e:Yo(e)?NaN:+e}function Xn(e){if("string"==typeof e)return e;if(Co(e))return lt(e,Xn)+"";if(Yo(e))return Er?Er.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Qn(e,t,r){var n=-1,i=ut,a=e.length,o=!0,s=[],u=s;if(r)o=!1,i=ct;else if(a>=200){var c=t?null:Di(e);if(c)return Ut(c);o=!1,i=Nt,u=new Lr}else u=t?[]:s;e:for(;++n<a;){var l=e[n],f=t?t(l):l;if(l=r||0!==l?l:0,o&&f==f){for(var h=u.length;h--;)if(u[h]===f)continue e;t&&u.push(f),s.push(l)}else i(u,f,r)||(u!==s&&u.push(f),s.push(l))}return s}function Yn(e,t){return null==(e=da(e,t=ai(t,e)))||delete e[Ea(Fa(t))]}function Zn(e,t,r,n){return Bn(e,t,r(ln(e,t)),n)}function $n(e,t,r,n){for(var i=e.length,a=n?i:-1;(n?a--:++a<i)&&t(e[a],a,e););return r?qn(e,n?0:a,n?a+1:i):qn(e,n?a+1:0,n?i:a)}function ei(e,t){var r=e;return r instanceof Or&&(r=r.value()),ht(t,(function(e,t){return t.func.apply(t.thisArg,ft([e],t.args))}),r)}function ti(e,t,r){var i=e.length;if(i<2)return i?Qn(e[0]):[];for(var a=-1,o=n(i);++a<i;)for(var s=e[a],u=-1;++u<i;)u!=a&&(o[a]=Yr(o[a]||s,e[u],t,r));return Qn(nn(o,1),t,r)}function ri(e,t,r){for(var n=-1,i=e.length,a=t.length,o={};++n<i;)r(o,e[n],n<a?t[n]:void 0);return o}function ni(e){return Mo(e)?e:[]}function ii(e){return"function"==typeof e?e:Ws}function ai(e,t){return Co(e)?e:oa(e,t)?[e]:Sa(ss(e))}var oi=Mn;function si(e,t,r){var n=e.length;return r=void 0===r?n:r,!t&&r>=n?e:qn(e,t,r)}var ui=Jt||function(e){return He.clearTimeout(e)};function ci(e,t){if(t)return e.slice();var r=e.length,n=qe?qe(r):new e.constructor(r);return e.copy(n),n}function li(e){var t=new e.constructor(e.byteLength);return new ze(t).set(new ze(e)),t}function fi(e,t){var r=t?li(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function hi(e,t){if(e!==t){var r=void 0!==e,n=null===e,i=e==e,a=Yo(e),o=void 0!==t,s=null===t,u=t==t,c=Yo(t);if(!s&&!c&&!a&&e>t||a&&o&&u&&!s&&!c||n&&o&&u||!r&&u||!i)return 1;if(!n&&!a&&!c&&e<t||c&&r&&i&&!n&&!a||s&&r&&i||!o&&i||!u)return-1}return 0}function di(e,t,r,i){for(var a=-1,o=e.length,s=r.length,u=-1,c=t.length,l=ir(o-s,0),f=n(c+l),h=!i;++u<c;)f[u]=t[u];for(;++a<s;)(h||a<o)&&(f[r[a]]=e[a]);for(;l--;)f[u++]=e[a++];return f}function pi(e,t,r,i){for(var a=-1,o=e.length,s=-1,u=r.length,c=-1,l=t.length,f=ir(o-u,0),h=n(f+l),d=!i;++a<f;)h[a]=e[a];for(var p=a;++c<l;)h[p+c]=t[c];for(;++s<u;)(d||a<o)&&(h[p+r[s]]=e[a++]);return h}function vi(e,t){var r=-1,i=e.length;for(t||(t=n(i));++r<i;)t[r]=e[r];return t}function gi(e,t,r,n){var i=!r;r||(r={});for(var a=-1,o=t.length;++a<o;){var s=t[a],u=n?n(r[s],e[s],s,r,e):void 0;void 0===u&&(u=e[s]),i?Vr(r,s,u):Gr(r,s,u)}return r}function yi(e,t){return function(r,n){var i=Co(r)?nt:qr,a=t?t():{};return i(r,e,Ji(n,2),a)}}function bi(e){return Mn((function(t,r){var n=-1,i=r.length,a=i>1?r[i-1]:void 0,o=i>2?r[2]:void 0;for(a=e.length>3&&"function"==typeof a?(i--,a):void 0,o&&aa(r[0],r[1],o)&&(a=i<3?void 0:a,i=1),t=ve(t);++n<i;){var s=r[n];s&&e(t,s,n,a)}return t}))}function mi(e,t){return function(r,n){if(null==r)return r;if(!Do(r))return e(r,n);for(var i=r.length,a=t?i:-1,o=ve(r);(t?a--:++a<i)&&!1!==n(o[a],a,o););return r}}function _i(e){return function(t,r,n){for(var i=-1,a=ve(t),o=n(t),s=o.length;s--;){var u=o[e?s:++i];if(!1===r(a[u],u,a))break}return t}}function wi(e){return function(t){var r=Mt(t=ss(t))?qt(t):void 0,n=r?r[0]:t.charAt(0),i=r?si(r,1).join(""):t.slice(1);return n[e]()+i}}function xi(e){return function(t){return ht(Us(Rs(t).replace(Ne,"")),e,"")}}function ki(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=Ir(e.prototype),n=e.apply(r,t);return qo(n)?n:r}}function Si(e){return function(t,r,n){var i=ve(t);if(!Do(t)){var a=Ji(r,3);t=_s(t),r=function(e){return a(i[e],e,i)}}var o=e(t,r,n);return o>-1?i[a?t[o]:o]:void 0}}function Ei(e){return zi((function(t){var r=t.length,n=r,a=Nr.prototype.thru;for(e&&t.reverse();n--;){var o=t[n];if("function"!=typeof o)throw new be(i);if(a&&!s&&"wrapper"==Wi(o))var s=new Nr([],!0)}for(n=s?n:r;++n<r;){var u=Wi(o=t[n]),c="wrapper"==u?Vi(o):void 0;s=c&&sa(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?s[Wi(c[0])].apply(s,c[3]):1==o.length&&sa(o)?s[u]():s.thru(o)}return function(){var e=arguments,n=e[0];if(s&&1==e.length&&Co(n))return s.plant(n).value();for(var i=0,a=r?t[i].apply(this,e):n;++i<r;)a=t[i].call(this,a);return a}}))}function Ti(e,t,r,i,a,o,s,u,c,l){var f=128&t,h=1&t,d=2&t,p=24&t,v=512&t,g=d?void 0:ki(e);return function y(){for(var b=arguments.length,m=n(b),_=b;_--;)m[_]=arguments[_];if(p)var w=Ki(y),x=Rt(m,w);if(i&&(m=di(m,i,a,p)),o&&(m=pi(m,o,s,p)),b-=x,p&&b<l){var k=Bt(m,w);return Ci(e,t,Ti,y.placeholder,r,m,k,u,c,l-b)}var S=h?r:this,E=d?S[e]:e;return b=m.length,u?m=pa(m,u):v&&b>1&&m.reverse(),f&&c<b&&(m.length=c),this&&this!==He&&this instanceof y&&(E=g||ki(E)),E.apply(S,m)}}function Ii(e,t){return function(r,n){return function(e,t,r,n){return sn(e,(function(e,i,a){t(n,r(e),i,a)})),n}(r,e,t(n),{})}}function ji(e,t){return function(r,n){var i;if(void 0===r&&void 0===n)return t;if(void 0!==r&&(i=r),void 0!==n){if(void 0===i)return n;"string"==typeof r||"string"==typeof n?(r=Xn(r),n=Xn(n)):(r=Jn(r),n=Jn(n)),i=e(r,n)}return i}}function Ni(e){return zi((function(t){return t=lt(t,It(Ji())),Mn((function(r){var n=this;return e(t,(function(e){return rt(e,n,r)}))}))}))}function Oi(e,t){var r=(t=void 0===t?" ":Xn(t)).length;if(r<2)return r?Dn(t,e):t;var n=Dn(t,Yt(e/zt(t)));return Mt(t)?si(qt(n),0,e).join(""):n.slice(0,e)}function Ai(e){return function(t,r,i){return i&&"number"!=typeof i&&aa(t,r,i)&&(r=i=void 0),t=rs(t),void 0===r?(r=t,t=0):r=rs(r),function(e,t,r,i){for(var a=-1,o=ir(Yt((t-e)/(r||1)),0),s=n(o);o--;)s[i?o:++a]=e,e+=r;return s}(t,r,i=void 0===i?t<r?1:-1:rs(i),e)}}function Ri(e){return function(t,r){return"string"==typeof t&&"string"==typeof r||(t=as(t),r=as(r)),e(t,r)}}function Ci(e,t,r,n,i,a,o,s,u,c){var l=8&t;t|=l?32:64,4&(t&=~(l?64:32))||(t&=-4);var f=[e,t,i,l?a:void 0,l?o:void 0,l?void 0:a,l?void 0:o,s,u,c],h=r.apply(void 0,f);return sa(e)&&ga(h,f),h.placeholder=n,ma(h,e,t)}function Li(e){var t=pe[e];return function(e,r){if(e=as(e),(r=null==r?0:ar(ns(r),292))&&tr(e)){var n=(ss(e)+"e").split("e");return+((n=(ss(t(n[0]+"e"+(+n[1]+r)))+"e").split("e"))[0]+"e"+(+n[1]-r))}return t(e)}}var Di=dr&&1/Ut(new dr([,-0]))[1]==1/0?function(e){return new dr(e)}:Ys;function Mi(e){return function(t){var r=ea(t);return r==p?Pt(t):r==b?Gt(t):function(e,t){return lt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Pi(e,t,r,o,s,u,c,l){var f=2&t;if(!f&&"function"!=typeof e)throw new be(i);var h=o?o.length:0;if(h||(t&=-97,o=s=void 0),c=void 0===c?c:ir(ns(c),0),l=void 0===l?l:ns(l),h-=s?s.length:0,64&t){var d=o,p=s;o=s=void 0}var v=f?void 0:Vi(e),g=[e,t,r,o,s,d,p,u,c,l];if(v&&function(e,t){var r=e[1],n=t[1],i=r|n;if(!(i<131||128==n&&8==r||128==n&&256==r&&e[7].length<=t[8]||384==n&&t[7].length<=t[8]&&8==r))return e;1&n&&(e[2]=t[2],i|=1&r?0:4);var o=t[3];if(o){var s=e[3];e[3]=s?di(s,o,t[4]):o,e[4]=s?Bt(e[3],a):t[4]}(o=t[5])&&(e[5]=(s=e[5])?pi(s,o,t[6]):o,e[6]=s?Bt(e[5],a):t[6]),(o=t[7])&&(e[7]=o),128&n&&(e[8]=null==e[8]?t[8]:ar(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i}(g,v),e=g[0],t=g[1],r=g[2],o=g[3],s=g[4],!(l=g[9]=void 0===g[9]?f?0:e.length:ir(g[9]-h,0))&&24&t&&(t&=-25),t&&1!=t)y=8==t||16==t?function(e,t,r){var i=ki(e);return function a(){for(var o=arguments.length,s=n(o),u=o,c=Ki(a);u--;)s[u]=arguments[u];var l=o<3&&s[0]!==c&&s[o-1]!==c?[]:Bt(s,c);if((o-=l.length)<r)return Ci(e,t,Ti,a.placeholder,void 0,s,l,void 0,void 0,r-o);var f=this&&this!==He&&this instanceof a?i:e;return rt(f,this,s)}}(e,t,l):32!=t&&33!=t||s.length?Ti.apply(void 0,g):function(e,t,r,i){var a=1&t,o=ki(e);return function t(){for(var s=-1,u=arguments.length,c=-1,l=i.length,f=n(l+u),h=this&&this!==He&&this instanceof t?o:e;++c<l;)f[c]=i[c];for(;u--;)f[c++]=arguments[++s];return rt(h,a?r:this,f)}}(e,t,r,o);else var y=function(e,t,r){var n=1&t,i=ki(e);return function t(){var a=this&&this!==He&&this instanceof t?i:e;return a.apply(n?r:this,arguments)}}(e,t,r);return ma((v?Un:ga)(y,g),e,t)}function Fi(e,t,r,n){return void 0===e||No(e,_e[r])&&!ke.call(n,r)?t:e}function Bi(e,t,r,n,i,a){return qo(e)&&qo(t)&&(a.set(t,e),jn(e,t,void 0,Bi,a),a.delete(t)),e}function Ui(e){return Ko(e)?void 0:e}function Gi(e,t,r,n,i,a){var o=1&r,s=e.length,u=t.length;if(s!=u&&!(o&&u>s))return!1;var c=a.get(e);if(c&&a.get(t))return c==t;var l=-1,f=!0,h=2&r?new Lr:void 0;for(a.set(e,t),a.set(t,e);++l<s;){var d=e[l],p=t[l];if(n)var v=o?n(p,d,l,t,e,a):n(d,p,l,e,t,a);if(void 0!==v){if(v)continue;f=!1;break}if(h){if(!pt(t,(function(e,t){if(!Nt(h,t)&&(d===e||i(d,e,r,n,a)))return h.push(t)}))){f=!1;break}}else if(d!==p&&!i(d,p,r,n,a)){f=!1;break}}return a.delete(e),a.delete(t),f}function zi(e){return ba(ha(e,void 0,Ca),e+"")}function qi(e){return fn(e,_s,Zi)}function Hi(e){return fn(e,ws,$i)}var Vi=gr?function(e){return gr.get(e)}:Ys;function Wi(e){for(var t=e.name+"",r=yr[t],n=ke.call(yr,t)?r.length:0;n--;){var i=r[n],a=i.func;if(null==a||a==e)return i.name}return t}function Ki(e){return(ke.call(Tr,"placeholder")?Tr:e).placeholder}function Ji(){var e=Tr.iteratee||Ks;return e=e===Ks?xn:e,arguments.length?e(arguments[0],arguments[1]):e}function Xi(e,t){var r,n,i=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof t?"string":"hash"]:i.map}function Qi(e){for(var t=_s(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,la(i)]}return t}function Yi(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return wn(r)?r:void 0}var Zi=$t?function(e){return null==e?[]:(e=ve(e),st($t(e),(function(t){return Je.call(e,t)})))}:iu,$i=$t?function(e){for(var t=[];e;)ft(t,Zi(e)),e=Ve(e);return t}:iu,ea=hn;function ta(e,t,r){for(var n=-1,i=(t=ai(t,e)).length,a=!1;++n<i;){var o=Ea(t[n]);if(!(a=null!=e&&r(e,o)))break;e=e[o]}return a||++n!=i?a:!!(i=null==e?0:e.length)&&zo(i)&&ia(o,i)&&(Co(e)||Ro(e))}function ra(e){return"function"!=typeof e.constructor||ca(e)?{}:Ir(Ve(e))}function na(e){return Co(e)||Ro(e)||!!(vt&&e&&e[vt])}function ia(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&se.test(e))&&e>-1&&e%1==0&&e<t}function aa(e,t,r){if(!qo(r))return!1;var n=typeof t;return!!("number"==n?Do(r)&&ia(t,r.length):"string"==n&&t in r)&&No(r[t],e)}function oa(e,t){if(Co(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!Yo(e))||q.test(e)||!z.test(e)||null!=t&&e in ve(t)}function sa(e){var t=Wi(e),r=Tr[t];if("function"!=typeof r||!(t in Or.prototype))return!1;if(e===r)return!0;var n=Vi(r);return!!n&&e===n[0]}(lr&&ea(new lr(new ArrayBuffer(1)))!=k||fr&&ea(new fr)!=p||hr&&"[object Promise]"!=ea(hr.resolve())||dr&&ea(new dr)!=b||pr&&ea(new pr)!=w)&&(ea=function(e){var t=hn(e),r=t==g?e.constructor:void 0,n=r?Ta(r):"";if(n)switch(n){case br:return k;case mr:return p;case _r:return"[object Promise]";case wr:return b;case xr:return w}return t});var ua=we?Uo:au;function ca(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||_e)}function la(e){return e==e&&!qo(e)}function fa(e,t){return function(r){return null!=r&&r[e]===t&&(void 0!==t||e in ve(r))}}function ha(e,t,r){return t=ir(void 0===t?e.length-1:t,0),function(){for(var i=arguments,a=-1,o=ir(i.length-t,0),s=n(o);++a<o;)s[a]=i[t+a];a=-1;for(var u=n(t+1);++a<t;)u[a]=i[a];return u[t]=r(s),rt(e,this,u)}}function da(e,t){return t.length<2?e:ln(e,qn(t,0,-1))}function pa(e,t){for(var r=e.length,n=ar(t.length,r),i=vi(e);n--;){var a=t[n];e[n]=ia(a,r)?i[a]:void 0}return e}function va(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var ga=_a(Un),ya=Qt||function(e,t){return He.setTimeout(e,t)},ba=_a(Gn);function ma(e,t,r){var n=t+"";return ba(e,function(e,t){var r=t.length;if(!r)return e;var n=r-1;return t[n]=(r>1?"& ":"")+t[n],t=t.join(r>2?", ":" "),e.replace(Q,"{\n/* [wrapped with "+t+"] */\n")}(n,function(e,t){return it(o,(function(r){var n="_."+r[0];t&r[1]&&!ut(e,n)&&e.push(n)})),e.sort()}(function(e){var t=e.match(Y);return t?t[1].split(Z):[]}(n),r)))}function _a(e){var t=0,r=0;return function(){var n=or(),i=16-(n-r);if(r=n,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function wa(e,t){var r=-1,n=e.length,i=n-1;for(t=void 0===t?n:t;++r<t;){var a=Ln(r,i),o=e[a];e[a]=e[r],e[r]=o}return e.length=t,e}var xa,ka,Sa=(xa=ko((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(H,(function(e,r,n,i){t.push(n?i.replace(ee,"$1"):r||e)})),t}),(function(e){return 500===ka.size&&ka.clear(),e})),ka=xa.cache,xa);function Ea(e){if("string"==typeof e||Yo(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Ta(e){if(null!=e){try{return xe.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Ia(e){if(e instanceof Or)return e.clone();var t=new Nr(e.__wrapped__,e.__chain__);return t.__actions__=vi(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var ja=Mn((function(e,t){return Mo(e)?Yr(e,nn(t,1,Mo,!0)):[]})),Na=Mn((function(e,t){var r=Fa(t);return Mo(r)&&(r=void 0),Mo(e)?Yr(e,nn(t,1,Mo,!0),Ji(r,2)):[]})),Oa=Mn((function(e,t){var r=Fa(t);return Mo(r)&&(r=void 0),Mo(e)?Yr(e,nn(t,1,Mo,!0),void 0,r):[]}));function Aa(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=null==r?0:ns(r);return i<0&&(i=ir(n+i,0)),yt(e,Ji(t,3),i)}function Ra(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=n-1;return void 0!==r&&(i=ns(r),i=r<0?ir(n+i,0):ar(i,n-1)),yt(e,Ji(t,3),i,!0)}function Ca(e){return null!=e&&e.length?nn(e,1):[]}function La(e){return e&&e.length?e[0]:void 0}var Da=Mn((function(e){var t=lt(e,ni);return t.length&&t[0]===e[0]?gn(t):[]})),Ma=Mn((function(e){var t=Fa(e),r=lt(e,ni);return t===Fa(r)?t=void 0:r.pop(),r.length&&r[0]===e[0]?gn(r,Ji(t,2)):[]})),Pa=Mn((function(e){var t=Fa(e),r=lt(e,ni);return(t="function"==typeof t?t:void 0)&&r.pop(),r.length&&r[0]===e[0]?gn(r,void 0,t):[]}));function Fa(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}var Ba=Mn(Ua);function Ua(e,t){return e&&e.length&&t&&t.length?Rn(e,t):e}var Ga=zi((function(e,t){var r=null==e?0:e.length,n=Wr(e,t);return Cn(e,lt(t,(function(e){return ia(e,r)?+e:e})).sort(hi)),n}));function za(e){return null==e?e:cr.call(e)}var qa=Mn((function(e){return Qn(nn(e,1,Mo,!0))})),Ha=Mn((function(e){var t=Fa(e);return Mo(t)&&(t=void 0),Qn(nn(e,1,Mo,!0),Ji(t,2))})),Va=Mn((function(e){var t=Fa(e);return t="function"==typeof t?t:void 0,Qn(nn(e,1,Mo,!0),void 0,t)}));function Wa(e){if(!e||!e.length)return[];var t=0;return e=st(e,(function(e){if(Mo(e))return t=ir(e.length,t),!0})),Tt(t,(function(t){return lt(e,xt(t))}))}function Ka(e,t){if(!e||!e.length)return[];var r=Wa(e);return null==t?r:lt(r,(function(e){return rt(t,void 0,e)}))}var Ja=Mn((function(e,t){return Mo(e)?Yr(e,t):[]})),Xa=Mn((function(e){return ti(st(e,Mo))})),Qa=Mn((function(e){var t=Fa(e);return Mo(t)&&(t=void 0),ti(st(e,Mo),Ji(t,2))})),Ya=Mn((function(e){var t=Fa(e);return t="function"==typeof t?t:void 0,ti(st(e,Mo),void 0,t)})),Za=Mn(Wa),$a=Mn((function(e){var t=e.length,r=t>1?e[t-1]:void 0;return r="function"==typeof r?(e.pop(),r):void 0,Ka(e,r)}));function eo(e){var t=Tr(e);return t.__chain__=!0,t}function to(e,t){return t(e)}var ro=zi((function(e){var t=e.length,r=t?e[0]:0,n=this.__wrapped__,i=function(t){return Wr(t,e)};return!(t>1||this.__actions__.length)&&n instanceof Or&&ia(r)?((n=n.slice(r,+r+(t?1:0))).__actions__.push({func:to,args:[i],thisArg:void 0}),new Nr(n,this.__chain__).thru((function(e){return t&&!e.length&&e.push(void 0),e}))):this.thru(i)})),no=yi((function(e,t,r){ke.call(e,r)?++e[r]:Vr(e,r,1)})),io=Si(Aa),ao=Si(Ra);function oo(e,t){return(Co(e)?it:Zr)(e,Ji(t,3))}function so(e,t){return(Co(e)?at:$r)(e,Ji(t,3))}var uo=yi((function(e,t,r){ke.call(e,r)?e[r].push(t):Vr(e,r,[t])})),co=Mn((function(e,t,r){var i=-1,a="function"==typeof t,o=Do(e)?n(e.length):[];return Zr(e,(function(e){o[++i]=a?rt(t,e,r):yn(e,t,r)})),o})),lo=yi((function(e,t,r){Vr(e,r,t)}));function fo(e,t){return(Co(e)?lt:En)(e,Ji(t,3))}var ho=yi((function(e,t,r){e[r?0:1].push(t)}),(function(){return[[],[]]})),po=Mn((function(e,t){if(null==e)return[];var r=t.length;return r>1&&aa(e,t[0],t[1])?t=[]:r>2&&aa(t[0],t[1],t[2])&&(t=[t[0]]),On(e,nn(t,1),[])})),vo=Xt||function(){return He.Date.now()};function go(e,t,r){return t=r?void 0:t,Pi(e,128,void 0,void 0,void 0,void 0,t=e&&null==t?e.length:t)}function yo(e,t){var r;if("function"!=typeof t)throw new be(i);return e=ns(e),function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=void 0),r}}var bo=Mn((function(e,t,r){var n=1;if(r.length){var i=Bt(r,Ki(bo));n|=32}return Pi(e,n,t,r,i)})),mo=Mn((function(e,t,r){var n=3;if(r.length){var i=Bt(r,Ki(mo));n|=32}return Pi(t,n,e,r,i)}));function _o(e,t,r){var n,a,o,s,u,c,l=0,f=!1,h=!1,d=!0;if("function"!=typeof e)throw new be(i);function p(t){var r=n,i=a;return n=a=void 0,l=t,s=e.apply(i,r)}function v(e){return l=e,u=ya(y,t),f?p(e):s}function g(e){var r=e-c;return void 0===c||r>=t||r<0||h&&e-l>=o}function y(){var e=vo();if(g(e))return b(e);u=ya(y,function(e){var r=t-(e-c);return h?ar(r,o-(e-l)):r}(e))}function b(e){return u=void 0,d&&n?p(e):(n=a=void 0,s)}function m(){var e=vo(),r=g(e);if(n=arguments,a=this,c=e,r){if(void 0===u)return v(c);if(h)return ui(u),u=ya(y,t),p(c)}return void 0===u&&(u=ya(y,t)),s}return t=as(t)||0,qo(r)&&(f=!!r.leading,o=(h="maxWait"in r)?ir(as(r.maxWait)||0,t):o,d="trailing"in r?!!r.trailing:d),m.cancel=function(){void 0!==u&&ui(u),l=0,n=c=a=u=void 0},m.flush=function(){return void 0===u?s:b(vo())},m}var wo=Mn((function(e,t){return Qr(e,1,t)})),xo=Mn((function(e,t,r){return Qr(e,as(t)||0,r)}));function ko(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new be(i);var r=function r(){var n=arguments,i=t?t.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=e.apply(this,n);return r.cache=a.set(i,o)||a,o};return r.cache=new(ko.Cache||Cr),r}function So(e){if("function"!=typeof e)throw new be(i);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}ko.Cache=Cr;var Eo=oi((function(e,t){var r=(t=1==t.length&&Co(t[0])?lt(t[0],It(Ji())):lt(nn(t,1),It(Ji()))).length;return Mn((function(n){for(var i=-1,a=ar(n.length,r);++i<a;)n[i]=t[i].call(this,n[i]);return rt(e,this,n)}))})),To=Mn((function(e,t){return Pi(e,32,void 0,t,Bt(t,Ki(To)))})),Io=Mn((function(e,t){return Pi(e,64,void 0,t,Bt(t,Ki(Io)))})),jo=zi((function(e,t){return Pi(e,256,void 0,void 0,void 0,t)}));function No(e,t){return e===t||e!=e&&t!=t}var Oo=Ri(dn),Ao=Ri((function(e,t){return e>=t})),Ro=bn(function(){return arguments}())?bn:function(e){return Ho(e)&&ke.call(e,"callee")&&!Je.call(e,"callee")},Co=n.isArray,Lo=Qe?It(Qe):function(e){return Ho(e)&&hn(e)==x};function Do(e){return null!=e&&zo(e.length)&&!Uo(e)}function Mo(e){return Ho(e)&&Do(e)}var Po=er||au,Fo=Ye?It(Ye):function(e){return Ho(e)&&hn(e)==l};function Bo(e){if(!Ho(e))return!1;var t=hn(e);return t==f||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!Ko(e)}function Uo(e){if(!qo(e))return!1;var t=hn(e);return t==h||t==d||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Go(e){return"number"==typeof e&&e==ns(e)}function zo(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function qo(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Ho(e){return null!=e&&"object"==typeof e}var Vo=Ze?It(Ze):function(e){return Ho(e)&&ea(e)==p};function Wo(e){return"number"==typeof e||Ho(e)&&hn(e)==v}function Ko(e){if(!Ho(e)||hn(e)!=g)return!1;var t=Ve(e);if(null===t)return!0;var r=ke.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&xe.call(r)==Ie}var Jo=$e?It($e):function(e){return Ho(e)&&hn(e)==y},Xo=et?It(et):function(e){return Ho(e)&&ea(e)==b};function Qo(e){return"string"==typeof e||!Co(e)&&Ho(e)&&hn(e)==m}function Yo(e){return"symbol"==typeof e||Ho(e)&&hn(e)==_}var Zo=tt?It(tt):function(e){return Ho(e)&&zo(e.length)&&!!Pe[hn(e)]},$o=Ri(Sn),es=Ri((function(e,t){return e<=t}));function ts(e){if(!e)return[];if(Do(e))return Qo(e)?qt(e):vi(e);if(kt&&e[kt])return function(e){for(var t,r=[];!(t=e.next()).done;)r.push(t.value);return r}(e[kt]());var t=ea(e);return(t==p?Pt:t==b?Ut:Ns)(e)}function rs(e){return e?(e=as(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function ns(e){var t=rs(e),r=t%1;return t==t?r?t-r:t:0}function is(e){return e?Kr(ns(e),0,4294967295):0}function as(e){if("number"==typeof e)return e;if(Yo(e))return NaN;if(qo(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=qo(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(K,"");var r=ie.test(e);return r||oe.test(e)?Ge(e.slice(2),r?2:8):ne.test(e)?NaN:+e}function os(e){return gi(e,ws(e))}function ss(e){return null==e?"":Xn(e)}var us=bi((function(e,t){if(ca(t)||Do(t))gi(t,_s(t),e);else for(var r in t)ke.call(t,r)&&Gr(e,r,t[r])})),cs=bi((function(e,t){gi(t,ws(t),e)})),ls=bi((function(e,t,r,n){gi(t,ws(t),e,n)})),fs=bi((function(e,t,r,n){gi(t,_s(t),e,n)})),hs=zi(Wr),ds=Mn((function(e,t){e=ve(e);var r=-1,n=t.length,i=n>2?t[2]:void 0;for(i&&aa(t[0],t[1],i)&&(n=1);++r<n;)for(var a=t[r],o=ws(a),s=-1,u=o.length;++s<u;){var c=o[s],l=e[c];(void 0===l||No(l,_e[c])&&!ke.call(e,c))&&(e[c]=a[c])}return e})),ps=Mn((function(e){return e.push(void 0,Bi),rt(ks,void 0,e)}));function vs(e,t,r){var n=null==e?void 0:ln(e,t);return void 0===n?r:n}function gs(e,t){return null!=e&&ta(e,t,vn)}var ys=Ii((function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=Te.call(t)),e[t]=r}),qs(Ws)),bs=Ii((function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=Te.call(t)),ke.call(e,t)?e[t].push(r):e[t]=[r]}),Ji),ms=Mn(yn);function _s(e){return Do(e)?Mr(e):kn(e)}function ws(e){return Do(e)?Mr(e,!0):function(e){if(!qo(e))return function(e){var t=[];if(null!=e)for(var r in ve(e))t.push(r);return t}(e);var t=ca(e),r=[];for(var n in e)("constructor"!=n||!t&&ke.call(e,n))&&r.push(n);return r}(e)}var xs=bi((function(e,t,r){jn(e,t,r)})),ks=bi((function(e,t,r,n){jn(e,t,r,n)})),Ss=zi((function(e,t){var r={};if(null==e)return r;var n=!1;t=lt(t,(function(t){return t=ai(t,e),n||(n=t.length>1),t})),gi(e,Hi(e),r),n&&(r=Jr(r,7,Ui));for(var i=t.length;i--;)Yn(r,t[i]);return r})),Es=zi((function(e,t){return null==e?{}:function(e,t){return An(e,t,(function(t,r){return gs(e,r)}))}(e,t)}));function Ts(e,t){if(null==e)return{};var r=lt(Hi(e),(function(e){return[e]}));return t=Ji(t),An(e,r,(function(e,r){return t(e,r[0])}))}var Is=Mi(_s),js=Mi(ws);function Ns(e){return null==e?[]:jt(e,_s(e))}var Os=xi((function(e,t,r){return t=t.toLowerCase(),e+(r?As(t):t)}));function As(e){return Bs(ss(e).toLowerCase())}function Rs(e){return(e=ss(e))&&e.replace(ue,Ct).replace(Oe,"")}var Cs=xi((function(e,t,r){return e+(r?"-":"")+t.toLowerCase()})),Ls=xi((function(e,t,r){return e+(r?" ":"")+t.toLowerCase()})),Ds=wi("toLowerCase"),Ms=xi((function(e,t,r){return e+(r?"_":"")+t.toLowerCase()})),Ps=xi((function(e,t,r){return e+(r?" ":"")+Bs(t)})),Fs=xi((function(e,t,r){return e+(r?" ":"")+t.toUpperCase()})),Bs=wi("toUpperCase");function Us(e,t,r){return e=ss(e),void 0===(t=r?void 0:t)?function(e){return Le.test(e)}(e)?function(e){return e.match(Re)||[]}(e):function(e){return e.match($)||[]}(e):e.match(t)||[]}var Gs=Mn((function(e,t){try{return rt(e,void 0,t)}catch(r){return Bo(r)?r:new he(r)}})),zs=zi((function(e,t){return it(t,(function(t){t=Ea(t),Vr(e,t,bo(e[t],e))})),e}));function qs(e){return function(){return e}}var Hs=Ei(),Vs=Ei(!0);function Ws(e){return e}function Ks(e){return xn("function"==typeof e?e:Jr(e,1))}var Js=Mn((function(e,t){return function(r){return yn(r,e,t)}})),Xs=Mn((function(e,t){return function(r){return yn(e,r,t)}}));function Qs(e,t,r){var n=_s(t),i=cn(t,n);null!=r||qo(t)&&(i.length||!n.length)||(r=t,t=e,e=this,i=cn(t,_s(t)));var a=!(qo(r)&&"chain"in r&&!r.chain),o=Uo(e);return it(i,(function(r){var n=t[r];e[r]=n,o&&(e.prototype[r]=function(){var t=this.__chain__;if(a||t){var r=e(this.__wrapped__),i=r.__actions__=vi(this.__actions__);return i.push({func:n,args:arguments,thisArg:e}),r.__chain__=t,r}return n.apply(e,ft([this.value()],arguments))})})),e}function Ys(){}var Zs=Ni(lt),$s=Ni(ot),eu=Ni(pt);function tu(e){return oa(e)?xt(Ea(e)):function(e){return function(t){return ln(t,e)}}(e)}var ru=Ai(),nu=Ai(!0);function iu(){return[]}function au(){return!1}var ou,su=ji((function(e,t){return e+t}),0),uu=Li("ceil"),cu=ji((function(e,t){return e/t}),1),lu=Li("floor"),fu=ji((function(e,t){return e*t}),1),hu=Li("round"),du=ji((function(e,t){return e-t}),0);return Tr.after=function(e,t){if("function"!=typeof t)throw new be(i);return e=ns(e),function(){if(--e<1)return t.apply(this,arguments)}},Tr.ary=go,Tr.assign=us,Tr.assignIn=cs,Tr.assignInWith=ls,Tr.assignWith=fs,Tr.at=hs,Tr.before=yo,Tr.bind=bo,Tr.bindAll=zs,Tr.bindKey=mo,Tr.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Co(e)?e:[e]},Tr.chain=eo,Tr.chunk=function(e,t,r){t=(r?aa(e,t,r):void 0===t)?1:ir(ns(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var a=0,o=0,s=n(Yt(i/t));a<i;)s[o++]=qn(e,a,a+=t);return s},Tr.compact=function(e){for(var t=-1,r=null==e?0:e.length,n=0,i=[];++t<r;){var a=e[t];a&&(i[n++]=a)}return i},Tr.concat=function(){var e=arguments.length;if(!e)return[];for(var t=n(e-1),r=arguments[0],i=e;i--;)t[i-1]=arguments[i];return ft(Co(r)?vi(r):[r],nn(t,1))},Tr.cond=function(e){var t=null==e?0:e.length,r=Ji();return e=t?lt(e,(function(e){if("function"!=typeof e[1])throw new be(i);return[r(e[0]),e[1]]})):[],Mn((function(r){for(var n=-1;++n<t;){var i=e[n];if(rt(i[0],this,r))return rt(i[1],this,r)}}))},Tr.conforms=function(e){return function(e){var t=_s(e);return function(r){return Xr(r,e,t)}}(Jr(e,1))},Tr.constant=qs,Tr.countBy=no,Tr.create=function(e,t){var r=Ir(e);return null==t?r:Hr(r,t)},Tr.curry=function e(t,r,n){var i=Pi(t,8,void 0,void 0,void 0,void 0,void 0,r=n?void 0:r);return i.placeholder=e.placeholder,i},Tr.curryRight=function e(t,r,n){var i=Pi(t,16,void 0,void 0,void 0,void 0,void 0,r=n?void 0:r);return i.placeholder=e.placeholder,i},Tr.debounce=_o,Tr.defaults=ds,Tr.defaultsDeep=ps,Tr.defer=wo,Tr.delay=xo,Tr.difference=ja,Tr.differenceBy=Na,Tr.differenceWith=Oa,Tr.drop=function(e,t,r){var n=null==e?0:e.length;return n?qn(e,(t=r||void 0===t?1:ns(t))<0?0:t,n):[]},Tr.dropRight=function(e,t,r){var n=null==e?0:e.length;return n?qn(e,0,(t=n-(t=r||void 0===t?1:ns(t)))<0?0:t):[]},Tr.dropRightWhile=function(e,t){return e&&e.length?$n(e,Ji(t,3),!0,!0):[]},Tr.dropWhile=function(e,t){return e&&e.length?$n(e,Ji(t,3),!0):[]},Tr.fill=function(e,t,r,n){var i=null==e?0:e.length;return i?(r&&"number"!=typeof r&&aa(e,t,r)&&(r=0,n=i),function(e,t,r,n){var i=e.length;for((r=ns(r))<0&&(r=-r>i?0:i+r),(n=void 0===n||n>i?i:ns(n))<0&&(n+=i),n=r>n?0:is(n);r<n;)e[r++]=t;return e}(e,t,r,n)):[]},Tr.filter=function(e,t){return(Co(e)?st:rn)(e,Ji(t,3))},Tr.flatMap=function(e,t){return nn(fo(e,t),1)},Tr.flatMapDeep=function(e,t){return nn(fo(e,t),1/0)},Tr.flatMapDepth=function(e,t,r){return r=void 0===r?1:ns(r),nn(fo(e,t),r)},Tr.flatten=Ca,Tr.flattenDeep=function(e){return null!=e&&e.length?nn(e,1/0):[]},Tr.flattenDepth=function(e,t){return null!=e&&e.length?nn(e,t=void 0===t?1:ns(t)):[]},Tr.flip=function(e){return Pi(e,512)},Tr.flow=Hs,Tr.flowRight=Vs,Tr.fromPairs=function(e){for(var t=-1,r=null==e?0:e.length,n={};++t<r;){var i=e[t];n[i[0]]=i[1]}return n},Tr.functions=function(e){return null==e?[]:cn(e,_s(e))},Tr.functionsIn=function(e){return null==e?[]:cn(e,ws(e))},Tr.groupBy=uo,Tr.initial=function(e){return null!=e&&e.length?qn(e,0,-1):[]},Tr.intersection=Da,Tr.intersectionBy=Ma,Tr.intersectionWith=Pa,Tr.invert=ys,Tr.invertBy=bs,Tr.invokeMap=co,Tr.iteratee=Ks,Tr.keyBy=lo,Tr.keys=_s,Tr.keysIn=ws,Tr.map=fo,Tr.mapKeys=function(e,t){var r={};return t=Ji(t,3),sn(e,(function(e,n,i){Vr(r,t(e,n,i),e)})),r},Tr.mapValues=function(e,t){var r={};return t=Ji(t,3),sn(e,(function(e,n,i){Vr(r,n,t(e,n,i))})),r},Tr.matches=function(e){return Tn(Jr(e,1))},Tr.matchesProperty=function(e,t){return In(e,Jr(t,1))},Tr.memoize=ko,Tr.merge=xs,Tr.mergeWith=ks,Tr.method=Js,Tr.methodOf=Xs,Tr.mixin=Qs,Tr.negate=So,Tr.nthArg=function(e){return e=ns(e),Mn((function(t){return Nn(t,e)}))},Tr.omit=Ss,Tr.omitBy=function(e,t){return Ts(e,So(Ji(t)))},Tr.once=function(e){return yo(2,e)},Tr.orderBy=function(e,t,r,n){return null==e?[]:(Co(t)||(t=null==t?[]:[t]),Co(r=n?void 0:r)||(r=null==r?[]:[r]),On(e,t,r))},Tr.over=Zs,Tr.overArgs=Eo,Tr.overEvery=$s,Tr.overSome=eu,Tr.partial=To,Tr.partialRight=Io,Tr.partition=ho,Tr.pick=Es,Tr.pickBy=Ts,Tr.property=tu,Tr.propertyOf=function(e){return function(t){return null==e?void 0:ln(e,t)}},Tr.pull=Ba,Tr.pullAll=Ua,Tr.pullAllBy=function(e,t,r){return e&&e.length&&t&&t.length?Rn(e,t,Ji(r,2)):e},Tr.pullAllWith=function(e,t,r){return e&&e.length&&t&&t.length?Rn(e,t,void 0,r):e},Tr.pullAt=Ga,Tr.range=ru,Tr.rangeRight=nu,Tr.rearg=jo,Tr.reject=function(e,t){return(Co(e)?st:rn)(e,So(Ji(t,3)))},Tr.remove=function(e,t){var r=[];if(!e||!e.length)return r;var n=-1,i=[],a=e.length;for(t=Ji(t,3);++n<a;){var o=e[n];t(o,n,e)&&(r.push(o),i.push(n))}return Cn(e,i),r},Tr.rest=function(e,t){if("function"!=typeof e)throw new be(i);return Mn(e,t=void 0===t?t:ns(t))},Tr.reverse=za,Tr.sampleSize=function(e,t,r){return t=(r?aa(e,t,r):void 0===t)?1:ns(t),(Co(e)?Fr:Fn)(e,t)},Tr.set=function(e,t,r){return null==e?e:Bn(e,t,r)},Tr.setWith=function(e,t,r,n){return n="function"==typeof n?n:void 0,null==e?e:Bn(e,t,r,n)},Tr.shuffle=function(e){return(Co(e)?Br:zn)(e)},Tr.slice=function(e,t,r){var n=null==e?0:e.length;return n?(r&&"number"!=typeof r&&aa(e,t,r)?(t=0,r=n):(t=null==t?0:ns(t),r=void 0===r?n:ns(r)),qn(e,t,r)):[]},Tr.sortBy=po,Tr.sortedUniq=function(e){return e&&e.length?Kn(e):[]},Tr.sortedUniqBy=function(e,t){return e&&e.length?Kn(e,Ji(t,2)):[]},Tr.split=function(e,t,r){return r&&"number"!=typeof r&&aa(e,t,r)&&(t=r=void 0),(r=void 0===r?4294967295:r>>>0)?(e=ss(e))&&("string"==typeof t||null!=t&&!Jo(t))&&!(t=Xn(t))&&Mt(e)?si(qt(e),0,r):e.split(t,r):[]},Tr.spread=function(e,t){if("function"!=typeof e)throw new be(i);return t=null==t?0:ir(ns(t),0),Mn((function(r){var n=r[t],i=si(r,0,t);return n&&ft(i,n),rt(e,this,i)}))},Tr.tail=function(e){var t=null==e?0:e.length;return t?qn(e,1,t):[]},Tr.take=function(e,t,r){return e&&e.length?qn(e,0,(t=r||void 0===t?1:ns(t))<0?0:t):[]},Tr.takeRight=function(e,t,r){var n=null==e?0:e.length;return n?qn(e,(t=n-(t=r||void 0===t?1:ns(t)))<0?0:t,n):[]},Tr.takeRightWhile=function(e,t){return e&&e.length?$n(e,Ji(t,3),!1,!0):[]},Tr.takeWhile=function(e,t){return e&&e.length?$n(e,Ji(t,3)):[]},Tr.tap=function(e,t){return t(e),e},Tr.throttle=function(e,t,r){var n=!0,a=!0;if("function"!=typeof e)throw new be(i);return qo(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),_o(e,t,{leading:n,maxWait:t,trailing:a})},Tr.thru=to,Tr.toArray=ts,Tr.toPairs=Is,Tr.toPairsIn=js,Tr.toPath=function(e){return Co(e)?lt(e,Ea):Yo(e)?[e]:vi(Sa(ss(e)))},Tr.toPlainObject=os,Tr.transform=function(e,t,r){var n=Co(e),i=n||Po(e)||Zo(e);if(t=Ji(t,4),null==r){var a=e&&e.constructor;r=i?n?new a:[]:qo(e)&&Uo(a)?Ir(Ve(e)):{}}return(i?it:sn)(e,(function(e,n,i){return t(r,e,n,i)})),r},Tr.unary=function(e){return go(e,1)},Tr.union=qa,Tr.unionBy=Ha,Tr.unionWith=Va,Tr.uniq=function(e){return e&&e.length?Qn(e):[]},Tr.uniqBy=function(e,t){return e&&e.length?Qn(e,Ji(t,2)):[]},Tr.uniqWith=function(e,t){return t="function"==typeof t?t:void 0,e&&e.length?Qn(e,void 0,t):[]},Tr.unset=function(e,t){return null==e||Yn(e,t)},Tr.unzip=Wa,Tr.unzipWith=Ka,Tr.update=function(e,t,r){return null==e?e:Zn(e,t,ii(r))},Tr.updateWith=function(e,t,r,n){return n="function"==typeof n?n:void 0,null==e?e:Zn(e,t,ii(r),n)},Tr.values=Ns,Tr.valuesIn=function(e){return null==e?[]:jt(e,ws(e))},Tr.without=Ja,Tr.words=Us,Tr.wrap=function(e,t){return To(ii(t),e)},Tr.xor=Xa,Tr.xorBy=Qa,Tr.xorWith=Ya,Tr.zip=Za,Tr.zipObject=function(e,t){return ri(e||[],t||[],Gr)},Tr.zipObjectDeep=function(e,t){return ri(e||[],t||[],Bn)},Tr.zipWith=$a,Tr.entries=Is,Tr.entriesIn=js,Tr.extend=cs,Tr.extendWith=ls,Qs(Tr,Tr),Tr.add=su,Tr.attempt=Gs,Tr.camelCase=Os,Tr.capitalize=As,Tr.ceil=uu,Tr.clamp=function(e,t,r){return void 0===r&&(r=t,t=void 0),void 0!==r&&(r=(r=as(r))==r?r:0),void 0!==t&&(t=(t=as(t))==t?t:0),Kr(as(e),t,r)},Tr.clone=function(e){return Jr(e,4)},Tr.cloneDeep=function(e){return Jr(e,5)},Tr.cloneDeepWith=function(e,t){return Jr(e,5,t="function"==typeof t?t:void 0)},Tr.cloneWith=function(e,t){return Jr(e,4,t="function"==typeof t?t:void 0)},Tr.conformsTo=function(e,t){return null==t||Xr(e,t,_s(t))},Tr.deburr=Rs,Tr.defaultTo=function(e,t){return null==e||e!=e?t:e},Tr.divide=cu,Tr.endsWith=function(e,t,r){e=ss(e),t=Xn(t);var n=e.length,i=r=void 0===r?n:Kr(ns(r),0,n);return(r-=t.length)>=0&&e.slice(r,i)==t},Tr.eq=No,Tr.escape=function(e){return(e=ss(e))&&F.test(e)?e.replace(M,Lt):e},Tr.escapeRegExp=function(e){return(e=ss(e))&&W.test(e)?e.replace(V,"\\$&"):e},Tr.every=function(e,t,r){var n=Co(e)?ot:en;return r&&aa(e,t,r)&&(t=void 0),n(e,Ji(t,3))},Tr.find=io,Tr.findIndex=Aa,Tr.findKey=function(e,t){return gt(e,Ji(t,3),sn)},Tr.findLast=ao,Tr.findLastIndex=Ra,Tr.findLastKey=function(e,t){return gt(e,Ji(t,3),un)},Tr.floor=lu,Tr.forEach=oo,Tr.forEachRight=so,Tr.forIn=function(e,t){return null==e?e:an(e,Ji(t,3),ws)},Tr.forInRight=function(e,t){return null==e?e:on(e,Ji(t,3),ws)},Tr.forOwn=function(e,t){return e&&sn(e,Ji(t,3))},Tr.forOwnRight=function(e,t){return e&&un(e,Ji(t,3))},Tr.get=vs,Tr.gt=Oo,Tr.gte=Ao,Tr.has=function(e,t){return null!=e&&ta(e,t,pn)},Tr.hasIn=gs,Tr.head=La,Tr.identity=Ws,Tr.includes=function(e,t,r,n){e=Do(e)?e:Ns(e),r=r&&!n?ns(r):0;var i=e.length;return r<0&&(r=ir(i+r,0)),Qo(e)?r<=i&&e.indexOf(t,r)>-1:!!i&&bt(e,t,r)>-1},Tr.indexOf=function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=null==r?0:ns(r);return i<0&&(i=ir(n+i,0)),bt(e,t,i)},Tr.inRange=function(e,t,r){return t=rs(t),void 0===r?(r=t,t=0):r=rs(r),function(e,t,r){return e>=ar(t,r)&&e<ir(t,r)}(e=as(e),t,r)},Tr.invoke=ms,Tr.isArguments=Ro,Tr.isArray=Co,Tr.isArrayBuffer=Lo,Tr.isArrayLike=Do,Tr.isArrayLikeObject=Mo,Tr.isBoolean=function(e){return!0===e||!1===e||Ho(e)&&hn(e)==c},Tr.isBuffer=Po,Tr.isDate=Fo,Tr.isElement=function(e){return Ho(e)&&1===e.nodeType&&!Ko(e)},Tr.isEmpty=function(e){if(null==e)return!0;if(Do(e)&&(Co(e)||"string"==typeof e||"function"==typeof e.splice||Po(e)||Zo(e)||Ro(e)))return!e.length;var t=ea(e);if(t==p||t==b)return!e.size;if(ca(e))return!kn(e).length;for(var r in e)if(ke.call(e,r))return!1;return!0},Tr.isEqual=function(e,t){return mn(e,t)},Tr.isEqualWith=function(e,t,r){var n=(r="function"==typeof r?r:void 0)?r(e,t):void 0;return void 0===n?mn(e,t,void 0,r):!!n},Tr.isError=Bo,Tr.isFinite=function(e){return"number"==typeof e&&tr(e)},Tr.isFunction=Uo,Tr.isInteger=Go,Tr.isLength=zo,Tr.isMap=Vo,Tr.isMatch=function(e,t){return e===t||_n(e,t,Qi(t))},Tr.isMatchWith=function(e,t,r){return r="function"==typeof r?r:void 0,_n(e,t,Qi(t),r)},Tr.isNaN=function(e){return Wo(e)&&e!=+e},Tr.isNative=function(e){if(ua(e))throw new he("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return wn(e)},Tr.isNil=function(e){return null==e},Tr.isNull=function(e){return null===e},Tr.isNumber=Wo,Tr.isObject=qo,Tr.isObjectLike=Ho,Tr.isPlainObject=Ko,Tr.isRegExp=Jo,Tr.isSafeInteger=function(e){return Go(e)&&e>=-9007199254740991&&e<=9007199254740991},Tr.isSet=Xo,Tr.isString=Qo,Tr.isSymbol=Yo,Tr.isTypedArray=Zo,Tr.isUndefined=function(e){return void 0===e},Tr.isWeakMap=function(e){return Ho(e)&&ea(e)==w},Tr.isWeakSet=function(e){return Ho(e)&&"[object WeakSet]"==hn(e)},Tr.join=function(e,t){return null==e?"":rr.call(e,t)},Tr.kebabCase=Cs,Tr.last=Fa,Tr.lastIndexOf=function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=n;return void 0!==r&&(i=(i=ns(r))<0?ir(n+i,0):ar(i,n-1)),t==t?function(e,t,r){for(var n=r+1;n--;)if(e[n]===t)return n;return n}(e,t,i):yt(e,_t,i,!0)},Tr.lowerCase=Ls,Tr.lowerFirst=Ds,Tr.lt=$o,Tr.lte=es,Tr.max=function(e){return e&&e.length?tn(e,Ws,dn):void 0},Tr.maxBy=function(e,t){return e&&e.length?tn(e,Ji(t,2),dn):void 0},Tr.mean=function(e){return wt(e,Ws)},Tr.meanBy=function(e,t){return wt(e,Ji(t,2))},Tr.min=function(e){return e&&e.length?tn(e,Ws,Sn):void 0},Tr.minBy=function(e,t){return e&&e.length?tn(e,Ji(t,2),Sn):void 0},Tr.stubArray=iu,Tr.stubFalse=au,Tr.stubObject=function(){return{}},Tr.stubString=function(){return""},Tr.stubTrue=function(){return!0},Tr.multiply=fu,Tr.nth=function(e,t){return e&&e.length?Nn(e,ns(t)):void 0},Tr.noConflict=function(){return He._===this&&(He._=je),this},Tr.noop=Ys,Tr.now=vo,Tr.pad=function(e,t,r){e=ss(e);var n=(t=ns(t))?zt(e):0;if(!t||n>=t)return e;var i=(t-n)/2;return Oi(Zt(i),r)+e+Oi(Yt(i),r)},Tr.padEnd=function(e,t,r){e=ss(e);var n=(t=ns(t))?zt(e):0;return t&&n<t?e+Oi(t-n,r):e},Tr.padStart=function(e,t,r){e=ss(e);var n=(t=ns(t))?zt(e):0;return t&&n<t?Oi(t-n,r)+e:e},Tr.parseInt=function(e,t,r){return r||null==t?t=0:t&&(t=+t),sr(ss(e).replace(J,""),t||0)},Tr.random=function(e,t,r){if(r&&"boolean"!=typeof r&&aa(e,t,r)&&(t=r=void 0),void 0===r&&("boolean"==typeof t?(r=t,t=void 0):"boolean"==typeof e&&(r=e,e=void 0)),void 0===e&&void 0===t?(e=0,t=1):(e=rs(e),void 0===t?(t=e,e=0):t=rs(t)),e>t){var n=e;e=t,t=n}if(r||e%1||t%1){var i=ur();return ar(e+i*(t-e+Ue("1e-"+((i+"").length-1))),t)}return Ln(e,t)},Tr.reduce=function(e,t,r){var n=Co(e)?ht:St,i=arguments.length<3;return n(e,Ji(t,4),r,i,Zr)},Tr.reduceRight=function(e,t,r){var n=Co(e)?dt:St,i=arguments.length<3;return n(e,Ji(t,4),r,i,$r)},Tr.repeat=function(e,t,r){return t=(r?aa(e,t,r):void 0===t)?1:ns(t),Dn(ss(e),t)},Tr.replace=function(){var e=arguments,t=ss(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Tr.result=function(e,t,r){var n=-1,i=(t=ai(t,e)).length;for(i||(i=1,e=void 0);++n<i;){var a=null==e?void 0:e[Ea(t[n])];void 0===a&&(n=i,a=r),e=Uo(a)?a.call(e):a}return e},Tr.round=hu,Tr.runInContext=e,Tr.sample=function(e){return(Co(e)?Pr:Pn)(e)},Tr.size=function(e){if(null==e)return 0;if(Do(e))return Qo(e)?zt(e):e.length;var t=ea(e);return t==p||t==b?e.size:kn(e).length},Tr.snakeCase=Ms,Tr.some=function(e,t,r){var n=Co(e)?pt:Hn;return r&&aa(e,t,r)&&(t=void 0),n(e,Ji(t,3))},Tr.sortedIndex=function(e,t){return Vn(e,t)},Tr.sortedIndexBy=function(e,t,r){return Wn(e,t,Ji(r,2))},Tr.sortedIndexOf=function(e,t){var r=null==e?0:e.length;if(r){var n=Vn(e,t);if(n<r&&No(e[n],t))return n}return-1},Tr.sortedLastIndex=function(e,t){return Vn(e,t,!0)},Tr.sortedLastIndexBy=function(e,t,r){return Wn(e,t,Ji(r,2),!0)},Tr.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var r=Vn(e,t,!0)-1;if(No(e[r],t))return r}return-1},Tr.startCase=Ps,Tr.startsWith=function(e,t,r){return e=ss(e),r=null==r?0:Kr(ns(r),0,e.length),t=Xn(t),e.slice(r,r+t.length)==t},Tr.subtract=du,Tr.sum=function(e){return e&&e.length?Et(e,Ws):0},Tr.sumBy=function(e,t){return e&&e.length?Et(e,Ji(t,2)):0},Tr.template=function(e,t,r){var n=Tr.templateSettings;r&&aa(e,t,r)&&(t=void 0),e=ss(e),t=ls({},t,n,Fi);var i,a,o=ls({},t.imports,n.imports,Fi),s=_s(o),u=jt(o,s),c=0,l=t.interpolate||ce,f="__p += '",h=ge((t.escape||ce).source+"|"+l.source+"|"+(l===G?te:ce).source+"|"+(t.evaluate||ce).source+"|$","g"),d="//# sourceURL="+(ke.call(t,"sourceURL")?(t.sourceURL+"").replace(/[\r\n]/g," "):"lodash.templateSources["+ ++Me+"]")+"\n";e.replace(h,(function(t,r,n,o,s,u){return n||(n=o),f+=e.slice(c,u).replace(le,Dt),r&&(i=!0,f+="' +\n__e("+r+") +\n'"),s&&(a=!0,f+="';\n"+s+";\n__p += '"),n&&(f+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),c=u+t.length,t})),f+="';\n";var p=ke.call(t,"variable")&&t.variable;p||(f="with (obj) {\n"+f+"\n}\n"),f=(a?f.replace(R,""):f).replace(C,"$1").replace(L,"$1;"),f="function("+(p||"obj")+") {\n"+(p?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var v=Gs((function(){return de(s,d+"return "+f).apply(void 0,u)}));if(v.source=f,Bo(v))throw v;return v},Tr.times=function(e,t){if((e=ns(e))<1||e>9007199254740991)return[];var r=4294967295,n=ar(e,4294967295);e-=4294967295;for(var i=Tt(n,t=Ji(t));++r<e;)t(r);return i},Tr.toFinite=rs,Tr.toInteger=ns,Tr.toLength=is,Tr.toLower=function(e){return ss(e).toLowerCase()},Tr.toNumber=as,Tr.toSafeInteger=function(e){return e?Kr(ns(e),-9007199254740991,9007199254740991):0===e?e:0},Tr.toString=ss,Tr.toUpper=function(e){return ss(e).toUpperCase()},Tr.trim=function(e,t,r){if((e=ss(e))&&(r||void 0===t))return e.replace(K,"");if(!e||!(t=Xn(t)))return e;var n=qt(e),i=qt(t);return si(n,Ot(n,i),At(n,i)+1).join("")},Tr.trimEnd=function(e,t,r){if((e=ss(e))&&(r||void 0===t))return e.replace(X,"");if(!e||!(t=Xn(t)))return e;var n=qt(e);return si(n,0,At(n,qt(t))+1).join("")},Tr.trimStart=function(e,t,r){if((e=ss(e))&&(r||void 0===t))return e.replace(J,"");if(!e||!(t=Xn(t)))return e;var n=qt(e);return si(n,Ot(n,qt(t))).join("")},Tr.truncate=function(e,t){var r=30,n="...";if(qo(t)){var i="separator"in t?t.separator:i;r="length"in t?ns(t.length):r,n="omission"in t?Xn(t.omission):n}var a=(e=ss(e)).length;if(Mt(e)){var o=qt(e);a=o.length}if(r>=a)return e;var s=r-zt(n);if(s<1)return n;var u=o?si(o,0,s).join(""):e.slice(0,s);if(void 0===i)return u+n;if(o&&(s+=u.length-s),Jo(i)){if(e.slice(s).search(i)){var c,l=u;for(i.global||(i=ge(i.source,ss(re.exec(i))+"g")),i.lastIndex=0;c=i.exec(l);)var f=c.index;u=u.slice(0,void 0===f?s:f)}}else if(e.indexOf(Xn(i),s)!=s){var h=u.lastIndexOf(i);h>-1&&(u=u.slice(0,h))}return u+n},Tr.unescape=function(e){return(e=ss(e))&&P.test(e)?e.replace(D,Ht):e},Tr.uniqueId=function(e){var t=++Se;return ss(e)+t},Tr.upperCase=Fs,Tr.upperFirst=Bs,Tr.each=oo,Tr.eachRight=so,Tr.first=La,Qs(Tr,(ou={},sn(Tr,(function(e,t){ke.call(Tr.prototype,t)||(ou[t]=e)})),ou),{chain:!1}),Tr.VERSION="4.17.15",it(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Tr[e].placeholder=Tr})),it(["drop","take"],(function(e,t){Or.prototype[e]=function(r){r=void 0===r?1:ir(ns(r),0);var n=this.__filtered__&&!t?new Or(this):this.clone();return n.__filtered__?n.__takeCount__=ar(r,n.__takeCount__):n.__views__.push({size:ar(r,4294967295),type:e+(n.__dir__<0?"Right":"")}),n},Or.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),it(["filter","map","takeWhile"],(function(e,t){var r=t+1,n=1==r||3==r;Or.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Ji(e,3),type:r}),t.__filtered__=t.__filtered__||n,t}})),it(["head","last"],(function(e,t){var r="take"+(t?"Right":"");Or.prototype[e]=function(){return this[r](1).value()[0]}})),it(["initial","tail"],(function(e,t){var r="drop"+(t?"":"Right");Or.prototype[e]=function(){return this.__filtered__?new Or(this):this[r](1)}})),Or.prototype.compact=function(){return this.filter(Ws)},Or.prototype.find=function(e){return this.filter(e).head()},Or.prototype.findLast=function(e){return this.reverse().find(e)},Or.prototype.invokeMap=Mn((function(e,t){return"function"==typeof e?new Or(this):this.map((function(r){return yn(r,e,t)}))})),Or.prototype.reject=function(e){return this.filter(So(Ji(e)))},Or.prototype.slice=function(e,t){e=ns(e);var r=this;return r.__filtered__&&(e>0||t<0)?new Or(r):(e<0?r=r.takeRight(-e):e&&(r=r.drop(e)),void 0!==t&&(r=(t=ns(t))<0?r.dropRight(-t):r.take(t-e)),r)},Or.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Or.prototype.toArray=function(){return this.take(4294967295)},sn(Or.prototype,(function(e,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),n=/^(?:head|last)$/.test(t),i=Tr[n?"take"+("last"==t?"Right":""):t],a=n||/^find/.test(t);i&&(Tr.prototype[t]=function(){var t=this.__wrapped__,o=n?[1]:arguments,s=t instanceof Or,u=o[0],c=s||Co(t),l=function(e){var t=i.apply(Tr,ft([e],o));return n&&f?t[0]:t};c&&r&&"function"==typeof u&&1!=u.length&&(s=c=!1);var f=this.__chain__,h=!!this.__actions__.length,d=a&&!f,p=s&&!h;if(!a&&c){t=p?t:new Or(this);var v=e.apply(t,o);return v.__actions__.push({func:to,args:[l],thisArg:void 0}),new Nr(v,f)}return d&&p?e.apply(this,o):(v=this.thru(l),d?n?v.value()[0]:v.value():v)})})),it(["pop","push","shift","sort","splice","unshift"],(function(e){var t=me[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",n=/^(?:pop|shift)$/.test(e);Tr.prototype[e]=function(){var e=arguments;if(n&&!this.__chain__){var i=this.value();return t.apply(Co(i)?i:[],e)}return this[r]((function(r){return t.apply(Co(r)?r:[],e)}))}})),sn(Or.prototype,(function(e,t){var r=Tr[t];if(r){var n=r.name+"";ke.call(yr,n)||(yr[n]=[]),yr[n].push({name:t,func:r})}})),yr[Ti(void 0,2).name]=[{name:"wrapper",func:void 0}],Or.prototype.clone=function(){var e=new Or(this.__wrapped__);return e.__actions__=vi(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=vi(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=vi(this.__views__),e},Or.prototype.reverse=function(){if(this.__filtered__){var e=new Or(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Or.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,r=Co(e),n=t<0,i=r?e.length:0,a=function(e,t,r){for(var n=-1,i=r.length;++n<i;){var a=r[n],o=a.size;switch(a.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=ar(t,e+o);break;case"takeRight":e=ir(e,t-o)}}return{start:e,end:t}}(0,i,this.__views__),o=a.start,s=a.end,u=s-o,c=n?s:o-1,l=this.__iteratees__,f=l.length,h=0,d=ar(u,this.__takeCount__);if(!r||!n&&i==u&&d==u)return ei(e,this.__actions__);var p=[];e:for(;u--&&h<d;){for(var v=-1,g=e[c+=t];++v<f;){var y=l[v],b=y.type,m=(0,y.iteratee)(g);if(2==b)g=m;else if(!m){if(1==b)continue e;break e}}p[h++]=g}return p},Tr.prototype.at=ro,Tr.prototype.chain=function(){return eo(this)},Tr.prototype.commit=function(){return new Nr(this.value(),this.__chain__)},Tr.prototype.next=function(){void 0===this.__values__&&(this.__values__=ts(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?void 0:this.__values__[this.__index__++]}},Tr.prototype.plant=function(e){for(var t,r=this;r instanceof jr;){var n=Ia(r);n.__index__=0,n.__values__=void 0,t?i.__wrapped__=n:t=n;var i=n;r=r.__wrapped__}return i.__wrapped__=e,t},Tr.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Or){var t=e;return this.__actions__.length&&(t=new Or(this)),(t=t.reverse()).__actions__.push({func:to,args:[za],thisArg:void 0}),new Nr(t,this.__chain__)}return this.thru(za)},Tr.prototype.toJSON=Tr.prototype.valueOf=Tr.prototype.value=function(){return ei(this.__wrapped__,this.__actions__)},Tr.prototype.first=Tr.prototype.head,kt&&(Tr.prototype[kt]=function(){return this}),Tr}();He._=Vt,void 0===(n=(function(){return Vt}).call(t,r,t,e))||(e.exports=n)}).call(this)}).call(this,r("YuTi")(e))},PDru:function(e,t){var r="undefined"!=typeof ArrayBuffer,n="undefined"!=typeof Symbol;function i(e,t){var i,a,o,s,u;if(!e)throw new Error("obliterator/forEach: invalid iterable.");if("function"!=typeof t)throw new Error("obliterator/forEach: expecting a callback.");if(Array.isArray(e)||r&&ArrayBuffer.isView(e)||"string"==typeof e||"[object Arguments]"===e.toString())for(o=0,s=e.length;o<s;o++)t(e[o],o);else if("function"!=typeof e.forEach)if(n&&Symbol.iterator in e&&"function"!=typeof e.next&&(e=e[Symbol.iterator]()),"function"!=typeof e.next)for(a in e)e.hasOwnProperty(a)&&t(e[a],a);else for(i=e,o=0;!0!==(u=i.next()).done;)t(u.value,o),o++;else e.forEach(t)}i.forEachWithNullKeys=function(e,t){var i,a,o,s,u;if(!e)throw new Error("obliterator/forEachWithNullKeys: invalid iterable.");if("function"!=typeof t)throw new Error("obliterator/forEachWithNullKeys: expecting a callback.");if(Array.isArray(e)||r&&ArrayBuffer.isView(e)||"string"==typeof e||"[object Arguments]"===e.toString())for(o=0,s=e.length;o<s;o++)t(e[o],null);else if(e instanceof Set)e.forEach((function(e){t(e,null)}));else if("function"!=typeof e.forEach)if(n&&Symbol.iterator in e&&"function"!=typeof e.next&&(e=e[Symbol.iterator]()),"function"!=typeof e.next)for(a in e)e.hasOwnProperty(a)&&t(e[a],a);else for(i=e,o=0;!0!==(u=i.next()).done;)t(u.value,null),o++;else e.forEach(t)},e.exports=i},PPGm:function(e,t,r){var n=r("R7eT"),i=r("12xR"),a=r("WvqQ"),o=r("Eagr"),s=r("4cw7"),u=r("pVxc");function c(){}c.namedNode=function(e){return new o(e)},c.blankNode=function(e){return new n(e)},c.literal=function(e,t){return"string"==typeof t?-1===t.indexOf(":")?new a(e,t):new a(e,null,c.namedNode(t)):new a(e,null,t)},c.defaultGraph=function(){return c.defaultGraphInstance},c.variable=function(e){return new u(e)},c.triple=function(e,t,r){return c.quad(e,t,r)},c.quad=function(e,t,r,n){return new s(e,t,r,n||c.defaultGraphInstance)},c.defaultGraphInstance=new i,e.exports=c},R7eT:function(e,t){function r(e){this.value=e||"b"+ ++r.nextId}r.prototype.equals=function(e){return!!e&&e.termType===this.termType&&e.value===this.value},r.prototype.termType="BlankNode",r.nextId=0,e.exports=r},TrB0:function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r("8Xj3")),n(r("+2nh")),n(r("cTvG")),n(r("mMj5")),n(r("6smP"))},WvqQ:function(e,t,r){var n=r("Eagr");function i(e,t,r){this.value=e,this.datatype=i.stringDatatype,this.language="",t?(this.language=t,this.datatype=i.langStringDatatype):r&&(this.datatype=r)}i.prototype.equals=function(e){return!!e&&e.termType===this.termType&&e.value===this.value&&e.language===this.language&&e.datatype.equals(this.datatype)},i.prototype.termType="Literal",i.langStringDatatype=new n("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),i.stringDatatype=new n("http://www.w3.org/2001/XMLSchema#string"),e.exports=i},YXac:function(e,t,r){var n;!function(r){"use strict";function i(e,t){var r=Math.abs(e),n=Math.abs(t);return 0===e?Math.log(n):0===t?Math.log(r):r<3e3&&n<3e3?.5*Math.log(e*e+t*t):Math.log(e/Math.cos(Math.atan2(t,e)))}var a={w:1,x:0,y:0,z:0};function o(e,t,r,n,i){if(void 0!==i)return e.w=t,e.x=r,e.y=n,void(e.z=i);if("object"==typeof t&&void 0===n){if("w"in t||"x"in t||"y"in t||"z"in t)return e.w=t.w||0,e.x=t.x||0,e.y=t.y||0,void(e.z=t.z||0);if("re"in t&&"im"in t)return e.w=t.re,e.x=t.im,e.y=0,void(e.z=0);if(4===t.length)return e.w=t[0],e.x=t[1],e.y=t[2],void(e.z=t[3]);if(3===t.length)return e.w=0,e.x=t[0],e.y=t[1],void(e.z=t[2]);throw new Error("Invalid object")}if("string"!=typeof t||void 0!==n)void 0===t&&e!==a?(e.w=1,e.x=e.y=e.z=0):(e.w=t||0,r&&3===r.length?(e.x=r[0],e.y=r[1],e.z=r[2]):(e.x=r||0,e.y=n||0,e.z=i||0));else{var o=t.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),s=1,u=0,c={i:"x",j:"y",k:"z"};if(null===o)throw new Error("Parse error");e.w=e.x=e.y=e.z=0;for(var l=0;l<o.length;l++){var f=o[l],h=o[l+1];if(" "===f||"\t"===f||"\n"===f);else if("+"===f)s++;else if("-"===f)u++;else{if(s+u===0)throw new Error("Parse error"+f);var d=c[f];if(void 0!==d)" "===h||isNaN(h)?f="1":(f=h,l++);else{if(isNaN(f))throw new Error("Parser error");void 0!==(d=c[h])&&l++}e[d||"w"]+=parseFloat((u%2?"-":"")+f),s=u=0}}if(s+u>0)throw new Error("Parser error")}}function s(e,t,r){var n="";return 0!==e&&(""!==r?n+=e<0?" - ":" + ":e<0&&(n+="-"),1===(e=Math.abs(e))&&""!==t||(n+=e),n+=t),n}function u(e,t,r,n){if(!(this instanceof u))return new u(e,t,r,n);o(this,e,t,r,n)}u.prototype={w:1,x:0,y:0,z:0,add:function(e,t,r,n){return o(a,e,t,r,n),new u(this.w+a.w,this.x+a.x,this.y+a.y,this.z+a.z)},sub:function(e,t,r,n){return o(a,e,t,r,n),new u(this.w-a.w,this.x-a.x,this.y-a.y,this.z-a.z)},neg:function(){return new u(-this.w,-this.x,-this.y,-this.z)},norm:function(){var e=this.w,t=this.x,r=this.y,n=this.z;return Math.sqrt(e*e+t*t+r*r+n*n)},normSq:function(){var e=this.w,t=this.x,r=this.y,n=this.z;return e*e+t*t+r*r+n*n},normalize:function(){var e=this.w,t=this.x,r=this.y,n=this.z,i=Math.sqrt(e*e+t*t+r*r+n*n);return i<u.EPSILON?u.ZERO:new u(e*(i=1/i),t*i,r*i,n*i)},mul:function(e,t,r,n){o(a,e,t,r,n);var i=this.w,s=this.x,c=this.y,l=this.z,f=a.w,h=a.x,d=a.y,p=a.z;return new u(i*f-s*h-c*d-l*p,i*h+s*f+c*p-l*d,i*d+c*f+l*h-s*p,i*p+l*f+s*d-c*h)},scale:function(e){return new u(this.w*e,this.x*e,this.y*e,this.z*e)},dot:function(e,t,r,n){return o(a,e,t,r,n),this.w*a.w+this.x*a.x+this.y*a.y+this.z*a.z},inverse:function(){var e=this.w,t=this.x,r=this.y,n=this.z,i=e*e+t*t+r*r+n*n;return 0===i?u.ZERO:new u(e*(i=1/i),-t*i,-r*i,-n*i)},div:function(e,t,r,n){o(a,e,t,r,n);var i=this.w,s=this.x,c=this.y,l=this.z,f=a.w,h=a.x,d=a.y,p=a.z,v=f*f+h*h+d*d+p*p;return 0===v?u.ZERO:new u((i*f+s*h+c*d+l*p)*(v=1/v),(s*f-i*h-c*p+l*d)*v,(c*f-i*d-l*h+s*p)*v,(l*f-i*p-s*d+c*h)*v)},conjugate:function(){return new u(this.w,-this.x,-this.y,-this.z)},exp:function(){var e=this.w,t=this.x,r=this.y,n=this.z,i=Math.sqrt(t*t+r*r+n*n),a=Math.exp(e),o=a/i*Math.sin(i);return 0===i?new u(a,0,0,0):new u(a*Math.cos(i),t*o,r*o,n*o)},log:function(){var e=this.w,t=this.x,r=this.y,n=this.z;if(0===r&&0===n)return new u(i(e,t),Math.atan2(t,e),0,0);var a=t*t+r*r+n*n+e*e,o=Math.sqrt(t*t+r*r+n*n),s=Math.atan2(o,e)/o;return new u(.5*Math.log(a),t*s,r*s,n*s)},pow:function(e,t,r,n){if(o(a,e,t,r,n),0===a.y&&0===a.z){if(1===a.w&&0===a.x)return this;if(0===a.w&&0===a.x)return u.ONE;if(0===this.y&&0===this.z){var s=this.w,c=this.x;if(0===s&&0===c)return u.ZERO;var l=Math.atan2(c,s),f=i(s,c);if(0===a.x){if(0===c&&s>=0)return new u(Math.pow(s,a.w),0,0,0);if(0===s)switch(a.w%4){case 0:return new u(Math.pow(c,a.w),0,0,0);case 1:return new u(0,Math.pow(c,a.w),0,0);case 2:return new u(-Math.pow(c,a.w),0,0,0);case 3:return new u(0,-Math.pow(c,a.w),0,0)}}return s=Math.exp(a.w*f-a.x*l),c=a.x*f+a.w*l,new u(s*Math.cos(c),s*Math.sin(c),0,0)}}return this.log().mul(a).exp()},equals:function(e,t,r,n){o(a,e,t,r,n);var i=u.EPSILON;return Math.abs(a.w-this.w)<i&&Math.abs(a.x-this.x)<i&&Math.abs(a.y-this.y)<i&&Math.abs(a.z-this.z)<i},isFinite:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return isFinite(this.w)&&isFinite(this.x)&&isFinite(this.y)&&isFinite(this.z)})),isNaN:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return isNaN(this.w)||isNaN(this.x)||isNaN(this.y)||isNaN(this.z)})),toString:function(){var e=this.w,t=this.x,r=this.y,n=this.z,i="";return isNaN(e)||isNaN(t)||isNaN(r)||isNaN(n)?"NaN":(i=s(e,"",i),i+=s(t,"i",i),i+=s(r,"j",i),""===(i+=s(n,"k",i))?"0":i)},real:function(){return this.w},imag:function(){return[this.x,this.y,this.z]},toVector:function(){return[this.w,this.x,this.y,this.z]},toMatrix:function(e){var t=this.w,r=this.x,n=this.y,i=this.z,a=t*t+r*r+n*n+i*i,o=0===a?0:2/a,s=o*t*r,u=o*t*n,c=o*t*i,l=o*r*r,f=o*r*n,h=o*r*i,d=o*n*n,p=o*n*i,v=o*i*i;return e?[[1-(d+v),f-c,h+u],[f+c,1-(l+v),p-s],[h-u,p+s,1-(l+d)]]:[1-(d+v),f-c,h+u,f+c,1-(l+v),p-s,h-u,p+s,1-(l+d)]},toMatrix4:function(e){var t=this.w,r=this.x,n=this.y,i=this.z,a=t*t+r*r+n*n+i*i,o=0===a?0:2/a,s=o*t*r,u=o*t*n,c=o*t*i,l=o*r*r,f=o*r*n,h=o*r*i,d=o*n*n,p=o*n*i,v=o*i*i;return e?[[1-(d+v),f-c,h+u,0],[f+c,1-(l+v),p-s,0],[h-u,p+s,1-(l+d),0],[0,0,0,1]]:[1-(d+v),f-c,h+u,0,f+c,1-(l+v),p-s,0,h-u,p+s,1-(l+d),0,0,0,0,1]},clone:function(){return new u(this)},rotateVector:function(e){var t=this.w,r=this.x,n=this.y,i=this.z,a=e[0],o=e[1],s=e[2],u=-r*a-n*o-i*s,c=t*a+n*s-i*o,l=t*o+i*a-r*s,f=t*s+r*o-n*a;return[c*t-u*r-l*i+f*n,l*t-u*n-f*r+c*i,f*t-u*i-c*n+l*r]},slerp:function(e,t,r,n){o(a,e,t,r,n);var i=this.w,s=this.x,c=this.y,l=this.z,f=a.w,h=a.x,d=a.y,p=a.z,v=i*f+s*h+c*d+l*p;if(v<0&&(i=-i,s=-s,c=-c,l=-l,v=-v),v>.9995)return function(e){return new u(i+e*(f-i),s+e*(h-s),c+e*(d-c),l+e*(p-l)).normalize()};var g=Math.acos(v),y=Math.sin(g);return function(e){var t=g*e,r=Math.sin(t),n=Math.cos(t)-v*r/y,a=r/y;return new u(n*i+a*f,n*s+a*h,n*c+a*d,n*l+a*p)}}},u.ZERO=new u(0,0,0,0),u.ONE=new u(1,0,0,0),u.I=new u(0,1,0,0),u.J=new u(0,0,1,0),u.K=new u(0,0,0,1),u.EPSILON=1e-16,u.fromAxisAngle=function(e,t){var r=.5*t,n=e[0],i=e[1],a=e[2],o=Math.sin(r),s=Math.cos(r),c=o/Math.sqrt(n*n+i*i+a*a);return new u(s,n*c,i*c,a*c)},u.fromBetweenVectors=function(e,t){var r=e[0],n=e[1],i=e[2],a=t[0],o=t[1],s=t[2],c=r*a+n*o+i*s,l=n*s-i*o,f=i*a-r*s,h=r*o-n*a;return new u(c+Math.sqrt(c*c+l*l+f*f+h*h),l,f,h).normalize()},u.fromEuler=function(e,t,r,n){var i=.5*t,a=.5*r,o=.5*e,s=Math.cos(i),c=Math.cos(a),l=Math.cos(o),f=Math.sin(i),h=Math.sin(a),d=Math.sin(o);return void 0===n||"ZXY"===n?new u(s*c*l-f*h*d,f*c*l-s*h*d,s*h*l+f*c*d,s*c*d+f*h*l):"XYZ"===n?new u(s*c*l-f*h*d,f*c*l+s*h*d,s*h*l-f*c*d,s*c*d+f*h*l):"YXZ"===n?new u(s*c*l+f*h*d,f*c*l+s*h*d,s*h*l-f*c*d,s*c*d-f*h*l):"ZYX"===n?new u(s*c*l+f*h*d,f*c*l-s*h*d,s*h*l+f*c*d,s*c*d-f*h*l):"YZX"===n?new u(s*c*l-f*h*d,f*c*l+s*h*d,s*h*l+f*c*d,s*c*d-f*h*l):"XZY"===n?new u(s*c*l+f*h*d,f*c*l-s*h*d,s*h*l-f*c*d,s*c*d+f*h*l):null},void 0===(n=(function(){return u}).apply(t,[]))||(e.exports=n)}()},YuTi:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},cTvG:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("FZPO"),i=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"fromRdf",value:function(e,t){var r=parseFloat(e.value);return t&&isNaN(r)&&n.Translator.incorrectRdfDataType(e),r}},{key:"toRdf",value:function(t,r){var n=r.datatype,i=r.dataFactory;return n=n||i.namedNode(e.TYPES[0]),isNaN(t)?i.literal("NaN",n):isFinite(t)?t%1==0?null:i.literal(t.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),n):i.literal(t>0?"INF":"-INF",n)}}]),e}();t.TypeHandlerNumberDouble=i,i.TYPES=["http://www.w3.org/2001/XMLSchema#double","http://www.w3.org/2001/XMLSchema#decimal","http://www.w3.org/2001/XMLSchema#float"]},g5aj:function(e,t,r){var n=r("04/w"),i=r("PDru");function a(){this.clear()}a.prototype.clear=function(){this.items=[],this.offset=0,this.size=0},a.prototype.enqueue=function(e){return this.items.push(e),++this.size},a.prototype.dequeue=function(){if(this.size){var e=this.items[this.offset];return 2*++this.offset>=this.items.length&&(this.items=this.items.slice(this.offset),this.offset=0),this.size--,e}},a.prototype.peek=function(){if(this.size)return this.items[this.offset]},a.prototype.forEach=function(e,t){t=arguments.length>1?t:this;for(var r=this.offset,n=0,i=this.items.length;r<i;r++,n++)e.call(t,this.items[r],n,this)},a.prototype.toArray=function(){return this.items.slice(this.offset)},a.prototype.values=function(){var e=this.items,t=this.offset;return new n((function(){if(t>=e.length)return{done:!0};var r=e[t];return t++,{value:r,done:!1}}))},a.prototype.entries=function(){var e=this.items,t=this.offset,r=0;return new n((function(){if(t>=e.length)return{done:!0};var n=e[t];return t++,{value:[r++,n],done:!1}}))},"undefined"!=typeof Symbol&&(a.prototype[Symbol.iterator]=a.prototype.values),a.prototype.toString=function(){return this.toArray().join(",")},a.prototype.toJSON=function(){return this.toArray()},a.prototype.inspect=function(){var e=this.toArray();return Object.defineProperty(e,"constructor",{value:a,enumerable:!1}),e},"undefined"!=typeof Symbol&&(a.prototype[Symbol.for("nodejs.util.inspect.custom")]=a.prototype.inspect),a.from=function(e){var t=new a;return i(e,(function(e){t.enqueue(e)})),t},a.of=function(){return a.from(arguments)},e.exports=a},"l/hW":function(e,t,r){"use strict";e.exports=function(e){var t=e[0],r=e[1],n=e[2],i=e[3];return[Math.atan2(2*(t*r+n*i),1-2*(r*r+n*n)),Math.asin(2*(t*n-i*r)),Math.atan2(2*(t*i+r*n),1-2*(n*n+i*i))]}},m5Kp:function(e,t,r){var n=r("PPGm");e.exports=n},mMj5:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("FZPO"),i=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"fromRdf",value:function(e,t){var r=parseInt(e.value,10);return t&&(isNaN(r)||e.value.indexOf(".")>=0)&&n.Translator.incorrectRdfDataType(e),r}},{key:"toRdf",value:function(t,r){var n=r.datatype,i=r.dataFactory;return i.literal(String(t),n||i.namedNode(t<=e.MAX_INT&&t>=e.MIN_INT?e.TYPES[0]:e.TYPES[1]))}}]),e}();t.TypeHandlerNumberInteger=i,i.TYPES=["http://www.w3.org/2001/XMLSchema#integer","http://www.w3.org/2001/XMLSchema#long","http://www.w3.org/2001/XMLSchema#int","http://www.w3.org/2001/XMLSchema#byte","http://www.w3.org/2001/XMLSchema#short","http://www.w3.org/2001/XMLSchema#negativeInteger","http://www.w3.org/2001/XMLSchema#nonNegativeInteger","http://www.w3.org/2001/XMLSchema#nonPositiveInteger","http://www.w3.org/2001/XMLSchema#positiveInteger","http://www.w3.org/2001/XMLSchema#unsignedByte","http://www.w3.org/2001/XMLSchema#unsignedInt","http://www.w3.org/2001/XMLSchema#unsignedLong","http://www.w3.org/2001/XMLSchema#unsignedShort"],i.MAX_INT=2147483647,i.MIN_INT=-2147483648},mtbl:function(e,t,r){var n=r("tXxl"),i=r("g5aj"),a=r("x4yT");function o(e,t,r){if(!n(e))throw new Error("graphology-shortest-path: invalid graphology instance.");if(arguments.length<3)throw new Error("graphology-shortest-path: invalid number of arguments. Expecting at least 3.");if(!e.hasNode(t))throw new Error('graphology-shortest-path: the "'+t+'" source node does not exist in the given graph.');if(!e.hasNode(r))throw new Error('graphology-shortest-path: the "'+r+'" target node does not exist in the given graph.');if((t=""+t)==(r=""+r))return[t];var i=e.inboundNeighbors.bind(e),a=e.outboundNeighbors.bind(e),o={},s={};o[t]=null,s[r]=null;var u,c,l,f,h,d,p,v,g=[t],y=[r],b=!1;e:for(;g.length&&y.length;)if(g.length<=y.length){for(u=g,g=[],h=0,p=u.length;h<p;h++)for(d=0,v=(l=a(c=u[h])).length;d<v;d++)if((f=l[d])in o||(g.push(f),o[f]=c),f in s){b=!0;break e}}else for(u=y,y=[],h=0,p=u.length;h<p;h++)for(d=0,v=(l=i(c=u[h])).length;d<v;d++)if((f=l[d])in s||(y.push(f),s[f]=c),f in o){b=!0;break e}if(!b)return null;for(var m=[];f;)m.unshift(f),f=o[f];for(f=s[m[m.length-1]];f;)m.push(f),f=s[f];return m.length?m:null}function s(e,t){if(!n(e))throw new Error("graphology-shortest-path: invalid graphology instance.");if(arguments.length<2)throw new Error("graphology-shortest-path: invalid number of arguments. Expecting at least 2.");if(!e.hasNode(t))throw new Error('graphology-shortest-path: the "'+t+'" source node does not exist in the given graph.');var r,i,a,o,s,u,c={},l={};for(c[t=""+t]=!0,l[t]=[t];Object.keys(c).length;)for(a in r=c,c={},r)for(s=0,u=(i=e.outboundNeighbors(a)).length;s<u;s++)l[o=i[s]]||(l[o]=l[a].concat(o),c[o]=!0);return l}function u(e,t,r){if(!n(t))throw new Error("graphology-shortest-path: invalid graphology instance.");if(!t.hasNode(r))throw new Error('graphology-shortest-path: the "'+r+'" source node does not exist in the given graph.');r=""+r;var i=new Set,o={},s=0;o[r]=0;for(var u,c,l,f=[r];0!==f.length;){var h=[];for(u=0,c=f.length;u<c;u++)i.has(l=f[u])||(i.add(l),a(h,t[e](l)),o[l]=s);s++,f=h}return o}var c=u.bind(null,"outboundNeighbors"),l=u.bind(null,"neighbors");function f(e,t,r){return arguments.length<3?s(e,t):o(e,t,r)}f.bidirectional=o,f.singleSource=s,f.singleSourceLength=c,f.undirectedSingleSourceLength=l,f.brandes=function(e,t){t=""+t;var r,n,a,o,s,u,c,l,f,h=[],d={},p={},v=e.nodes();for(u=0,l=v.length;u<l;u++)d[o=v[u]]=[],p[o]=0;var g={};p[t]=1,g[t]=0;for(var y=i.of(t);y.size;)for(o=y.dequeue(),h.push(o),r=g[o],n=p[o],c=0,f=(a=e.outboundNeighbors(o)).length;c<f;c++)(s=a[c])in g||(y.enqueue(s),g[s]=r+1),g[s]===r+1&&(p[s]+=n,d[s].push(o));return[h,d,p]},e.exports=f},pVxc:function(e,t){function r(e){this.value=e}r.prototype.equals=function(e){return!!e&&e.termType===this.termType&&e.value===this.value},r.prototype.termType="Variable",e.exports=r},tXxl:function(e,t){e.exports=function(e){return null!==e&&"object"==typeof e&&"function"==typeof e.addUndirectedEdgeWithKey&&"function"==typeof e.dropNode&&"boolean"==typeof e.multi}},x4yT:function(e,t){e.exports=function(e,t){var r=t.length;if(0!==r){var n=e.length;e.length+=r;for(var i=0;i<r;i++)e[n+i]=t[i]}}}});