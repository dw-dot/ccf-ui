!function(){function e(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function n(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?t(Object(r),!0).forEach(function(t){s(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function r(e,t){return o(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(u){i=!0,a=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}(e,t)||x(e,t)||a()}function i(e){return o(e)||b(e)||x(e)||a()}function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(e){if(Array.isArray(e))return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}function c(e){var t=p();return function(){var n,r=g(e);if(t){var i=g(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){var t="function"==typeof Map?new Map:void 0;return(d=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return h(e,arguments,g(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),v(r,e)})(e)}function h(e,t,n){return(h=p()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&v(i,n.prototype),i}).apply(null,arguments)}function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e){return function(e){if(Array.isArray(e))return k(e)}(e)||b(e)||x(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function m(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function _(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var a=e.apply(t,n);function o(e){m(a,r,i,o,s,"next",e)}function s(e){m(a,r,i,o,s,"throw",e)}o(void 0)})}}function w(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=x(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function x(e,t){if(e){if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?k(e,t):void 0}}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function N(e,t,n){return t&&j(e.prototype,t),n&&j(e,n),e}!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,(function(t){return e[t]}).bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="MrT7")}({"+2nh":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("FZPO"),i=function(){function e(){S(this,e)}return N(e,[{key:"fromRdf",value:function(t,n){switch(n&&!t.value.match(e.VALIDATORS[t.datatype.value.substr(33,t.datatype.value.length)])&&r.Translator.incorrectRdfDataType(t),t.datatype.value){case"http://www.w3.org/2001/XMLSchema#gDay":return new Date(0,0,parseInt(t.value,10));case"http://www.w3.org/2001/XMLSchema#gMonthDay":var i=t.value.split("-");return new Date(0,parseInt(i[0],10)-1,parseInt(i[1],10));case"http://www.w3.org/2001/XMLSchema#gYear":return new Date(t.value+"-01-01");case"http://www.w3.org/2001/XMLSchema#gYearMonth":return new Date(t.value+"-01");default:return new Date(t.value)}}},{key:"toRdf",value:function(t,n){var r=n.datatype,i=n.dataFactory;if(r=r||i.namedNode(e.TYPES[0]),!(t instanceof Date))return null;var a,o=t;switch(r.value){case"http://www.w3.org/2001/XMLSchema#gDay":a=String(o.getUTCDate());break;case"http://www.w3.org/2001/XMLSchema#gMonthDay":a=o.getUTCMonth()+1+"-"+o.getUTCDate();break;case"http://www.w3.org/2001/XMLSchema#gYear":a=String(o.getUTCFullYear());break;case"http://www.w3.org/2001/XMLSchema#gYearMonth":a=o.getUTCFullYear()+"-"+(o.getUTCMonth()+1);break;case"http://www.w3.org/2001/XMLSchema#date":a=o.toISOString().replace(/T.*$/,"");break;default:a=o.toISOString()}return i.literal(a,r)}}]),e}();t.TypeHandlerDate=i,i.TYPES=["http://www.w3.org/2001/XMLSchema#dateTime","http://www.w3.org/2001/XMLSchema#date","http://www.w3.org/2001/XMLSchema#gDay","http://www.w3.org/2001/XMLSchema#gMonthDay","http://www.w3.org/2001/XMLSchema#gYear","http://www.w3.org/2001/XMLSchema#gYearMonth"],i.VALIDATORS={date:/^[0-9]+-[0-9][0-9]-[0-9][0-9]Z?$/,dateTime:/^[0-9]+-[0-9][0-9]-[0-9][0-9]T[0-9][0-9]:[0-9][0-9]:[0-9][0-9](\.[0-9][0-9][0-9])?((Z?)|([\+-][0-9][0-9]:[0-9][0-9]))$/,gDay:/^[0-9]+$/,gMonthDay:/^[0-9]+-[0-9][0-9]$/,gYear:/^[0-9]+$/,gYearMonth:/^[0-9]+-[0-9][0-9]$/}},"04/w":function(e,t){function n(e){Object.defineProperty(this,"_next",{writable:!1,enumerable:!1,value:e}),this.done=!1}n.prototype.next=function(){if(this.done)return{done:!0};var e=this._next();return e.done&&(this.done=!0),e},"undefined"!=typeof Symbol&&(n.prototype[Symbol.iterator]=function(){return this}),n.of=function(){var e=arguments,t=e.length,r=0;return new n(function(){return r>=t?{done:!0}:{done:!1,value:e[r++]}})},n.empty=function(){var e=new n(null);return e.done=!0,e},n.is=function(e){return e instanceof n||"object"==typeof e&&null!==e&&"function"==typeof e.next},e.exports=n},"6smP":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){S(this,e)}return N(e,[{key:"fromRdf",value:function(e){return e.value}},{key:"toRdf",value:function(e,t){var n=t.datatype;return t.dataFactory.literal(e,n)}}]),e}();t.TypeHandlerString=r,r.TYPES=["http://www.w3.org/2001/XMLSchema#string","http://www.w3.org/2001/XMLSchema#normalizedString","http://www.w3.org/2001/XMLSchema#anyURI","http://www.w3.org/2001/XMLSchema#base64Binary","http://www.w3.org/2001/XMLSchema#language","http://www.w3.org/2001/XMLSchema#Name","http://www.w3.org/2001/XMLSchema#NCName","http://www.w3.org/2001/XMLSchema#NMTOKEN","http://www.w3.org/2001/XMLSchema#token","http://www.w3.org/2001/XMLSchema#hexBinary","http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","http://www.w3.org/2001/XMLSchema#time","http://www.w3.org/2001/XMLSchema#duration"]},"8Xj3":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("FZPO"),i=function(){function e(){S(this,e)}return N(e,[{key:"fromRdf",value:function(e,t){switch(e.value){case"true":return!0;case"false":return!1;case"1":return!0;case"0":return!1}return t&&r.Translator.incorrectRdfDataType(e),!1}},{key:"toRdf",value:function(t,n){var r=n.datatype,i=n.dataFactory;return i.literal(t?"true":"false",r||i.namedNode(e.TYPE))}}]),e}();t.TypeHandlerBoolean=i,i.TYPE="http://www.w3.org/2001/XMLSchema#boolean"},"E/GK":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DataFactory=void 0;var r=n("cJZx"),i=n("Pmum"),a=n("jOAU"),o=n("mTX8"),s=n("gCan"),u=n("oioK"),c=0;t.DataFactory=function(){function e(t){S(this,e),this.blankNodeCounter=0,this.blankNodePrefix=(t=t||{}).blankNodePrefix||"df_".concat(c++,"_")}return N(e,[{key:"namedNode",value:function(e){return new o.NamedNode(e)}},{key:"blankNode",value:function(e){return new r.BlankNode(e||"".concat(this.blankNodePrefix).concat(this.blankNodeCounter++))}},{key:"literal",value:function(e,t){return new a.Literal(e,t)}},{key:"variable",value:function(e){return new u.Variable(e)}},{key:"defaultGraph",value:function(){return i.DefaultGraph.INSTANCE}},{key:"quad",value:function(e,t,n,r){return new s.Quad(e,t,n,r||this.defaultGraph())}},{key:"fromTerm",value:function(e){switch(e.termType){case"NamedNode":return this.namedNode(e.value);case"BlankNode":return this.blankNode(e.value);case"Literal":return e.language?this.literal(e.value,e.language):e.datatype.equals(a.Literal.XSD_STRING)?this.literal(e.value):this.literal(e.value,this.fromTerm(e.datatype));case"Variable":return this.variable(e.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(e.subject),this.fromTerm(e.predicate),this.fromTerm(e.object),this.fromTerm(e.graph))}}},{key:"fromQuad",value:function(e){return this.fromTerm(e)}},{key:"resetBlankNodeCounter",value:function(){this.blankNodeCounter=0}}]),e}()},FZPO:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Translator=function(){function e(){S(this,e),this.supportedRdfDatatypes=[],this.fromRdfHandlers={},this.toRdfHandlers={}}return N(e,[{key:"registerHandler",value:function(e,t,n){var r,i=w(t);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.supportedRdfDatatypes.push(a),this.fromRdfHandlers[a.value]=e}}catch(l){i.e(l)}finally{i.f()}var o,s=w(n);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=this.toRdfHandlers[u];c||(this.toRdfHandlers[u]=c=[]),c.push(e)}}catch(l){s.e(l)}finally{s.f()}}},{key:"fromRdf",value:function(e,t){var n=this.fromRdfHandlers[e.datatype.value];return n?n.fromRdf(e,t):e.value}},{key:"toRdf",value:function(e,t){var n=this.toRdfHandlers[typeof e];if(n){var r,i=w(n);try{for(i.s();!(r=i.n()).done;){var a=r.value.toRdf(e,t);if(a)return a}}catch(o){i.e(o)}finally{i.f()}}throw new Error("Invalid JavaScript value: '".concat(e,"'"))}},{key:"getSupportedRdfDatatypes",value:function(){return this.supportedRdfDatatypes}},{key:"getSupportedJavaScriptPrimitives",value:function(){return Object.keys(this.toRdfHandlers)}}],[{key:"incorrectRdfDataType",value:function(e){throw new Error("Invalid RDF ".concat(e.datatype.value," value: '").concat(e.value,"'"))}}]),e}()},HXBs:function(e,t,n){e.exports=function(){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function n(e){return(n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function a(e,t,n){return(a=i()?Reflect.construct:function(e,t,n){var i=[null];i.push.apply(i,t);var a=new(Function.bind.apply(e,i));return n&&r(a,n.prototype),a}).apply(null,arguments)}function o(e){var t="function"==typeof Map?new Map:void 0;return(o=function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,i)}function i(){return a(e,arguments,n(this).constructor)}return i.prototype=Object.create(e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),r(i,e)})(e)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var u=function(){for(var e=arguments[0],t=1,n=arguments.length;t<n;t++)if(arguments[t])for(var r in arguments[t])e[r]=arguments[t][r];return e};function c(e,t,n,r){var i=e._nodes.get(t),a=null;return i?a="mixed"===r?i.out&&i.out[n]||i.undirected&&i.undirected[n]:"directed"===r?i.out&&i.out[n]:i.undirected&&i.undirected[n]:a}function l(t){return null!==t&&"object"===e(t)&&"function"==typeof t.addUndirectedEdgeWithKey&&"function"==typeof t.dropNode}function f(t){return"object"===e(t)&&null!==t&&t.constructor===Object}function d(e){var t;for(t in e)return!1;return!0}function h(e,t,n){Object.defineProperty(e,t,{enumerable:!1,configurable:!1,writable:!0,value:n})}function p(e,t,n){var r={enumerable:!0,configurable:!0};"function"==typeof n?r.get=n:(r.value=n,r.writable=!1),Object.defineProperty(e,t,r)}function v(e){return!(!f(e)||e.attributes&&!Array.isArray(e.attributes))}"function"==typeof Object.assign&&(u=Object.assign);var g,y="object"==typeof Reflect?Reflect:null,b=y&&"function"==typeof y.apply?y.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};g=y&&"function"==typeof y.ownKeys?y.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var m=Number.isNaN||function(e){return e!=e};function _(){_.init.call(this)}var w=_;_.EventEmitter=_,_.prototype._events=void 0,_.prototype._eventsCount=0,_.prototype._maxListeners=void 0;var x=10;function k(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function S(e){return void 0===e._maxListeners?_.defaultMaxListeners:e._maxListeners}function j(e,t,n,r){var i,a,o;if(k(n),void 0===(a=e._events)?(a=e._events=Object.create(null),e._eventsCount=0):(void 0!==a.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),a=e._events),o=a[t]),void 0===o)o=a[t]=n,++e._eventsCount;else if("function"==typeof o?o=a[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),(i=S(e))>0&&o.length>i&&!o.warned){o.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=e,s.type=t,s.count=o.length,console&&console.warn&&console.warn(s)}return e}function N(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function E(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=N.bind(r);return i.listener=n,r.wrapFn=i,i}function T(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):R(i,i.length)}function I(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function R(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function O(e){Object.defineProperty(this,"_next",{writable:!1,enumerable:!1,value:e}),this.done=!1}Object.defineProperty(_,"defaultMaxListeners",{enumerable:!0,get:function(){return x},set:function(e){if("number"!=typeof e||e<0||m(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");x=e}}),_.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},_.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||m(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},_.prototype.getMaxListeners=function(){return S(this)},_.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var o=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw o.context=a,o}var s=i[e];if(void 0===s)return!1;if("function"==typeof s)b(s,this,t);else{var u=s.length,c=R(s,u);for(n=0;n<u;++n)b(c[n],this,t)}return!0},_.prototype.on=_.prototype.addListener=function(e,t){return j(this,e,t,!1)},_.prototype.prependListener=function(e,t){return j(this,e,t,!0)},_.prototype.once=function(e,t){return k(t),this.on(e,E(this,e,t)),this},_.prototype.prependOnceListener=function(e,t){return k(t),this.prependListener(e,E(this,e,t)),this},_.prototype.off=_.prototype.removeListener=function(e,t){var n,r,i,a,o;if(k(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,a=n.length-1;a>=0;a--)if(n[a]===t||n[a].listener===t){o=n[a].listener,i=a;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,o||t)}return this},_.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,a=Object.keys(n);for(r=0;r<a.length;++r)"removeListener"!==(i=a[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},_.prototype.listeners=function(e){return T(this,e,!0)},_.prototype.rawListeners=function(e){return T(this,e,!1)},_.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):I.call(e,t)},_.prototype.listenerCount=I,_.prototype.eventNames=function(){return this._eventsCount>0?g(this._events):[]},w.once=function(e,t){return new Promise(function(n,r){function i(){void 0!==a&&e.removeListener("error",a),n([].slice.call(arguments))}var a;"error"!==t&&(a=function(n){e.removeListener(t,i),r(n)},e.once("error",a)),e.once(t,i)})},O.prototype.next=function(){if(this.done)return{done:!0};var e=this._next();return e.done&&(this.done=!0),e},"undefined"!=typeof Symbol&&(O.prototype[Symbol.iterator]=function(){return this}),O.of=function(){var e=arguments,t=e.length,n=0;return new O(function(){return n>=t?{done:!0}:{done:!1,value:e[n++]}})},O.empty=function(){var e=new O(null);return e.done=!0,e},O.is=function(e){return e instanceof O||"object"==typeof e&&null!==e&&"function"==typeof e.next};var A=O,L=function(e,t){for(var n,r=arguments.length>1?t:1/0,i=r!==1/0?new Array(r):[],a=0;;){if(a===r)return i;if((n=e.next()).done)return a!==t?i.slice(0,a):i;i[a++]=n.value}},M=function(e){function n(t,n){var r;return(r=e.call(this)||this).name="GraphError",r.message=t||"",r.data=n||{},r}return t(n,e),n}(o(Error)),D=function(e){function n(t,r){var i;return(i=e.call(this,t,r)||this).name="InvalidArgumentsGraphError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(s(i),n.prototype.constructor),i}return t(n,e),n}(M),P=function(e){function n(t,r){var i;return(i=e.call(this,t,r)||this).name="NotFoundGraphError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(s(i),n.prototype.constructor),i}return t(n,e),n}(M),C=function(e){function n(t,r){var i;return(i=e.call(this,t,r)||this).name="UsageGraphError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(s(i),n.prototype.constructor),i}return t(n,e),n}(M);function F(e,t){this.key=e,this.attributes=t,this.inDegree=0,this.outDegree=0,this.undirectedDegree=0,this.directedSelfLoops=0,this.undirectedSelfLoops=0,this.in={},this.out={},this.undirected={}}function B(e,t){this.key=e,this.attributes=t,this.inDegree=0,this.outDegree=0,this.directedSelfLoops=0,this.in={},this.out={}}function U(e,t){this.key=e,this.attributes=t,this.undirectedDegree=0,this.undirectedSelfLoops=0,this.undirected={}}function G(e,t,n,r,i,a){this.key=t,this.attributes=a,this.undirected=e,this.source=r,this.target=i,this.generatedKey=n}function V(e,t,n,r,i,a,o){var s,u,c="out",l="in";if(t&&(c=l="undirected"),e.multi){if(void 0===(u=(s=a[c])[i])&&(u=new Set,s[i]=u),u.add(n),r===i&&t)return;void 0===(s=o[l])[r]&&(s[r]=u)}else{if(a[c][i]=n,r===i&&t)return;o[l][r]=n}}function z(e,t,n){var r=e.multi,i=n.source,a=n.target,o=i.key,s=a.key,u=i[t?"undirected":"out"],c=t?"undirected":"in";if(s in u)if(r){var l=u[s];1===l.size?(delete u[s],delete a[c][o]):l.delete(n)}else delete u[s];r||delete a[c][o]}B.prototype.upgradeToMixed=function(){this.undirectedDegree=0,this.undirectedSelfLoops=0,this.undirected={}},U.prototype.upgradeToMixed=function(){this.inDegree=0,this.outDegree=0,this.directedSelfLoops=0,this.in={},this.out={}};var q=[{name:function(e){return"get".concat(e,"Attribute")},attacher:function(e,t,n){e.prototype[t]=function(e,r){var i;if("mixed"!==this.type&&"mixed"!==n&&n!==this.type)throw new C("Graph.".concat(t,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new C("Graph.".concat(t,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var a=""+e,o=""+r;if(r=arguments[2],!(i=c(this,a,o,n)))throw new P("Graph.".concat(t,': could not find an edge for the given path ("').concat(a,'" - "').concat(o,'").'))}else if(!(i=this._edges.get(e=""+e)))throw new P("Graph.".concat(t,': could not find the "').concat(e,'" edge in the graph.'));if("mixed"!==n&&i.undirected!==("undirected"===n))throw new P("Graph.".concat(t,': could not find the "').concat(e,'" ').concat(n," edge in the graph."));return i.attributes[r]}}},{name:function(e){return"get".concat(e,"Attributes")},attacher:function(e,t,n){e.prototype[t]=function(e){var r;if("mixed"!==this.type&&"mixed"!==n&&n!==this.type)throw new C("Graph.".concat(t,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>1){if(this.multi)throw new C("Graph.".concat(t,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var i=""+e,a=""+arguments[1];if(!(r=c(this,i,a,n)))throw new P("Graph.".concat(t,': could not find an edge for the given path ("').concat(i,'" - "').concat(a,'").'))}else if(!(r=this._edges.get(e=""+e)))throw new P("Graph.".concat(t,': could not find the "').concat(e,'" edge in the graph.'));if("mixed"!==n&&r.undirected!==("undirected"===n))throw new P("Graph.".concat(t,': could not find the "').concat(e,'" ').concat(n," edge in the graph."));return r.attributes}}},{name:function(e){return"has".concat(e,"Attribute")},attacher:function(e,t,n){e.prototype[t]=function(e,r){var i;if("mixed"!==this.type&&"mixed"!==n&&n!==this.type)throw new C("Graph.".concat(t,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new C("Graph.".concat(t,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var a=""+e,o=""+r;if(r=arguments[2],!(i=c(this,a,o,n)))throw new P("Graph.".concat(t,': could not find an edge for the given path ("').concat(a,'" - "').concat(o,'").'))}else if(!(i=this._edges.get(e=""+e)))throw new P("Graph.".concat(t,': could not find the "').concat(e,'" edge in the graph.'));if("mixed"!==n&&i.undirected!==("undirected"===n))throw new P("Graph.".concat(t,': could not find the "').concat(e,'" ').concat(n," edge in the graph."));return i.attributes.hasOwnProperty(r)}}},{name:function(e){return"set".concat(e,"Attribute")},attacher:function(e,t,n){e.prototype[t]=function(e,r,i){var a;if("mixed"!==this.type&&"mixed"!==n&&n!==this.type)throw new C("Graph.".concat(t,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>3){if(this.multi)throw new C("Graph.".concat(t,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var o=""+e,s=""+r;if(r=arguments[2],i=arguments[3],!(a=c(this,o,s,n)))throw new P("Graph.".concat(t,': could not find an edge for the given path ("').concat(o,'" - "').concat(s,'").'))}else if(!(a=this._edges.get(e=""+e)))throw new P("Graph.".concat(t,': could not find the "').concat(e,'" edge in the graph.'));if("mixed"!==n&&a.undirected!==("undirected"===n))throw new P("Graph.".concat(t,': could not find the "').concat(e,'" ').concat(n," edge in the graph."));return a.attributes[r]=i,this.emit("edgeAttributesUpdated",{key:a.key,type:"set",attributes:a.attributes,name:r}),this}}},{name:function(e){return"update".concat(e,"Attribute")},attacher:function(e,t,n){e.prototype[t]=function(e,r,i){var a;if("mixed"!==this.type&&"mixed"!==n&&n!==this.type)throw new C("Graph.".concat(t,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>3){if(this.multi)throw new C("Graph.".concat(t,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var o=""+e,s=""+r;if(r=arguments[2],i=arguments[3],!(a=c(this,o,s,n)))throw new P("Graph.".concat(t,': could not find an edge for the given path ("').concat(o,'" - "').concat(s,'").'))}else if(!(a=this._edges.get(e=""+e)))throw new P("Graph.".concat(t,': could not find the "').concat(e,'" edge in the graph.'));if("function"!=typeof i)throw new D("Graph.".concat(t,": updater should be a function."));if("mixed"!==n&&a.undirected!==("undirected"===n))throw new P("Graph.".concat(t,': could not find the "').concat(e,'" ').concat(n," edge in the graph."));return a.attributes[r]=i(a.attributes[r]),this.emit("edgeAttributesUpdated",{key:a.key,type:"set",attributes:a.attributes,name:r}),this}}},{name:function(e){return"remove".concat(e,"Attribute")},attacher:function(e,t,n){e.prototype[t]=function(e,r){var i;if("mixed"!==this.type&&"mixed"!==n&&n!==this.type)throw new C("Graph.".concat(t,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new C("Graph.".concat(t,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var a=""+e,o=""+r;if(r=arguments[2],!(i=c(this,a,o,n)))throw new P("Graph.".concat(t,': could not find an edge for the given path ("').concat(a,'" - "').concat(o,'").'))}else if(!(i=this._edges.get(e=""+e)))throw new P("Graph.".concat(t,': could not find the "').concat(e,'" edge in the graph.'));if("mixed"!==n&&i.undirected!==("undirected"===n))throw new P("Graph.".concat(t,': could not find the "').concat(e,'" ').concat(n," edge in the graph."));return delete i.attributes[r],this.emit("edgeAttributesUpdated",{key:i.key,type:"remove",attributes:i.attributes,name:r}),this}}},{name:function(e){return"replace".concat(e,"Attributes")},attacher:function(e,t,n){e.prototype[t]=function(e,r){var i;if("mixed"!==this.type&&"mixed"!==n&&n!==this.type)throw new C("Graph.".concat(t,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new C("Graph.".concat(t,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var a=""+e,o=""+r;if(r=arguments[2],!(i=c(this,a,o,n)))throw new P("Graph.".concat(t,': could not find an edge for the given path ("').concat(a,'" - "').concat(o,'").'))}else if(!(i=this._edges.get(e=""+e)))throw new P("Graph.".concat(t,': could not find the "').concat(e,'" edge in the graph.'));if(!f(r))throw new D("Graph.".concat(t,": provided attributes are not a plain object."));if("mixed"!==n&&i.undirected!==("undirected"===n))throw new P("Graph.".concat(t,': could not find the "').concat(e,'" ').concat(n," edge in the graph."));return i.attributes=r,this.emit("edgeAttributesUpdated",{key:i.key,type:"replace",attributes:i.attributes}),this}}},{name:function(e){return"merge".concat(e,"Attributes")},attacher:function(e,t,n){e.prototype[t]=function(e,r){var i;if("mixed"!==this.type&&"mixed"!==n&&n!==this.type)throw new C("Graph.".concat(t,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new C("Graph.".concat(t,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var a=""+e,o=""+r;if(r=arguments[2],!(i=c(this,a,o,n)))throw new P("Graph.".concat(t,': could not find an edge for the given path ("').concat(a,'" - "').concat(o,'").'))}else if(!(i=this._edges.get(e=""+e)))throw new P("Graph.".concat(t,': could not find the "').concat(e,'" edge in the graph.'));if(!f(r))throw new D("Graph.".concat(t,": provided attributes are not a plain object."));if("mixed"!==n&&i.undirected!==("undirected"===n))throw new P("Graph.".concat(t,': could not find the "').concat(e,'" ').concat(n," edge in the graph."));return u(i.attributes,r),this.emit("edgeAttributesUpdated",{key:i.key,type:"merge",attributes:i.attributes,data:r}),this}}}],K=function(){var e,t=arguments,n=-1;return new A(function r(){if(!e){if(++n>=t.length)return{done:!0};e=t[n]}var i=e.next();return i.done?(e=null,r()):i})},H=[{name:"edges",type:"mixed"},{name:"inEdges",type:"directed",direction:"in"},{name:"outEdges",type:"directed",direction:"out"},{name:"inboundEdges",type:"mixed",direction:"in"},{name:"outboundEdges",type:"mixed",direction:"out"},{name:"directedEdges",type:"directed"},{name:"undirectedEdges",type:"undirected"}];function W(e,t){for(var n in t)e.push(t[n].key)}function J(e,t){for(var n in t)t[n].forEach(function(t){return e.push(t.key)})}function Q(e,t,n){for(var r in e)if(r!==n){var i=e[r];t(i.key,i.attributes,i.source.key,i.target.key,i.source.attributes,i.target.attributes,i.undirected,i.generatedKey)}}function X(e,t,n){for(var r in e)r!==n&&e[r].forEach(function(e){return t(e.key,e.attributes,e.source.key,e.target.key,e.source.attributes,e.target.attributes,e.undirected,e.generatedKey)})}function Y(e,t,n){for(var r in e)if(r!==n){var i=e[r];if(t(i.key,i.attributes,i.source.key,i.target.key,i.source.attributes,i.target.attributes,i.undirected,i.generatedKey))return!0}return!1}function Z(e,t,n){var r,i,a,o,s;for(var u in e)if(u!==n)for(r=e[u].values();!0!==(i=r.next()).done;)if(o=(a=i.value).source,t(a.key,a.attributes,o.key,(s=a.target).key,o.attributes,s.attributes,a.undirected,a.generatedKey))return!0;return!1}function $(e,t){var n=Object.keys(e),r=n.length,i=null,a=0;return new A(function o(){var s;if(i){var u=i.next();if(u.done)return i=null,a++,o();s=u.value}else{if(a>=r)return{done:!0};var c=n[a];if(c===t)return a++,o();if((s=e[c])instanceof Set)return i=s.values(),o();a++}return{done:!1,value:[s.key,s.attributes,s.source.key,s.target.key,s.source.attributes,s.target.attributes]}})}function ee(e,t,n){var r=t[n];r&&e.push(r.key)}function te(e,t,n){var r=t[n];r&&r.forEach(function(t){return e.push(t.key)})}function ne(e,t,n){var r=e[t];if(r){var i=r.source,a=r.target;n(r.key,r.attributes,i.key,a.key,i.attributes,a.attributes,r.undirected,r.generatedKey)}}function re(e,t,n){var r=e[t];r&&r.forEach(function(e){return n(e.key,e.attributes,e.source.key,e.target.key,e.source.attributes,e.target.attributes,e.undirected,e.generatedKey)})}function ie(e,t,n){var r=e[t];if(r){var i=r.source,a=r.target;return n(r.key,r.attributes,i.key,a.key,i.attributes,a.attributes,r.undirected,r.generatedKey)}}function ae(e,t,n){var r=e[t];if(r){for(var i,a,o=r.values();!0!==(i=o.next()).done;)if(n((a=i.value).key,a.attributes,a.source.key,a.target.key,a.source.attributes,a.target.attributes,a.undirected,a.generatedKey))return!0;return!1}}function oe(e,t){var n=e[t];if(n instanceof Set){var r=n.values();return new A(function(){var e=r.next();if(e.done)return e;var t=e.value;return{done:!1,value:[t.key,t.attributes,t.source.key,t.target.key,t.source.attributes,t.target.attributes]}})}return A.of([n.key,n.attributes,n.source.key,n.target.key,n.source.attributes,n.target.attributes])}function se(e,t){if(0===e.size)return[];if("mixed"===t||t===e.type)return"function"==typeof Array.from?Array.from(e._edges.keys()):L(e._edges.keys(),e._edges.size);for(var n,r,i=new Array("undirected"===t?e.undirectedSize:e.directedSize),a="undirected"===t,o=e._edges.values(),s=0;!0!==(n=o.next()).done;)(r=n.value).undirected===a&&(i[s++]=r.key);return i}function ue(e,t,n){if(0!==e.size)for(var r,i,a="mixed"!==t&&t!==e.type,o="undirected"===t,s=e._edges.values();!0!==(r=s.next()).done;)if(i=r.value,!a||i.undirected===o){var u=i.source,c=i.target;n(i.key,i.attributes,u.key,c.key,u.attributes,c.attributes,i.undirected,i.generatedKey)}}function ce(e,t,n){if(0!==e.size)for(var r,i,a="mixed"!==t&&t!==e.type,o="undirected"===t,s=e._edges.values();!0!==(r=s.next()).done;)if(i=r.value,!a||i.undirected===o){var u=i.source,c=i.target;if(n(i.key,i.attributes,u.key,c.key,u.attributes,c.attributes,i.undirected,i.generatedKey))break}}function le(e,t){if(0===e.size)return A.empty();var n="mixed"!==t&&t!==e.type,r="undirected"===t,i=e._edges.values();return new A(function(){for(var e,t;;){if((e=i.next()).done)return e;if(t=e.value,!n||t.undirected===r)break}return{value:[t.key,t.attributes,t.source.key,t.target.key,t.source.attributes,t.target.attributes],done:!1}})}function fe(e,t,n,r){var i=[],a=e?J:W;return"undirected"!==t&&("out"!==n&&a(i,r.in),"in"!==n&&a(i,r.out),!n&&r.directedSelfLoops>0&&i.splice(i.lastIndexOf(r.key),1)),"directed"!==t&&a(i,r.undirected),i}function de(e,t,n,r,i){var a=e?X:Q;"undirected"!==t&&("out"!==n&&a(r.in,i),"in"!==n&&a(r.out,i,n?null:r.key)),"directed"!==t&&a(r.undirected,i)}function he(e,t,n,r,i){var a=e?Z:Y;if("undirected"!==t){if("out"!==n&&a(r.in,i))return;if("in"!==n&&a(r.out,i,n?null:r.key))return}"directed"===t||a(r.undirected,i)}function pe(e,t,n){var r=A.empty();return"undirected"!==e&&("out"!==t&&void 0!==n.in&&(r=K(r,$(n.in))),"in"!==t&&void 0!==n.out&&(r=K(r,$(n.out,t?null:n.key)))),"directed"!==e&&void 0!==n.undirected&&(r=K(r,$(n.undirected))),r}function ve(e,t,n,r,i){var a=t?te:ee,o=[];return"undirected"!==e&&(void 0!==r.in&&"out"!==n&&a(o,r.in,i),void 0!==r.out&&"in"!==n&&a(o,r.out,i),!n&&r.directedSelfLoops>0&&o.splice(o.lastIndexOf(r.key),1)),"directed"!==e&&void 0!==r.undirected&&a(o,r.undirected,i),o}function ge(e,t,n,r,i,a){var o=t?re:ne;"undirected"!==e&&(void 0!==r.in&&"out"!==n&&o(r.in,i,a),r.key!==i&&void 0!==r.out&&"in"!==n&&o(r.out,i,a)),"directed"!==e&&void 0!==r.undirected&&o(r.undirected,i,a)}function ye(e,t,n,r,i,a){var o=t?ae:ie;if("undirected"!==e){if(void 0!==r.in&&"out"!==n&&o(r.in,i,a))return;if(r.key!==i&&void 0!==r.out&&"in"!==n&&o(r.out,i,a,n?null:r.key))return}"directed"===e||void 0===r.undirected||o(r.undirected,i,a)}function be(e,t,n,r){var i=A.empty();return"undirected"!==e&&(void 0!==n.in&&"out"!==t&&r in n.in&&(i=K(i,oe(n.in,r))),void 0!==n.out&&"in"!==t&&r in n.out&&(i=K(i,oe(n.out,r)))),"directed"!==e&&void 0!==n.undirected&&r in n.undirected&&(i=K(i,oe(n.undirected,r))),i}var me=[{name:"neighbors",type:"mixed"},{name:"inNeighbors",type:"directed",direction:"in"},{name:"outNeighbors",type:"directed",direction:"out"},{name:"inboundNeighbors",type:"mixed",direction:"in"},{name:"outboundNeighbors",type:"mixed",direction:"out"},{name:"directedNeighbors",type:"directed"},{name:"undirectedNeighbors",type:"undirected"}];function _e(e,t){if(void 0!==t)for(var n in t)e.add(n)}function we(e,t,n){if("mixed"!==e){if("undirected"===e)return Object.keys(n.undirected);if("string"==typeof t)return Object.keys(n[t])}var r=new Set;return"undirected"!==e&&("out"!==t&&_e(r,n.in),"in"!==t&&_e(r,n.out)),"directed"!==e&&_e(r,n.undirected),L(r.values(),r.size)}function xe(e,t,n){for(var r in t){var i=t[r];i instanceof Set&&(i=i.values().next().value);var a=i.source,o=a===e?i.target:a;n(o.key,o.attributes)}}function ke(e,t,n,r){for(var i in n){var a=n[i];a instanceof Set&&(a=a.values().next().value);var o=a.source,s=o===t?a.target:o;e.has(s.key)||(e.add(s.key),r(s.key,s.attributes))}}function Se(e,t,n){for(var r in t){var i=t[r];i instanceof Set&&(i=i.values().next().value);var a=i.source,o=a===e?i.target:a;if(n(o.key,o.attributes))return!0}return!1}function je(e,t,n,r){for(var i in n){var a=n[i];a instanceof Set&&(a=a.values().next().value);var o=a.source,s=o===t?a.target:o;if(!e.has(s.key)&&(e.add(s.key),r(s.key,s.attributes)))return!0}return!1}function Ne(e,t){var n=Object.keys(t),r=n.length,i=0;return new A(function(){if(i>=r)return{done:!0};var a=t[n[i++]];a instanceof Set&&(a=a.values().next().value);var o=a.source,s=o===e?a.target:o;return{done:!1,value:[s.key,s.attributes]}})}function Ee(e,t,n){var r=Object.keys(n),i=r.length,a=0;return new A(function o(){if(a>=i)return{done:!0};var s=n[r[a++]];s instanceof Set&&(s=s.values().next().value);var u=s.source,c=u===t?s.target:u;return e.has(c.key)?o():(e.add(c.key),{done:!1,value:[c.key,c.attributes]})})}function Te(e,t,n,r,i){var a=e._nodes.get(r);if("undirected"!==t){if("out"!==n&&void 0!==a.in)for(var o in a.in)if(o===i)return!0;if("in"!==n&&void 0!==a.out)for(var s in a.out)if(s===i)return!0}if("directed"!==t&&void 0!==a.undirected)for(var u in a.undirected)if(u===i)return!0;return!1}function Ie(e,t,n){for(var r,i,a,o,s,u,c,l=t._nodes.values(),f=t.type;!0!==(r=l.next()).done;){if(i=r.value,"undirected"!==f)for(a in o=i.out)if(u=(s=o[a]).target,c=n(i.key,u.key,i.attributes,u.attributes,s.key,s.attributes,s.undirected,s.generatedKey),e&&c)return;if("directed"!==f)for(a in o=i.undirected)if((u=(s=o[a]).target).key!==a&&(u=s.source),c=n(i.key,u.key,i.attributes,u.attributes,s.key,s.attributes,s.undirected,s.generatedKey),e&&c)return}}function Re(e,t,n){for(var r,i,a,o,s,u,c,l,f,d=t._nodes.values(),h=t.type;!0!==(r=d.next()).done;){if(i=r.value,"undirected"!==h)for(a in u=i.out)for(o=u[a].values();!0!==(s=o.next()).done;)if(l=(c=s.value).target,f=n(i.key,l.key,i.attributes,l.attributes,c.key,c.attributes,c.undirected,c.generatedKey),e&&f)return;if("directed"!==h)for(a in u=i.undirected)for(o=u[a].values();!0!==(s=o.next()).done;)if((l=(c=s.value).target).key!==a&&(l=c.source),f=n(i.key,l.key,i.attributes,l.attributes,c.key,c.attributes,c.undirected,c.generatedKey),e&&f)return}}function Oe(e,t){var n={key:e};return d(t.attributes)||(n.attributes=u({},t.attributes)),n}function Ae(e,t){var n={source:t.source.key,target:t.target.key};return t.generatedKey||(n.key=e),d(t.attributes)||(n.attributes=u({},t.attributes)),t.undirected&&(n.undirected=!0),n}function Le(e){return f(e)?"key"in e?!("attributes"in e)||f(e.attributes)&&null!==e.attributes?null:"invalid-attributes":"no-key":"not-object"}function Me(e){return f(e)?"source"in e?"target"in e?!("attributes"in e)||f(e.attributes)&&null!==e.attributes?"undirected"in e&&"boolean"!=typeof e.undirected?"invalid-undirected":null:"invalid-attributes":"no-target":"no-source":"not-object"}var De=new Set(["directed","undirected","mixed"]),Pe=new Set(["domain","_events","_eventsCount","_maxListeners"]),Ce={allowSelfLoops:!0,edgeKeyGenerator:null,multi:!1,type:"mixed"};function Fe(e,t,n){var r=new e.NodeDataClass(t,n);return e._nodes.set(t,r),e.emit("nodeAdded",{key:t,attributes:n}),r}function Be(e,t,n,r,i,a,o,s){if(!r&&"undirected"===e.type)throw new C("Graph.".concat(t,": you cannot add a directed edge to an undirected graph. Use the #.addEdge or #.addUndirectedEdge instead."));if(r&&"directed"===e.type)throw new C("Graph.".concat(t,": you cannot add an undirected edge to a directed graph. Use the #.addEdge or #.addDirectedEdge instead."));if(s&&!f(s))throw new D("Graph.".concat(t,': invalid attributes. Expecting an object but got "').concat(s,'"'));if(a=""+a,o=""+o,s=s||{},!e.allowSelfLoops&&a===o)throw new C("Graph.".concat(t,': source & target are the same ("').concat(a,"\"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false."));var u=e._nodes.get(a),c=e._nodes.get(o);if(!u)throw new P("Graph.".concat(t,': source node "').concat(a,'" not found.'));if(!c)throw new P("Graph.".concat(t,': target node "').concat(o,'" not found.'));var l={key:null,undirected:r,source:a,target:o,attributes:s};if(n&&(i=e._edgeKeyGenerator(l)),e._edges.has(i=""+i))throw new C("Graph.".concat(t,': the "').concat(i,'" edge already exists in the graph.'));if(!e.multi&&(r?void 0!==u.undirected[o]:void 0!==u.out[o]))throw new C("Graph.".concat(t,': an edge linking "').concat(a,'" to "').concat(o,"\" already exists. If you really want to add multiple edges linking those nodes, you should create a multi graph by using the 'multi' option."));var d=new G(r,i,n,u,c,s);return e._edges.set(i,d),a===o?r?(u.undirectedSelfLoops++,e._undirectedSelfLoopCount++):(u.directedSelfLoops++,e._directedSelfLoopCount++):r?(u.undirectedDegree++,c.undirectedDegree++):(u.outDegree++,c.inDegree++),V(e,r,d,a,o,u,c),r?e._undirectedSize++:e._directedSize++,l.key=i,e.emit("edgeAdded",l),i}function Ue(e,t,n,r,i,a,o,s,c){if(!r&&"undirected"===e.type)throw new C("Graph.".concat(t,": you cannot add a directed edge to an undirected graph. Use the #.addEdge or #.addUndirectedEdge instead."));if(r&&"directed"===e.type)throw new C("Graph.".concat(t,": you cannot add an undirected edge to a directed graph. Use the #.addEdge or #.addDirectedEdge instead."));if(s)if(c){if("function"!=typeof s)throw new D("Graph.".concat(t,': invalid updater function. Expecting a function but got "').concat(s,'"'))}else if(!f(s))throw new D("Graph.".concat(t,': invalid attributes. Expecting an object but got "').concat(s,'"'));var l;if(a=""+a,o=""+o,c&&(l=s,s=void 0),!e.allowSelfLoops&&a===o)throw new C("Graph.".concat(t,': source & target are the same ("').concat(a,"\"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false."));var d,h,p=e._nodes.get(a),v=e._nodes.get(o);if(!n&&(d=e._edges.get(i))){if(d.source.key!==a||d.target.key!==o||r&&(d.source.key!==o||d.target.key!==a))throw new C("Graph.".concat(t,': inconsistency detected when attempting to merge the "').concat(i,'" edge with "').concat(a,'" source & "').concat(o,'" target vs. ("').concat(d.source.key,'", "').concat(d.target.key,'").'));h=d}if(h||e.multi||!p||(h=r?p.undirected[o]:p.out[o]),h)return(c?l:s)?(c?(h.attributes=l(h.attributes),e.emit("edgeAttributesUpdated",{type:"replace",key:h.key,attributes:h.attributes})):(u(h.attributes,s),e.emit("edgeAttributesUpdated",{type:"merge",key:h.key,attributes:h.attributes,data:s})),h.key):h.key;s=s||{},c&&l&&(s=l(s));var g={key:null,undirected:r,source:a,target:o,attributes:s};if(n&&(i=e._edgeKeyGenerator(g)),e._edges.has(i=""+i))throw new C("Graph.".concat(t,': the "').concat(i,'" edge already exists in the graph.'));return p||(p=Fe(e,a,{}),a===o&&(v=p)),v||(v=Fe(e,o,{})),d=new G(r,i,n,p,v,s),e._edges.set(i,d),a===o?r?(p.undirectedSelfLoops++,e._undirectedSelfLoopCount++):(p.directedSelfLoops++,e._directedSelfLoopCount++):r?(p.undirectedDegree++,v.undirectedDegree++):(p.outDegree++,v.inDegree++),V(e,r,d,a,o,p,v),r?e._undirectedSize++:e._directedSize++,g.key=i,e.emit("edgeAdded",g),i}var Ge=function(e){function n(t){var n;if(n=e.call(this)||this,(t=u({},Ce,t)).edgeKeyGenerator&&"function"!=typeof t.edgeKeyGenerator)throw new D("Graph.constructor: invalid 'edgeKeyGenerator' option. Expecting a function but got \"".concat(t.edgeKeyGenerator,'".'));if("boolean"!=typeof t.multi)throw new D("Graph.constructor: invalid 'multi' option. Expecting a boolean but got \"".concat(t.multi,'".'));if(!De.has(t.type))throw new D('Graph.constructor: invalid \'type\' option. Should be one of "mixed", "directed" or "undirected" but got "'.concat(t.type,'".'));if("boolean"!=typeof t.allowSelfLoops)throw new D("Graph.constructor: invalid 'allowSelfLoops' option. Expecting a boolean but got \"".concat(t.allowSelfLoops,'".'));var r,i="mixed"===t.type?F:"directed"===t.type?B:U;return h(s(n),"NodeDataClass",i),h(s(n),"_attributes",{}),h(s(n),"_nodes",new Map),h(s(n),"_edges",new Map),h(s(n),"_directedSize",0),h(s(n),"_undirectedSize",0),h(s(n),"_directedSelfLoopCount",0),h(s(n),"_undirectedSelfLoopCount",0),h(s(n),"_edgeKeyGenerator",t.edgeKeyGenerator||(r=0,function(){return"_geid".concat(r++,"_")})),h(s(n),"_options",t),Pe.forEach(function(e){return h(s(n),e,n[e])}),p(s(n),"order",function(){return n._nodes.size}),p(s(n),"size",function(){return n._edges.size}),p(s(n),"directedSize",function(){return n._directedSize}),p(s(n),"undirectedSize",function(){return n._undirectedSize}),p(s(n),"selfLoopCount",function(){return n._directedSelfLoopCount+n._undirectedSelfLoopCount}),p(s(n),"directedSelfLoopCount",function(){return n._directedSelfLoopCount}),p(s(n),"undirectedSelfLoopCount",function(){return n._undirectedSelfLoopCount}),p(s(n),"multi",n._options.multi),p(s(n),"type",n._options.type),p(s(n),"allowSelfLoops",n._options.allowSelfLoops),p(s(n),"implementation",function(){return"graphology"}),n}t(n,e);var r=n.prototype;return r.hasNode=function(e){return this._nodes.has(""+e)},r.hasDirectedEdge=function(e,t){if("undirected"===this.type)return!1;if(1===arguments.length){var n=this._edges.get(""+e);return!!n&&!n.undirected}if(2===arguments.length){t=""+t;var r=this._nodes.get(e=""+e);if(!r)return!1;var i=r.out[t];return!(!i||this.multi&&!i.size)}throw new D("Graph.hasDirectedEdge: invalid arity (".concat(arguments.length,", instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target."))},r.hasUndirectedEdge=function(e,t){if("directed"===this.type)return!1;if(1===arguments.length){var n=this._edges.get(""+e);return!!n&&n.undirected}if(2===arguments.length){t=""+t;var r=this._nodes.get(e=""+e);if(!r)return!1;var i=r.undirected[t];return!(!i||this.multi&&!i.size)}throw new D("Graph.hasDirectedEdge: invalid arity (".concat(arguments.length,", instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target."))},r.hasEdge=function(e,t){if(1===arguments.length)return this._edges.has(""+e);if(2===arguments.length){t=""+t;var n=this._nodes.get(e=""+e);if(!n)return!1;var r=void 0!==n.out&&n.out[t];return r||(r=void 0!==n.undirected&&n.undirected[t]),!(!r||this.multi&&!r.size)}throw new D("Graph.hasEdge: invalid arity (".concat(arguments.length,", instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target."))},r.directedEdge=function(e,t){if("undirected"!==this.type){if(e=""+e,t=""+t,this.multi)throw new C("Graph.directedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.directedEdges instead.");var n=this._nodes.get(e);if(!n)throw new P('Graph.directedEdge: could not find the "'.concat(e,'" source node in the graph.'));if(!this._nodes.has(t))throw new P('Graph.directedEdge: could not find the "'.concat(t,'" target node in the graph.'));var r=n.out&&n.out[t]||void 0;return r?r.key:void 0}},r.undirectedEdge=function(e,t){if("directed"!==this.type){if(e=""+e,t=""+t,this.multi)throw new C("Graph.undirectedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.undirectedEdges instead.");var n=this._nodes.get(e);if(!n)throw new P('Graph.undirectedEdge: could not find the "'.concat(e,'" source node in the graph.'));if(!this._nodes.has(t))throw new P('Graph.undirectedEdge: could not find the "'.concat(t,'" target node in the graph.'));var r=n.undirected&&n.undirected[t]||void 0;return r?r.key:void 0}},r.edge=function(e,t){if(this.multi)throw new C("Graph.edge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.edges instead.");t=""+t;var n=this._nodes.get(e=""+e);if(!n)throw new P('Graph.edge: could not find the "'.concat(e,'" source node in the graph.'));if(!this._nodes.has(t))throw new P('Graph.edge: could not find the "'.concat(t,'" target node in the graph.'));var r=n.out&&n.out[t]||n.undirected&&n.undirected[t]||void 0;if(r)return r.key},r.inDegree=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("boolean"!=typeof t)throw new D('Graph.inDegree: Expecting a boolean but got "'.concat(t,'" for the second parameter (allowing self-loops to be counted).'));var n=this._nodes.get(e=""+e);if(!n)throw new P('Graph.inDegree: could not find the "'.concat(e,'" node in the graph.'));return"undirected"===this.type?0:n.inDegree+(t?n.directedSelfLoops:0)},r.outDegree=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("boolean"!=typeof t)throw new D('Graph.outDegree: Expecting a boolean but got "'.concat(t,'" for the second parameter (allowing self-loops to be counted).'));var n=this._nodes.get(e=""+e);if(!n)throw new P('Graph.outDegree: could not find the "'.concat(e,'" node in the graph.'));return"undirected"===this.type?0:n.outDegree+(t?n.directedSelfLoops:0)},r.directedDegree=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("boolean"!=typeof t)throw new D('Graph.directedDegree: Expecting a boolean but got "'.concat(t,'" for the second parameter (allowing self-loops to be counted).'));var n=this._nodes.get(e=""+e);if(!n)throw new P('Graph.directedDegree: could not find the "'.concat(e,'" node in the graph.'));if("undirected"===this.type)return 0;var r=t?n.directedSelfLoops:0;return n.inDegree+r+(n.outDegree+r)},r.undirectedDegree=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("boolean"!=typeof t)throw new D('Graph.undirectedDegree: Expecting a boolean but got "'.concat(t,'" for the second parameter (allowing self-loops to be counted).'));var n=this._nodes.get(e=""+e);if(!n)throw new P('Graph.undirectedDegree: could not find the "'.concat(e,'" node in the graph.'));return"directed"===this.type?0:n.undirectedDegree+2*(t?n.undirectedSelfLoops:0)},r.degree=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("boolean"!=typeof t)throw new D('Graph.degree: Expecting a boolean but got "'.concat(t,'" for the second parameter (allowing self-loops to be counted).'));var n=this._nodes.get(e=""+e);if(!n)throw new P('Graph.degree: could not find the "'.concat(e,'" node in the graph.'));var r=0,i=0;return"directed"!==this.type&&(t&&(i=n.undirectedSelfLoops),r+=n.undirectedDegree+2*i),"undirected"!==this.type&&(t&&(i=n.directedSelfLoops),r+=n.inDegree+n.outDegree+2*i),r},r.source=function(e){var t=this._edges.get(e=""+e);if(!t)throw new P('Graph.source: could not find the "'.concat(e,'" edge in the graph.'));return t.source.key},r.target=function(e){var t=this._edges.get(e=""+e);if(!t)throw new P('Graph.target: could not find the "'.concat(e,'" edge in the graph.'));return t.target.key},r.extremities=function(e){var t=this._edges.get(e=""+e);if(!t)throw new P('Graph.extremities: could not find the "'.concat(e,'" edge in the graph.'));return[t.source.key,t.target.key]},r.opposite=function(e,t){e=""+e;var n=this._edges.get(t=""+t);if(!n)throw new P('Graph.opposite: could not find the "'.concat(t,'" edge in the graph.'));var r=n.source.key,i=n.target.key;if(e!==r&&e!==i)throw new P('Graph.opposite: the "'.concat(e,'" node is not attached to the "').concat(t,'" edge (').concat(r,", ").concat(i,")."));return e===r?i:r},r.hasExtremity=function(e,t){t=""+t;var n=this._edges.get(e=""+e);if(!n)throw new P('Graph.hasExtremity: could not find the "'.concat(e,'" edge in the graph.'));return n.source.key===t||n.target.key===t},r.isUndirected=function(e){var t=this._edges.get(e=""+e);if(!t)throw new P('Graph.isUndirected: could not find the "'.concat(e,'" edge in the graph.'));return t.undirected},r.isDirected=function(e){var t=this._edges.get(e=""+e);if(!t)throw new P('Graph.isDirected: could not find the "'.concat(e,'" edge in the graph.'));return!t.undirected},r.isSelfLoop=function(e){var t=this._edges.get(e=""+e);if(!t)throw new P('Graph.isSelfLoop: could not find the "'.concat(e,'" edge in the graph.'));return t.source===t.target},r.hasGeneratedKey=function(e){var t=this._edges.get(e=""+e);if(!t)throw new P('Graph.hasGeneratedKey: could not find the "'.concat(e,'" edge in the graph.'));return t.generatedKey},r.addNode=function(e,t){return function(e,t,n){if(n&&!f(n))throw new D('Graph.addNode: invalid attributes. Expecting an object but got "'.concat(n,'"'));if(n=n||{},e._nodes.has(t=""+t))throw new C('Graph.addNode: the "'.concat(t,'" node already exist in the graph.'));var r=new e.NodeDataClass(t,n);return e._nodes.set(t,r),e.emit("nodeAdded",{key:t,attributes:n}),r}(this,e,t).key},r.mergeNode=function(e,t){if(t&&!f(t))throw new D('Graph.mergeNode: invalid attributes. Expecting an object but got "'.concat(t,'"'));t=t||{};var n=this._nodes.get(e=""+e);return n?(t&&(u(n.attributes,t),this.emit("nodeAttributesUpdated",{type:"merge",key:e,attributes:n.attributes,data:t})),e):(n=new this.NodeDataClass(e,t),this._nodes.set(e,n),this.emit("nodeAdded",{key:e,attributes:t}),e)},r.updateNode=function(e,t){if(t&&"function"!=typeof t)throw new D('Graph.updateNode: invalid updater function. Expecting a function but got "'.concat(t,'"'));var n=this._nodes.get(e=""+e);if(n)return t&&(n.attributes=t(n.attributes),this.emit("nodeAttributesUpdated",{type:"replace",key:e,attributes:n.attributes})),e;var r=t?t({}):{};return n=new this.NodeDataClass(e,r),this._nodes.set(e,n),this.emit("nodeAdded",{key:e,attributes:r}),e},r.dropNode=function(e){var t=this,n=this._nodes.get(e=""+e);if(!n)throw new P('Graph.dropNode: could not find the "'.concat(e,'" node in the graph.'));this.forEachEdge(e,function(e){t.dropEdge(e)}),this._nodes.delete(e),this.emit("nodeDropped",{key:e,attributes:n.attributes})},r.dropEdge=function(e){var t;if(arguments.length>1){var n=""+arguments[0],r=""+arguments[1];if(!(t=c(this,n,r,this.type)))throw new P('Graph.dropEdge: could not find the "'.concat(n,'" -> "').concat(r,'" edge in the graph.'))}else if(!(t=this._edges.get(e=""+e)))throw new P('Graph.dropEdge: could not find the "'.concat(e,'" edge in the graph.'));this._edges.delete(t.key);var i=t.source,a=t.target,o=t.attributes,s=t.undirected;return i===a?s?(i.undirectedSelfLoops--,this._undirectedSelfLoopCount--):(i.directedSelfLoops--,this._directedSelfLoopCount--):s?(i.undirectedDegree--,a.undirectedDegree--):(i.outDegree--,a.inDegree--),z(this,s,t),s?this._undirectedSize--:this._directedSize--,this.emit("edgeDropped",{key:e,attributes:o,source:i.key,target:a.key,undirected:s}),this},r.clear=function(){this._edges.clear(),this._nodes.clear(),this.emit("cleared")},r.clearEdges=function(){this._edges.clear(),this.clearIndex(),this.emit("edgesCleared")},r.getAttribute=function(e){return this._attributes[e]},r.getAttributes=function(){return this._attributes},r.hasAttribute=function(e){return this._attributes.hasOwnProperty(e)},r.setAttribute=function(e,t){return this._attributes[e]=t,this.emit("attributesUpdated",{type:"set",attributes:this._attributes,name:e}),this},r.updateAttribute=function(e,t){if("function"!=typeof t)throw new D("Graph.updateAttribute: updater should be a function.");return this._attributes[e]=t(this._attributes[e]),this.emit("attributesUpdated",{type:"set",attributes:this._attributes,name:e}),this},r.removeAttribute=function(e){return delete this._attributes[e],this.emit("attributesUpdated",{type:"remove",attributes:this._attributes,name:e}),this},r.replaceAttributes=function(e){if(!f(e))throw new D("Graph.replaceAttributes: provided attributes are not a plain object.");return this._attributes=e,this.emit("attributesUpdated",{type:"replace",attributes:this._attributes}),this},r.mergeAttributes=function(e){if(!f(e))throw new D("Graph.mergeAttributes: provided attributes are not a plain object.");return u(this._attributes,e),this.emit("attributesUpdated",{type:"merge",attributes:this._attributes,data:e}),this},r.getNodeAttribute=function(e,t){var n=this._nodes.get(e=""+e);if(!n)throw new P('Graph.getNodeAttribute: could not find the "'.concat(e,'" node in the graph.'));return n.attributes[t]},r.getNodeAttributes=function(e){var t=this._nodes.get(e=""+e);if(!t)throw new P('Graph.getNodeAttributes: could not find the "'.concat(e,'" node in the graph.'));return t.attributes},r.hasNodeAttribute=function(e,t){var n=this._nodes.get(e=""+e);if(!n)throw new P('Graph.hasNodeAttribute: could not find the "'.concat(e,'" node in the graph.'));return n.attributes.hasOwnProperty(t)},r.setNodeAttribute=function(e,t,n){var r=this._nodes.get(e=""+e);if(!r)throw new P('Graph.setNodeAttribute: could not find the "'.concat(e,'" node in the graph.'));if(arguments.length<3)throw new D("Graph.setNodeAttribute: not enough arguments. Either you forgot to pass the attribute's name or value, or you meant to use #.replaceNodeAttributes / #.mergeNodeAttributes instead.");return r.attributes[t]=n,this.emit("nodeAttributesUpdated",{key:e,type:"set",attributes:r.attributes,name:t}),this},r.updateNodeAttribute=function(e,t,n){var r=this._nodes.get(e=""+e);if(!r)throw new P('Graph.updateNodeAttribute: could not find the "'.concat(e,'" node in the graph.'));if(arguments.length<3)throw new D("Graph.updateNodeAttribute: not enough arguments. Either you forgot to pass the attribute's name or updater, or you meant to use #.replaceNodeAttributes / #.mergeNodeAttributes instead.");if("function"!=typeof n)throw new D("Graph.updateAttribute: updater should be a function.");var i=r.attributes,a=n(i[t]);return i[t]=a,this.emit("nodeAttributesUpdated",{key:e,type:"set",attributes:r.attributes,name:t}),this},r.removeNodeAttribute=function(e,t){var n=this._nodes.get(e=""+e);if(!n)throw new P('Graph.hasNodeAttribute: could not find the "'.concat(e,'" node in the graph.'));return delete n.attributes[t],this.emit("nodeAttributesUpdated",{key:e,type:"remove",attributes:n.attributes,name:t}),this},r.replaceNodeAttributes=function(e,t){var n=this._nodes.get(e=""+e);if(!n)throw new P('Graph.replaceNodeAttributes: could not find the "'.concat(e,'" node in the graph.'));if(!f(t))throw new D("Graph.replaceNodeAttributes: provided attributes are not a plain object.");return n.attributes=t,this.emit("nodeAttributesUpdated",{key:e,type:"replace",attributes:n.attributes}),this},r.mergeNodeAttributes=function(e,t){var n=this._nodes.get(e=""+e);if(!n)throw new P('Graph.mergeNodeAttributes: could not find the "'.concat(e,'" node in the graph.'));if(!f(t))throw new D("Graph.mergeNodeAttributes: provided attributes are not a plain object.");return u(n.attributes,t),this.emit("nodeAttributesUpdated",{key:e,type:"merge",attributes:n.attributes,data:t}),this},r.updateEachNodeAttributes=function(e,t){if("function"!=typeof e)throw new D("Graph.updateEachNodeAttributes: expecting an updater function.");if(t&&!v(t))throw new D("Graph.updateEachNodeAttributes: invalid hints. Expecting an object having the following shape: {attributes?: [string]}");for(var n,r,i=this._nodes.values();!0!==(n=i.next()).done;)(r=n.value).attributes=e(r.key,r.attributes);this.emit("eachNodeAttributesUpdated",{hints:t||null})},r.updateEachEdgeAttributes=function(e,t){if("function"!=typeof e)throw new D("Graph.updateEachEdgeAttributes: expecting an updater function.");if(t&&!v(t))throw new D("Graph.updateEachEdgeAttributes: invalid hints. Expecting an object having the following shape: {attributes?: [string]}");for(var n,r,i=this._edges.values();!0!==(n=i.next()).done;)(r=n.value).attributes=e(r.key,r.attributes);this.emit("eachEdgeAttributesUpdated",{hints:t||null})},r.forEach=function(e){if("function"!=typeof e)throw new D("Graph.forEach: expecting a callback.");this.multi?Re(!1,this,e):Ie(!1,this,e)},r.forEachUntil=function(e){if("function"!=typeof e)throw new D("Graph.forEach: expecting a callback.");this.multi?Re(!0,this,e):Ie(!0,this,e)},r.adjacency=function(){return this.multi?(a=(e=this)._nodes.values(),o=e.type,s="outer",u=null,new A(function e(){var c;if("outer"===s)return!0===(c=a.next()).done?c:(t=c.value,s="directed",e());if("directed"===s)return"undirected"===o?(s="undirected",e()):(r=t.out,n=Object.keys(t.out),i=0,s="inner-directed",e());if("undirected"===s){if("directed"===o)return s="outer",e();r=t.undirected,n=Object.keys(t.undirected),i=0,s="inner-undirected"}if(!u&&i>=n.length)return s="inner-undirected"===s?"outer":"undirected",e();if(!u){var l=n[i++];return u=r[l].values(),e()}if((c=u.next()).done)return u=null,e();var f=c.value,d=f.target;return"inner-undirected"===s&&d.key===t.key&&(d=f.source),{done:!1,value:[t.key,d.key,t.attributes,d.attributes,f.key,f.attributes]}})):function(e){var t,n,r,i,a=e._nodes.values(),o=e.type,s="outer";return new A(function e(){var u;if("outer"===s)return!0===(u=a.next()).done?u:(t=u.value,s="directed",e());if("directed"===s)return"undirected"===o?(s="undirected",e()):(r=t.out,n=Object.keys(t.out),i=0,s="inner-directed",e());if("undirected"===s){if("directed"===o)return s="outer",e();r=t.undirected,n=Object.keys(t.undirected),i=0,s="inner-undirected"}if(i>=n.length)return s="inner-undirected"===s?"outer":"undirected",e();var c=n[i++],l=r[c],f=l.target;return"inner-undirected"===s&&f.key===t.key&&(f=l.source),{done:!1,value:[t.key,f.key,t.attributes,f.attributes,l.key,l.attributes]}})}(this);var e,t,n,r,i,a,o,s,u},r.nodes=function(){return"function"==typeof Array.from?Array.from(this._nodes.keys()):L(this._nodes.keys(),this._nodes.size)},r.forEachNode=function(e){if("function"!=typeof e)throw new D("Graph.forEachNode: expecting a callback.");this._nodes.forEach(function(t,n){e(n,t.attributes)})},r.forEachNodeUntil=function(e){if("function"!=typeof e)throw new D("Graph.forEachNode: expecting a callback.");for(var t,n,r=this._nodes.values();!0!==(t=r.next())&&!e((n=t.value).key,n.attributes););},r.nodeEntries=function(){var e=this._nodes.values();return new A(function(){var t=e.next();if(t.done)return t;var n=t.value;return{value:[n.key,n.attributes],done:!1}})},r.exportNode=function(e){var t=this._nodes.get(e=""+e);if(!t)throw new P('Graph.exportNode: could not find the "'.concat(e,'" node in the graph.'));return Oe(e,t)},r.exportEdge=function(e){var t=this._edges.get(e=""+e);if(!t)throw new P('Graph.exportEdge: could not find the "'.concat(e,'" edge in the graph.'));return Ae(e,t)},r.export=function(){var e=new Array(this._nodes.size),t=0;this._nodes.forEach(function(n,r){e[t++]=Oe(r,n)});var n=new Array(this._edges.size);return t=0,this._edges.forEach(function(e,r){n[t++]=Ae(r,e)}),{attributes:this.getAttributes(),nodes:e,edges:n,options:{type:this.type,multi:this.multi,allowSelfLoops:this.allowSelfLoops}}},r.importNode=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Le(e);if(n){if("not-object"===n)throw new D('Graph.importNode: invalid serialized node. A serialized node should be a plain object with at least a "key" property.');if("no-key"===n)throw new D("Graph.importNode: no key provided.");if("invalid-attributes"===n)throw new D("Graph.importNode: invalid attributes. Attributes should be a plain object, null or omitted.")}var r=e.key,i=e.attributes,a=void 0===i?{}:i;return t?this.mergeNode(r,a):this.addNode(r,a),this},r.importEdge=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Me(e);if(n){if("not-object"===n)throw new D('Graph.importEdge: invalid serialized edge. A serialized edge should be a plain object with at least a "source" & "target" property.');if("no-source"===n)throw new D("Graph.importEdge: missing souce.");if("no-target"===n)throw new D("Graph.importEdge: missing target.");if("invalid-attributes"===n)throw new D("Graph.importEdge: invalid attributes. Attributes should be a plain object, null or omitted.");if("invalid-undirected"===n)throw new D("Graph.importEdge: invalid undirected. Undirected should be boolean or omitted.")}var r=e.source,i=e.target,a=e.attributes,o=void 0===a?{}:a,s=e.undirected,u=void 0!==s&&s;return"key"in e?(t?u?this.mergeUndirectedEdgeWithKey:this.mergeDirectedEdgeWithKey:u?this.addUndirectedEdgeWithKey:this.addDirectedEdgeWithKey).call(this,e.key,r,i,o):(t?u?this.mergeUndirectedEdge:this.mergeDirectedEdge:u?this.addUndirectedEdge:this.addDirectedEdge).call(this,r,i,o),this},r.import=function(e){var t,n,r,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(l(e))return this.import(e.export(),i),this;if(!f(e))throw new D("Graph.import: invalid argument. Expecting a serialized graph or, alternatively, a Graph instance.");if(e.attributes){if(!f(e.attributes))throw new D("Graph.import: invalid attributes. Expecting a plain object.");i?this.mergeAttributes(e.attributes):this.replaceAttributes(e.attributes)}if(e.nodes){if(r=e.nodes,!Array.isArray(r))throw new D("Graph.import: invalid nodes. Expecting an array.");for(t=0,n=r.length;t<n;t++)this.importNode(r[t],i)}if(e.edges){if(r=e.edges,!Array.isArray(r))throw new D("Graph.import: invalid edges. Expecting an array.");for(t=0,n=r.length;t<n;t++)this.importEdge(r[t],i)}return this},r.nullCopy=function(e){return new n(u({},this._options,e))},r.emptyCopy=function(e){var t=this.nullCopy(e);return this._nodes.forEach(function(e,n){var r=u({},e.attributes);e=new t.NodeDataClass(n,r),t._nodes.set(n,e)}),t},r.copy=function(){var e=new n(this._options);return e.import(this),e},r.upgradeToMixed=function(){return"mixed"===this.type||(this._nodes.forEach(function(e){return e.upgradeToMixed()}),this._options.type="mixed",p(this,"type",this._options.type),h(this,"NodeDataClass",F)),this},r.upgradeToMulti=function(){return this.multi||(this._options.multi=!0,p(this,"multi",!0),(e=this)._nodes.forEach(function(t,n){if(t.out)for(var r in t.out){var i=new Set;i.add(t.out[r]),t.out[r]=i,e._nodes.get(r).in[n]=i}if(t.undirected)for(var a in t.undirected)if(!(a>n)){var o=new Set;o.add(t.undirected[a]),t.undirected[a]=o,e._nodes.get(a).undirected[n]=o}})),this;var e},r.clearIndex=function(){return this._nodes.forEach(function(e){void 0!==e.in&&(e.in={},e.out={}),void 0!==e.undirected&&(e.undirected={})}),this},r.toJSON=function(){return this.export()},r.toString=function(){return"[object Graph]"},r.inspect=function(){var e=this,t={};this._nodes.forEach(function(e,n){t[n]=e.attributes});var n={},r={};this._edges.forEach(function(t,i){var a=t.undirected?"--":"->",o="",s="(".concat(t.source.key,")").concat(a,"(").concat(t.target.key,")");t.generatedKey?e.multi&&(void 0===r[s]?r[s]=0:r[s]++,o+="".concat(r[s],". ")):o+="[".concat(i,"]: "),n[o+=s]=t.attributes});var i={};for(var a in this)this.hasOwnProperty(a)&&!Pe.has(a)&&"function"!=typeof this[a]&&(i[a]=this[a]);return i.attributes=this._attributes,i.nodes=t,i.edges=n,h(i,"constructor",this.constructor),i},n}(w.EventEmitter);"undefined"!=typeof Symbol&&(Ge.prototype[Symbol.for("nodejs.util.inspect.custom")]=Ge.prototype.inspect),[{name:function(e){return"".concat(e,"Edge")},generateKey:!0},{name:function(e){return"".concat(e,"DirectedEdge")},generateKey:!0,type:"directed"},{name:function(e){return"".concat(e,"UndirectedEdge")},generateKey:!0,type:"undirected"},{name:function(e){return"".concat(e,"EdgeWithKey")}},{name:function(e){return"".concat(e,"DirectedEdgeWithKey")},type:"directed"},{name:function(e){return"".concat(e,"UndirectedEdgeWithKey")},type:"undirected"}].forEach(function(e){["add","merge","update"].forEach(function(t){var n=e.name(t),r="add"===t?Be:Ue;Ge.prototype[n]=e.generateKey?function(i,a,o){return r(this,n,!0,"undirected"===(e.type||this.type),null,i,a,o,"update"===t)}:function(i,a,o,s){return r(this,n,!1,"undirected"===(e.type||this.type),i,a,o,s,"update"===t)}})}),"undefined"!=typeof Symbol&&(Ge.prototype[Symbol.iterator]=Ge.prototype.adjacency),function(e){q.forEach(function(t){var n=t.name,r=t.attacher;r(e,n("Edge"),"mixed"),r(e,n("DirectedEdge"),"directed"),r(e,n("UndirectedEdge"),"undirected")})}(Ge),function(e){H.forEach(function(t){!function(e,t){var n=t.name,r=t.type,i=t.direction;e.prototype[n]=function(e,t){if("mixed"!==r&&"mixed"!==this.type&&r!==this.type)return[];if(!arguments.length)return se(this,r);if(1===arguments.length){var a=this._nodes.get(e=""+e);if(void 0===a)throw new P("Graph.".concat(n,': could not find the "').concat(e,'" node in the graph.'));return fe(this.multi,"mixed"===r?this.type:r,i,a)}if(2===arguments.length){t=""+t;var o=this._nodes.get(e=""+e);if(!o)throw new P("Graph.".concat(n,':  could not find the "').concat(e,'" source node in the graph.'));if(!this._nodes.has(t))throw new P("Graph.".concat(n,':  could not find the "').concat(t,'" target node in the graph.'));return ve(r,this.multi,i,o,t)}throw new D("Graph.".concat(n,": too many arguments (expecting 0, 1 or 2 and got ").concat(arguments.length,")."))}}(e,t),function(e,t){var n=t.name,r=t.type,i=t.direction,a="forEach"+n[0].toUpperCase()+n.slice(1,-1);e.prototype[a]=function(e,t,n){if("mixed"===r||"mixed"===this.type||r===this.type){if(1===arguments.length)return ue(this,r,n=e);if(2===arguments.length){n=t;var o=this._nodes.get(e=""+e);if(void 0===o)throw new P("Graph.".concat(a,': could not find the "').concat(e,'" node in the graph.'));return de(this.multi,"mixed"===r?this.type:r,i,o,n)}if(3===arguments.length){t=""+t;var s=this._nodes.get(e=""+e);if(!s)throw new P("Graph.".concat(a,':  could not find the "').concat(e,'" source node in the graph.'));if(!this._nodes.has(t))throw new P("Graph.".concat(a,':  could not find the "').concat(t,'" target node in the graph.'));return ge(r,this.multi,i,s,t,n)}throw new D("Graph.".concat(a,": too many arguments (expecting 1, 2 or 3 and got ").concat(arguments.length,")."))}}}(e,t),function(e,t){var n=t.name,r=t.type,i=t.direction,a="forEach"+n[0].toUpperCase()+n.slice(1,-1)+"Until";e.prototype[a]=function(e,t,n){if("mixed"===r||"mixed"===this.type||r===this.type){if(1===arguments.length)return ce(this,r,n=e);if(2===arguments.length){n=t;var o=this._nodes.get(e=""+e);if(void 0===o)throw new P("Graph.".concat(a,': could not find the "').concat(e,'" node in the graph.'));return he(this.multi,"mixed"===r?this.type:r,i,o,n)}if(3===arguments.length){t=""+t;var s=this._nodes.get(e=""+e);if(!s)throw new P("Graph.".concat(a,':  could not find the "').concat(e,'" source node in the graph.'));if(!this._nodes.has(t))throw new P("Graph.".concat(a,':  could not find the "').concat(t,'" target node in the graph.'));return ye(r,this.multi,i,s,t,n)}throw new D("Graph.".concat(a,": too many arguments (expecting 1, 2 or 3 and got ").concat(arguments.length,")."))}}}(e,t),function(e,t){var n=t.type,r=t.direction,i=t.name.slice(0,-1)+"Entries";e.prototype[i]=function(e,t){if("mixed"!==n&&"mixed"!==this.type&&n!==this.type)return A.empty();if(!arguments.length)return le(this,n);if(1===arguments.length){var a=this._nodes.get(e=""+e);if(!a)throw new P("Graph.".concat(i,': could not find the "').concat(e,'" node in the graph.'));return pe(n,r,a)}if(2===arguments.length){t=""+t;var o=this._nodes.get(e=""+e);if(!o)throw new P("Graph.".concat(i,':  could not find the "').concat(e,'" source node in the graph.'));if(!this._nodes.has(t))throw new P("Graph.".concat(i,':  could not find the "').concat(t,'" target node in the graph.'));return be(n,r,o,t)}throw new D("Graph.".concat(i,": too many arguments (expecting 0, 1 or 2 and got ").concat(arguments.length,")."))}}(e,t)})}(Ge),function(e){me.forEach(function(t){!function(e,t){var n=t.name,r=t.type,i=t.direction;e.prototype[n]=function(e){if("mixed"!==r&&"mixed"!==this.type&&r!==this.type)return[];if(2===arguments.length){var t=""+arguments[0],a=""+arguments[1];if(!this._nodes.has(t))throw new P("Graph.".concat(n,': could not find the "').concat(t,'" node in the graph.'));if(!this._nodes.has(a))throw new P("Graph.".concat(n,': could not find the "').concat(a,'" node in the graph.'));return Te(this,r,i,t,a)}if(1===arguments.length){var o=this._nodes.get(e=""+e);if(void 0===o)throw new P("Graph.".concat(n,': could not find the "').concat(e,'" node in the graph.'));return we("mixed"===r?this.type:r,i,o)}throw new D("Graph.".concat(n,": invalid number of arguments (expecting 1 or 2 and got ").concat(arguments.length,")."))}}(e,t),function(e,t){var n=t.name,r=t.type,i=t.direction,a="forEach"+n[0].toUpperCase()+n.slice(1,-1);e.prototype[a]=function(e,t){if("mixed"===r||"mixed"===this.type||r===this.type){var n=this._nodes.get(e=""+e);if(void 0===n)throw new P("Graph.".concat(a,': could not find the "').concat(e,'" node in the graph.'));!function(e,t,n,r){if("mixed"!==e){if("undirected"===e)return xe(n,n.undirected,r);if("string"==typeof t)return xe(n,n[t],r)}var i=new Set;"undirected"!==e&&("out"!==t&&ke(i,n,n.in,r),"in"!==t&&ke(i,n,n.out,r)),"directed"!==e&&ke(i,n,n.undirected,r)}("mixed"===r?this.type:r,i,n,t)}}}(e,t),function(e,t){var n=t.name,r=t.type,i=t.direction,a="forEach"+n[0].toUpperCase()+n.slice(1,-1)+"Until";e.prototype[a]=function(e,t){if("mixed"===r||"mixed"===this.type||r===this.type){var n=this._nodes.get(e=""+e);if(void 0===n)throw new P("Graph.".concat(a,': could not find the "').concat(e,'" node in the graph.'));!function(e,t,n,r){if("mixed"!==e){if("undirected"===e)return Se(n,n.undirected,r);if("string"==typeof t)return Se(n,n[t],r)}var i=new Set;if("undirected"!==e){if("out"!==t&&je(i,n,n.in,r))return;if("in"!==t&&je(i,n,n.out,r))return}"directed"===e||je(i,n,n.undirected,r)}("mixed"===r?this.type:r,i,n,t)}}}(e,t),function(e,t){var n=t.type,r=t.direction,i=t.name.slice(0,-1)+"Entries";e.prototype[i]=function(e){if("mixed"!==n&&"mixed"!==this.type&&n!==this.type)return A.empty();var t=this._nodes.get(e=""+e);if(void 0===t)throw new P("Graph.".concat(i,': could not find the "').concat(e,'" node in the graph.'));return function(e,t,n){if("mixed"!==e){if("undirected"===e)return Ne(n,n.undirected);if("string"==typeof t)return Ne(n,n[t])}var r=A.empty(),i=new Set;return"undirected"!==e&&("out"!==t&&(r=K(r,Ee(i,n,n.in))),"in"!==t&&(r=K(r,Ee(i,n,n.out)))),"directed"!==e&&(r=K(r,Ee(i,n,n.undirected))),r}("mixed"===n?this.type:n,r,t)}}(e,t)})}(Ge);var Ve=function(e){function n(t){var n=u({type:"directed"},t);if("multi"in n&&!1!==n.multi)throw new D("DirectedGraph.from: inconsistent indication that the graph should be multi in given options!");if("directed"!==n.type)throw new D('DirectedGraph.from: inconsistent "'+n.type+'" type in given options!');return e.call(this,n)||this}return t(n,e),n}(Ge),ze=function(e){function n(t){var n=u({type:"undirected"},t);if("multi"in n&&!1!==n.multi)throw new D("UndirectedGraph.from: inconsistent indication that the graph should be multi in given options!");if("undirected"!==n.type)throw new D('UndirectedGraph.from: inconsistent "'+n.type+'" type in given options!');return e.call(this,n)||this}return t(n,e),n}(Ge),qe=function(e){function n(t){var n=u({multi:!0},t);if("multi"in n&&!0!==n.multi)throw new D("MultiGraph.from: inconsistent indication that the graph should be simple in given options!");return e.call(this,n)||this}return t(n,e),n}(Ge),Ke=function(e){function n(t){var n=u({type:"directed",multi:!0},t);if("multi"in n&&!0!==n.multi)throw new D("MultiDirectedGraph.from: inconsistent indication that the graph should be simple in given options!");if("directed"!==n.type)throw new D('MultiDirectedGraph.from: inconsistent "'+n.type+'" type in given options!');return e.call(this,n)||this}return t(n,e),n}(Ge),He=function(e){function n(t){var n=u({type:"undirected",multi:!0},t);if("multi"in n&&!0!==n.multi)throw new D("MultiUndirectedGraph.from: inconsistent indication that the graph should be simple in given options!");if("undirected"!==n.type)throw new D('MultiUndirectedGraph.from: inconsistent "'+n.type+'" type in given options!');return e.call(this,n)||this}return t(n,e),n}(Ge);function We(e){e.from=function(t,n){var r=u({},t.options,n),i=new e(r);return i.import(t),i}}return We(Ge),We(Ve),We(ze),We(qe),We(Ke),We(He),Ge.Graph=Ge,Ge.DirectedGraph=Ve,Ge.UndirectedGraph=ze,Ge.MultiGraph=qe,Ge.MultiDirectedGraph=Ke,Ge.MultiUndirectedGraph=He,Ge.InvalidArgumentsGraphError=D,Ge.NotFoundGraphError=P,Ge.UsageGraphError=C,Ge}()},JFj6:function(t,a,o){t.exports=function e(t,n,r){function i(o,s){if(!n[o]){if(!t[o]){if(a)return a(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[o]={exports:{}};t[o][0].call(c.exports,function(e){return i(t[o][1][e]||e)},c,c.exports,e,t,n,r)}return n[o].exports}for(var a=!1,o=0;o<r.length;o++)i(r[o]);return i}({1:[function(e,t,n){!function(r,i){"object"==typeof n&&void 0!==t?i(n,e("jsonld"),e("n3"),e("rdfxml-streaming-parser"),e("readable-stream")):i((r="undefined"!=typeof globalThis?globalThis:r||self).tripleStoreUtils={},r.jsonld,r.n3,r.rdfxmlStreamingParser,r.readablestream)}(this,function(e,t,n,r,i){"use strict";function a(e,t,n,r){return new(n||(n=Promise))(function(i,a){function o(e){try{u(r.next(e))}catch(t){a(t)}}function s(e){try{u(r.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(o,s)}u((r=r.apply(e,t||[])).next())})}function o(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(s){a=[6,s],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}function s(e){var t=e.length,n=0;return new i.Readable({objectMode:!0,read:function(){this.push(n<t?e[n++]:null)}})}Object.keys(n).forEach(function(t){"default"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}})}),e.addJsonLdToStore=function(e,n){return a(this,void 0,void 0,function(){var r,i,a;return o(this,function(o){switch(o.label){case 0:return"string"!=typeof e?[3,4]:[4,fetch(e,{redirect:"follow"})];case 1:return(i=o.sent()).ok?[4,i.json()]:[3,3];case 2:r=o.sent(),o.label=3;case 3:return[3,5];case 4:r=e,o.label=5;case 5:return r?[4,t.toRDF(r)]:[3,7];case 6:a=o.sent(),n.import(s(a)),o.label=7;case 7:return[2,n]}})})},e.addN3ToStore=function(e,t){return a(this,void 0,void 0,function(){var r,i,a;return o(this,function(o){switch(o.label){case 0:return"string"==typeof e&&(null==e?void 0:e.startsWith("http"))?[4,fetch(e,{redirect:"follow"})]:[3,4];case 1:return(i=o.sent()).ok?[4,i.text()]:[3,3];case 2:r=o.sent(),o.label=3;case 3:return[3,5];case 4:r=e,o.label=5;case 5:return r&&(a=new n.Parser({format:"n3"}).parse(r),t.import(s(a))),[2,t]}})})},e.addRdfXmlToStore=function(e,t){return a(this,void 0,void 0,function(){var i,a,s,u;return o(this,function(o){switch(o.label){case 0:return"string"==typeof e&&(null==e?void 0:e.startsWith("http"))?[4,fetch(e,{redirect:"follow"})]:[3,4];case 1:return(a=o.sent()).ok?[4,a.text()]:[3,3];case 2:i=o.sent(),o.label=3;case 3:return[3,5];case 4:i=e,o.label=5;case 5:return i?(s=new r.RdfXmlParser({dataFactory:n.DataFactory,strict:!0}),u=new Promise(function(e){return s.once("end",function(){return e(t)})}),t.import(s),s.write(i),s.end(),[2,u]):[2,t]}})})},e.arrayToStream=s,e.deserializeN3Store=function(e,t){var r=JSON.parse(e),i=new n.Store;return Object.assign(i,r,{_factory:t||n.DataFactory}),i},e.serializeN3Store=function(e){var t=Object.assign({},e);return delete t._factory,JSON.stringify(t)},e.streamToArray=function(e){return new Promise(function(t,n){var r=[];e.on("data",function(e){r.push(e)}).once("end",function(){t(r)}).once("error",function(e){n(e)})})},Object.defineProperty(e,"__esModule",{value:!0})})},{jsonld:41,n3:57,"rdfxml-streaming-parser":77,"readable-stream":94}],2:[function(e,t,n){"use strict";n.byteLength=function(e){var t=c(e),n=t[1];return 3*(t[0]+n)/4-n},n.toByteArray=function(e){var t,n,r=c(e),o=r[0],s=r[1],u=new a(function(e,t,n){return 3*(t+n)/4-n}(0,o,s)),l=0,f=s>0?o-4:o;for(n=0;n<f;n+=4)t=i[e.charCodeAt(n)]<<18|i[e.charCodeAt(n+1)]<<12|i[e.charCodeAt(n+2)]<<6|i[e.charCodeAt(n+3)],u[l++]=t>>16&255,u[l++]=t>>8&255,u[l++]=255&t;return 2===s&&(t=i[e.charCodeAt(n)]<<2|i[e.charCodeAt(n+1)]>>4,u[l++]=255&t),1===s&&(t=i[e.charCodeAt(n)]<<10|i[e.charCodeAt(n+1)]<<4|i[e.charCodeAt(n+2)]>>2,u[l++]=t>>8&255,u[l++]=255&t),u},n.fromByteArray=function(e){for(var t,n=e.length,i=n%3,a=[],o=0,s=n-i;o<s;o+=16383)a.push(l(e,o,o+16383>s?s:o+16383));return 1===i?a.push(r[(t=e[n-1])>>2]+r[t<<4&63]+"=="):2===i&&a.push(r[(t=(e[n-2]<<8)+e[n-1])>>10]+r[t>>4&63]+r[t<<2&63]+"="),a.join("")};for(var r=[],i=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=o.length;s<u;++s)r[s]=o[s],i[o.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e,t,n){for(var i=[],a=t;a<n;a+=3)i.push(r[(o=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]))>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);var o;return i.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},{}],3:[function(e,t,n){},{}],4:[function(e,t,n){(function(t){(function(){"use strict";var t=e("base64-js"),r=e("ieee754");function i(e){if(e>2147483647)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return t.__proto__=a.prototype,t}function a(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return u(e)}return o(e,t,n)}function o(e,t,n){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!a.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var n=0|f(e,t),r=i(n),o=r.write(e,t);return o!==n&&(r=r.slice(0,o)),r}(e,t);if(ArrayBuffer.isView(e))return c(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(C(e,ArrayBuffer)||e&&C(e.buffer,ArrayBuffer))return function(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');var r;return(r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n)).__proto__=a.prototype,r}(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return a.from(r,t,n);var o=function(e){if(a.isBuffer(e)){var t=0|l(e.length),n=i(t);return 0===n.length||e.copy(n,0,0,t),n}return void 0!==e.length?"number"!=typeof e.length||F(e.length)?i(0):c(e):"Buffer"===e.type&&Array.isArray(e.data)?c(e.data):void 0}(e);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return a.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function s(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function u(e){return s(e),i(e<0?0:0|l(e))}function c(e){for(var t=e.length<0?0:0|l(e.length),n=i(t),r=0;r<t;r+=1)n[r]=255&e[r];return n}function l(e){if(e>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+2147483647..toString(16)+" bytes");return 0|e}function f(e,t){if(a.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||C(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return M(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return D(e).length;default:if(i)return r?-1:M(e).length;t=(""+t).toLowerCase(),i=!0}}function d(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return N(this,t,n);case"utf8":case"utf-8":return k(this,t,n);case"ascii":return S(this,t,n);case"latin1":case"binary":return j(this,t,n);case"base64":return x(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function h(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function p(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),F(n=+n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=a.from(t,r)),a.isBuffer(t))return 0===t.length?-1:v(e,t,n,r,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):v(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function v(e,t,n,r,i){var a,o=1,s=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;o=2,s/=2,u/=2,n/=2}function c(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){var l=-1;for(a=n;a<s;a++)if(c(e,a)===c(t,-1===l?0:a-l)){if(-1===l&&(l=a),a-l+1===u)return l*o}else-1!==l&&(a-=a-l),l=-1}else for(n+u>s&&(n=s-u),a=n;a>=0;a--){for(var f=!0,d=0;d<u;d++)if(c(e,a+d)!==c(t,d)){f=!1;break}if(f)return a}return-1}function g(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var a=t.length;r>a/2&&(r=a/2);for(var o=0;o<r;++o){var s=parseInt(t.substr(2*o,2),16);if(F(s))return o;e[n+o]=s}return o}function y(e,t,n,r){return P(M(t,e.length-n),e,n,r)}function b(e,t,n,r){return P(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function m(e,t,n,r){return b(e,t,n,r)}function _(e,t,n,r){return P(D(t),e,n,r)}function w(e,t,n,r){return P(function(e,t){for(var n,r,i=[],a=0;a<e.length&&!((t-=2)<0);++a)r=(n=e.charCodeAt(a))>>8,i.push(n%256),i.push(r);return i}(t,e.length-n),e,n,r)}function x(e,n,r){return t.fromByteArray(0===n&&r===e.length?e:e.slice(n,r))}function k(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var a,o,s,u,c=e[i],l=null,f=c>239?4:c>223?3:c>191?2:1;if(i+f<=n)switch(f){case 1:c<128&&(l=c);break;case 2:128==(192&(a=e[i+1]))&&(u=(31&c)<<6|63&a)>127&&(l=u);break;case 3:o=e[i+2],128==(192&(a=e[i+1]))&&128==(192&o)&&(u=(15&c)<<12|(63&a)<<6|63&o)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:o=e[i+2],s=e[i+3],128==(192&(a=e[i+1]))&&128==(192&o)&&128==(192&s)&&(u=(15&c)<<18|(63&a)<<12|(63&o)<<6|63&s)>65535&&u<1114112&&(l=u)}null===l?(l=65533,f=1):l>65535&&(r.push((l-=65536)>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=f}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=4096));return n}(r)}function S(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function j(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function N(e,t,n){var r,i=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>i)&&(n=i);for(var a="",o=t;o<n;++o)a+=(r=e[o])<16?"0"+r.toString(16):r.toString(16);return a}function E(e,t,n){for(var r=e.slice(t,n),i="",a=0;a<r.length;a+=2)i+=String.fromCharCode(r[a]+256*r[a+1]);return i}function T(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function I(e,t,n,r,i,o){if(!a.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function R(e,t,n,r,i,a){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function O(e,t,n,i,a){return t=+t,n>>>=0,a||R(e,0,n,4),r.write(e,t,n,i,23,4),n+4}function A(e,t,n,i,a){return t=+t,n>>>=0,a||R(e,0,n,8),r.write(e,t,n,i,52,8),n+8}n.Buffer=a,n.SlowBuffer=function(e){return+e!=e&&(e=0),a.alloc(+e)},n.INSPECT_MAX_BYTES=50,n.kMaxLength=2147483647,(a.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(t){return!1}}())||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),a.poolSize=8192,a.from=function(e,t,n){return o(e,t,n)},a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array,a.alloc=function(e,t,n){return function(e,t,n){return s(e),e<=0?i(e):void 0!==t?"string"==typeof n?i(e).fill(t,n):i(e).fill(t):i(e)}(e,t,n)},a.allocUnsafe=function(e){return u(e)},a.allocUnsafeSlow=function(e){return u(e)},a.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==a.prototype},a.compare=function(e,t){if(C(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),C(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),!a.isBuffer(e)||!a.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},a.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return a.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=a.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var o=e[n];if(C(o,Uint8Array)&&(o=a.from(o)),!a.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i),i+=o.length}return r},a.byteLength=f,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)h(this,t,t+1);return this},a.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)h(this,t,t+3),h(this,t+1,t+2);return this},a.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)h(this,t,t+7),h(this,t+1,t+6),h(this,t+2,t+5),h(this,t+3,t+4);return this},a.prototype.toLocaleString=a.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?k(this,0,e):d.apply(this,arguments)},a.prototype.equals=function(e){if(!a.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===a.compare(this,e)},a.prototype.inspect=function(){var e="",t=n.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},a.prototype.compare=function(e,t,n,r,i){if(C(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),!a.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(t>>>=0),u=Math.min(o,s),c=this.slice(r,i),l=e.slice(t,n),f=0;f<u;++f)if(c[f]!==l[f]){o=c[f],s=l[f];break}return o<s?-1:s<o?1:0},a.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},a.prototype.indexOf=function(e,t,n){return p(this,e,t,n,!0)},a.prototype.lastIndexOf=function(e,t,n){return p(this,e,t,n,!1)},a.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var a=!1;;)switch(r){case"hex":return g(this,e,t,n);case"utf8":case"utf-8":return y(this,e,t,n);case"ascii":return b(this,e,t,n);case"latin1":case"binary":return m(this,e,t,n);case"base64":return _(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w(this,e,t,n);default:if(a)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),a=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},a.prototype.slice=function(e,t){var n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var r=this.subarray(e,t);return r.__proto__=a.prototype,r},a.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||T(e,t,this.length);for(var r=this[e],i=1,a=0;++a<t&&(i*=256);)r+=this[e+a]*i;return r},a.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||T(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},a.prototype.readUInt8=function(e,t){return e>>>=0,t||T(e,1,this.length),this[e]},a.prototype.readUInt16LE=function(e,t){return e>>>=0,t||T(e,2,this.length),this[e]|this[e+1]<<8},a.prototype.readUInt16BE=function(e,t){return e>>>=0,t||T(e,2,this.length),this[e]<<8|this[e+1]},a.prototype.readUInt32LE=function(e,t){return e>>>=0,t||T(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},a.prototype.readUInt32BE=function(e,t){return e>>>=0,t||T(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},a.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||T(e,t,this.length);for(var r=this[e],i=1,a=0;++a<t&&(i*=256);)r+=this[e+a]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},a.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||T(e,t,this.length);for(var r=t,i=1,a=this[e+--r];r>0&&(i*=256);)a+=this[e+--r]*i;return a>=(i*=128)&&(a-=Math.pow(2,8*t)),a},a.prototype.readInt8=function(e,t){return e>>>=0,t||T(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},a.prototype.readInt16LE=function(e,t){e>>>=0,t||T(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt16BE=function(e,t){e>>>=0,t||T(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt32LE=function(e,t){return e>>>=0,t||T(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},a.prototype.readInt32BE=function(e,t){return e>>>=0,t||T(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},a.prototype.readFloatLE=function(e,t){return e>>>=0,t||T(e,4,this.length),r.read(this,e,!0,23,4)},a.prototype.readFloatBE=function(e,t){return e>>>=0,t||T(e,4,this.length),r.read(this,e,!1,23,4)},a.prototype.readDoubleLE=function(e,t){return e>>>=0,t||T(e,8,this.length),r.read(this,e,!0,52,8)},a.prototype.readDoubleBE=function(e,t){return e>>>=0,t||T(e,8,this.length),r.read(this,e,!1,52,8)},a.prototype.writeUIntLE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||I(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,a=0;for(this[t]=255&e;++a<n&&(i*=256);)this[t+a]=e/i&255;return t+n},a.prototype.writeUIntBE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||I(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,a=1;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=e/a&255;return t+n},a.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||I(this,e,t,1,255,0),this[t]=255&e,t+1},a.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||I(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||I(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||I(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},a.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||I(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);I(this,e,t,n,i-1,-i)}var a=0,o=1,s=0;for(this[t]=255&e;++a<n&&(o*=256);)e<0&&0===s&&0!==this[t+a-1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+n},a.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);I(this,e,t,n,i-1,-i)}var a=n-1,o=1,s=0;for(this[t+a]=255&e;--a>=0&&(o*=256);)e<0&&0===s&&0!==this[t+a+1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+n},a.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||I(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},a.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||I(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||I(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||I(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},a.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||I(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeFloatLE=function(e,t,n){return O(this,e,t,!0,n)},a.prototype.writeFloatBE=function(e,t,n){return O(this,e,t,!1,n)},a.prototype.writeDoubleLE=function(e,t,n){return A(this,e,t,!0,n)},a.prototype.writeDoubleBE=function(e,t,n){return A(this,e,t,!1,n)},a.prototype.copy=function(e,t,n,r){if(!a.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i=r-n;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,n,r);else if(this===e&&n<t&&t<r)for(var o=i-1;o>=0;--o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,r),t);return i},a.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!a.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){var i=e.charCodeAt(0);("utf8"===r&&i<128||"latin1"===r)&&(e=i)}}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var s=a.isBuffer(e)?e:a.from(e,r),u=s.length;if(0===u)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-t;++o)this[o+t]=s[o%u]}return this};var L=/[^+/0-9A-Za-z-_]/g;function M(e,t){var n;t=t||1/0;for(var r=e.length,i=null,a=[],o=0;o<r;++o){if((n=e.charCodeAt(o))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(o+1===r){(t-=3)>-1&&a.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&a.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;a.push(n)}else if(n<2048){if((t-=2)<0)break;a.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;a.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return a}function D(e){return t.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(L,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function P(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function C(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function F(e){return e!=e}}).call(this)}).call(this,e("buffer").Buffer)},{"base64-js":2,buffer:4,ieee754:23}],5:[function(e,t,n){t.exports=i;var r=e("events").EventEmitter;function i(){r.call(this)}e("inherits")(i,r),i.Readable=e("readable-stream/lib/_stream_readable.js"),i.Writable=e("readable-stream/lib/_stream_writable.js"),i.Duplex=e("readable-stream/lib/_stream_duplex.js"),i.Transform=e("readable-stream/lib/_stream_transform.js"),i.PassThrough=e("readable-stream/lib/_stream_passthrough.js"),i.finished=e("readable-stream/lib/internal/streams/end-of-stream.js"),i.pipeline=e("readable-stream/lib/internal/streams/pipeline.js"),i.Stream=i,i.prototype.pipe=function(e,t){var n=this;function i(t){e.writable&&!1===e.write(t)&&n.pause&&n.pause()}function a(){n.readable&&n.resume&&n.resume()}n.on("data",i),e.on("drain",a),e._isStdio||t&&!1===t.end||(n.on("end",s),n.on("close",u));var o=!1;function s(){o||(o=!0,e.end())}function u(){o||(o=!0,"function"==typeof e.destroy&&e.destroy())}function c(e){if(l(),0===r.listenerCount(this,"error"))throw e}function l(){n.removeListener("data",i),e.removeListener("drain",a),n.removeListener("end",s),n.removeListener("close",u),n.removeListener("error",c),e.removeListener("error",c),n.removeListener("end",l),n.removeListener("close",l),e.removeListener("close",l)}return n.on("error",c),e.on("error",c),n.on("end",l),n.on("close",l),e.on("close",l),e.emit("pipe",n),e}},{events:22,inherits:24,"readable-stream/lib/_stream_duplex.js":7,"readable-stream/lib/_stream_passthrough.js":8,"readable-stream/lib/_stream_readable.js":9,"readable-stream/lib/_stream_transform.js":10,"readable-stream/lib/_stream_writable.js":11,"readable-stream/lib/internal/streams/end-of-stream.js":15,"readable-stream/lib/internal/streams/pipeline.js":17}],6:[function(e,t,n){"use strict";var r={};function i(e,t,n){n||(n=Error);var i=function(e){function n(n,r,i){return e.call(this,function(e,n,r){return"string"==typeof t?t:t(e,n,r)}(n,r,i))||this}return i=e,(r=n).prototype=Object.create(i.prototype),r.prototype.constructor=r,r.__proto__=i,n;var r,i}(n);i.prototype.name=n.name,i.prototype.code=e,r[e]=i}function a(e,t){if(Array.isArray(e)){var n=e.length;return e=e.map(function(e){return String(e)}),n>2?"one of ".concat(t," ").concat(e.slice(0,n-1).join(", "),", or ")+e[n-1]:2===n?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}i("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError),i("ERR_INVALID_ARG_TYPE",function(e,t,n){var r,i,o,s;if("string"==typeof t&&"not "===t.substr(0,"not ".length)?(r="must not be",t=t.replace(/^not /,"")):r="must be",o=e,(void 0===s||s>o.length)&&(s=o.length)," argument"===o.substring(s-" argument".length,s))i="The ".concat(e," ").concat(r," ").concat(a(t,"type"));else{var u=function(e,t,n){return"number"!=typeof n&&(n=0),!(n+".".length>e.length)&&-1!==e.indexOf(".",n)}(e)?"property":"argument";i='The "'.concat(e,'" ').concat(u," ").concat(r," ").concat(a(t,"type"))}return i+". Received type ".concat(typeof n)},TypeError),i("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),i("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"}),i("ERR_STREAM_PREMATURE_CLOSE","Premature close"),i("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"}),i("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),i("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),i("ERR_STREAM_WRITE_AFTER_END","write after end"),i("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),i("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError),i("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),t.exports.codes=r},{}],7:[function(e,t,n){(function(n){(function(){"use strict";var r=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};t.exports=c;var i=e("./_stream_readable"),a=e("./_stream_writable");e("inherits")(c,i);for(var o=r(a.prototype),s=0;s<o.length;s++){var u=o[s];c.prototype[u]||(c.prototype[u]=a.prototype[u])}function c(e){if(!(this instanceof c))return new c(e);i.call(this,e),a.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",l)))}function l(){this._writableState.ended||n.nextTick(f,this)}function f(e){e.end()}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(c.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(c.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})}).call(this)}).call(this,e("_process"))},{"./_stream_readable":9,"./_stream_writable":11,_process:58,inherits:24}],8:[function(e,t,n){"use strict";t.exports=i;var r=e("./_stream_transform");function i(e){if(!(this instanceof i))return new i(e);r.call(this,e)}e("inherits")(i,r),i.prototype._transform=function(e,t,n){n(null,e)}},{"./_stream_transform":10,inherits:24}],9:[function(e,t,n){(function(n,r){(function(){"use strict";var i;t.exports=j,j.ReadableState=S,e("events");var a,o=function(e,t){return e.listeners(t).length},s=e("./internal/streams/stream"),u=e("buffer").Buffer,c=r.Uint8Array||function(){},l=e("util");a=l&&l.debuglog?l.debuglog("stream"):function(){};var f,d,h,p=e("./internal/streams/buffer_list"),v=e("./internal/streams/destroy"),g=e("./internal/streams/state").getHighWaterMark,y=e("../errors").codes,b=y.ERR_INVALID_ARG_TYPE,m=y.ERR_STREAM_PUSH_AFTER_EOF,_=y.ERR_METHOD_NOT_IMPLEMENTED,w=y.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;e("inherits")(j,s);var x=v.errorOrDestroy,k=["error","close","destroy","pause","resume"];function S(t,n,r){i=i||e("./_stream_duplex"),"boolean"!=typeof r&&(r=n instanceof i),this.objectMode=!!(t=t||{}).objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=g(this,t,"readableHighWaterMark",r),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(f||(f=e("string_decoder/").StringDecoder),this.decoder=new f(t.encoding),this.encoding=t.encoding)}function j(t){if(i=i||e("./_stream_duplex"),!(this instanceof j))return new j(t);this._readableState=new S(t,this,this instanceof i),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),s.call(this)}function N(e,t,n,r,i){a("readableAddChunk",t);var o,s=e._readableState;if(null===t)s.reading=!1,function(e,t){if(a("onEofChunk"),!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,t.sync?I(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,R(e)))}}(e,s);else if(i||(o=function(e,t){var n,r;return u.isBuffer(r=t)||r instanceof c||"string"==typeof t||void 0===t||e.objectMode||(n=new b("chunk",["string","Buffer","Uint8Array"],t)),n}(s,t)),o)x(e,o);else if(s.objectMode||t&&t.length>0)if("string"==typeof t||s.objectMode||Object.getPrototypeOf(t)===u.prototype||(t=function(e){return u.from(e)}(t)),r)s.endEmitted?x(e,new w):E(e,s,t,!0);else if(s.ended)x(e,new m);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!n?(t=s.decoder.write(t),s.objectMode||0!==t.length?E(e,s,t,!1):O(e,s)):E(e,s,t,!1)}else r||(s.reading=!1,O(e,s));return!s.ended&&(s.length<s.highWaterMark||0===s.length)}function E(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",n)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&I(e)),O(e,t)}function T(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=1073741824?e=1073741824:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function I(e){var t=e._readableState;a("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(a("emitReadable",t.flowing),t.emittedReadable=!0,n.nextTick(R,e))}function R(e){var t=e._readableState;a("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,P(e)}function O(e,t){t.readingMore||(t.readingMore=!0,n.nextTick(A,e,t))}function A(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var n=t.length;if(a("maybeReadMore read 0"),e.read(0),n===t.length)break}t.readingMore=!1}function L(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function M(e){a("readable nexttick read 0"),e.read(0)}function D(e,t){a("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),P(e),t.flowing&&!t.reading&&e.read(0)}function P(e){var t=e._readableState;for(a("flow",t.flowing);t.flowing&&null!==e.read(););}function C(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):n=t.buffer.consume(e,t.decoder),n);var n}function F(e){var t=e._readableState;a("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,n.nextTick(B,t,e))}function B(e,t){if(a("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var n=t._writableState;(!n||n.autoDestroy&&n.finished)&&t.destroy()}}function U(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}Object.defineProperty(j.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),j.prototype.destroy=v.destroy,j.prototype._undestroy=v.undestroy,j.prototype._destroy=function(e,t){t(e)},j.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=u.from(e,t),t=""),n=!0),N(this,e,t,!1,n)},j.prototype.unshift=function(e){return N(this,e,null,!0,!1)},j.prototype.isPaused=function(){return!1===this._readableState.flowing},j.prototype.setEncoding=function(t){f||(f=e("string_decoder/").StringDecoder);var n=new f(t);this._readableState.decoder=n,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,i="";null!==r;)i+=n.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this},j.prototype.read=function(e){a("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return a("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?F(this):I(this),null;if(0===(e=T(e,t))&&t.ended)return 0===t.length&&F(this),null;var r,i=t.needReadable;return a("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&a("length less than watermark",i=!0),t.ended||t.reading?a("reading or ended",i=!1):i&&(a("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=T(n,t))),null===(r=e>0?C(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&F(this)),null!==r&&this.emit("data",r),r},j.prototype._read=function(e){x(this,new _("_read()"))},j.prototype.pipe=function(e,t){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,a("pipe count=%d opts=%j",i.pipesCount,t);var s=t&&!1===t.end||e===n.stdout||e===n.stderr?v:u;function u(){a("onend"),e.end()}i.endEmitted?n.nextTick(s):r.once("end",s),e.on("unpipe",function t(n,o){a("onunpipe"),n===r&&o&&!1===o.hasUnpiped&&(o.hasUnpiped=!0,a("cleanup"),e.removeListener("close",h),e.removeListener("finish",p),e.removeListener("drain",c),e.removeListener("error",d),e.removeListener("unpipe",t),r.removeListener("end",u),r.removeListener("end",v),r.removeListener("data",f),l=!0,!i.awaitDrain||e._writableState&&!e._writableState.needDrain||c())});var c=function(e){return function(){var t=e._readableState;a("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&o(e,"data")&&(t.flowing=!0,P(e))}}(r);e.on("drain",c);var l=!1;function f(t){a("ondata");var n=e.write(t);a("dest.write",n),!1===n&&((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==U(i.pipes,e))&&!l&&(a("false write response, pause",i.awaitDrain),i.awaitDrain++),r.pause())}function d(t){a("onerror",t),v(),e.removeListener("error",d),0===o(e,"error")&&x(e,t)}function h(){e.removeListener("finish",p),v()}function p(){a("onfinish"),e.removeListener("close",h),v()}function v(){a("unpipe"),r.unpipe(e)}return r.on("data",f),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener("error",n);e._events&&e._events.error?Array.isArray(e._events.error)?e._events.error.unshift(n):e._events.error=[n,e._events.error]:e.on("error",n)}(e,0,d),e.once("close",h),e.once("finish",p),e.emit("pipe",r),i.flowing||(a("pipe resume"),r.resume()),e},j.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var a=0;a<i;a++)r[a].emit("unpipe",this,{hasUnpiped:!1});return this}var o=U(t.pipes,e);return-1===o||(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},j.prototype.addListener=j.prototype.on=function(e,t){var r=s.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,a("on readable",i.length,i.reading),i.length?I(this):i.reading||n.nextTick(M,this))),r},j.prototype.removeListener=function(e,t){var r=s.prototype.removeListener.call(this,e,t);return"readable"===e&&n.nextTick(L,this),r},j.prototype.removeAllListeners=function(e){var t=s.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||n.nextTick(L,this),t},j.prototype.resume=function(){var e=this._readableState;return e.flowing||(a("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,n.nextTick(D,e,t))}(this,e)),e.paused=!1,this},j.prototype.pause=function(){return a("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(a("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},j.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",function(){if(a("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(i){a("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i||(n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause()))}),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<k.length;o++)e.on(k[o],this.emit.bind(this,k[o]));return this._read=function(t){a("wrapped _read",t),r&&(r=!1,e.resume())},this},"function"==typeof Symbol&&(j.prototype[Symbol.asyncIterator]=function(){return void 0===d&&(d=e("./internal/streams/async_iterator")),d(this)}),Object.defineProperty(j.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(j.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(j.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),j._fromList=C,Object.defineProperty(j.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(j.from=function(t,n){return void 0===h&&(h=e("./internal/streams/from")),h(j,t,n)})}).call(this)}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../errors":6,"./_stream_duplex":7,"./internal/streams/async_iterator":12,"./internal/streams/buffer_list":13,"./internal/streams/destroy":14,"./internal/streams/from":16,"./internal/streams/state":18,"./internal/streams/stream":19,_process:58,buffer:4,events:22,inherits:24,"string_decoder/":100,util:3}],10:[function(e,t,n){"use strict";t.exports=l;var r=e("../errors").codes,i=r.ERR_METHOD_NOT_IMPLEMENTED,a=r.ERR_MULTIPLE_CALLBACK,o=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=r.ERR_TRANSFORM_WITH_LENGTH_0,u=e("./_stream_duplex");function c(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(null===r)return this.emit("error",new a);n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function l(e){if(!(this instanceof l))return new l(e);u.call(this,e),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",f)}function f(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?d(this,null,null):this._flush(function(t,n){d(e,t,n)})}function d(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new s;if(e._transformState.transforming)throw new o;return e.push(null)}e("inherits")(l,u),l.prototype.push=function(e,t){return this._transformState.needTransform=!1,u.prototype.push.call(this,e,t)},l.prototype._transform=function(e,t,n){n(new i("_transform()"))},l.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},l.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},l.prototype._destroy=function(e,t){u.prototype._destroy.call(this,e,function(e){t(e)})}},{"../errors":6,"./_stream_duplex":7,inherits:24}],11:[function(e,t,n){(function(n,r){(function(){"use strict";function i(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;for(e.entry=null;r;){var i=r.callback;t.pendingcb--,i(void 0),r=r.next}t.corkedRequestsFree.next=e}(t,e)}}var a;t.exports=j,j.WritableState=S;var o,s={deprecate:e("util-deprecate")},u=e("./internal/streams/stream"),c=e("buffer").Buffer,l=r.Uint8Array||function(){},f=e("./internal/streams/destroy"),d=e("./internal/streams/state").getHighWaterMark,h=e("../errors").codes,p=h.ERR_INVALID_ARG_TYPE,v=h.ERR_METHOD_NOT_IMPLEMENTED,g=h.ERR_MULTIPLE_CALLBACK,y=h.ERR_STREAM_CANNOT_PIPE,b=h.ERR_STREAM_DESTROYED,m=h.ERR_STREAM_NULL_VALUES,_=h.ERR_STREAM_WRITE_AFTER_END,w=h.ERR_UNKNOWN_ENCODING,x=f.errorOrDestroy;function k(){}function S(t,r,o){a=a||e("./_stream_duplex"),"boolean"!=typeof o&&(o=r instanceof a),this.objectMode=!!(t=t||{}).objectMode,o&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=d(this,t,"writableHighWaterMark",o),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===t.decodeStrings),this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,i=r.sync,a=r.writecb;if("function"!=typeof a)throw new g;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,i,a){--t.pendingcb,r?(n.nextTick(a,i),n.nextTick(O,e,t),e._writableState.errorEmitted=!0,x(e,i)):(a(i),e._writableState.errorEmitted=!0,x(e,i),O(e,t))}(e,r,i,t,a);else{var o=I(r)||e.destroyed;o||r.corked||r.bufferProcessing||!r.bufferedRequest||T(e,r),i?n.nextTick(E,e,r,o,a):E(e,r,o,a)}}(r,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function j(t){var n=this instanceof(a=a||e("./_stream_duplex"));if(!n&&!o.call(j,this))return new j(t);this._writableState=new S(t,this,n),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),u.call(this)}function N(e,t,n,r,i,a,o){t.writelen=r,t.writecb=o,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new b("write")):n?e._writev(i,t.onwrite):e._write(i,a,t.onwrite),t.sync=!1}function E(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),O(e,t)}function T(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=new Array(t.bufferedRequestCount),a=t.corkedRequestsFree;a.entry=n;for(var o=0,s=!0;n;)r[o]=n,n.isBuf||(s=!1),n=n.next,o+=1;r.allBuffers=s,N(e,t,!0,t.length,r,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new i(t),t.bufferedRequestCount=0}else{for(;n;){var u=n.chunk;if(N(e,t,!1,t.objectMode?1:u.length,u,n.encoding,n.callback),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function I(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function R(e,t){e._final(function(n){t.pendingcb--,n&&x(e,n),t.prefinished=!0,e.emit("prefinish"),O(e,t)})}function O(e,t){var r=I(t);if(r&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,n.nextTick(R,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var i=e._readableState;(!i||i.autoDestroy&&i.endEmitted)&&e.destroy()}return r}e("inherits")(j,u),S.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(S.prototype,"buffer",{get:s.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(o=Function.prototype[Symbol.hasInstance],Object.defineProperty(j,Symbol.hasInstance,{value:function(e){return!!o.call(this,e)||this===j&&e&&e._writableState instanceof S}})):o=function(e){return e instanceof this},j.prototype.pipe=function(){x(this,new y)},j.prototype.write=function(e,t,r){var i,a=this._writableState,o=!1,s=!a.objectMode&&(c.isBuffer(i=e)||i instanceof l);return s&&!c.isBuffer(e)&&(e=function(e){return c.from(e)}(e)),"function"==typeof t&&(r=t,t=null),s?t="buffer":t||(t=a.defaultEncoding),"function"!=typeof r&&(r=k),a.ending?function(e,t){var r=new _;x(e,r),n.nextTick(t,r)}(this,r):(s||function(e,t,r,i){var a;return null===r?a=new m:"string"==typeof r||t.objectMode||(a=new p("chunk",["string","Buffer"],r)),!a||(x(e,a),n.nextTick(i,a),!1)}(this,a,e,r))&&(a.pendingcb++,o=function(e,t,n,r,i,a){if(!n){var o=function(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=c.from(t,n)),t}(t,r,i);r!==o&&(n=!0,i="buffer",r=o)}var s=t.objectMode?1:r.length;t.length+=s;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:a,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else N(e,t,!1,s,r,i,a);return u}(this,a,s,e,t,r)),o},j.prototype.cork=function(){this._writableState.corked++},j.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||T(this,e))},j.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new w(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(j.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(j.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),j.prototype._write=function(e,t,n){n(new v("_write()"))},j.prototype._writev=null,j.prototype.end=function(e,t,r){var i=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||function(e,t,r){t.ending=!0,O(e,t),r&&(t.finished?n.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}(this,i,r),this},Object.defineProperty(j.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(j.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),j.prototype.destroy=f.destroy,j.prototype._undestroy=f.undestroy,j.prototype._destroy=function(e,t){t(e)}}).call(this)}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../errors":6,"./_stream_duplex":7,"./internal/streams/destroy":14,"./internal/streams/state":18,"./internal/streams/stream":19,_process:58,buffer:4,inherits:24,"util-deprecate":101}],12:[function(e,t,n){(function(n){(function(){"use strict";var r;function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=e("./end-of-stream"),o=Symbol("lastResolve"),s=Symbol("lastReject"),u=Symbol("error"),c=Symbol("ended"),l=Symbol("lastPromise"),f=Symbol("handlePromise"),d=Symbol("stream");function h(e,t){return{value:e,done:t}}function p(e){var t=e[o];if(null!==t){var n=e[d].read();null!==n&&(e[l]=null,e[o]=null,e[s]=null,t(h(n,!1)))}}function v(e){n.nextTick(p,e)}var g=Object.getPrototypeOf(function(){}),y=Object.setPrototypeOf((i(r={get stream(){return this[d]},next:function(){var e=this,t=this[u];if(null!==t)return Promise.reject(t);if(this[c])return Promise.resolve(h(void 0,!0));if(this[d].destroyed)return new Promise(function(t,r){n.nextTick(function(){e[u]?r(e[u]):t(h(void 0,!0))})});var r,i=this[l];if(i)r=new Promise(function(e,t){return function(n,r){e.then(function(){t[c]?n(h(void 0,!0)):t[f](n,r)},r)}}(i,this));else{var a=this[d].read();if(null!==a)return Promise.resolve(h(a,!1));r=new Promise(this[f])}return this[l]=r,r}},Symbol.asyncIterator,function(){return this}),i(r,"return",function(){var e=this;return new Promise(function(t,n){e[d].destroy(null,function(e){e?n(e):t(h(void 0,!0))})})}),r),g);t.exports=function(e){var t,n=Object.create(y,(i(t={},d,{value:e,writable:!0}),i(t,o,{value:null,writable:!0}),i(t,s,{value:null,writable:!0}),i(t,u,{value:null,writable:!0}),i(t,c,{value:e._readableState.endEmitted,writable:!0}),i(t,f,{value:function(e,t){var r=n[d].read();r?(n[l]=null,n[o]=null,n[s]=null,e(h(r,!1))):(n[o]=e,n[s]=t)},writable:!0}),t));return n[l]=null,a(e,function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=n[s];return null!==t&&(n[l]=null,n[o]=null,n[s]=null,t(e)),void(n[u]=e)}var r=n[o];null!==r&&(n[l]=null,n[o]=null,n[s]=null,r(h(void 0,!0))),n[c]=!0}),e.on("readable",v.bind(null,n)),n}}).call(this)}).call(this,e("_process"))},{"./end-of-stream":15,_process:58}],13:[function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=e("buffer").Buffer,o=e("util").inspect,s=o&&o.custom||"inspect";t.exports=function(){function e(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.head=null,this.tail=null,this.length=0}return(t=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n}},{key:"concat",value:function(e){if(0===this.length)return a.alloc(0);for(var t=a.allocUnsafe(e>>>0),n=this.head,r=0;n;)a.prototype.copy.call(n.data,t,r),r+=n.data.length,n=n.next;return t}},{key:"consume",value:function(e,t){var n;return e<this.head.data.length?(n=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):n=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,n=1,r=t.data;for(e-=r.length;t=t.next;){var i=t.data,a=e>i.length?i.length:e;if(r+=a===i.length?i:i.slice(0,e),0==(e-=a)){a===i.length?(++n,this.head=t.next?t.next:this.tail=null):(this.head=t,t.data=i.slice(a));break}++n}return this.length-=n,r}},{key:"_getBuffer",value:function(e){var t=a.allocUnsafe(e),n=this.head,r=1;for(n.data.copy(t),e-=n.data.length;n=n.next;){var i=n.data,o=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,o),0==(e-=o)){o===i.length?(++r,this.head=n.next?n.next:this.tail=null):(this.head=n,n.data=i.slice(o));break}++r}return this.length-=r,t}},{key:s,value:function(e,t){return o(this,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){i(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},t,{depth:0,customInspect:!1}))}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e;var t}()},{buffer:4,util:3}],14:[function(e,t,n){(function(e){(function(){"use strict";function n(e,t){i(e,t),r(e)}function r(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function i(e,t){e.emit("error",t)}t.exports={destroy:function(t,a){var o=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(a?a(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,e.nextTick(i,this,t)):e.nextTick(i,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(t){!a&&t?o._writableState?o._writableState.errorEmitted?e.nextTick(r,o):(o._writableState.errorEmitted=!0,e.nextTick(n,o,t)):e.nextTick(n,o,t):a?(e.nextTick(r,o),a(t)):e.nextTick(r,o)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var n=e._readableState,r=e._writableState;n&&n.autoDestroy||r&&r.autoDestroy?e.destroy(t):e.emit("error",t)}}}).call(this)}).call(this,e("_process"))},{_process:58}],15:[function(e,t,n){"use strict";var r=e("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function i(){}t.exports=function e(t,n,a){if("function"==typeof n)return e(t,null,n);n||(n={}),a=function(e){var t=!1;return function(){if(!t){t=!0;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r)}}}(a||i);var o=n.readable||!1!==n.readable&&t.readable,s=n.writable||!1!==n.writable&&t.writable,u=function(){t.writable||l()},c=t._writableState&&t._writableState.finished,l=function(){s=!1,c=!0,o||a.call(t)},f=t._readableState&&t._readableState.endEmitted,d=function(){o=!1,f=!0,s||a.call(t)},h=function(e){a.call(t,e)},p=function(){var e;return o&&!f?(t._readableState&&t._readableState.ended||(e=new r),a.call(t,e)):s&&!c?(t._writableState&&t._writableState.ended||(e=new r),a.call(t,e)):void 0},v=function(){t.req.on("finish",l)};return function(e){return e.setHeader&&"function"==typeof e.abort}(t)?(t.on("complete",l),t.on("abort",p),t.req?v():t.on("request",v)):s&&!t._writableState&&(t.on("end",u),t.on("close",u)),t.on("end",d),t.on("finish",l),!1!==n.error&&t.on("error",h),t.on("close",p),function(){t.removeListener("complete",l),t.removeListener("abort",p),t.removeListener("request",v),t.req&&t.req.removeListener("finish",l),t.removeListener("end",u),t.removeListener("close",u),t.removeListener("finish",l),t.removeListener("end",d),t.removeListener("error",h),t.removeListener("close",p)}}},{"../../../errors":6}],16:[function(e,t,n){t.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],17:[function(e,t,n){"use strict";var r,i=e("../../../errors").codes,a=i.ERR_MISSING_ARGS,o=i.ERR_STREAM_DESTROYED;function s(e){if(e)throw e}function u(t,n,i,a){a=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(a);var s=!1;t.on("close",function(){s=!0}),void 0===r&&(r=e("./end-of-stream")),r(t,{readable:n,writable:i},function(e){if(e)return a(e);s=!0,a()});var u=!1;return function(e){if(!s&&!u)return u=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(t)?t.abort():"function"==typeof t.destroy?t.destroy():void a(e||new o("pipe"))}}function c(e){e()}function l(e,t){return e.pipe(t)}function f(e){return e.length?"function"!=typeof e[e.length-1]?s:e.pop():s}t.exports=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i=f(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new a("streams");var o=t.map(function(e,n){var a=n<t.length-1;return u(e,a,n>0,function(e){r||(r=e),e&&o.forEach(c),a||(o.forEach(c),i(r))})});return t.reduce(l)}},{"../../../errors":6,"./end-of-stream":15}],18:[function(e,t,n){"use strict";var r=e("../../../errors").codes.ERR_INVALID_OPT_VALUE;t.exports={getHighWaterMark:function(e,t,n,i){var a=function(e,t,n){return null!=e.highWaterMark?e.highWaterMark:t?e[n]:null}(t,i,n);if(null!=a){if(!isFinite(a)||Math.floor(a)!==a||a<0)throw new r(i?n:"highWaterMark",a);return Math.floor(a)}return e.objectMode?16:16384}}},{"../../../errors":6}],19:[function(e,t,n){t.exports=e("events").EventEmitter},{events:22}],20:[function(e,t,n){(function(t,r){(function(){var i=e("process/browser.js").nextTick,a=Function.prototype.apply,o=Array.prototype.slice,s={},u=0;function c(e,t){this._id=e,this._clearFn=t}n.setTimeout=function(){return new c(a.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new c(a.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(e){e.close()},c.prototype.unref=c.prototype.ref=function(){},c.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},n.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},n._unrefActive=n.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n.setImmediate="function"==typeof t?t:function(e){var t=u++,r=!(arguments.length<2)&&o.call(arguments,1);return s[t]=!0,i(function(){s[t]&&(r?e.apply(null,r):e.call(null),n.clearImmediate(t))}),t},n.clearImmediate="function"==typeof r?r:function(e){delete s[e]}}).call(this)}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":58,timers:20}],21:[function(e,t,n){"use strict";t.exports=function e(t){return null===t||"object"!=typeof t||null!=t.toJSON?JSON.stringify(t):Array.isArray(t)?"["+t.reduce(function(t,n,r){return t+(0===r?"":",")+e(void 0===n||"symbol"==typeof n?null:n)},"")+"]":"{"+Object.keys(t).sort().reduce(function(n,r,i){return void 0===t[r]||"symbol"==typeof t[r]?n:n+(0===n.length?"":",")+e(r)+":"+e(t[r])},"")+"}"}},{}],22:[function(e,t,n){"use strict";var r,i="object"==typeof Reflect?Reflect:null,a=i&&"function"==typeof i.apply?i.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}t.exports=s,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var u=10;function c(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function f(e,t,n,r){var i,a,o;if(c(n),void 0===(a=e._events)?(a=e._events=Object.create(null),e._eventsCount=0):(void 0!==a.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),a=e._events),o=a[t]),void 0===o)o=a[t]=n,++e._eventsCount;else if("function"==typeof o?o=a[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),(i=l(e))>0&&o.length>i&&!o.warned){o.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=e,s.type=t,s.count=o.length,console&&console.warn&&console.warn(s)}return e}function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=d.bind(r);return i.listener=n,r.wrapFn=i,i}function p(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):g(i,i.length)}function v(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function g(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");u=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return l(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var u=i[e];if(void 0===u)return!1;if("function"==typeof u)a(u,this,t);else{var c=u.length,l=g(u,c);for(n=0;n<c;++n)a(l[n],this,t)}return!0},s.prototype.on=s.prototype.addListener=function(e,t){return f(this,e,t,!1)},s.prototype.prependListener=function(e,t){return f(this,e,t,!0)},s.prototype.once=function(e,t){return c(t),this.on(e,h(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return c(t),this.prependListener(e,h(this,e,t)),this},s.prototype.off=s.prototype.removeListener=function(e,t){var n,r,i,a,o;if(c(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,a=n.length-1;a>=0;a--)if(n[a]===t||n[a].listener===t){o=n[a].listener,i=a;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,o||t)}return this},s.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,a=Object.keys(n);for(r=0;r<a.length;++r)"removeListener"!==(i=a[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},s.prototype.listeners=function(e){return p(this,e,!0)},s.prototype.rawListeners=function(e){return p(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):v.call(e,t)},s.prototype.listenerCount=v,s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},{}],23:[function(e,t,n){n.read=function(e,t,n,r,i){var a,o,s=8*i-r-1,u=(1<<s)-1,c=u>>1,l=-7,f=n?i-1:0,d=n?-1:1,h=e[t+f];for(f+=d,a=h&(1<<-l)-1,h>>=-l,l+=s;l>0;a=256*a+e[t+f],f+=d,l-=8);for(o=a&(1<<-l)-1,a>>=-l,l+=r;l>0;o=256*o+e[t+f],f+=d,l-=8);if(0===a)a=1-c;else{if(a===u)return o?NaN:1/0*(h?-1:1);o+=Math.pow(2,r),a-=c}return(h?-1:1)*o*Math.pow(2,a-r)},n.write=function(e,t,n,r,i,a){var o,s,u,c=8*a-i-1,l=(1<<c)-1,f=l>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:a-1,p=r?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=l):(o=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-o))<1&&(o--,u*=2),(t+=o+f>=1?d/u:d*Math.pow(2,1-f))*u>=2&&(o++,u/=2),o+f>=l?(s=0,o=l):o+f>=1?(s=(t*u-1)*Math.pow(2,i),o+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),o=0));i>=8;e[n+h]=255&s,h+=p,s/=256,i-=8);for(o=o<<i|s,c+=i;c>0;e[n+h]=255&o,h+=p,o/=256,c-=8);e[n+h-p]|=128*v}},{}],24:[function(e,t,n){t.exports="function"==typeof Object.create?function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},{}],25:[function(e,t,n){"use strict";var r=e("./types"),i=r.isArray,a=r.isObject,o=r.isString,s=e("./util").asArray,u=e("./url").prependBase,c=e("./JsonLdError"),l=e("./ResolvedContext");function f(e){throw new c("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:e})}function d(e){var t=e.context,n=e.base;if(t){var r=t["@context"];if(o(r))t["@context"]=u(n,r);else if(i(r))for(var s=0;s<r.length;++s){var c=r[s];o(c)?r[s]=u(n,c):a(c)&&d({context:{"@context":c},base:n})}else if(a(r))for(var l in r)d({context:r[l],base:n})}}t.exports=function(){function e(t){var n=t.sharedCache;S(this,e),this.perOpCache=new Map,this.sharedCache=n}var t,n,r;return N(e,[{key:"resolve",value:(r=_(regeneratorRuntime.mark(function e(t){var n,r,u,c,d,h,p,v,g,b,m,_,x;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=t.activeCtx,r=t.context,u=t.documentLoader,c=t.base,d=t.cycles,h=void 0===d?new Set:d,r&&a(r)&&r["@context"]&&(r=r["@context"]),r=s(r),p=[],v=w(r),e.prev=4,v.s();case 6:if((g=v.n()).done){e.next=26;break}if(b=g.value,!o(b)){e.next=17;break}if(m=this._get(b),e.t0=m,e.t0){e.next=15;break}return e.next=14,this._resolveRemoteContext({activeCtx:n,url:b,documentLoader:u,base:c,cycles:h});case 14:m=e.sent;case 15:return i(m)?p.push.apply(p,y(m)):p.push(m),e.abrupt("continue",24);case 17:if(null!==b){e.next=20;break}return p.push(new l({document:null})),e.abrupt("continue",24);case 20:a(b)||f(r),_=JSON.stringify(b),(x=this._get(_))||(x=new l({document:b}),this._cacheResolvedContext({key:_,resolved:x,tag:"static"})),p.push(x);case 24:e.next=6;break;case 26:e.next=31;break;case 28:e.prev=28,e.t1=e.catch(4),v.e(e.t1);case 31:return e.prev=31,v.f(),e.finish(31);case 34:return e.abrupt("return",p);case 35:case"end":return e.stop()}},e,this,[[4,28,31,34]])})),function(e){return r.apply(this,arguments)})},{key:"_get",value:function(e){var t=this.perOpCache.get(e);if(!t){var n=this.sharedCache.get(e);n&&((t=n.get("static"))&&this.perOpCache.set(e,t))}return t}},{key:"_cacheResolvedContext",value:function(e){var t=e.key,n=e.resolved,r=e.tag;if(this.perOpCache.set(t,n),void 0!==r){var i=this.sharedCache.get(t);i||(i=new Map,this.sharedCache.set(t,i)),i.set(r,n)}return n}},{key:"_resolveRemoteContext",value:(n=_(regeneratorRuntime.mark(function e(t){var n,r,i,a,o,s,c,l,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.activeCtx,r=t.url,i=t.documentLoader,a=t.base,o=t.cycles,r=u(a,r),e.next=4,this._fetchContext({activeCtx:n,url:r,documentLoader:i,cycles:o});case 4:return s=e.sent,c=s.context,l=s.remoteDoc,d({context:c,base:a=l.documentUrl||r}),e.next=10,this.resolve({activeCtx:n,context:c,documentLoader:i,base:a,cycles:o});case 10:return f=e.sent,e.abrupt("return",(this._cacheResolvedContext({key:r,resolved:f,tag:l.tag}),f));case 12:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"_fetchContext",value:(t=_(regeneratorRuntime.mark(function e(t){var n,r,s,u,l,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.activeCtx,r=t.url,s=t.documentLoader,!((u=t.cycles).size>10)){e.next=3;break}throw new c("Maximum number of @context URLs exceeded.","jsonld.ContextUrlError",{code:"json-ld-1.0"===n.processingMode?"loading remote context failed":"context overflow",max:10});case 3:if(!u.has(r)){e.next=5;break}throw new c("Cyclical @context URLs detected.","jsonld.ContextUrlError",{code:"json-ld-1.0"===n.processingMode?"recursive context inclusion":"context overflow",url:r});case 5:return u.add(r),e.prev=6,e.next=9,s(r);case 9:f=e.sent,l=f.document||null,o(l)&&(l=JSON.parse(l)),e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(6),new c("Dereferencing a URL did not result in a valid JSON-LD object. Possible causes are an inaccessible URL perhaps due to a same-origin policy (ensure the server uses CORS if you are using client-side JavaScript), too many redirects, a non-JSON response, or more than one HTTP Link Header was provided for a remote context.","jsonld.InvalidUrl",{code:"loading remote context failed",url:r,cause:e.t0});case 17:if(a(l)){e.next=19;break}throw new c("Dereferencing a URL did not result in a JSON object. The response was valid JSON, but it was not a JSON object.","jsonld.InvalidUrl",{code:"invalid remote context",url:r});case 19:return e.abrupt("return",(l="@context"in l?{"@context":l["@context"]}:{"@context":{}},f.contextUrl&&(i(l["@context"])||(l["@context"]=[l["@context"]]),l["@context"].push(f.contextUrl)),{context:l,remoteDoc:f}));case 20:case"end":return e.stop()}},e,null,[[6,14]])})),function(e){return t.apply(this,arguments)})}]),e}()},{"./JsonLdError":26,"./ResolvedContext":30,"./types":44,"./url":45,"./util":46}],26:[function(e,t,n){"use strict";t.exports=function(e){u(n,e);var t=c(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"An unspecified JSON-LD error occurred.",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"jsonld.Error",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return S(this,n),(e=t.call(this,r)).name=i,e.message=r,e.details=a,e}return n}(d(Error))},{}],27:[function(e,t,n){"use strict";t.exports=function(e){var t=function(){function e(){S(this,e)}return N(e,[{key:"toString",value:function(){return"[object JsonLdProcessor]"}}]),e}();return Object.defineProperty(t,"prototype",{writable:!1,enumerable:!1}),Object.defineProperty(t.prototype,"constructor",{writable:!0,enumerable:!1,configurable:!0,value:t}),t.compact=function(t,n){return arguments.length<2?Promise.reject(new TypeError("Could not compact, too few arguments.")):e.compact(t,n)},t.expand=function(t){return arguments.length<1?Promise.reject(new TypeError("Could not expand, too few arguments.")):e.expand(t)},t.flatten=function(t){return arguments.length<1?Promise.reject(new TypeError("Could not flatten, too few arguments.")):e.flatten(t)},t}},{}],28:[function(e,t,n){"use strict";t.exports=e("rdf-canonize").NQuads},{"rdf-canonize":68}],29:[function(e,t,n){"use strict";t.exports=function(){function e(){S(this,e),this._requests={}}var t;return N(e,[{key:"wrapLoader",value:function(e){var t=this;return t._loader=e,function(){return t.add.apply(t,arguments)}}},{key:"add",value:(t=_(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=this._requests[t])){e.next=3;break}return e.abrupt("return",Promise.resolve(n));case 3:return n=this._requests[t]=this._loader(t),e.prev=4,e.next=7,n;case 7:return e.abrupt("return",e.sent);case 8:return e.prev=8,delete this._requests[t],e.finish(8);case 11:case"end":return e.stop()}},e,this,[[4,,8,11]])})),function(e){return t.apply(this,arguments)})}]),e}()},{}],30:[function(e,t,n){"use strict";var r=e("lru-cache");t.exports=function(){function e(t){var n=t.document;S(this,e),this.document=n,this.cache=new r({max:10})}return N(e,[{key:"getProcessed",value:function(e){return this.cache.get(e)}},{key:"setProcessed",value:function(e,t){this.cache.set(e,t)}}]),e}()},{"lru-cache":47}],31:[function(e,t,n){"use strict";var a=e("./JsonLdError"),o=e("./types"),u=o.isArray,c=o.isObject,l=o.isString,f=o.isUndefined,d=e("./graphTypes"),h=d.isList,p=d.isValue,v=d.isGraph,g=d.isSimpleGraph,y=d.isSubjectReference,b=e("./context"),m=b.expandIri,x=b.getContextValue,k=b.isKeyword,S=b.process,j=b.processingMode,N=e("./url"),E=N.removeBase,T=N.prependBase,I=e("./util"),R=I.addValue,O=I.asArray,A=I.compareShortestLeast,L={};function M(e,t,n){if("@nest"!==m(e,t,{vocab:!0},n))throw new a("JSON-LD compact error; nested property must have an @nest value resolving to @nest.","jsonld.SyntaxError",{code:"invalid @nest value"})}t.exports=L,L.compact=function(){var e=_(regeneratorRuntime.mark(function e(t){var n,r,o,d,b,m,_,N,E,T,I,A,D;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.activeCtx,r=t.activeProperty,o=void 0===r?null:r,d=t.element,b=t.options,m=void 0===b?{}:b,_=t.compactionMap,N=void 0===_?function(){}:_,!u(d)){e.next=21;break}E=[],T=0;case 4:if(!(T<d.length)){e.next=20;break}return e.next=7,L.compact({activeCtx:n,activeProperty:o,element:d[T],options:m,compactionMap:N});case 7:if(I=e.sent,e.t0=null===I,!e.t0){e.next=14;break}return e.next=12,N({unmappedValue:d[T],activeCtx:n,activeProperty:o,parent:d,index:T,options:m});case 12:I=e.sent,e.t0=void 0===I;case 14:if(e.t1=e.t0,e.t1){e.next=17;break}E.push(I);case 17:++T,e.next=4;break;case 20:return e.abrupt("return",(m.compactArrays&&1===E.length&&0===(x(n,o,"@container")||[]).length&&(E=E[0]),E));case 21:if(A=x(n,o,"@context"),e.t2=f(A),e.t2){e.next=27;break}return e.next=26,S({activeCtx:n,localCtx:A,propagate:!0,overrideProtected:!0,options:m});case 26:n=e.sent;case 27:if(!c(d)){e.next=32;break}return e.delegateYield(regeneratorRuntime.mark(function e(){var t,r,b,_,E,T,I,A,D,P,C,F,B,U,G,V,z,q,K,H,W,J,Q,X,Y,Z,$,ee,te,ne,re,ie,ae,oe,se,ue,ce,le,fe,de,he,pe,ve,ge,ye,be,me,_e,we,xe,ke,Se,je,Ne,Ee,Te,Ie,Re,Oe,Ae;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(m.link&&"@id"in d&&m.link.hasOwnProperty(d["@id"]))){e.next=9;break}b=m.link[d["@id"]],_=0;case 3:if(!(_<b.length)){e.next=9;break}if(b[_].expanded!==d){e.next=6;break}return e.abrupt("return",{v:b[_].compacted});case 6:++_,e.next=3;break;case 9:if(!p(d)&&!y(d)){e.next=12;break}return E=L.compactValue({activeCtx:n,activeProperty:o,value:d,options:m}),e.abrupt("return",{v:(m.link&&y(d)&&(m.link.hasOwnProperty(d["@id"])||(m.link[d["@id"]]=[]),m.link[d["@id"]].push({expanded:d,compacted:E})),E)});case 12:if(!h(d)||!(x(n,o,"@container")||[]).includes("@list")){e.next=14;break}return e.abrupt("return",{v:L.compact({activeCtx:n,activeProperty:o,element:d["@list"],options:m,compactionMap:N})});case 14:if(T="@reverse"===o,I={},A=n,p(d)||y(d)||(n=n.revertToPreviousContext()),D=x(A,o,"@context"),e.t0=f(D),e.t0){e.next=22;break}return e.next=21,S({activeCtx:n,localCtx:D,propagate:!0,overrideProtected:!0,options:m});case 21:n=e.sent;case 22:m.link&&"@id"in d&&(m.link.hasOwnProperty(d["@id"])||(m.link[d["@id"]]=[]),m.link[d["@id"]].push({expanded:d,compacted:I})),(P=d["@type"]||[]).length>1&&(P=Array.from(P).sort()),C=n,F=w(P),e.prev=27,F.s();case 29:if((B=F.n()).done){e.next=39;break}if(U=B.value,G=L.compactIri({activeCtx:C,iri:U,relativeTo:{vocab:!0}}),V=x(A,G,"@context"),e.t1=f(V),e.t1){e.next=37;break}return e.next=36,S({activeCtx:n,localCtx:V,options:m,propagate:!1});case 36:n=e.sent;case 37:e.next=29;break;case 39:e.next=44;break;case 41:e.prev=41,e.t2=e.catch(27),F.e(e.t2);case 44:return e.prev=44,F.f(),e.finish(44);case 47:z=Object.keys(d).sort(),q=w(z),e.prev=49,q.s();case 51:if((K=q.n()).done){e.next=184;break}if(H=K.value,W=d[H],"@id"===H){e.next=180;break}if("@type"===H){e.next=174;break}if("@reverse"===H){e.next=167;break}if("@preserve"===H){e.next=161;break}if("@index"===H){e.next=155;break}if("@graph"===H||"@list"===H||"@included"===H||!k(H)){e.next=64;break}J=L.compactIri({activeCtx:n,iri:H,relativeTo:{vocab:!0}}),R(I,J,W),e.next=153;break;case 64:if(u(W)){e.next=66;break}throw new a("JSON-LD expansion error; expanded value must be an array.","jsonld.SyntaxError");case 66:0===W.length&&(Q=L.compactIri({activeCtx:n,iri:H,value:W,relativeTo:{vocab:!0},reverse:T}),X=n.mappings.has(Q)?n.mappings.get(Q)["@nest"]:null,Y=I,X&&(M(n,X,m),c(I[X])||(I[X]={}),Y=I[X]),R(Y,Q,W,{propertyIsArray:!0})),Z=w(W),e.prev=68,Z.s();case 70:if(($=Z.n()).done){e.next=145;break}return ee=$.value,te=L.compactIri({activeCtx:n,iri:H,value:ee,relativeTo:{vocab:!0},reverse:T}),ne=n.mappings.has(te)?n.mappings.get(te)["@nest"]:null,re=I,ne&&(M(n,ne,m),c(I[ne])||(I[ne]={}),re=I[ne]),ie=x(n,te,"@container")||[],ae=v(ee),oe=h(ee),se=void 0,oe?se=ee["@list"]:ae&&(se=ee["@graph"]),e.next=80,L.compact({activeCtx:n,activeProperty:te,element:oe||ae?se:ee,options:m,compactionMap:N});case 80:if(ue=e.sent,!oe){e.next=86;break}if(u(ue)||(ue=[ue]),!ie.includes("@list")){e.next=85;break}return R(re,te,ue,{valueIsArray:!0,allowDuplicate:!0}),e.abrupt("continue",143);case 85:ue=s({},L.compactIri({activeCtx:n,iri:"@list",relativeTo:{vocab:!0}}),ue),"@index"in ee&&(ue[L.compactIri({activeCtx:n,iri:"@index",relativeTo:{vocab:!0}})]=ee["@index"]);case 86:if(!ae){e.next=90;break}ie.includes("@graph")&&(ie.includes("@id")||ie.includes("@index")&&g(ee))?(ce=void 0,re.hasOwnProperty(te)?ce=re[te]:re[te]=ce={},le=(ie.includes("@id")?ee["@id"]:ee["@index"])||L.compactIri({activeCtx:n,iri:"@none",relativeTo:{vocab:!0}}),R(ce,le,ue,{propertyIsArray:!m.compactArrays||ie.includes("@set")})):ie.includes("@graph")&&g(ee)?(u(ue)&&ue.length>1&&(ue={"@included":ue}),R(re,te,ue,{propertyIsArray:!m.compactArrays||ie.includes("@set")})):(u(ue)&&1===ue.length&&m.compactArrays&&(ue=ue[0]),ue=s({},L.compactIri({activeCtx:n,iri:"@graph",relativeTo:{vocab:!0}}),ue),"@id"in ee&&(ue[L.compactIri({activeCtx:n,iri:"@id",relativeTo:{vocab:!0}})]=ee["@id"]),"@index"in ee&&(ue[L.compactIri({activeCtx:n,iri:"@index",relativeTo:{vocab:!0}})]=ee["@index"]),R(re,te,ue,{propertyIsArray:!m.compactArrays||ie.includes("@set")})),e.next=143;break;case 90:if(!(ie.includes("@language")||ie.includes("@index")||ie.includes("@id")||ie.includes("@type"))){e.next=141;break}if(fe=void 0,de=void 0,re.hasOwnProperty(te)?fe=re[te]:re[te]=fe={},!ie.includes("@language")){e.next=96;break}p(ue)&&(ue=ue["@value"]),de=ee["@language"],e.next=138;break;case 96:if(!ie.includes("@index")){e.next=117;break}if(he=x(n,te,"@index")||"@index",pe=L.compactIri({activeCtx:n,iri:he,relativeTo:{vocab:!0}}),"@index"!==he){e.next=102;break}de=ee["@index"],delete ue[pe],e.next=115;break;case 102:if(ye=void 0,ve=O(ue[he]||[]),ge=i(ve),de=ge[0],ye=ge.slice(1),!l(de)){e.next=114;break}e.t3=ye.length,e.next=0===e.t3?107:1===e.t3?109:111;break;case 107:return delete ue[he],e.abrupt("break",112);case 109:return ue[he]=ye[0],e.abrupt("break",112);case 111:ue[he]=ye;case 112:e.next=115;break;case 114:de=null;case 115:e.next=138;break;case 117:if(!ie.includes("@id")){e.next=122;break}be=L.compactIri({activeCtx:n,iri:"@id",relativeTo:{vocab:!0}}),de=ue[be],delete ue[be],e.next=138;break;case 122:if(!ie.includes("@type")){e.next=138;break}me=L.compactIri({activeCtx:n,iri:"@type",relativeTo:{vocab:!0}}),_e=void 0,e.t4=(t=O(ue[me]||[]),r=i(t),de=r[0],(_e=r.slice(1)).length),e.next=0===e.t4?128:1===e.t4?130:132;break;case 128:return delete ue[me],e.abrupt("break",133);case 130:return ue[me]=_e[0],e.abrupt("break",133);case 132:ue[me]=_e;case 133:if(e.t5=1===Object.keys(ue).length&&"@id"in ee,!e.t5){e.next=138;break}return e.next=137,L.compact({activeCtx:n,activeProperty:te,element:{"@id":ee["@id"]},options:m,compactionMap:N});case 137:ue=e.sent;case 138:de||(de=L.compactIri({activeCtx:n,iri:"@none",relativeTo:{vocab:!0}})),R(fe,de,ue,{propertyIsArray:ie.includes("@set")}),e.next=143;break;case 141:we=!m.compactArrays||ie.includes("@set")||ie.includes("@list")||u(ue)&&0===ue.length||"@list"===H||"@graph"===H,R(re,te,ue,{propertyIsArray:we});case 143:e.next=70;break;case 145:e.next=150;break;case 147:e.prev=147,e.t6=e.catch(68),Z.e(e.t6);case 150:return e.prev=150,Z.f(),e.finish(150);case 153:e.next=159;break;case 155:if(!(x(n,o,"@container")||[]).includes("@index")){e.next=157;break}return e.abrupt("continue",182);case 157:xe=L.compactIri({activeCtx:n,iri:H,relativeTo:{vocab:!0}}),R(I,xe,W);case 159:e.next=165;break;case 161:return e.next=163,L.compact({activeCtx:n,activeProperty:o,element:W,options:m,compactionMap:N});case 163:ke=e.sent,u(ke)&&0===ke.length||R(I,H,ke);case 165:e.next=172;break;case 167:return e.next=169,L.compact({activeCtx:n,activeProperty:"@reverse",element:W,options:m,compactionMap:N});case 169:for(je in Se=e.sent)n.mappings.has(je)&&n.mappings.get(je).reverse&&(Ne=Se[je],Ee=(x(n,je,"@container")||[]).includes("@set")||!m.compactArrays,R(I,je,Ne,{propertyIsArray:Ee}),delete Se[je]);Object.keys(Se).length>0&&(Te=L.compactIri({activeCtx:n,iri:H,relativeTo:{vocab:!0}}),R(I,Te,Se));case 172:e.next=178;break;case 174:1===(Ie=O(W).map(function(e){return L.compactIri({activeCtx:A,iri:e,relativeTo:{vocab:!0}})})).length&&(Ie=Ie[0]),Re=L.compactIri({activeCtx:n,iri:"@type",relativeTo:{vocab:!0}}),Oe=(x(n,Re,"@container")||[]).includes("@set")&&j(n,1.1)||u(Ie)&&0===W.length,R(I,Re,Ie,{propertyIsArray:Oe});case 178:e.next=182;break;case 180:1===(Ae=O(W).map(function(e){return L.compactIri({activeCtx:n,iri:e,relativeTo:{vocab:!1},base:m.base})})).length&&(Ae=Ae[0]),I[L.compactIri({activeCtx:n,iri:"@id",relativeTo:{vocab:!0}})]=Ae;case 182:e.next=51;break;case 184:e.next=189;break;case 186:e.prev=186,e.t7=e.catch(49),q.e(e.t7);case 189:return e.prev=189,q.f(),e.finish(189);case 192:return e.abrupt("return",{v:I});case 193:case"end":return e.stop()}},e,null,[[27,41,44,47],[49,186,189,192],[68,147,150,153]])})(),"t3",29);case 29:if("object"!=typeof(D=e.t3)){e.next=32;break}return e.abrupt("return",D.v);case 32:return e.abrupt("return",d);case 33:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),L.compactIri=function(e){var t=e.activeCtx,n=e.iri,i=e.value,o=void 0===i?null:i,s=e.relativeTo,u=void 0===s?{vocab:!1}:s,l=e.reverse,f=void 0!==l&&l,d=e.base,g=void 0===d?null:d;if(null===n)return n;t.isPropertyTermScoped&&t.previousContext&&(t=t.previousContext);var y=t.getInverse();if(k(n)&&n in y&&"@none"in y[n]&&"@type"in y[n]["@none"]&&"@none"in y[n]["@none"]["@type"])return y[n]["@none"]["@type"]["@none"];if(u.vocab&&n in y){var b=t["@language"]||"@none",m=[];c(o)&&"@index"in o&&!("@graph"in o)&&m.push("@index","@index@set"),c(o)&&"@preserve"in o&&(o=o["@preserve"][0]),v(o)?("@index"in o&&m.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in o&&m.push("@graph@id","@graph@id@set"),m.push("@graph","@graph@set","@set"),"@index"in o||m.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in o||m.push("@graph@id","@graph@id@set")):c(o)&&!p(o)&&m.push("@id","@id@set","@type","@set@type");var _="@language",x="@null";if(f)_="@type",x="@reverse",m.push("@set");else if(h(o)){"@index"in o||m.push("@list");var S=o["@list"];if(0===S.length)_="@any",x="@none";else{for(var j=0===S.length?b:null,N=null,I=0;I<S.length;++I){var R=S[I],O="@none",M="@none";if(p(R)?"@direction"in R?O="".concat((R["@language"]||"").toLowerCase(),"_").concat(R["@direction"]):"@language"in R?O=R["@language"].toLowerCase():"@type"in R?M=R["@type"]:O="@null":M="@id",null===j?j=O:O!==j&&p(R)&&(j="@none"),null===N?N=M:M!==N&&(N="@none"),"@none"===j&&"@none"===N)break}j=j||"@none","@none"!==(N=N||"@none")?(_="@type",x=N):x=j}}else{if(p(o))if("@language"in o&&!("@index"in o)){m.push("@language","@language@set"),x=o["@language"];var D=o["@direction"];D&&(x="".concat(x,"_").concat(D))}else"@direction"in o&&!("@index"in o)?x="_".concat(o["@direction"]):"@type"in o&&(_="@type",x=o["@type"]);else _="@type",x="@id";m.push("@set")}m.push("@none"),c(o)&&!("@index"in o)&&m.push("@index","@index@set"),p(o)&&1===Object.keys(o).length&&m.push("@language","@language@set");var P=function(e,t,n,r,i,a){null===a&&(a="@null");var o=[];if(("@id"===a||"@reverse"===a)&&c(n)&&"@id"in n){"@reverse"===a&&o.push("@reverse");var s=L.compactIri({activeCtx:e,iri:n["@id"],relativeTo:{vocab:!0}});e.mappings.has(s)&&e.mappings.get(s)&&e.mappings.get(s)["@id"]===n["@id"]?o.push.apply(o,["@vocab","@id"]):o.push.apply(o,["@id","@vocab"])}else{o.push(a);var u=o.find(function(e){return e.includes("_")});u&&o.push(u.replace(/^[^_]+_/,"_"))}o.push("@none");var l,f=e.inverse[t],d=w(r);try{for(d.s();!(l=d.n()).done;){var h=l.value;if(h in f){var p,v=f[h][i],g=w(o);try{for(g.s();!(p=g.n()).done;){var y=p.value;if(y in v)return v[y]}}catch(b){g.e(b)}finally{g.f()}}}}catch(b){d.e(b)}finally{d.f()}return null}(t,n,o,m,_,x);if(null!==P)return P}if(u.vocab&&"@vocab"in t){var C=t["@vocab"];if(0===n.indexOf(C)&&n!==C){var F=n.substr(C.length);if(!t.mappings.has(F))return F}}for(var B=null,U=[],G=t.fastCurieMap,V=n.length-1,z=0;z<V&&n[z]in G;++z)""in(G=G[n[z]])&&U.push(G[""][0]);for(var q=U.length-1;q>=0;--q){var K,H=U[q],W=w(H.terms);try{for(W.s();!(K=W.n()).done;){var J=K.value,Q=J+":"+n.substr(H.iri.length);t.mappings.get(J)._prefix&&(!t.mappings.has(Q)||null===o&&t.mappings.get(Q)["@id"]===n)&&(null===B||A(Q,B)<0)&&(B=Q)}}catch(te){W.e(te)}finally{W.f()}}if(null!==B)return B;var X,Y=w(t.mappings);try{for(Y.s();!(X=Y.n()).done;){var Z=r(X.value,2),$=Z[0],ee=Z[1];if(ee&&ee._prefix&&n.startsWith($+":"))throw new a('Absolute IRI "'.concat(n,'" confused with prefix "').concat($,'".'),"jsonld.SyntaxError",{code:"IRI confused with prefix",context:t})}}catch(te){Y.e(te)}finally{Y.f()}return u.vocab?n:"@base"in t?t["@base"]?E(T(g,t["@base"]),n):n:E(g,n)},L.compactValue=function(e){var t=e.activeCtx,n=e.activeProperty,r=e.value,i=e.options;if(p(r)){var a=x(t,n,"@type"),o=x(t,n,"@language"),u=x(t,n,"@direction"),c=x(t,n,"@container")||[],f="@index"in r&&!c.includes("@index");if(!f&&"@none"!==a){if(r["@type"]===a)return r["@value"];if("@language"in r&&r["@language"]===o&&"@direction"in r&&r["@direction"]===u)return r["@value"];if("@language"in r&&r["@language"]===o)return r["@value"];if("@direction"in r&&r["@direction"]===u)return r["@value"]}var d=Object.keys(r).length,h=1===d||2===d&&"@index"in r&&!f,v="@language"in t,g=l(r["@value"]),y=t.mappings.has(n)&&null===t.mappings.get(n)["@language"];if(h&&"@none"!==a&&(!v||!g||y))return r["@value"];var b={};return f&&(b[L.compactIri({activeCtx:t,iri:"@index",relativeTo:{vocab:!0}})]=r["@index"]),"@type"in r?b[L.compactIri({activeCtx:t,iri:"@type",relativeTo:{vocab:!0}})]=L.compactIri({activeCtx:t,iri:r["@type"],relativeTo:{vocab:!0}}):"@language"in r&&(b[L.compactIri({activeCtx:t,iri:"@language",relativeTo:{vocab:!0}})]=r["@language"]),"@direction"in r&&(b[L.compactIri({activeCtx:t,iri:"@direction",relativeTo:{vocab:!0}})]=r["@direction"]),b[L.compactIri({activeCtx:t,iri:"@value",relativeTo:{vocab:!0}})]=r["@value"],b}var _=m(t,n,{vocab:!0},i),w=x(t,n,"@type"),k=L.compactIri({activeCtx:t,iri:r["@id"],relativeTo:{vocab:"@vocab"===w},base:i.base});return"@id"===w||"@vocab"===w||"@graph"===_?k:s({},L.compactIri({activeCtx:t,iri:"@id",relativeTo:{vocab:!0}}),k)}},{"./JsonLdError":26,"./context":33,"./graphTypes":40,"./types":44,"./url":45,"./util":46}],32:[function(e,t,n){"use strict";var r="http://www.w3.org/1999/02/22-rdf-syntax-ns#",i="http://www.w3.org/2001/XMLSchema#";t.exports={LINK_HEADER_REL:"http://www.w3.org/ns/json-ld#context",LINK_HEADER_CONTEXT:"http://www.w3.org/ns/json-ld#context",RDF:r,RDF_LIST:r+"List",RDF_FIRST:r+"first",RDF_REST:r+"rest",RDF_NIL:r+"nil",RDF_TYPE:r+"type",RDF_PLAIN_LITERAL:r+"PlainLiteral",RDF_XML_LITERAL:r+"XMLLiteral",RDF_JSON_LITERAL:r+"JSON",RDF_OBJECT:r+"object",RDF_LANGSTRING:r+"langString",XSD:i,XSD_BOOLEAN:i+"boolean",XSD_DOUBLE:i+"double",XSD_INTEGER:i+"integer",XSD_STRING:i+"string"}},{}],33:[function(e,t,n){"use strict";var i=e("./util"),a=e("./JsonLdError"),o=e("./types"),s=o.isArray,u=o.isObject,c=o.isString,l=o.isUndefined,f=e("./url"),d=f.isAbsolute,h=f.isRelative,p=f.prependBase,v=e("./util"),g=v.asArray,b=v.compareShortestLeast,m=new Map,x=/^@[a-zA-Z]+$/,k={};function S(e,t,n,r,i,a){if(null===t||!c(t)||k.isKeyword(t))return t;if(t.match(x))return null;if(r&&r.hasOwnProperty(t)&&!0!==i.get(t)&&k.createTermDefinition({activeCtx:e,localCtx:r,term:t,defined:i,options:a}),(n=n||{}).vocab){var o=e.mappings.get(t);if(null===o)return null;if(u(o)&&"@id"in o)return o["@id"]}var s=t.indexOf(":");if(s>0){var l=t.substr(0,s),f=t.substr(s+1);if("_"===l||0===f.indexOf("//"))return t;r&&r.hasOwnProperty(l)&&k.createTermDefinition({activeCtx:e,localCtx:r,term:l,defined:i,options:a});var h=e.mappings.get(l);if(h&&h._prefix)return h["@id"]+f;if(d(t))return t}if(n.vocab&&"@vocab"in e)return e["@vocab"]+t;if(n.base&&"@base"in e){if(e["@base"])return p(p(a.base,e["@base"]),t)}else if(n.base)return p(a.base,t);return t}function j(e,t){if(!e||"object"!=typeof e||!t||"object"!=typeof t)return e===t;var n=Array.isArray(e);if(n!==Array.isArray(t))return!1;if(n){if(e.length!==t.length)return!1;for(var r=0;r<e.length;++r)if(!j(e[r],t[r]))return!1;return!0}var i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;for(var o in e){var s=e[o],u=t[o];if("@container"===o&&Array.isArray(s)&&Array.isArray(u)&&(s=s.slice().sort(),u=u.slice().sort()),!j(s,u))return!1}return!0}t.exports=k,k.process=function(){var e=_(regeneratorRuntime.mark(function e(t){var n,o,l,f,v,y,b,m,_,x,j,N,E,T,I,R,O,A,L,M,D,P,C,F,B,U,G,V,z,q,K,H,W,J,Q,X,Y,Z;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.activeCtx,o=t.localCtx,l=t.options,f=t.propagate,v=void 0===f||f,y=t.overrideProtected,b=void 0!==y&&y,m=t.cycles,_=void 0===m?new Set:m,u(o)&&"@context"in o&&s(o["@context"])&&(o=o["@context"]),0!==g(o).length){e.next=3;break}return e.abrupt("return",n);case 3:return e.next=5,l.contextResolver.resolve({activeCtx:n,context:o,documentLoader:l.documentLoader,base:l.base});case 5:x=e.sent,u(x[0].document)&&"boolean"==typeof x[0].document["@propagate"]&&(v=x[0].document["@propagate"]),j=n,v||j.previousContext||((j=j.clone()).previousContext=n),N=w(x),e.prev=10,N.s();case 12:if((E=N.n()).done){e.next=143;break}if(T=E.value,I=T.document,n=j,null!==I){e.next=34;break}if(b||0===Object.keys(n.protected).length){e.next=32;break}if("error"!==(R=l&&l.protectedMode||"error")){e.next=20;break}throw new a("Tried to nullify a context with protected terms outside of a term definition.","jsonld.SyntaxError",{code:"invalid context nullification"});case 20:if("warn"!==R){e.next=31;break}if(console.warn("WARNING: invalid context nullification"),!(O=T.getProcessed(n))){e.next=26;break}return j=n=O,e.abrupt("continue",141);case 26:for(A=n,j=n=k.getInitialContext(l).clone(),L=0,M=Object.entries(A.protected);L<M.length;L++)D=r(M[L],2),P=D[0],D[1]&&(n.mappings[P]=i.clone(A.mappings[P]));return n.protected=i.clone(A.protected),T.setProcessed(A,j),e.abrupt("continue",141);case 31:throw new a("Invalid protectedMode.","jsonld.SyntaxError",{code:"invalid protected mode",context:o,protectedMode:R});case 32:return j=n=k.getInitialContext(l).clone(),e.abrupt("continue",141);case 34:if(!(C=T.getProcessed(n))){e.next=38;break}return j=n=C,e.abrupt("continue",141);case 38:if(u(I)&&"@context"in I&&(I=I["@context"]),u(I)){e.next=40;break}throw new a("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:I});case 40:if(j=j.clone(),F=new Map,!("@version"in I)){e.next=48;break}if(1.1===I["@version"]){e.next=45;break}throw new a("Unsupported JSON-LD version: "+I["@version"],"jsonld.UnsupportedVersion",{code:"invalid @version value",context:I});case 45:if(!n.processingMode||"json-ld-1.0"!==n.processingMode){e.next=47;break}throw new a("@version: "+I["@version"]+" not compatible with "+n.processingMode,"jsonld.ProcessingModeConflict",{code:"processing mode conflict",context:I});case 47:j.processingMode="json-ld-1.1",j["@version"]=I["@version"],F.set("@version",!0);case 48:if(j.processingMode=j.processingMode||n.processingMode,!("@base"in I)){e.next=58;break}if(null!==(B=I["@base"])&&!d(B)){e.next=54;break}e.next=57;break;case 54:if(h(B)){e.next=56;break}throw new a('Invalid JSON-LD syntax; the value of "@base" in a @context must be an absolute IRI, a relative IRI, or null.',"jsonld.SyntaxError",{code:"invalid base IRI",context:I});case 56:B=p(j["@base"],B);case 57:j["@base"]=B,F.set("@base",!0);case 58:if(!("@vocab"in I)){e.next=70;break}if(null!==(U=I["@vocab"])){e.next=64;break}delete j["@vocab"],e.next=69;break;case 64:if(c(U)){e.next=66;break}throw new a('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:I});case 66:if(d(U)||!k.processingMode(j,1)){e.next=68;break}throw new a('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be an absolute IRI.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:I});case 68:j["@vocab"]=S(j,U,{vocab:!0,base:!0},void 0,void 0,l);case 69:F.set("@vocab",!0);case 70:if(!("@language"in I)){e.next=80;break}if(null!==(G=I["@language"])){e.next=76;break}delete j["@language"],e.next=79;break;case 76:if(c(G)){e.next=78;break}throw new a('Invalid JSON-LD syntax; the value of "@language" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid default language",context:I});case 78:j["@language"]=G.toLowerCase();case 79:F.set("@language",!0);case 80:if(!("@direction"in I)){e.next=92;break}if(V=I["@direction"],"json-ld-1.0"!==n.processingMode){e.next=84;break}throw new a("Invalid JSON-LD syntax; @direction not compatible with "+n.processingMode,"jsonld.SyntaxError",{code:"invalid context member",context:I});case 84:if(null!==V){e.next=88;break}delete j["@direction"],e.next=91;break;case 88:if("ltr"===V||"rtl"===V){e.next=90;break}throw new a('Invalid JSON-LD syntax; the value of "@direction" in a @context must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:I});case 90:j["@direction"]=V;case 91:F.set("@direction",!0);case 92:if(!("@propagate"in I)){e.next=99;break}if(z=I["@propagate"],"json-ld-1.0"!==n.processingMode){e.next=96;break}throw new a("Invalid JSON-LD syntax; @propagate not compatible with "+n.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:I});case 96:if("boolean"==typeof z){e.next=98;break}throw new a("Invalid JSON-LD syntax; @propagate value must be a boolean.","jsonld.SyntaxError",{code:"invalid @propagate value",context:o});case 98:F.set("@propagate",!0);case 99:if(!("@import"in I)){e.next=121;break}if(q=I["@import"],"json-ld-1.0"!==n.processingMode){e.next=103;break}throw new a("Invalid JSON-LD syntax; @import not compatible with "+n.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:I});case 103:if(c(q)){e.next=105;break}throw new a("Invalid JSON-LD syntax; @import must be a string.","jsonld.SyntaxError",{code:"invalid @import value",context:o});case 105:return e.next=107,l.contextResolver.resolve({activeCtx:n,context:q,documentLoader:l.documentLoader,base:l.base});case 107:if(1===(K=e.sent).length){e.next=110;break}throw new a("Invalid JSON-LD syntax; @import must reference a single context.","jsonld.SyntaxError",{code:"invalid remote context",context:o});case 110:if(!(H=K[0].getProcessed(n))){e.next=115;break}I=H,e.next=120;break;case 115:if(!("@import"in(W=K[0].document))){e.next=118;break}throw new a("Invalid JSON-LD syntax: imported context must not include @import.","jsonld.SyntaxError",{code:"invalid context entry",context:o});case 118:for(J in W)I.hasOwnProperty(J)||(I[J]=W[J]);K[0].setProcessed(n,I);case 120:F.set("@import",!0);case 121:F.set("@protected",I["@protected"]||!1),e.t0=regeneratorRuntime.keys(I);case 123:if((e.t1=e.t0()).done){e.next=140;break}if(Q=e.t1.value,k.createTermDefinition({activeCtx:j,localCtx:I,term:Q,defined:F,options:l,overrideProtected:b}),!u(I[Q])||!("@context"in I[Q])){e.next=138;break}if(X=I[Q]["@context"],Y=!0,c(X)&&(Z=p(l.base,X),_.has(Z)?Y=!1:_.add(Z)),!Y){e.next=138;break}return e.prev=130,e.next=133,k.process({activeCtx:j.clone(),localCtx:I[Q]["@context"],overrideProtected:!0,options:l,cycles:_});case 133:e.next=138;break;case 135:throw e.prev=135,e.t2=e.catch(130),new a("Invalid JSON-LD syntax; invalid scoped context.","jsonld.SyntaxError",{code:"invalid scoped context",context:I[Q]["@context"],term:Q});case 138:e.next=123;break;case 140:T.setProcessed(n,j);case 141:e.next=12;break;case 143:e.next=148;break;case 145:e.prev=145,e.t3=e.catch(10),N.e(e.t3);case 148:return e.prev=148,N.f(),e.finish(148);case 151:return e.abrupt("return",j);case 152:case"end":return e.stop()}},e,null,[[10,145,148,151],[130,135]])}));return function(t){return e.apply(this,arguments)}}(),k.createTermDefinition=function(e){var t,n=e.activeCtx,r=e.localCtx,i=e.term,o=e.defined,l=e.options,f=e.overrideProtected,h=void 0!==f&&f;if(o.has(i)){if(o.get(i))return;throw new a("Cyclical context definition detected.","jsonld.CyclicalContext",{code:"cyclic IRI mapping",context:r,term:i})}if(o.set(i,!1),r.hasOwnProperty(i)&&(t=r[i]),"@type"===i&&u(t)&&"@set"===(t["@container"]||"@set")&&k.processingMode(n,1.1)){var p=["@container","@id","@protected"],v=Object.keys(t);if(0===v.length||v.some(function(e){return!p.includes(e)}))throw new a("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:r,term:i})}else{if(k.isKeyword(i))throw new a("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:r,term:i});if(i.match(x))return void console.warn('WARNING: terms beginning with "@" are reserved for future use and ignored',{term:i});if(""===i)throw new a("Invalid JSON-LD syntax; a term cannot be an empty string.","jsonld.SyntaxError",{code:"invalid term definition",context:r})}var g=n.mappings.get(i);n.mappings.has(i)&&n.mappings.delete(i);var y=!1;if((c(t)||null===t)&&(y=!0,t={"@id":t}),!u(t))throw new a("Invalid JSON-LD syntax; @context term values must be strings or objects.","jsonld.SyntaxError",{code:"invalid term definition",context:r});var b={};n.mappings.set(i,b),b.reverse=!1;var m=["@container","@id","@language","@reverse","@type"];for(var _ in k.processingMode(n,1.1)&&m.push("@context","@direction","@index","@nest","@prefix","@protected"),t)if(!m.includes(_))throw new a("Invalid JSON-LD syntax; a term definition must not contain "+_,"jsonld.SyntaxError",{code:"invalid term definition",context:r});var w=i.indexOf(":");if(b._termHasColon=w>0,"@reverse"in t){if("@id"in t)throw new a("Invalid JSON-LD syntax; a @reverse term definition must not contain @id.","jsonld.SyntaxError",{code:"invalid reverse property",context:r});if("@nest"in t)throw new a("Invalid JSON-LD syntax; a @reverse term definition must not contain @nest.","jsonld.SyntaxError",{code:"invalid reverse property",context:r});var N=t["@reverse"];if(!c(N))throw new a("Invalid JSON-LD syntax; a @context @reverse value must be a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:r});if(!k.isKeyword(N)&&N.match(x))return console.warn('WARNING: values beginning with "@" are reserved for future use and ignored',{reverse:N}),void(g?n.mappings.set(i,g):n.mappings.delete(i));var E=S(n,N,{vocab:!0,base:!1},r,o,l);if(!d(E))throw new a("Invalid JSON-LD syntax; a @context @reverse value must be an absolute IRI or a blank node identifier.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:r});b["@id"]=E,b.reverse=!0}else if("@id"in t){var T=t["@id"];if(T&&!c(T))throw new a("Invalid JSON-LD syntax; a @context @id value must be an array of strings or a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:r});if(null===T)b["@id"]=null;else{if(!k.isKeyword(T)&&T.match(x))return console.warn('WARNING: values beginning with "@" are reserved for future use and ignored',{id:T}),void(g?n.mappings.set(i,g):n.mappings.delete(i));if(T!==i){if(T=S(n,T,{vocab:!0,base:!1},r,o,l),!d(T)&&!k.isKeyword(T))throw new a("Invalid JSON-LD syntax; a @context @id value must be an absolute IRI, a blank node identifier, or a keyword.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:r});if(i.match(/(?::[^:])|\//)&&S(n,i,{vocab:!0,base:!1},r,new Map(o).set(i,!0),l)!==T)throw new a("Invalid JSON-LD syntax; term in form of IRI must expand to definition.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:r});b["@id"]=T,b._prefix=y&&!b._termHasColon&&T.match(/[:\/\?#\[\]@]$/)}}}if(!("@id"in b))if(b._termHasColon){var I=i.substr(0,w);if(r.hasOwnProperty(I)&&k.createTermDefinition({activeCtx:n,localCtx:r,term:I,defined:o,options:l}),n.mappings.has(I)){var R=i.substr(w+1);b["@id"]=n.mappings.get(I)["@id"]+R}else b["@id"]=i}else if("@type"===i)b["@id"]=i;else{if(!("@vocab"in n))throw new a("Invalid JSON-LD syntax; @context terms must define an @id.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:r,term:i});b["@id"]=n["@vocab"]+i}if((!0===t["@protected"]||!0===o.get("@protected")&&!1!==t["@protected"])&&(n.protected[i]=!0,b.protected=!0),o.set(i,!0),"@type"in t){var O=t["@type"];if(!c(O))throw new a("Invalid JSON-LD syntax; an @context @type value must be a string.","jsonld.SyntaxError",{code:"invalid type mapping",context:r});if("@json"===O||"@none"===O){if(k.processingMode(n,1))throw new a('Invalid JSON-LD syntax; an @context @type value must not be "'.concat(O,'" in JSON-LD 1.0 mode.'),"jsonld.SyntaxError",{code:"invalid type mapping",context:r})}else if("@id"!==O&&"@vocab"!==O){if(O=S(n,O,{vocab:!0,base:!1},r,o,l),!d(O))throw new a("Invalid JSON-LD syntax; an @context @type value must be an absolute IRI.","jsonld.SyntaxError",{code:"invalid type mapping",context:r});if(0===O.indexOf("_:"))throw new a("Invalid JSON-LD syntax; an @context @type value must be an IRI, not a blank node identifier.","jsonld.SyntaxError",{code:"invalid type mapping",context:r})}b["@type"]=O}if("@container"in t){var A=c(t["@container"])?[t["@container"]]:t["@container"]||[],L=["@list","@set","@index","@language"],M=!0,D=A.includes("@set");if(k.processingMode(n,1.1)){if(L.push("@graph","@id","@type"),A.includes("@list")){if(1!==A.length)throw new a("Invalid JSON-LD syntax; @context @container with @list must have no other values","jsonld.SyntaxError",{code:"invalid container mapping",context:r})}else if(A.includes("@graph")){if(A.some(function(e){return"@graph"!==e&&"@id"!==e&&"@index"!==e&&"@set"!==e}))throw new a("Invalid JSON-LD syntax; @context @container with @graph must have no other values other than @id, @index, and @set","jsonld.SyntaxError",{code:"invalid container mapping",context:r})}else M&=A.length<=(D?2:1);if(A.includes("@type")&&(b["@type"]=b["@type"]||"@id",!["@id","@vocab"].includes(b["@type"])))throw new a("Invalid JSON-LD syntax; container: @type requires @type to be @id or @vocab.","jsonld.SyntaxError",{code:"invalid type mapping",context:r})}else M&=!s(t["@container"]),M&=A.length<=1;if(M&=A.every(function(e){return L.includes(e)}),!(M&=!(D&&A.includes("@list"))))throw new a("Invalid JSON-LD syntax; @context @container value must be one of the following: "+L.join(", "),"jsonld.SyntaxError",{code:"invalid container mapping",context:r});if(b.reverse&&!A.every(function(e){return["@index","@set"].includes(e)}))throw new a("Invalid JSON-LD syntax; @context @container value for a @reverse type definition must be @index or @set.","jsonld.SyntaxError",{code:"invalid reverse property",context:r});b["@container"]=A}if("@index"in t){if(!("@container"in t)||!b["@container"].includes("@index"))throw new a('Invalid JSON-LD syntax; @index without @index in @container: "'.concat(t["@index"],'" on term "').concat(i,'".'),"jsonld.SyntaxError",{code:"invalid term definition",context:r});if(!c(t["@index"])||0===t["@index"].indexOf("@"))throw new a('Invalid JSON-LD syntax; @index must expand to an IRI: "'.concat(t["@index"],'" on term "').concat(i,'".'),"jsonld.SyntaxError",{code:"invalid term definition",context:r});b["@index"]=t["@index"]}if("@context"in t&&(b["@context"]=t["@context"]),"@language"in t&&!("@type"in t)){var P=t["@language"];if(null!==P&&!c(P))throw new a("Invalid JSON-LD syntax; @context @language value must be a string or null.","jsonld.SyntaxError",{code:"invalid language mapping",context:r});null!==P&&(P=P.toLowerCase()),b["@language"]=P}if("@prefix"in t){if(i.match(/:|\//))throw new a("Invalid JSON-LD syntax; @context @prefix used on a compact IRI term","jsonld.SyntaxError",{code:"invalid term definition",context:r});if(k.isKeyword(b["@id"]))throw new a("Invalid JSON-LD syntax; keywords may not be used as prefixes","jsonld.SyntaxError",{code:"invalid term definition",context:r});if("boolean"!=typeof t["@prefix"])throw new a("Invalid JSON-LD syntax; @context value for @prefix must be boolean","jsonld.SyntaxError",{code:"invalid @prefix value",context:r});b._prefix=!0===t["@prefix"]}if("@direction"in t){var C=t["@direction"];if(null!==C&&"ltr"!==C&&"rtl"!==C)throw new a('Invalid JSON-LD syntax; @direction value must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:r});b["@direction"]=C}if("@nest"in t){var F=t["@nest"];if(!c(F)||"@nest"!==F&&0===F.indexOf("@"))throw new a("Invalid JSON-LD syntax; @context @nest value must be a string which is not a keyword other than @nest.","jsonld.SyntaxError",{code:"invalid @nest value",context:r});b["@nest"]=F}var B=b["@id"];if("@context"===B||"@preserve"===B)throw new a("Invalid JSON-LD syntax; @context and @preserve cannot be aliased.","jsonld.SyntaxError",{code:"invalid keyword alias",context:r});if(g&&g.protected&&!h&&(n.protected[i]=!0,b.protected=!0,!j(g,b))){var U=l&&l.protectedMode||"error";if("error"===U)throw new a('Invalid JSON-LD syntax; tried to redefine "'.concat(i,'" which is a protected term.'),"jsonld.SyntaxError",{code:"protected term redefinition",context:r,term:i});if("warn"===U)return void console.warn("WARNING: protected term redefinition",{term:i});throw new a("Invalid protectedMode.","jsonld.SyntaxError",{code:"invalid protected mode",context:r,term:i,protectedMode:U})}},k.expandIri=function(e,t,n,r){return S(e,t,n,void 0,void 0,r)},k.getInitialContext=function(e){var t=JSON.stringify({processingMode:e.processingMode}),n=m.get(t);if(n)return n;var r={processingMode:e.processingMode,mappings:new Map,inverse:null,getInverse:function(){if(this.inverse)return this.inverse;var e,t=this.inverse={},n=this.fastCurieMap={},r={},i=(this["@language"]||"@none").toLowerCase(),s=this["@direction"],u=this.mappings,c=w(y(u.keys()).sort(b));try{for(c.s();!(e=c.n()).done;){var l=e.value,f=u.get(l);if(null!==f){var d=f["@container"]||"@none";if(d=[].concat(d).sort().join(""),null!==f["@id"]){var h,p=w(g(f["@id"]));try{for(p.s();!(h=p.n()).done;){var v=h.value,m=t[v],_=k.isKeyword(v);if(m)_||f._termHasColon||r[v].push(l);else if(t[v]=m={},!_&&!f._termHasColon){r[v]=[l];var x={iri:v,terms:r[v]};v[0]in n?n[v[0]].push(x):n[v[0]]=[x]}if(m[d]||(m[d]={"@language":{},"@type":{},"@any":{}}),o(l,(m=m[d])["@any"],"@none"),f.reverse)o(l,m["@type"],"@reverse");else if("@none"===f["@type"])o(l,m["@any"],"@none"),o(l,m["@language"],"@none"),o(l,m["@type"],"@none");else if("@type"in f)o(l,m["@type"],f["@type"]);else if("@language"in f&&"@direction"in f){var S=f["@language"],j=f["@direction"];o(l,m["@language"],S&&j?"".concat(S,"_").concat(j).toLowerCase():S?S.toLowerCase():j?"_".concat(j):"@null")}else"@language"in f?o(l,m["@language"],(f["@language"]||"@null").toLowerCase()):"@direction"in f?o(l,m["@language"],f["@direction"]?"_".concat(f["@direction"]):"@none"):s?(o(l,m["@language"],"_".concat(s)),o(l,m["@language"],"@none"),o(l,m["@type"],"@none")):(o(l,m["@language"],i),o(l,m["@language"],"@none"),o(l,m["@type"],"@none"))}}catch(E){p.e(E)}finally{p.f()}}}}}catch(E){c.e(E)}finally{c.f()}for(var N in n)a(n,N,1);return t},clone:function(){var e={};return e.mappings=i.clone(this.mappings),e.clone=this.clone,e.inverse=null,e.getInverse=this.getInverse,e.protected=i.clone(this.protected),this.previousContext&&(e.previousContext=this.previousContext.clone()),e.revertToPreviousContext=this.revertToPreviousContext,"@base"in this&&(e["@base"]=this["@base"]),"@language"in this&&(e["@language"]=this["@language"]),"@vocab"in this&&(e["@vocab"]=this["@vocab"]),e},revertToPreviousContext:function(){return this.previousContext?this.previousContext.clone():this},protected:{}};return 1e4===m.size&&m.clear(),m.set(t,r),r;function a(e,t,n){var r,i,o,s=e[t],u=e[t]={},c=w(s);try{for(c.s();!(o=c.n()).done;){var l=o.value;(i=n>=(r=l.iri).length?"":r[n])in u?u[i].push(l):u[i]=[l]}}catch(d){c.e(d)}finally{c.f()}for(var f in u)""!==f&&a(u,f,n+1)}function o(e,t,n){t.hasOwnProperty(n)||(t[n]=e)}},k.getContextValue=function(e,t,n){if(null===t){if("@context"===n)return;return null}if(e.mappings.has(t)){var r=e.mappings.get(t);if(l(n))return r;if(r.hasOwnProperty(n))return r[n]}return"@language"===n&&n in e||"@direction"===n&&n in e?e[n]:"@context"!==n?null:void 0},k.processingMode=function(e,t){return t.toString()>="1.1"?!e.processingMode||e.processingMode>="json-ld-"+t.toString():"json-ld-1.0"===e.processingMode},k.isKeyword=function(e){if(!c(e)||"@"!==e[0])return!1;switch(e){case"@base":case"@container":case"@context":case"@default":case"@direction":case"@embed":case"@explicit":case"@graph":case"@id":case"@included":case"@index":case"@json":case"@language":case"@list":case"@nest":case"@none":case"@omitDefault":case"@prefix":case"@preserve":case"@protected":case"@requireAll":case"@reverse":case"@set":case"@type":case"@value":case"@version":case"@vocab":return!0}return!1}},{"./JsonLdError":26,"./types":44,"./url":45,"./util":46}],34:[function(e,t,n){"use strict";var r=e("../util"),i=r.parseLinkHeader,a=r.buildHeaders,o=e("../constants").LINK_HEADER_CONTEXT,s=e("../JsonLdError"),u=e("../RequestQueue"),c=e("../url").prependBase;t.exports=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{strictSSL:!0,maxRedirects:-1,headers:{}},n=t.secure,r=t.strictSSL,l=void 0===r||r,f=t.maxRedirects,d=void 0===f?-1:f,h=t.request,p=t.headers,v=void 0===p?{}:p;v=a(v),h=h||e("request");var g=e("http");return(new u).wrapLoader(function(e){return y(e,[])});function y(e,t){return b.apply(this,arguments)}function b(){return(b=_(regeneratorRuntime.mark(function e(t,r){var a,u,f,p,b,m,_,w;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0===t.indexOf("http:")||0===t.indexOf("https:")){e.next=2;break}throw new s('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:t});case 2:if(!n||0===t.indexOf("https")){e.next=4;break}throw new s('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:t});case 4:if(null===(u=null)){e.next=7;break}return e.abrupt("return",u);case 7:return f=null,e.prev=8,e.next=11,function(e,t){return new Promise(function(n,r){e(t,function(e,t,i){e?r(e):n({res:t,body:i})})})}(h,{url:t,headers:v,strictSSL:l,followRedirect:!1});case 11:a=e.sent,e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(8),new s("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:t,cause:e.t0});case 17:if(b=(p=a).res,m=p.body,u={contextUrl:null,documentUrl:t,document:m||null},!(b.statusCode>=400)){e.next=20;break}throw new s('URL "'.concat(t,'" could not be dereferenced: ').concat(g.STATUS_CODES[b.statusCode]),"jsonld.InvalidUrl",{code:"loading document failed",url:t,httpStatusCode:b.statusCode});case 20:if(!b.headers.link||"application/ld+json"===b.headers["content-type"]){e.next=25;break}if(_=i(b.headers.link),w=_[o],!Array.isArray(w)){e.next=24;break}throw new s("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:t});case 24:w&&(u.contextUrl=w.target),(f=_.alternate)&&"application/ld+json"==f.type&&!(b.headers["content-type"]||"").match(/^application\/(\w*\+)?json$/)&&(b.headers.location=c(t,f.target));case 25:if(!(f||b.statusCode>=300&&b.statusCode<400)||!b.headers.location){e.next=31;break}if(r.length!==d){e.next=28;break}throw new s("URL could not be dereferenced; there were too many redirects.","jsonld.TooManyRedirects",{code:"loading document failed",url:t,httpStatusCode:b.statusCode,redirects:r});case 28:if(-1===r.indexOf(t)){e.next=30;break}throw new s("URL could not be dereferenced; infinite redirection was detected.","jsonld.InfiniteRedirectDetected",{code:"recursive context inclusion",url:t,httpStatusCode:b.statusCode,redirects:r});case 30:return e.abrupt("return",(r.push(t),y(b.headers.location,r)));case 31:return e.abrupt("return",(r.push(t),u));case 32:case"end":return e.stop()}},e,null,[[8,14]])}))).apply(this,arguments)}}},{"../JsonLdError":26,"../RequestQueue":29,"../constants":32,"../url":45,"../util":46,http:3,request:3}],35:[function(e,t,n){"use strict";var r=e("../util"),i=r.parseLinkHeader,a=r.buildHeaders,o=e("../constants").LINK_HEADER_CONTEXT,s=e("../JsonLdError"),u=e("../RequestQueue"),c=e("../url").prependBase,l=/(^|(\r\n))link:/i;t.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{headers:{}},t=e.secure,n=e.headers,r=void 0===n?{}:n,f=e.xhr;return r=a(r),(new u).wrapLoader(function(){var e=_(regeneratorRuntime.mark(function e(a){var u,d,h,p,v,g,y;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0===a.indexOf("http:")||0===a.indexOf("https:")){e.next=2;break}throw new s('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:a});case 2:if(!t||0===a.indexOf("https")){e.next=4;break}throw new s('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:a});case 4:return e.prev=4,e.next=7,function(e,t,n){var r=new(e=e||XMLHttpRequest);return new Promise(function(e,i){for(var a in r.onload=function(){return e(r)},r.onerror=function(e){return i(e)},r.open("GET",t,!0),n)r.setRequestHeader(a,n[a]);r.send()})}(f,a,r);case 7:u=e.sent,e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(4),new s("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:a,cause:e.t0});case 13:if(!(u.status>=400)){e.next=15;break}throw new s("URL could not be dereferenced: "+u.statusText,"jsonld.LoadDocumentError",{code:"loading document failed",url:a,httpStatusCode:u.status});case 15:if(d={contextUrl:null,documentUrl:a,document:u.response},h=null,p=u.getResponseHeader("Content-Type"),l.test(u.getAllResponseHeaders())&&(v=u.getResponseHeader("Link")),!v||"application/ld+json"===p){e.next=28;break}if(g=i(v),y=g[o],!Array.isArray(y)){e.next=21;break}throw new s("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:a});case 21:if(y&&(d.contextUrl=y.target),h=g.alternate,e.t1=h&&"application/ld+json"==h.type&&!(p||"").match(/^application\/(\w*\+)?json$/),!e.t1){e.next=28;break}return e.next=27,n(c(a,h.target));case 27:d=e.sent;case 28:return e.abrupt("return",d);case 29:case"end":return e.stop()}},e,null,[[4,10]])}));function n(t){return e.apply(this,arguments)}return n}())}},{"../JsonLdError":26,"../RequestQueue":29,"../constants":32,"../url":45,"../util":46}],36:[function(e,t,n){"use strict";var i=e("./JsonLdError"),a=e("./types"),o=a.isArray,s=a.isObject,u=a.isEmptyObject,c=a.isString,l=a.isUndefined,f=e("./graphTypes"),d=f.isList,h=f.isValue,p=f.isGraph,v=f.isSubject,g=e("./context"),y=g.expandIri,b=g.getContextValue,m=g.isKeyword,x=g.process,k=g.processingMode,S=e("./url").isAbsolute,j=e("./util"),N=j.addValue,E=j.asArray,T=j.getValues,I=j.validateTypeValue,R={};t.exports=R;var O=/^[a-zA-Z]{1,8}(-[a-zA-Z0-9]{1,8})*$/;function A(e){return L.apply(this,arguments)}function L(){return(L=_(regeneratorRuntime.mark(function e(t){var n,a,f,p,g,_,j,T,L,M,C,F,B,U,G,V,z,q,K,H,W,J,Q,X,Y,Z,$,ee,te,ne,re,ie,ae,oe,se,ue,ce,le,fe,de,he,pe,ve,ge,ye,be,me,_e,we,xe,ke,Se,je;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=t.activeCtx,a=t.activeProperty,f=t.expandedActiveProperty,p=t.element,g=t.expandedParent,_=t.options,j=void 0===_?{}:_,T=t.insideList,L=t.typeKey,M=t.typeScopedContext,C=t.expansionMap,F=Object.keys(p).sort(),B=[],G=p[L]&&"@json"===y(n,o(p[L])?p[L][0]:p[L],{vocab:!0},j),V=w(F),e.prev=4,V.s();case 6:if((z=V.n()).done){e.next=188;break}if(q=z.value,K=void 0,H=p[q],"@context"!==q){e.next=11;break}return e.abrupt("continue",186);case 11:if(null!==(W=y(n,q,{vocab:!0},j))&&(S(W)||m(W))||void 0!==(W=C({unmappedProperty:q,activeCtx:n,activeProperty:a,parent:p,options:j,insideList:T,value:H,expandedParent:g}))){e.next=14;break}return e.abrupt("continue",186);case 14:if(!m(W)){e.next=19;break}if("@reverse"!==f){e.next=17;break}throw new i("Invalid JSON-LD syntax; a keyword cannot be used as a @reverse property.","jsonld.SyntaxError",{code:"invalid reverse property map",value:H});case 17:if(!(W in g)||"@included"===W||"@type"===W){e.next=19;break}throw new i("Invalid JSON-LD syntax; colliding keywords detected.","jsonld.SyntaxError",{code:"colliding keywords",keyword:W});case 19:if("@id"!==W){e.next=34;break}if(c(H)){e.next=32;break}if(j.isFrame){e.next=23;break}throw new i('Invalid JSON-LD syntax; "@id" value must a string.',"jsonld.SyntaxError",{code:"invalid @id value",value:H});case 23:if(!s(H)){e.next=28;break}if(u(H)){e.next=26;break}throw new i('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:H});case 26:e.next=32;break;case 28:if(o(H)){e.next=30;break}throw new i('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:H});case 30:if(H.every(function(e){return c(e)})){e.next=32;break}throw new i('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:H});case 32:return N(g,"@id",E(H).map(function(e){return c(e)?y(n,e,{base:!0},j):e}),{propertyIsArray:j.isFrame}),e.abrupt("continue",186);case 34:if("@type"!==W){e.next=37;break}return s(H)&&(H=Object.fromEntries(Object.entries(H).map(function(e){var t=r(e,2),n=t[0],i=t[1];return[y(M,n,{vocab:!0}),E(i).map(function(e){return y(M,e,{base:!0,vocab:!0})})]}))),I(H,j.isFrame),N(g,"@type",E(H).map(function(e){return c(e)?y(M,e,{base:!0,vocab:!0},j):e}),{propertyIsArray:j.isFrame}),e.abrupt("continue",186);case 37:if("@included"!==W||!k(n,1.1)){e.next=47;break}return e.t0=E,e.next=41,R.expand({activeCtx:n,activeProperty:a,element:H,options:j,expansionMap:C});case 41:if(e.t1=e.sent,(J=(0,e.t0)(e.t1)).every(function(e){return v(e)})){e.next=45;break}throw new i("Invalid JSON-LD syntax; values of @included must expand to node objects.","jsonld.SyntaxError",{code:"invalid @included value",value:H});case 45:return N(g,"@included",J,{propertyIsArray:!0}),e.abrupt("continue",186);case 47:if("@graph"!==W||s(H)||o(H)){e.next=49;break}throw new i('Invalid JSON-LD syntax; "@graph" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid @graph value",value:H});case 49:if("@value"!==W){e.next=52;break}return U=H,G&&k(n,1.1)?g["@value"]=H:N(g,"@value",H,{propertyIsArray:j.isFrame}),e.abrupt("continue",186);case 52:if("@language"!==W){e.next=62;break}if(null!==H){e.next=55;break}return e.abrupt("continue",186);case 55:if(c(H)||j.isFrame){e.next=57;break}throw new i('Invalid JSON-LD syntax; "@language" value must be a string.',"jsonld.SyntaxError",{code:"invalid language-tagged string",value:H});case 57:H=E(H).map(function(e){return c(e)?e.toLowerCase():e}),Q=w(H);try{for(Q.s();!(X=Q.n()).done;)Y=X.value,c(Y)&&!Y.match(O)&&console.warn("@language must be valid BCP47: ".concat(Y))}catch(Ne){Q.e(Ne)}finally{Q.f()}return N(g,"@language",H,{propertyIsArray:j.isFrame}),e.abrupt("continue",186);case 62:if("@direction"!==W){e.next=85;break}if(c(H)||j.isFrame){e.next=65;break}throw new i('Invalid JSON-LD syntax; "@direction" value must be a string.',"jsonld.SyntaxError",{code:"invalid base direction",value:H});case 65:H=E(H),Z=w(H),e.prev=67,Z.s();case 69:if(($=Z.n()).done){e.next=75;break}if(ee=$.value,!c(ee)||"ltr"===ee||"rtl"===ee){e.next=73;break}throw new i('Invalid JSON-LD syntax; "@direction" must be "ltr" or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",value:H});case 73:e.next=69;break;case 75:e.next=80;break;case 77:e.prev=77,e.t2=e.catch(67),Z.e(e.t2);case 80:return e.prev=80,Z.f(),e.finish(80);case 83:return N(g,"@direction",H,{propertyIsArray:j.isFrame}),e.abrupt("continue",186);case 85:if("@index"!==W){e.next=90;break}if(c(H)){e.next=88;break}throw new i('Invalid JSON-LD syntax; "@index" value must be a string.',"jsonld.SyntaxError",{code:"invalid @index value",value:H});case 88:return N(g,"@index",H),e.abrupt("continue",186);case 90:if("@reverse"!==W){e.next=118;break}if(s(H)){e.next=93;break}throw new i('Invalid JSON-LD syntax; "@reverse" value must be an object.',"jsonld.SyntaxError",{code:"invalid @reverse value",value:H});case 93:return e.next=95,R.expand({activeCtx:n,activeProperty:"@reverse",element:H,options:j,expansionMap:C});case 95:if(!("@reverse"in(K=e.sent))){e.next=98;break}for(te in K["@reverse"])N(g,te,K["@reverse"][te],{propertyIsArray:!0});case 98:ne=g["@reverse"]||null,e.t3=regeneratorRuntime.keys(K);case 100:if((e.t4=e.t3()).done){e.next=117;break}if("@reverse"!==(re=e.t4.value)){e.next=104;break}return e.abrupt("continue",100);case 104:null===ne&&(ne=g["@reverse"]={}),N(ne,re,[],{propertyIsArray:!0}),ie=K[re],ae=0;case 107:if(!(ae<ie.length)){e.next=115;break}if(oe=ie[ae],!h(oe)&&!d(oe)){e.next=111;break}throw new i('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:K});case 111:N(ne,re,oe,{propertyIsArray:!0});case 112:++ae,e.next=107;break;case 115:e.next=100;break;case 117:return e.abrupt("continue",186);case 118:if("@nest"!==W){e.next=121;break}return B.push(q),e.abrupt("continue",186);case 121:if(se=n,ue=b(n,q,"@context"),e.t5=l(ue),e.t5){e.next=128;break}return e.next=127,x({activeCtx:n,localCtx:ue,propagate:!0,overrideProtected:!0,options:j});case 127:se=e.sent;case 128:if(!(ce=b(se,q,"@container")||[]).includes("@language")||!s(H)){e.next=133;break}K=D(se,H,b(se,q,"@direction"),j),e.next=170;break;case 133:if(!ce.includes("@index")||!s(H)){e.next=140;break}return le=ce.includes("@graph"),fe=b(se,q,"@index")||"@index",de="@index"!==fe&&y(n,fe,{vocab:!0},j),e.next=137,P({activeCtx:se,options:j,activeProperty:q,value:H,expansionMap:C,asGraph:le,indexKey:fe,propertyIndex:de});case 137:K=e.sent,e.next=170;break;case 140:if(!ce.includes("@id")||!s(H)){e.next=147;break}return he=ce.includes("@graph"),e.next=144,P({activeCtx:se,options:j,activeProperty:q,value:H,expansionMap:C,asGraph:he,indexKey:"@id"});case 144:K=e.sent,e.next=170;break;case 147:if(!ce.includes("@type")||!s(H)){e.next=153;break}return e.next=150,P({activeCtx:se.revertToPreviousContext(),options:j,activeProperty:q,value:H,expansionMap:C,asGraph:!1,indexKey:"@type"});case 150:K=e.sent,e.next=170;break;case 153:if(!(pe="@list"===W)&&"@set"!==W){e.next=162;break}return ve=a,pe&&"@graph"===f&&(ve=null),e.next=159,R.expand({activeCtx:se,activeProperty:ve,element:H,options:j,insideList:pe,expansionMap:C});case 159:K=e.sent,e.next=170;break;case 162:if("@json"!==b(n,q,"@type")){e.next=166;break}e.t6={"@type":"@json","@value":H},e.next=169;break;case 166:return e.next=168,R.expand({activeCtx:se,activeProperty:q,element:H,options:j,insideList:!1,expansionMap:C});case 168:e.t6=e.sent;case 169:K=e.t6;case 170:if(null===K&&"@value"!==W&&void 0===(K=C({unmappedValue:H,expandedProperty:W,activeCtx:se,activeProperty:a,parent:p,options:j,insideList:T,key:q,expandedParent:g}))){e.next=186;break}if("@list"!==W&&!d(K)&&ce.includes("@list")&&(K={"@list":E(K)}),ce.includes("@graph")&&!ce.some(function(e){return"@id"===e||"@index"===e})&&(K=E(K).map(function(e){return{"@graph":E(e)}})),!se.mappings.has(q)||!se.mappings.get(q).reverse){e.next=185;break}ge=g["@reverse"]=g["@reverse"]||{},K=E(K),ye=0;case 175:if(!(ye<K.length)){e.next=183;break}if(be=K[ye],!h(be)&&!d(be)){e.next=179;break}throw new i('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:K});case 179:N(ge,W,be,{propertyIsArray:!0});case 180:++ye,e.next=175;break;case 183:e.next=186;break;case 185:N(g,W,K,{propertyIsArray:!0});case 186:e.next=6;break;case 188:e.next=193;break;case 190:e.prev=190,e.t7=e.catch(4),V.e(e.t7);case 193:return e.prev=193,V.f(),e.finish(193);case 196:if(!("@value"in g)){e.next=203;break}if("@json"!==g["@type"]||!k(n,1.1)){e.next=201;break}e.next=203;break;case 201:if(!s(U)&&!o(U)||j.isFrame){e.next=203;break}throw new i('Invalid JSON-LD syntax; "@value" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid value object value",value:U});case 203:me=0,_e=B;case 204:if(!(me<_e.length)){e.next=229;break}we=_e[me],xe=o(p[we])?p[we]:[p[we]],ke=w(xe),e.prev=208,ke.s();case 210:if((Se=ke.n()).done){e.next=218;break}if(je=Se.value,s(je)&&!Object.keys(je).some(function(e){return"@value"===y(n,e,{vocab:!0},j)})){e.next=214;break}throw new i("Invalid JSON-LD syntax; nested value must be a node object.","jsonld.SyntaxError",{code:"invalid @nest value",value:je});case 214:return e.next=216,A({activeCtx:n,activeProperty:a,expandedActiveProperty:f,element:je,expandedParent:g,options:j,insideList:T,typeScopedContext:M,typeKey:L,expansionMap:C});case 216:e.next=210;break;case 218:e.next=223;break;case 220:e.prev=220,e.t8=e.catch(208),ke.e(e.t8);case 223:return e.prev=223,ke.f(),e.finish(223);case 226:me++,e.next=204;break;case 229:case"end":return e.stop()}},e,null,[[4,190,193,196],[67,77,80,83],[208,220,223,226]])}))).apply(this,arguments)}function M(e){var t=e.activeCtx,n=e.activeProperty,r=e.value,i=e.options;if(null==r)return null;var a=y(t,n,{vocab:!0},i);if("@id"===a)return y(t,r,{base:!0},i);if("@type"===a)return y(t,r,{vocab:!0,base:!0},i);var o=b(t,n,"@type");if(("@id"===o||"@graph"===a)&&c(r))return{"@id":y(t,r,{base:!0},i)};if("@vocab"===o&&c(r))return{"@id":y(t,r,{vocab:!0,base:!0},i)};if(m(a))return r;var s={};if(o&&!["@id","@vocab","@none"].includes(o))s["@type"]=o;else if(c(r)){var u=b(t,n,"@language");null!==u&&(s["@language"]=u);var l=b(t,n,"@direction");null!==l&&(s["@direction"]=l)}return["boolean","number","string"].includes(typeof r)||(r=r.toString()),s["@value"]=r,s}function D(e,t,n,r){var a,s=[],u=w(Object.keys(t).sort());try{for(u.s();!(a=u.n()).done;){var l=a.value,f=y(e,l,{vocab:!0},r),d=t[l];o(d)||(d=[d]);var h,p=w(d);try{for(p.s();!(h=p.n()).done;){var v=h.value;if(null!==v){if(!c(v))throw new i("Invalid JSON-LD syntax; language map values must be strings.","jsonld.SyntaxError",{code:"invalid language map value",languageMap:t});var g={"@value":v};"@none"!==f&&(g["@language"]=l.toLowerCase()),n&&(g["@direction"]=n),s.push(g)}}}catch(b){p.e(b)}finally{p.f()}}}catch(b){u.e(b)}finally{u.f()}return s}function P(e){return C.apply(this,arguments)}function C(){return(C=_(regeneratorRuntime.mark(function e(t){var n,r,a,s,u,c,f,d,v,g,m,_,k,S,j,E,T,I,O,A;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=t.activeCtx,r=t.options,a=t.activeProperty,s=t.value,u=t.expansionMap,c=t.asGraph,f=t.indexKey,d=t.propertyIndex,v=[],g=Object.keys(s).sort(),m="@type"===f,_=w(g),e.prev=3,_.s();case 5:if((k=_.n()).done){e.next=46;break}if(S=k.value,!m){e.next=14;break}if(j=b(n,S,"@context"),e.t0=l(j),e.t0){e.next=14;break}return e.next=13,x({activeCtx:n,localCtx:j,propagate:!1,options:r});case 13:n=e.sent;case 14:return E=void 0,T=s[S],o(T)||(T=[T]),e.next=18,R.expand({activeCtx:n,activeProperty:a,element:T,options:r,insideList:!1,insideIndex:!0,expansionMap:u});case 18:T=e.sent,E=d?"@none"===S?"@none":M({activeCtx:n,activeProperty:f,value:S,options:r}):y(n,S,{vocab:!0},r),"@id"===f?S=y(n,S,{base:!0},r):m&&(S=E),I=w(T),e.prev=22,I.s();case 24:if((O=I.n()).done){e.next=36;break}if(A=O.value,c&&!p(A)&&(A={"@graph":[A]}),"@type"!==f){e.next=30;break}"@none"===E||(A["@type"]=A["@type"]?[S].concat(A["@type"]):[S]),e.next=33;break;case 30:if(!h(A)||["@language","@type","@index"].includes(f)){e.next=32;break}throw new i('Invalid JSON-LD syntax; Attempt to add illegal key to value object: "'.concat(f,'".'),"jsonld.SyntaxError",{code:"invalid value object",value:A});case 32:d?"@none"!==E&&N(A,d,E,{propertyIsArray:!0,prependValue:!0}):"@none"===E||f in A||(A[f]=S);case 33:v.push(A);case 34:e.next=24;break;case 36:e.next=41;break;case 38:e.prev=38,e.t1=e.catch(22),I.e(e.t1);case 41:return e.prev=41,I.f(),e.finish(41);case 44:e.next=5;break;case 46:e.next=51;break;case 48:e.prev=48,e.t2=e.catch(3),_.e(e.t2);case 51:return e.prev=51,_.f(),e.finish(51);case 54:return e.abrupt("return",v);case 55:case"end":return e.stop()}},e,null,[[3,48,51,54],[22,38,41,44]])}))).apply(this,arguments)}R.expand=function(){var e=_(regeneratorRuntime.mark(function e(t){var n,r,a,f,d,h,p,v,g,m,_,j,N,I,O,L,D,P,C,F,B,U,G,V,z,q,K,H,W,J,Q,X,Y,Z,$,ee,te,ne,re,ie,ae,oe,se,ue,ce;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.activeCtx,r=t.activeProperty,a=void 0===r?null:r,f=t.element,d=t.options,h=void 0===d?{}:d,p=t.insideList,v=void 0!==p&&p,g=t.insideIndex,m=void 0!==g&&g,_=t.typeScopedContext,j=void 0===_?null:_,N=t.expansionMap,I=void 0===N?function(){}:N,null!=f){e.next=3;break}return e.abrupt("return",null);case 3:if("@default"===a&&(h=Object.assign({},h,{isFrame:!1})),o(f)||s(f)){e.next=10;break}if(v||null!==a&&"@graph"!==y(n,a,{vocab:!0},h)){e.next=9;break}return e.next=7,I({unmappedValue:f,activeCtx:n,activeProperty:a,options:h,insideList:v});case 7:return O=e.sent,e.abrupt("return",void 0===O?null:O);case 9:return e.abrupt("return",M({activeCtx:n,activeProperty:a,value:f,options:h}));case 10:if(!o(f)){e.next=33;break}L=[],D=b(n,a,"@container")||[],v=v||D.includes("@list"),P=0;case 15:if(!(P<f.length)){e.next=32;break}return e.next=18,R.expand({activeCtx:n,activeProperty:a,element:f[P],options:h,expansionMap:I,insideIndex:m,typeScopedContext:j});case 18:if(C=e.sent,v&&o(C)&&(C={"@list":C}),e.t0=null===C,!e.t0){e.next=26;break}return e.next=24,I({unmappedValue:f[P],activeCtx:n,activeProperty:a,parent:f,index:P,options:h,expandedParent:L,insideList:v});case 24:C=e.sent,e.t0=void 0===C;case 26:if(e.t1=e.t0,e.t1){e.next=29;break}o(C)?L=L.concat(C):L.push(C);case 29:++P,e.next=15;break;case 32:return e.abrupt("return",L);case 33:if(F=y(n,a,{vocab:!0},h),B=b(n,a,"@context"),j=j||(n.previousContext?n:null),U=Object.keys(f).sort(),!((G=!m)&&j&&U.length<=2)||U.includes("@context")){e.next=59;break}V=w(U),e.prev=38,V.s();case 40:if((z=V.n()).done){e.next=51;break}if(q=z.value,"@value"!==(K=y(j,q,{vocab:!0},h))){e.next=46;break}return G=!1,n=j,e.abrupt("break",51);case 46:if("@id"!==K||1!==U.length){e.next=49;break}return G=!1,e.abrupt("break",51);case 49:e.next=40;break;case 51:e.next=56;break;case 53:e.prev=53,e.t2=e.catch(38),V.e(e.t2);case 56:return e.prev=56,V.f(),e.finish(56);case 59:if(G&&(n=n.revertToPreviousContext()),e.t3=l(B),e.t3){e.next=65;break}return e.next=64,x({activeCtx:n,localCtx:B,propagate:!0,overrideProtected:!0,options:h});case 64:n=e.sent;case 65:if(e.t4="@context"in f,!e.t4){e.next=70;break}return e.next=69,x({activeCtx:n,localCtx:f["@context"],options:h});case 69:n=e.sent;case 70:j=n,H=null,W=w(U),e.prev=73,W.s();case 75:if((J=W.n()).done){e.next=103;break}if(Q=J.value,"@type"!==y(n,Q,{vocab:!0},h)){e.next=101;break}H=H||Q,X=f[Q],Y=Array.isArray(X)?X.length>1?X.slice().sort():X:[X],Z=w(Y),e.prev=81,Z.s();case 83:if(($=Z.n()).done){e.next=93;break}if(ee=$.value,te=b(j,ee,"@context"),e.t5=l(te),e.t5){e.next=91;break}return e.next=90,x({activeCtx:n,localCtx:te,options:h,propagate:!1});case 90:n=e.sent;case 91:e.next=83;break;case 93:e.next=98;break;case 95:e.prev=95,e.t6=e.catch(81),Z.e(e.t6);case 98:return e.prev=98,Z.f(),e.finish(98);case 101:e.next=75;break;case 103:e.next=108;break;case 105:e.prev=105,e.t7=e.catch(73),W.e(e.t7);case 108:return e.prev=108,W.f(),e.finish(108);case 111:return ne={},e.next=114,A({activeCtx:n,activeProperty:a,expandedActiveProperty:F,element:f,expandedParent:ne,options:h,insideList:v,typeKey:H,typeScopedContext:j,expansionMap:I});case 114:if(U=Object.keys(ne),re=U.length,!("@value"in ne)){e.next=140;break}if(!("@type"in ne)||!("@language"in ne)&&!("@direction"in ne)){e.next=119;break}throw new i('Invalid JSON-LD syntax; an element containing "@value" may not contain both "@type" and either "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:ne});case 119:if(ie=re-1,"@type"in ne&&(ie-=1),"@index"in ne&&(ie-=1),"@language"in ne&&(ie-=1),"@direction"in ne&&(ie-=1),0===ie){e.next=122;break}throw new i('Invalid JSON-LD syntax; an element containing "@value" may only have an "@index" property and either "@type" or either or both "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:ne});case 122:if(ae=null===ne["@value"]?[]:E(ne["@value"]),oe=T(ne,"@type"),!k(n,1.1)||!oe.includes("@json")||1!==oe.length){e.next=127;break}e.next=138;break;case 127:if(0!==ae.length){e.next=134;break}return e.next=130,I({unmappedValue:ne,activeCtx:n,activeProperty:a,element:f,options:h,insideList:v});case 130:se=e.sent,ne=void 0!==se?se:null,e.next=138;break;case 134:if(ae.every(function(e){return c(e)||u(e)})||!("@language"in ne)){e.next=136;break}throw new i("Invalid JSON-LD syntax; only strings may be language-tagged.","jsonld.SyntaxError",{code:"invalid language-tagged value",element:ne});case 136:if(oe.every(function(e){return S(e)&&!(c(e)&&0===e.indexOf("_:"))||u(e)})){e.next=138;break}throw new i('Invalid JSON-LD syntax; an element containing "@value" and "@type" must have an absolute IRI for the value of "@type".',"jsonld.SyntaxError",{code:"invalid typed value",element:ne});case 138:e.next=155;break;case 140:if(!("@type"in ne)||o(ne["@type"])){e.next=144;break}ne["@type"]=[ne["@type"]],e.next=155;break;case 144:if(!("@set"in ne)&&!("@list"in ne)){e.next=150;break}if(!(re>1)||2===re&&"@index"in ne){e.next=147;break}throw new i('Invalid JSON-LD syntax; if an element has the property "@set" or "@list", then it can have at most one other property that is "@index".',"jsonld.SyntaxError",{code:"invalid set or list object",element:ne});case 147:"@set"in ne&&(ne=ne["@set"],U=Object.keys(ne),re=U.length),e.next=155;break;case 150:if(1!==re||!("@language"in ne)){e.next=155;break}return e.next=153,I(ne,{unmappedValue:ne,activeCtx:n,activeProperty:a,element:f,options:h,insideList:v});case 153:ue=e.sent,ne=void 0!==ue?ue:null;case 155:if(!s(ne)||h.keepFreeFloatingNodes||v||null!==a&&"@graph"!==F||!(0===re||"@value"in ne||"@list"in ne||1===re&&"@id"in ne)){e.next=160;break}return e.next=158,I({unmappedValue:ne,activeCtx:n,activeProperty:a,element:f,options:h,insideList:v});case 158:ce=e.sent,ne=void 0!==ce?ce:null;case 160:return e.abrupt("return",ne);case 161:case"end":return e.stop()}},e,null,[[38,53,56,59],[73,105,108,111],[81,95,98,101]])}));return function(t){return e.apply(this,arguments)}}()},{"./JsonLdError":26,"./context":33,"./graphTypes":40,"./types":44,"./url":45,"./util":46}],37:[function(e,t,n){"use strict";var r=e("./graphTypes").isSubjectReference,i=e("./nodeMap").createMergedNodeMap,a={};t.exports=a,a.flatten=function(e){for(var t=i(e),n=[],a=Object.keys(t).sort(),o=0;o<a.length;++o){var s=t[a[o]];r(s)||n.push(s)}return n}},{"./graphTypes":40,"./nodeMap":42}],38:[function(e,t,r){"use strict";var i=e("./context").isKeyword,a=e("./graphTypes"),o=e("./types"),u=e("./util"),c=e("./url"),l=e("./JsonLdError"),f=e("./nodeMap"),d=f.createNodeMap,h=f.mergeNodeMapGraphs,p={};function v(e){var t={};for(var n in e)void 0!==e[n]&&(t["@"+n]=[e[n]]);return[t]}function g(e,t,n){for(var r=n.length-1;r>=0;--r){var i=n[r];if(i.graph===t&&i.subject["@id"]===e["@id"])return!0}return!1}function y(e,t,n){var r="@"+n,i=r in e?e[r][0]:t[n];if("embed"===n)if(!0===i)i="@once";else if(!1===i)i="@never";else if("@always"!==i&&"@never"!==i&&"@link"!==i&&"@first"!==i&&"@last"!==i&&"@once"!==i)throw new l("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:e});return i}function b(e){if(!o.isArray(e)||1!==e.length||!o.isObject(e[0]))throw new l("Invalid JSON-LD syntax; a JSON-LD frame must be a single object.","jsonld.SyntaxError",{frame:e});if("@id"in e[0]){var t,n=w(u.asArray(e[0]["@id"]));try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!o.isObject(r)&&!c.isAbsolute(r)||o.isString(r)&&0===r.indexOf("_:"))throw new l("Invalid JSON-LD syntax; invalid @id in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:e})}}catch(f){n.e(f)}finally{n.f()}}if("@type"in e[0]){var i,a=w(u.asArray(e[0]["@type"]));try{for(a.s();!(i=a.n()).done;){var s=i.value;if(!o.isObject(s)&&!c.isAbsolute(s)||o.isString(s)&&0===s.indexOf("_:"))throw new l("Invalid JSON-LD syntax; invalid @type in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:e})}}catch(f){a.e(f)}finally{a.f()}}}function m(e,t,n,r){var s=!0,c=!1;for(var l in n){var f=!1,d=u.getValues(t,l),h=0===u.getValues(n,l).length;if("@id"===l){if(o.isEmptyObject(n["@id"][0]||{})?f=!0:n["@id"].length>=0&&(f=n["@id"].includes(d[0])),!r.requireAll)return f}else if("@type"===l){if(s=!1,h){if(d.length>0)return!1;f=!0}else if(1===n["@type"].length&&o.isEmptyObject(n["@type"][0]))f=d.length>0;else{var p,v=w(n["@type"]);try{var g=function(){var e=p.value;f=!(!o.isObject(e)||!("@default"in e))||f||d.some(function(t){return t===e})};for(v.s();!(p=v.n()).done;)g()}catch(m){v.e(m)}finally{v.f()}}if(!r.requireAll)return f}else{if(i(l))continue;var y=function(){var t=u.getValues(n,l)[0],i=!1;if(t&&(b([t]),i="@default"in t),s=!1,0===d.length&&i)return"continue";if(d.length>0&&h)return{v:!1};if(void 0===t){if(d.length>0)return{v:!1};f=!0}else if(a.isList(t)){var c=t["@list"][0];if(a.isList(d[0])){var p=d[0]["@list"];a.isValue(c)?f=p.some(function(e){return j(c,e)}):(a.isSubject(c)||a.isSubjectReference(c))&&(f=p.some(function(t){return S(e,c,t,r)}))}}else f=a.isValue(t)?d.some(function(e){return j(t,e)}):a.isSubjectReference(t)?d.some(function(n){return S(e,t,n,r)}):!!o.isObject(t)&&d.length>0}();if("continue"===y)continue;if("object"==typeof y)return y.v}if(!f&&r.requireAll)return!1;c=c||f}return s||c}function _(e,t){var n=e.uniqueEmbeds[e.graph],r=n[t],i=r.parent,a=r.property,s={"@id":t};if(o.isArray(i)){for(var c=0;c<i.length;++c)if(u.compareValues(i[c],s)){i[c]=s;break}}else{var l=o.isArray(i[a]);u.removeValue(i,a,s,{propertyIsArray:l}),u.addValue(i,a,s,{propertyIsArray:l})}!function e(t){for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];a in n&&o.isObject(n[a].parent)&&n[a].parent["@id"]===t&&(delete n[a],e(a))}}(t)}function x(e,t){if(o.isArray(e))return e.map(function(e){return x(e,t)});if(o.isObject(e)){if("@preserve"in e)return e["@preserve"][0];if(a.isValue(e))return e;if(a.isList(e))return e["@list"]=x(e["@list"],t),e;if("@id"in e){var n=e["@id"];if(t.link.hasOwnProperty(n)){var r=t.link[n].indexOf(e);if(-1!==r)return t.link[n][r];t.link[n].push(e)}else t.link[n]=[e]}for(var i in e)"@id"===i&&t.bnodesToClear.includes(e[i])?delete e["@id"]:e[i]=x(e[i],t)}return e}function k(e,t,n){o.isObject(e)?u.addValue(e,t,n,{propertyIsArray:!0}):e.push(n)}function S(e,t,n,r){if(!("@id"in n))return!1;var i=e.subjects[n["@id"]];return i&&m(e,i,t,r)}function j(e,t){var n=t["@value"],r=t["@type"],i=t["@language"],a=e["@value"]?o.isArray(e["@value"])?e["@value"]:[e["@value"]]:[],s=e["@type"]?o.isArray(e["@type"])?e["@type"]:[e["@type"]]:[],u=e["@language"]?o.isArray(e["@language"])?e["@language"]:[e["@language"]]:[];return 0===a.length&&0===s.length&&0===u.length||!(!a.includes(n)&&!o.isEmptyObject(a[0]))&&!!(!r&&0===s.length||s.includes(r)||r&&o.isEmptyObject(s[0]))&&!!(!i&&0===u.length||u.includes(i)||i&&o.isEmptyObject(u[0]))}t.exports=p,p.frameMergedOrDefault=function(e,t,n){var r={options:n,embedded:!1,graph:"@default",graphMap:{"@default":{}},subjectStack:[],link:{},bnodeMap:{}},i=new u.IdentifierIssuer("_:b");d(e,r.graphMap,"@default",i),n.merged&&(r.graphMap["@merged"]=h(r.graphMap),r.graph="@merged"),r.subjects=r.graphMap[r.graph];var a=[];return p.frame(r,Object.keys(r.subjects).sort(),t,a),n.pruneBlankNodeIdentifiers&&(n.bnodesToClear=Object.keys(r.bnodeMap).filter(function(e){return 1===r.bnodeMap[e].length})),n.link={},x(a,n)},p.frame=function(e,t,r,c){var f=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;b(r);var d=e.options,h={embed:y(r=r[0],d,"embed"),explicit:y(r,d,"explicit"),requireAll:y(r,d,"requireAll")};e.link.hasOwnProperty(e.graph)||(e.link[e.graph]={});var x,S=e.link[e.graph],N=function(e,t,n,r){var i,a={},o=w(t);try{for(o.s();!(i=o.n()).done;){var s=i.value,u=e.graphMap[e.graph][s];m(e,u,n,r)&&(a[s]=u)}}catch(c){o.e(c)}finally{o.f()}return a}(e,t,r,h),E=Object.keys(N).sort(),T=w(E);try{var I=function(){var b=x.value,m=N[b];if(null===f?e.uniqueEmbeds=s({},e.graph,{}):e.uniqueEmbeds[e.graph]=e.uniqueEmbeds[e.graph]||{},"@link"===h.embed&&b in S)return k(c,f,S[b]),"continue";var E={"@id":b};if(0===b.indexOf("_:")&&u.addValue(e.bnodeMap,b,E,{propertyIsArray:!0}),S[b]=E,("@first"===h.embed||"@last"===h.embed)&&e.is11)throw new l("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:r});if(e.embedded||!e.uniqueEmbeds[e.graph].hasOwnProperty(b))if(!e.embedded||"@never"!==h.embed&&!g(m,e.graph,e.subjectStack))if(!e.embedded||"@first"!=h.embed&&"@once"!=h.embed||!e.uniqueEmbeds[e.graph].hasOwnProperty(b)){if("@last"===h.embed&&b in e.uniqueEmbeds[e.graph]&&_(e,b),e.uniqueEmbeds[e.graph][b]={parent:c,property:f},e.subjectStack.push({subject:m,graph:e.graph}),b in e.graphMap){var T=!1,I=null;"@graph"in r?(I=r["@graph"][0],T=!("@merged"===b||"@default"===b),o.isObject(I)||(I={})):(T="@merged"!==e.graph,I={}),T&&p.frame(n(n({},e),{},{graph:b,embedded:!1}),Object.keys(e.graphMap[b]).sort(),[I],E,"@graph")}"@included"in r&&p.frame(n(n({},e),{},{embedded:!1}),t,r["@included"],E,"@included");var R,O=w(Object.keys(m).sort());try{for(O.s();!(R=O.n()).done;){var A=R.value;if(i(A)){if(E[A]=u.clone(m[A]),"@type"===A){var L,M=w(m["@type"]);try{for(M.s();!(L=M.n()).done;){var D=L.value;0===D.indexOf("_:")&&u.addValue(e.bnodeMap,D,E,{propertyIsArray:!0})}}catch(re){M.e(re)}finally{M.f()}}}else if(!h.explicit||A in r){var P,C=w(m[A]);try{for(C.s();!(P=C.n()).done;){var F=P.value,B=A in r?r[A]:v(h);if(a.isList(F)){var U=r[A]&&r[A][0]&&r[A][0]["@list"]?r[A][0]["@list"]:v(h),G={"@list":[]};k(E,A,G);var V,z=w(F["@list"]);try{for(z.s();!(V=z.n()).done;){var q=V.value;a.isSubjectReference(q)?p.frame(n(n({},e),{},{embedded:!0}),[q["@id"]],U,G,"@list"):k(G,"@list",u.clone(q))}}catch(re){z.e(re)}finally{z.f()}}else a.isSubjectReference(F)?p.frame(n(n({},e),{},{embedded:!0}),[F["@id"]],B,E,A):j(B[0],F)&&k(E,A,u.clone(F))}}catch(re){C.e(re)}finally{C.f()}}}}catch(re){O.e(re)}finally{O.f()}var K,H=w(Object.keys(r).sort());try{for(H.s();!(K=H.n()).done;){var W=K.value;if("@type"===W){if(!o.isObject(r[W][0])||!("@default"in r[W][0]))continue}else if(i(W))continue;var J=r[W][0]||{};if(!y(J,d,"omitDefault")&&!(W in E)){var Q="@null";"@default"in J&&(Q=u.clone(J["@default"])),o.isArray(Q)||(Q=[Q]),E[W]=[{"@preserve":Q}]}}}catch(re){H.e(re)}finally{H.f()}var X,Y=w(Object.keys(r["@reverse"]||{}).sort());try{for(Y.s();!(X=Y.n()).done;)for(var Z=X.value,$=r["@reverse"][Z],ee=0,te=Object.keys(e.subjects);ee<te.length;ee++){var ne=te[ee];u.getValues(e.subjects[ne],Z).some(function(e){return e["@id"]===b})&&(E["@reverse"]=E["@reverse"]||{},u.addValue(E["@reverse"],Z,[],{propertyIsArray:!0}),p.frame(n(n({},e),{},{embedded:!0}),[ne],$,E["@reverse"][Z],f))}}catch(re){Y.e(re)}finally{Y.f()}k(c,f,E),e.subjectStack.pop()}else k(c,f,E);else k(c,f,E)};for(T.s();!(x=T.n()).done;)I()}catch(R){T.e(R)}finally{T.f()}},p.cleanupNull=function(e,t){if(o.isArray(e))return e.map(function(e){return p.cleanupNull(e,t)}).filter(function(e){return e});if("@null"===e)return null;if(o.isObject(e)){if("@id"in e){var n=e["@id"];if(t.link.hasOwnProperty(n)){var r=t.link[n].indexOf(e);if(-1!==r)return t.link[n][r];t.link[n].push(e)}else t.link[n]=[e]}for(var i in e)e[i]=p.cleanupNull(e[i],t)}return e}},{"./JsonLdError":26,"./context":33,"./graphTypes":40,"./nodeMap":42,"./types":44,"./url":45,"./util":46}],39:[function(e,t,n){"use strict";var i=e("./JsonLdError"),a=e("./graphTypes"),o=e("./types"),s=e("./util"),u=e("./constants"),c=u.RDF_LIST,l=u.RDF_FIRST,f=u.RDF_REST,d=u.RDF_NIL,h=u.RDF_TYPE,p=u.RDF_JSON_LITERAL,v=u.XSD_BOOLEAN,g=u.XSD_DOUBLE,y=u.XSD_INTEGER,b=u.XSD_STRING,m=/^[a-zA-Z]{1,8}(-[a-zA-Z0-9]{1,8})*$/,x={};function k(e,t,n){if(e.termType.endsWith("Node"))return{"@id":e.value};var a={"@value":e.value};if(e.language)a["@language"]=e.language;else{var s=e.datatype.value;if(s||(s=b),s===p){s="@json";try{a["@value"]=JSON.parse(a["@value"])}catch(d){throw new i("JSON literal could not be parsed.","jsonld.InvalidJsonLiteral",{code:"invalid JSON literal",value:a["@value"],cause:d})}}if(t){if(s===v)"true"===a["@value"]?a["@value"]=!0:"false"===a["@value"]&&(a["@value"]=!1);else if(o.isNumeric(a["@value"]))if(s===y){var u=parseInt(a["@value"],10);u.toFixed(0)===a["@value"]&&(a["@value"]=u)}else s===g&&(a["@value"]=parseFloat(a["@value"]));[v,y,g,b].includes(s)||(a["@type"]=s)}else if("i18n-datatype"===n&&s.startsWith("https://www.w3.org/ns/i18n#")){var c=r(s.split(/[#_]/),3),l=c[1],f=c[2];l.length>0&&(a["@language"]=l,l.match(m)||console.warn("@language must be valid BCP47: ".concat(l))),a["@direction"]=f}else s!==b&&(a["@type"]=s)}return a}t.exports=x,x.fromRDF=function(){var e=_(regeneratorRuntime.mark(function e(t,n){var r,i,u,p,v,g,y,b,m,_,x,S,j,N,E,T,I,R,O,A,L,M,D,P,C,F,B,U,G,V,z,q,K,H,W,J,Q,X,Y,Z,$,ee,te,ne,re,ie,ae,oe,se;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=n.useRdfType,i=void 0!==r&&r,u=n.useNativeTypes,p=void 0!==u&&u,v=n.rdfDirection,g=void 0===v?null:v,b={"@default":y={}},m={},_=w(t),e.prev=3,_.s();case 5:if((x=_.n()).done){e.next=19;break}if(S=x.value,(j="DefaultGraph"===S.graph.termType?"@default":S.graph.value)in b||(b[j]={}),"@default"===j||j in y||(y[j]={"@id":j}),N=b[j],E=S.subject.value,T=S.predicate.value,I=S.object,E in N||(N[E]={"@id":E}),R=N[E],(O=I.termType.endsWith("Node"))&&!(I.value in N)&&(N[I.value]={"@id":I.value}),T!==h||i||!O){e.next=15;break}return s.addValue(R,"@type",I.value,{propertyIsArray:!0}),e.abrupt("continue",17);case 15:A=k(I,p,g),s.addValue(R,T,A,{propertyIsArray:!0}),O&&(I.value===d?("usages"in(L=N[I.value])||(L.usages=[]),L.usages.push({node:R,property:T,value:A})):m[I.value]=!(I.value in m)&&{node:R,property:T,value:A});case 17:e.next=5;break;case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(3),_.e(e.t0);case 24:return e.prev=24,_.f(),e.finish(24);case 27:e.t1=regeneratorRuntime.keys(b);case 28:if((e.t2=e.t1()).done){e.next=37;break}if(M=e.t2.value,D=b[M],d in D){e.next=33;break}return e.abrupt("continue",28);case 33:if((P=D[d]).usages){C=w(P.usages);try{for(C.s();!(F=C.n()).done;){for(B=F.value,U=B.node,G=B.property,V=B.value,z=[],q=[],K=Object.keys(U).length;G===f&&o.isObject(m[U["@id"]])&&o.isArray(U[l])&&1===U[l].length&&o.isArray(U[f])&&1===U[f].length&&(3===K||4===K&&o.isArray(U["@type"])&&1===U["@type"].length&&U["@type"][0]===c)&&(z.push(U[l][0]),q.push(U["@id"]),B=m[U["@id"]],U=B.node,G=B.property,V=B.value,K=Object.keys(U).length,a.isBlankNode(U)););for(delete V["@id"],V["@list"]=z.reverse(),H=0,W=q;H<W.length;H++)J=W[H],delete D[J]}}catch(ue){C.e(ue)}finally{C.f()}delete P.usages}e.next=28;break;case 37:Q=[],X=Object.keys(y).sort(),Y=w(X);try{for(Y.s();!(Z=Y.n()).done;){if($=Z.value,ee=y[$],$ in b){te=ee["@graph"]=[],ne=b[$],re=Object.keys(ne).sort(),ie=w(re);try{for(ie.s();!(ae=ie.n()).done;)oe=ae.value,se=ne[oe],a.isSubjectReference(se)||te.push(se)}catch(ue){ie.e(ue)}finally{ie.f()}}a.isSubjectReference(ee)||Q.push(ee)}}catch(ue){Y.e(ue)}finally{Y.f()}return e.abrupt("return",Q);case 41:case"end":return e.stop()}},e,null,[[3,21,24,27]])}));return function(t,n){return e.apply(this,arguments)}}()},{"./JsonLdError":26,"./constants":32,"./graphTypes":40,"./types":44,"./util":46}],40:[function(e,t,n){"use strict";var r=e("./types"),i={};t.exports=i,i.isSubject=function(e){return!(!r.isObject(e)||"@value"in e||"@set"in e||"@list"in e)&&(Object.keys(e).length>1||!("@id"in e))},i.isSubjectReference=function(e){return r.isObject(e)&&1===Object.keys(e).length&&"@id"in e},i.isValue=function(e){return r.isObject(e)&&"@value"in e},i.isList=function(e){return r.isObject(e)&&"@list"in e},i.isGraph=function(e){return r.isObject(e)&&"@graph"in e&&1===Object.keys(e).filter(function(e){return"@id"!==e&&"@index"!==e}).length},i.isSimpleGraph=function(e){return i.isGraph(e)&&!("@id"in e)},i.isBlankNode=function(e){return!!r.isObject(e)&&("@id"in e?0===e["@id"].indexOf("_:"):0===Object.keys(e).length||!("@value"in e||"@set"in e||"@list"in e))}},{"./types":44}],41:[function(t,r,i){(function(i,a){(function(){var o=t("rdf-canonize"),s=t("./util"),u=t("./ContextResolver"),c=s.IdentifierIssuer,l=t("./JsonLdError"),f=t("lru-cache"),d=t("./NQuads"),h=t("./expand").expand,p=t("./flatten").flatten,v=t("./fromRdf").fromRDF,g=t("./toRdf").toRDF,y=t("./frame"),b=y.frameMergedOrDefault,m=y.cleanupNull,w=t("./types"),x=w.isArray,k=w.isObject,S=w.isString,j=t("./graphTypes").isSubjectReference,N=t("./context"),E=N.expandIri,T=N.getInitialContext,I=N.process,R=N.processingMode,O=t("./compact"),A=O.compact,L=O.compactIri,M=t("./nodeMap"),D=M.createNodeMap,P=M.createMergedNodeMap,C=M.mergeNodeMaps,F=void 0!==i&&i.versions&&i.versions.node,B=!F&&("undefined"!=typeof window||"undefined"!=typeof self),U=function(r){var i={},y=new f({max:100});function w(t,n){var i=n.documentLoader,a=void 0===i?r.documentLoader:i,o=e(n,["documentLoader"]);return Object.assign({},{documentLoader:a},o,t)}return r.compact=function(){var e=_(regeneratorRuntime.mark(function e(t,n,i){var a,o,f,d,h,p,v,g,b,m,_=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(_.length<2)){e.next=2;break}throw new TypeError("Could not compact, too few arguments.");case 2:if(null!==n){e.next=4;break}throw new l("The compaction context must not be null.","jsonld.CompactError",{code:"invalid local context"});case 4:if(null!==t){e.next=6;break}return e.abrupt("return",null);case 6:if((i=w(i,{base:S(t)?t:"",compactArrays:!0,compactToRelative:!0,graph:!1,skipExpansion:!1,link:!1,issuer:new c("_:b"),contextResolver:new u({sharedCache:y})})).link&&(i.skipExpansion=!0),i.compactToRelative||delete i.base,!i.skipExpansion){e.next=12;break}e.t0=t,e.next=15;break;case 12:return e.next=14,r.expand(t,i);case 14:e.t0=e.sent;case 15:return a=e.t0,e.next=18,r.processContext(T(i),n,i);case 18:return o=e.sent,e.next=21,A({activeCtx:o,element:a,options:i,compactionMap:i.compactionMap});case 21:f=e.sent,i.compactArrays&&!i.graph&&x(f)?1===f.length?f=f[0]:0===f.length&&(f={}):i.graph&&k(f)&&(f=[f]),k(n)&&"@context"in n&&(n=n["@context"]),n=s.clone(n),x(n)||(n=[n]),d=n,n=[];for(h=0;h<d.length;++h)(!k(d[h])||Object.keys(d[h]).length>0)&&n.push(d[h]);if(p=n.length>0,1===n.length&&(n=n[0]),x(f))v=L({activeCtx:o,iri:"@graph",relativeTo:{vocab:!0}}),g=f,f={},p&&(f["@context"]=n),f[v]=g;else if(k(f)&&p)for(m in b=f,f={"@context":n},b)f[m]=b[m];return e.abrupt("return",f);case 29:case"end":return e.stop()}},e)}));return function(t,n,r){return e.apply(this,arguments)}}(),r.expand=function(){var e=_(regeneratorRuntime.mark(function e(t,n){var i,a,o,c,l,f,d,p,v,g,b=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(b.length<1)){e.next=2;break}throw new TypeError("Could not expand, too few arguments.");case 2:if(!1===(n=w(n,{keepFreeFloatingNodes:!1,contextResolver:new u({sharedCache:y})})).expansionMap&&(n.expansionMap=void 0),i={},a=[],"expandContext"in n&&(o=s.clone(n.expandContext),i.expandContext=k(o)&&"@context"in o?o:{"@context":o},a.push(i.expandContext)),!S(t)){e.next=12;break}return e.next=8,r.get(t,n);case 8:l=e.sent,c=l.documentUrl,i.input=l.document,l.contextUrl&&(i.remoteContext={"@context":l.contextUrl},a.push(i.remoteContext)),e.next=13;break;case 12:i.input=s.clone(t);case 13:"base"in n||(n.base=c||""),f=T(n),d=0,p=a;case 16:if(!(d<p.length)){e.next=24;break}return v=p[d],e.next=20,I({activeCtx:f,localCtx:v,options:n});case 20:f=e.sent;case 21:d++,e.next=16;break;case 24:return e.next=26,h({activeCtx:f,element:i.input,options:n,expansionMap:n.expansionMap});case 26:return g=e.sent,e.abrupt("return",(k(g)&&"@graph"in g&&1===Object.keys(g).length?g=g["@graph"]:null===g&&(g=[]),x(g)||(g=[g]),g));case 28:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),r.flatten=function(){var e=_(regeneratorRuntime.mark(function e(t,n,i){var a,o,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(s.length<1)){e.next=2;break}return e.abrupt("return",new TypeError("Could not flatten, too few arguments."));case 2:return n="function"==typeof n?null:n||null,i=w(i,{base:S(t)?t:"",contextResolver:new u({sharedCache:y})}),e.next=5,r.expand(t,i);case 5:if(a=e.sent,o=p(a),null!==n){e.next=11;break}e.t0=o,e.next=16;break;case 11:return i.graph=!0,i.skipExpansion=!0,e.next=15,r.compact(o,n,i);case 15:e.t0=e.sent;case 16:return e.abrupt("return",e.t0);case 17:case"end":return e.stop()}},e)}));return function(t,n,r){return e.apply(this,arguments)}}(),r.frame=function(){var e=_(regeneratorRuntime.mark(function e(t,i,a){var o,s,c,l,f,d,h,p,v,g,_=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(_.length<2)){e.next=2;break}throw new TypeError("Could not frame, too few arguments.");case 2:if(a=w(a,{base:S(t)?t:"",embed:"@once",explicit:!1,requireAll:!1,omitDefault:!1,bnodesToClear:[],contextResolver:new u({sharedCache:y})}),!S(i)){e.next=7;break}return e.next=5,r.get(i,a);case 5:o=e.sent,i=o.document,o.contextUrl&&((s=i["@context"])?x(s)?s.push(o.contextUrl):s=[s,o.contextUrl]:s=o.contextUrl,i["@context"]=s);case 7:return c=i&&i["@context"]||{},e.next=10,r.processContext(T(a),c,a);case 10:return l=e.sent,a.hasOwnProperty("omitGraph")||(a.omitGraph=R(l,1.1)),a.hasOwnProperty("pruneBlankNodeIdentifiers")||(a.pruneBlankNodeIdentifiers=R(l,1.1)),e.next=14,r.expand(t,a);case 14:return f=e.sent,(d=n({},a)).isFrame=!0,d.keepFreeFloatingNodes=!0,e.next=19,r.expand(i,d);case 19:return h=e.sent,p=Object.keys(i).map(function(e){return E(l,e,{vocab:!0})}),d.merged=!p.includes("@graph"),d.is11=R(l,1.1),v=b(f,h,d),d.graph=!a.omitGraph,d.skipExpansion=!0,d.link={},d.framing=!0,e.next=26,r.compact(v,c,d);case 26:return g=e.sent,e.abrupt("return",(d.link={},g=m(g,d)));case 28:case"end":return e.stop()}},e)}));return function(t,n,r){return e.apply(this,arguments)}}(),r.link=function(){var e=_(regeneratorRuntime.mark(function e(t,n,i){var a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={},e.abrupt("return",(n&&(a["@context"]=n),a["@embed"]="@link",r.frame(t,a,i)));case 2:case"end":return e.stop()}},e)}));return function(t,n,r){return e.apply(this,arguments)}}(),r.normalize=r.canonize=function(){var e=_(regeneratorRuntime.mark(function e(t,i){var a,s,c,f=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(f.length<1)){e.next=2;break}throw new TypeError("Could not canonize, too few arguments.");case 2:if(!("inputFormat"in(i=w(i,{base:S(t)?t:"",algorithm:"URDNA2015",skipExpansion:!1,contextResolver:new u({sharedCache:y})})))){e.next=7;break}if("application/n-quads"===i.inputFormat||"application/nquads"===i.inputFormat){e.next=5;break}throw new l("Unknown canonicalization input format.","jsonld.CanonizeError");case 5:return a=d.parse(t),e.abrupt("return",o.canonize(a,i));case 7:return delete(s=n({},i)).format,s.produceGeneralizedRdf=!1,e.next=11,r.toRDF(t,s);case 11:return c=e.sent,e.abrupt("return",o.canonize(c,i));case 13:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),r.fromRDF=function(){var e=_(regeneratorRuntime.mark(function e(t,n){var r,a,o,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(s.length<1)){e.next=2;break}throw new TypeError("Could not convert from RDF, too few arguments.");case 2:if(n=w(n,{format:S(t)?"application/n-quads":void 0}),r=n.format,a=n.rdfParser,!r){e.next=10;break}if(a=a||i[r]){e.next=8;break}throw new l("Unknown input format.","jsonld.UnknownFormat",{format:r});case 8:e.next=11;break;case 10:a=function(){return t};case 11:return e.next=13,a(t);case 13:return o=e.sent,e.abrupt("return",v(o,n));case 15:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),r.toRDF=function(){var e=_(regeneratorRuntime.mark(function e(t,n){var i,a,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(o.length<1)){e.next=2;break}throw new TypeError("Could not convert to RDF, too few arguments.");case 2:if(!(n=w(n,{base:S(t)?t:"",skipExpansion:!1,contextResolver:new u({sharedCache:y})})).skipExpansion){e.next=6;break}e.t0=t,e.next=9;break;case 6:return e.next=8,r.expand(t,n);case 8:e.t0=e.sent;case 9:if(i=e.t0,a=g(i,n),!n.format){e.next=17;break}if("application/n-quads"!==n.format&&"application/nquads"!==n.format){e.next=16;break}return e.next=15,d.serialize(a);case 15:return e.abrupt("return",e.sent);case 16:throw new l("Unknown output format.","jsonld.UnknownFormat",{format:n.format});case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),r.createNodeMap=function(){var e=_(regeneratorRuntime.mark(function e(t,n){var i,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a.length<1)){e.next=2;break}throw new TypeError("Could not create node map, too few arguments.");case 2:return n=w(n,{base:S(t)?t:"",contextResolver:new u({sharedCache:y})}),e.next=5,r.expand(t,n);case 5:return i=e.sent,e.abrupt("return",P(i,n));case 7:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),r.merge=function(){var e=_(regeneratorRuntime.mark(function e(t,i,a){var o,l,f,d,h,p,v,g,b,m,_,k,S,N,E,T,I=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(I.length<1)){e.next=2;break}throw new TypeError("Could not merge, too few arguments.");case 2:if(x(t)){e.next=4;break}throw new TypeError('Could not merge, "docs" must be an array.');case 4:return i="function"==typeof i?null:i||null,a=w(a,{contextResolver:new u({sharedCache:y})}),e.next=7,Promise.all(t.map(function(e){var t=n({},a);return r.expand(e,t)}));case 7:o=e.sent,l=!0,"mergeNodes"in a&&(l=a.mergeNodes),f=a.issuer||new c("_:b"),d={"@default":{}},h=0;case 12:if(!(h<o.length)){e.next=29;break}if(p=s.relabelBlankNodes(o[h],{issuer:new c("_:b"+h+"-")}),D(p,v=l||0===h?d:{"@default":{}},"@default",f),v===d){e.next=26;break}e.t0=regeneratorRuntime.keys(v);case 16:if((e.t1=e.t0()).done){e.next=26;break}if(g=e.t1.value,b=v[g],g in d){e.next=22;break}return d[g]=b,e.abrupt("continue",16);case 22:for(_ in m=d[g],b)_ in m||(m[_]=b[_]);e.next=16;break;case 26:++h,e.next=12;break;case 29:for(k=C(d),S=[],N=Object.keys(k).sort(),E=0;E<N.length;++E)T=k[N[E]],j(T)||S.push(T);if(null!==i){e.next=35;break}e.t2=S,e.next=40;break;case 35:return a.graph=!0,a.skipExpansion=!0,e.next=39,r.compact(S,i,a);case 39:e.t2=e.sent;case 40:return e.abrupt("return",e.t2);case 41:case"end":return e.stop()}},e)}));return function(t,n,r){return e.apply(this,arguments)}}(),Object.defineProperty(r,"documentLoader",{get:function(){return r._documentLoader},set:function(e){return r._documentLoader=e}}),r.documentLoader=function(){var e=_(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw new l("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed",url:t});case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),r.get=function(){var e=_(regeneratorRuntime.mark(function e(t,n){var i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i="function"==typeof n.documentLoader?n.documentLoader:r.documentLoader,e.next=3,i(t);case 3:if(a=e.sent,e.prev=4,a.document){e.next=7;break}throw new l("No remote document found at the given URL.","jsonld.NullRemoteDocument");case 7:S(a.document)&&(a.document=JSON.parse(a.document)),e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(4),new l("Could not retrieve a JSON-LD document from the URL.","jsonld.LoadDocumentError",{code:"loading document failed",cause:e.t0,remoteDoc:a});case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}},e,null,[[4,10]])}));return function(t,n){return e.apply(this,arguments)}}(),r.processContext=function(){var e=_(regeneratorRuntime.mark(function e(t,n,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(r=w(r,{base:"",contextResolver:new u({sharedCache:y})}),null===n?T(r):(n=s.clone(n),k(n)&&"@context"in n||(n={"@context":n}),I({activeCtx:t,localCtx:n,options:r}))));case 1:case"end":return e.stop()}},e)}));return function(t,n,r){return e.apply(this,arguments)}}(),r.getContextValue=t("./context").getContextValue,r.documentLoaders={},r.documentLoaders.node=t("./documentLoaders/node"),r.documentLoaders.xhr=t("./documentLoaders/xhr"),r.useDocumentLoader=function(e){if(!(e in r.documentLoaders))throw new l('Unknown document loader type: "'+e+'"',"jsonld.UnknownDocumentLoader",{type:e});r.documentLoader=r.documentLoaders[e].apply(r,Array.prototype.slice.call(arguments,1))},r.registerRDFParser=function(e,t){i[e]=t},r.unregisterRDFParser=function(e){delete i[e]},r.registerRDFParser("application/n-quads",d.parse),r.registerRDFParser("application/nquads",d.parse),r.url=t("./url"),r.util=s,Object.assign(r,s),r.promises=r,r.RequestQueue=t("./RequestQueue"),r.JsonLdProcessor=t("./JsonLdProcessor")(r),B&&void 0===a.JsonLdProcessor&&Object.defineProperty(a,"JsonLdProcessor",{writable:!0,enumerable:!1,configurable:!0,value:r.JsonLdProcessor}),F?r.useDocumentLoader("node"):"undefined"!=typeof XMLHttpRequest&&r.useDocumentLoader("xhr"),r},G=function e(){return U(function(){return e()})};U(G),r.exports=G}).call(this)}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./ContextResolver":25,"./JsonLdError":26,"./JsonLdProcessor":27,"./NQuads":28,"./RequestQueue":29,"./compact":31,"./context":33,"./documentLoaders/node":34,"./documentLoaders/xhr":35,"./expand":36,"./flatten":37,"./frame":38,"./fromRdf":39,"./graphTypes":40,"./nodeMap":42,"./toRdf":43,"./types":44,"./url":45,"./util":46,_process:58,"lru-cache":47,"rdf-canonize":68}],42:[function(e,t,n){"use strict";var r=e("./context").isKeyword,i=e("./graphTypes"),a=e("./types"),o=e("./util"),s=e("./JsonLdError"),u={};t.exports=u,u.createMergedNodeMap=function(e,t){var n=(t=t||{}).issuer||new o.IdentifierIssuer("_:b"),r={"@default":{}};return u.createNodeMap(e,r,"@default",n),u.mergeNodeMaps(r)},u.createNodeMap=function(e,t,n,c,l,f){if(a.isArray(e)){var d,h=w(e);try{for(h.s();!(d=h.n()).done;){var p=d.value;u.createNodeMap(p,t,n,c,void 0,f)}}catch(B){h.e(B)}finally{h.f()}}else if(a.isObject(e))if(i.isValue(e)){if("@type"in e){var v=e["@type"];0===v.indexOf("_:")&&(e["@type"]=v=c.getId(v))}f&&f.push(e)}else{if(f&&i.isList(e)){var g=[];return u.createNodeMap(e["@list"],t,n,c,l,g),void f.push({"@list":g})}if("@type"in e){var y,b=w(e["@type"]);try{for(b.s();!(y=b.n()).done;){var m=y.value;0===m.indexOf("_:")&&c.getId(m)}}catch(B){b.e(B)}finally{b.f()}}a.isUndefined(l)&&(l=i.isBlankNode(e)?c.getId(e["@id"]):e["@id"]),f&&f.push({"@id":l});var _=t[n],x=_[l]=_[l]||{};x["@id"]=l;var k,S=w(Object.keys(e).sort());try{for(S.s();!(k=S.n()).done;){var j=k.value;if("@id"!==j)if("@reverse"!==j)if("@graph"!==j)if("@included"!==j)if("@type"!==j&&r(j)){if("@index"===j&&j in x&&(e[j]!==x[j]||e[j]["@id"]!==x[j]["@id"]))throw new s("Invalid JSON-LD syntax; conflicting @index property detected.","jsonld.SyntaxError",{code:"conflicting indexes",subject:x});x[j]=e[j]}else{var N=e[j];if(0===j.indexOf("_:")&&(j=c.getId(j)),0!==N.length){var E,T=w(N);try{for(T.s();!(E=T.n()).done;){var I=E.value;if("@type"===j&&(I=0===I.indexOf("_:")?c.getId(I):I),i.isSubject(I)||i.isSubjectReference(I)){if("@id"in I&&!I["@id"])continue;var R=i.isBlankNode(I)?c.getId(I["@id"]):I["@id"];o.addValue(x,j,{"@id":R},{propertyIsArray:!0,allowDuplicate:!1}),u.createNodeMap(I,t,n,c,R)}else if(i.isValue(I))o.addValue(x,j,I,{propertyIsArray:!0,allowDuplicate:!1});else if(i.isList(I)){var O=[];u.createNodeMap(I["@list"],t,n,c,l,O),I={"@list":O},o.addValue(x,j,I,{propertyIsArray:!0,allowDuplicate:!1})}else u.createNodeMap(I,t,n,c,l),o.addValue(x,j,I,{propertyIsArray:!0,allowDuplicate:!1})}}catch(B){T.e(B)}finally{T.f()}}else o.addValue(x,j,[],{propertyIsArray:!0})}else u.createNodeMap(e[j],t,n,c);else l in t||(t[l]={}),u.createNodeMap(e[j],t,l,c);else{var A={"@id":l},L=e["@reverse"];for(var M in L){var D,P=w(L[M]);try{for(P.s();!(D=P.n()).done;){var C=D.value,F=C["@id"];i.isBlankNode(C)&&(F=c.getId(F)),u.createNodeMap(C,t,n,c,F),o.addValue(_[F],M,A,{propertyIsArray:!0,allowDuplicate:!1})}}catch(B){P.e(B)}finally{P.f()}}}}}catch(B){S.e(B)}finally{S.f()}}else f&&f.push(e)},u.mergeNodeMapGraphs=function(e){var t,n={},i=w(Object.keys(e).sort());try{for(i.s();!(t=i.n()).done;){var a,s=t.value,u=w(Object.keys(e[s]).sort());try{for(u.s();!(a=u.n()).done;){var c=a.value,l=e[s][c];c in n||(n[c]={"@id":c});var f,d=n[c],h=w(Object.keys(l).sort());try{for(h.s();!(f=h.n()).done;){var p=f.value;if(r(p)&&"@type"!==p)d[p]=o.clone(l[p]);else{var v,g=w(l[p]);try{for(g.s();!(v=g.n()).done;){var y=v.value;o.addValue(d,p,o.clone(y),{propertyIsArray:!0,allowDuplicate:!1})}}catch(b){g.e(b)}finally{g.f()}}}}catch(b){h.e(b)}finally{h.f()}}}catch(b){u.e(b)}finally{u.f()}}}catch(b){i.e(b)}finally{i.f()}return n},u.mergeNodeMaps=function(e){var t,n=e["@default"],r=w(Object.keys(e).sort());try{for(r.s();!(t=r.n()).done;){var a=t.value;if("@default"!==a){var o=e[a],s=n[a];s?"@graph"in s||(s["@graph"]=[]):n[a]=s={"@id":a,"@graph":[]};var u,c=s["@graph"],l=w(Object.keys(o).sort());try{for(l.s();!(u=l.n()).done;){var f=o[u.value];i.isSubjectReference(f)||c.push(f)}}catch(d){l.e(d)}finally{l.f()}}}}catch(d){r.e(d)}finally{r.f()}return n}},{"./JsonLdError":26,"./context":33,"./graphTypes":40,"./types":44,"./util":46}],43:[function(e,t,n){"use strict";var r=e("./nodeMap").createNodeMap,i=e("./context").isKeyword,a=e("./graphTypes"),o=e("canonicalize"),s=e("./types"),u=e("./util"),c=e("./constants"),l=c.RDF_FIRST,f=c.RDF_REST,d=c.RDF_NIL,h=c.RDF_TYPE,p=c.RDF_JSON_LITERAL,v=c.RDF_LANGSTRING,g=c.XSD_BOOLEAN,y=c.XSD_DOUBLE,b=c.XSD_INTEGER,m=c.XSD_STRING,_=e("./url").isAbsolute,x={};function k(e,t,n,r,a){var o,s=w(Object.keys(t).sort());try{for(s.s();!(o=s.n()).done;){var u,c=o.value,l=t[c],f=w(Object.keys(l).sort());try{for(f.s();!(u=f.n()).done;){var d=u.value,p=l[d];if("@type"===d)d=h;else if(i(d))continue;var v,g=w(p);try{for(g.s();!(v=g.n()).done;){var y=v.value,b={termType:c.startsWith("_:")?"BlankNode":"NamedNode",value:c};if(_(c)){var m={termType:d.startsWith("_:")?"BlankNode":"NamedNode",value:d};if(_(d)&&("BlankNode"!==m.termType||a.produceGeneralizedRdf)){var x=S(y,r,e,n,a.rdfDirection);x&&e.push({subject:b,predicate:m,object:x,graph:n})}}}}catch(k){g.e(k)}finally{g.f()}}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}}function S(e,t,n,r,i){var u={};if(a.isValue(e)){u.termType="Literal",u.value=void 0,u.datatype={termType:"NamedNode"};var c=e["@value"],h=e["@type"]||null;"@json"===h?(u.value=o(c),u.datatype.value=p):s.isBoolean(c)?(u.value=c.toString(),u.datatype.value=h||g):s.isDouble(c)||h===y?(s.isDouble(c)||(c=parseFloat(c)),u.value=c.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),u.datatype.value=h||y):s.isNumber(c)?(u.value=c.toFixed(0),u.datatype.value=h||b):"i18n-datatype"===i&&"@direction"in e?(u.datatype.value="https://www.w3.org/ns/i18n#"+(e["@language"]||"")+"_".concat(e["@direction"]),u.value=c):"@language"in e?(u.value=c,u.datatype.value=h||v,u.language=e["@language"]):(u.value=c,u.datatype.value=h||m)}else if(a.isList(e)){var x=function(e,t,n,r,i){var a,o={termType:"NamedNode",value:l},s={termType:"NamedNode",value:f},u={termType:"NamedNode",value:d},c=e.pop(),h=c?{termType:"BlankNode",value:t.getId()}:u,p=h,v=w(e);try{for(v.s();!(a=v.n()).done;){var g=S(a.value,t,n,r,i),y={termType:"BlankNode",value:t.getId()};n.push({subject:p,predicate:o,object:g,graph:r}),n.push({subject:p,predicate:s,object:y,graph:r}),p=y}}catch(m){v.e(m)}finally{v.f()}if(c){var b=S(c,t,n,r,i);n.push({subject:p,predicate:o,object:b,graph:r}),n.push({subject:p,predicate:s,object:u,graph:r})}return h}(e["@list"],t,n,r,i);u.termType=x.termType,u.value=x.value}else{var k=s.isObject(e)?e["@id"]:e;u.termType=k.startsWith("_:")?"BlankNode":"NamedNode",u.value=k}return"NamedNode"!==u.termType||_(u.value)?u:null}t.exports=x,x.toRDF=function(e,t){var n=new u.IdentifierIssuer("_:b"),i={"@default":{}};r(e,i,"@default",n);var a,o=[],s=w(Object.keys(i).sort());try{for(s.s();!(a=s.n()).done;){var c=a.value,l=void 0;if("@default"===c)l={termType:"DefaultGraph",value:""};else{if(!_(c))continue;(l=c.startsWith("_:")?{termType:"BlankNode"}:{termType:"NamedNode"}).value=c}k(o,i[c],l,n,t)}}catch(f){s.e(f)}finally{s.f()}return o}},{"./constants":32,"./context":33,"./graphTypes":40,"./nodeMap":42,"./types":44,"./url":45,"./util":46,canonicalize:21}],44:[function(e,t,n){"use strict";var r={};t.exports=r,r.isArray=Array.isArray,r.isBoolean=function(e){return"boolean"==typeof e||"[object Boolean]"===Object.prototype.toString.call(e)},r.isDouble=function(e){return r.isNumber(e)&&(-1!==String(e).indexOf(".")||Math.abs(e)>=1e21)},r.isEmptyObject=function(e){return r.isObject(e)&&0===Object.keys(e).length},r.isNumber=function(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)},r.isNumeric=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},r.isObject=function(e){return"[object Object]"===Object.prototype.toString.call(e)},r.isString=function(e){return"string"==typeof e||"[object String]"===Object.prototype.toString.call(e)},r.isUndefined=function(e){return void 0===e}},{}],45:[function(e,t,n){"use strict";var r=e("./types"),i={};t.exports=i,i.parsers={simple:{keys:["href","scheme","authority","path","query","fragment"],regex:/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/},full:{keys:["href","protocol","scheme","authority","auth","user","password","hostname","port","path","directory","file","query","fragment"],regex:/^(([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?(?:(((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/}},i.parse=function(e,t){for(var n={},r=i.parsers[t||"full"],a=r.regex.exec(e),o=r.keys.length;o--;)n[r.keys[o]]=void 0===a[o]?null:a[o];return("https"===n.scheme&&"443"===n.port||"http"===n.scheme&&"80"===n.port)&&(n.href=n.href.replace(":"+n.port,""),n.authority=n.authority.replace(":"+n.port,""),n.port=null),n.normalizedPath=i.removeDotSegments(n.path),n},i.prependBase=function(e,t){if(null===e)return t;if(i.isAbsolute(t))return t;e&&!r.isString(e)||(e=i.parse(e||""));var n=i.parse(t),a={protocol:e.protocol||""};if(null!==n.authority)a.authority=n.authority,a.path=n.path,a.query=n.query;else if(a.authority=e.authority,""===n.path)a.path=e.path,a.query=null!==n.query?n.query:e.query;else{if(0===n.path.indexOf("/"))a.path=n.path;else{var o=e.path;((o=o.substr(0,o.lastIndexOf("/")+1)).length>0||e.authority)&&"/"!==o.substr(-1)&&(o+="/"),o+=n.path,a.path=o}a.query=n.query}""!==n.path&&(a.path=i.removeDotSegments(a.path));var s=a.protocol;return null!==a.authority&&(s+="//"+a.authority),s+=a.path,null!==a.query&&(s+="?"+a.query),null!==n.fragment&&(s+="#"+n.fragment),""===s&&(s="./"),s},i.removeBase=function(e,t){if(null===e)return t;e&&!r.isString(e)||(e=i.parse(e||""));var n="";if(""!==e.href?n+=(e.protocol||"")+"//"+(e.authority||""):t.indexOf("//")&&(n+="//"),0!==t.indexOf(n))return t;for(var a=i.parse(t.substr(n.length)),o=e.normalizedPath.split("/"),s=a.normalizedPath.split("/"),u=a.fragment||a.query?0:1;o.length>0&&s.length>u&&o[0]===s[0];)o.shift(),s.shift();var c="";if(o.length>0){o.pop();for(var l=0;l<o.length;++l)c+="../"}return c+=s.join("/"),null!==a.query&&(c+="?"+a.query),null!==a.fragment&&(c+="#"+a.fragment),""===c&&(c="./"),c},i.removeDotSegments=function(e){if(0===e.length)return"";for(var t=e.split("/"),n=[];t.length>0;){var r=t.shift(),i=0===t.length;"."!==r?".."!==r?n.push(r):(n.pop(),i&&n.push("")):i&&n.push("")}return"/"===e[0]&&n.length>0&&""!==n[0]&&n.unshift(""),1===n.length&&""===n[0]?"/":n.join("/")};var a=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^\s]*$/;i.isAbsolute=function(e){return r.isString(e)&&a.test(e)},i.isRelative=function(e){return r.isString(e)}},{"./types":44}],46:[function(e,t,n){"use strict";var i=e("./graphTypes"),a=e("./types"),o=e("rdf-canonize").IdentifierIssuer,s=e("./JsonLdError"),u=/(?:<[^>]*?>|"[^"]*?"|[^,])+/g,c=/\s*<([^>]*?)>\s*(?:;\s*(.*))?/,l=/(.*?)=(?:(?:"([^"]*?)")|([^"]*?))\s*(?:(?:;\s*)|$)/g,f="application/ld+json, application/json",d={};function h(e,t){if(a.isArray(t))for(var n=0;n<t.length;++n)t[n]=h(e,t[n]);else if(i.isList(t))t["@list"]=h(e,t["@list"]);else if(a.isObject(t)){i.isBlankNode(t)&&(t["@id"]=e.getId(t["@id"]));for(var r=Object.keys(t).sort(),o=0;o<r.length;++o){var s=r[o];"@id"!==s&&(t[s]=h(e,t[s]))}}return t}t.exports=d,d.IdentifierIssuer=o,d.clone=function(e){if(e&&"object"==typeof e){var t;if(a.isArray(e)){t=[];for(var n=0;n<e.length;++n)t[n]=d.clone(e[n])}else if(e instanceof Map){t=new Map;var i,o=w(e);try{for(o.s();!(i=o.n()).done;){var s=r(i.value,2),u=s[0],c=s[1];t.set(u,d.clone(c))}}catch(v){o.e(v)}finally{o.f()}}else if(e instanceof Set){t=new Set;var l,f=w(e);try{for(f.s();!(l=f.n()).done;){var h=l.value;t.add(d.clone(h))}}catch(v){f.e(v)}finally{f.f()}}else if(a.isObject(e))for(var p in t={},e)t[p]=d.clone(e[p]);else t=e.toString();return t}return e},d.asArray=function(e){return Array.isArray(e)?e:[e]},d.buildHeaders=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object.keys(e).some(function(e){return"accept"===e.toLowerCase()}))throw new RangeError('Accept header may not be specified; only "'+f+'" is supported.');return Object.assign({Accept:f},e)},d.parseLinkHeader=function(e){for(var t={},n=e.match(u),r=0;r<n.length;++r){var i=n[r].match(c);if(i){for(var a={target:i[1]},o=i[2];i=l.exec(o);)a[i[1]]=void 0===i[2]?i[3]:i[2];var s=a.rel||"";Array.isArray(t[s])?t[s].push(a):t[s]=t.hasOwnProperty(s)?[t[s],a]:a}}return t},d.validateTypeValue=function(e,t){if(!(a.isString(e)||a.isArray(e)&&e.every(function(e){return a.isString(e)}))){if(t&&a.isObject(e))switch(Object.keys(e).length){case 0:return;case 1:if("@default"in e&&d.asArray(e["@default"]).every(function(e){return a.isString(e)}))return}throw new s('Invalid JSON-LD syntax; "@type" value must a string, an array of strings, an empty object, or a default object.',"jsonld.SyntaxError",{code:"invalid type value",value:e})}},d.hasProperty=function(e,t){if(e.hasOwnProperty(t)){var n=e[t];return!a.isArray(n)||n.length>0}return!1},d.hasValue=function(e,t,n){if(d.hasProperty(e,t)){var r=e[t],o=i.isList(r);if(a.isArray(r)||o){o&&(r=r["@list"]);for(var s=0;s<r.length;++s)if(d.compareValues(n,r[s]))return!0}else if(!a.isArray(n))return d.compareValues(n,r)}return!1},d.addValue=function(e,t,n,r){if("propertyIsArray"in(r=r||{})||(r.propertyIsArray=!1),"valueIsArray"in r||(r.valueIsArray=!1),"allowDuplicate"in r||(r.allowDuplicate=!0),"prependValue"in r||(r.prependValue=!1),r.valueIsArray)e[t]=n;else if(a.isArray(n)){0===n.length&&r.propertyIsArray&&!e.hasOwnProperty(t)&&(e[t]=[]),r.prependValue&&(n=n.concat(e[t]),e[t]=[]);for(var i=0;i<n.length;++i)d.addValue(e,t,n[i],r)}else if(e.hasOwnProperty(t)){var o=!r.allowDuplicate&&d.hasValue(e,t,n);a.isArray(e[t])||o&&!r.propertyIsArray||(e[t]=[e[t]]),o||(r.prependValue?e[t].unshift(n):e[t].push(n))}else e[t]=r.propertyIsArray?[n]:n},d.getValues=function(e,t){return[].concat(e[t]||[])},d.removeProperty=function(e,t){delete e[t]},d.removeValue=function(e,t,n,r){"propertyIsArray"in(r=r||{})||(r.propertyIsArray=!1);var i=d.getValues(e,t).filter(function(e){return!d.compareValues(e,n)});0===i.length?d.removeProperty(e,t):e[t]=1!==i.length||r.propertyIsArray?i:i[0]},d.relabelBlankNodes=function(e,t){return h((t=t||{}).issuer||new o("_:b"),e)},d.compareValues=function(e,t){return e===t||!(!i.isValue(e)||!i.isValue(t)||e["@value"]!==t["@value"]||e["@type"]!==t["@type"]||e["@language"]!==t["@language"]||e["@index"]!==t["@index"])||!!(a.isObject(e)&&"@id"in e&&a.isObject(t)&&"@id"in t)&&e["@id"]===t["@id"]},d.compareShortestLeast=function(e,t){return e.length<t.length?-1:t.length<e.length?1:e===t?0:e<t?-1:1}},{"./JsonLdError":26,"./graphTypes":40,"./types":44,"rdf-canonize":68}],47:[function(e,t,n){"use strict";var r=e("yallist"),i=Symbol("max"),a=Symbol("length"),o=Symbol("lengthCalculator"),s=Symbol("allowStale"),u=Symbol("maxAge"),c=Symbol("dispose"),l=Symbol("noDisposeOnSet"),f=Symbol("lruList"),d=Symbol("cache"),h=Symbol("updateAgeOnGet"),p=function(){return 1},v=function(e,t,n){var r=e[d].get(t);if(r){var i=r.value;if(g(e,i)){if(b(e,r),!e[s])return}else n&&(e[h]&&(r.value.now=Date.now()),e[f].unshiftNode(r));return i.value}},g=function(e,t){if(!t||!t.maxAge&&!e[u])return!1;var n=Date.now()-t.now;return t.maxAge?n>t.maxAge:e[u]&&n>e[u]},y=function(e){if(e[a]>e[i])for(var t=e[f].tail;e[a]>e[i]&&null!==t;){var n=t.prev;b(e,t),t=n}},b=function(e,t){if(t){var n=t.value;e[c]&&e[c](n.key,n.value),e[a]-=n.length,e[d].delete(n.key),e[f].removeNode(t)}},m=function e(t,n,r,i,a){S(this,e),this.key=t,this.value=n,this.length=r,this.now=i,this.maxAge=a||0},_=function(e,t,n,r){var i=n.value;g(e,i)&&(b(e,n),e[s]||(i=void 0)),i&&t.call(r,i.value,i.key,e)};t.exports=function(){function e(t){if(S(this,e),"number"==typeof t&&(t={max:t}),t||(t={}),t.max&&("number"!=typeof t.max||t.max<0))throw new TypeError("max must be a non-negative number");this[i]=t.max||1/0;var n=t.length||p;if(this[o]="function"!=typeof n?p:n,this[s]=t.stale||!1,t.maxAge&&"number"!=typeof t.maxAge)throw new TypeError("maxAge must be a number");this[u]=t.maxAge||0,this[c]=t.dispose,this[l]=t.noDisposeOnSet||!1,this[h]=t.updateAgeOnGet||!1,this.reset()}return N(e,[{key:"max",get:function(){return this[i]},set:function(e){if("number"!=typeof e||e<0)throw new TypeError("max must be a non-negative number");this[i]=e||1/0,y(this)}},{key:"allowStale",get:function(){return this[s]},set:function(e){this[s]=!!e}},{key:"maxAge",get:function(){return this[u]},set:function(e){if("number"!=typeof e)throw new TypeError("maxAge must be a non-negative number");this[u]=e,y(this)}},{key:"lengthCalculator",get:function(){return this[o]},set:function(e){var t=this;"function"!=typeof e&&(e=p),e!==this[o]&&(this[o]=e,this[a]=0,this[f].forEach(function(e){e.length=t[o](e.value,e.key),t[a]+=e.length})),y(this)}},{key:"length",get:function(){return this[a]}},{key:"itemCount",get:function(){return this[f].length}},{key:"rforEach",value:function(e,t){t=t||this;for(var n=this[f].tail;null!==n;){var r=n.prev;_(this,e,n,t),n=r}}},{key:"forEach",value:function(e,t){t=t||this;for(var n=this[f].head;null!==n;){var r=n.next;_(this,e,n,t),n=r}}},{key:"keys",value:function(){return this[f].toArray().map(function(e){return e.key})}},{key:"values",value:function(){return this[f].toArray().map(function(e){return e.value})}},{key:"reset",value:function(){var e=this;this[c]&&this[f]&&this[f].length&&this[f].forEach(function(t){return e[c](t.key,t.value)}),this[d]=new Map,this[f]=new r,this[a]=0}},{key:"dump",value:function(){var e=this;return this[f].map(function(t){return!g(e,t)&&{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}}).toArray().filter(function(e){return e})}},{key:"dumpLru",value:function(){return this[f]}},{key:"set",value:function(e,t,n){if((n=n||this[u])&&"number"!=typeof n)throw new TypeError("maxAge must be a number");var r=n?Date.now():0,s=this[o](t,e);if(this[d].has(e)){if(s>this[i])return b(this,this[d].get(e)),!1;var h=this[d].get(e).value;return this[c]&&(this[l]||this[c](e,h.value)),h.now=r,h.maxAge=n,h.value=t,this[a]+=s-h.length,h.length=s,this.get(e),y(this),!0}var p=new m(e,t,s,r,n);return p.length>this[i]?(this[c]&&this[c](e,t),!1):(this[a]+=p.length,this[f].unshift(p),this[d].set(e,this[f].head),y(this),!0)}},{key:"has",value:function(e){if(!this[d].has(e))return!1;var t=this[d].get(e).value;return!g(this,t)}},{key:"get",value:function(e){return v(this,e,!0)}},{key:"peek",value:function(e){return v(this,e,!1)}},{key:"pop",value:function(){var e=this[f].tail;return e?(b(this,e),e.value):null}},{key:"del",value:function(e){b(this,this[d].get(e))}},{key:"load",value:function(e){this.reset();for(var t=Date.now(),n=e.length-1;n>=0;n--){var r=e[n],i=r.e||0;if(0===i)this.set(r.k,r.v);else{var a=i-t;a>0&&this.set(r.k,r.v,a)}}}},{key:"prune",value:function(){var e=this;this[d].forEach(function(t,n){return v(e,n,!1)})}}]),e}()},{yallist:103}],48:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r="http://www.w3.org/1999/02/22-rdf-syntax-ns#",i="http://www.w3.org/2001/XMLSchema#",a="http://www.w3.org/2000/10/swap/";n.default={xsd:{decimal:"".concat(i,"decimal"),boolean:"".concat(i,"boolean"),double:"".concat(i,"double"),integer:"".concat(i,"integer"),string:"".concat(i,"string")},rdf:{type:"".concat(r,"type"),nil:"".concat(r,"nil"),first:"".concat(r,"first"),rest:"".concat(r,"rest"),langString:"".concat(r,"langString")},owl:{sameAs:"http://www.w3.org/2002/07/owl#sameAs"},r:{forSome:"".concat(a,"reify#forSome"),forAll:"".concat(a,"reify#forAll")},log:{implies:"".concat(a,"log#implies")}}},{}],49:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.termFromId=function e(t,n){if(n=n||y,!t)return n.defaultGraph();switch(t[0]){case"?":return n.variable(t.substr(1));case"_":return n.blankNode(t.substr(2));case'"':if(n===y)return new _(t);if('"'===t[t.length-1])return n.literal(t.substr(1,t.length-2));var r=t.lastIndexOf('"',t.length-1);return n.literal(t.substr(1,r-1),"@"===t[r+1]?t.substr(r+2):n.namedNode(t.substr(r+3)));case"<":var i=g.exec(t);return n.quad(e(T(i[1]),n),e(T(i[2]),n),e(T(i[3]),n),i[4]&&e(T(i[4]),n));default:return n.namedNode(t)}},n.termToId=function e(t){if("string"==typeof t)return t;if(t instanceof b&&"Quad"!==t.termType)return t.id;if(!t)return i.id;switch(t.termType){case"NamedNode":return t.value;case"BlankNode":return"_:".concat(t.value);case"Variable":return"?".concat(t.value);case"DefaultGraph":return"";case"Literal":return'"'.concat(t.value,'"').concat(t.language?"@".concat(t.language):t.datatype&&t.datatype.value!==h.string?"^^".concat(t.datatype.value):"");case"Quad":return"<<".concat(E(e(t.subject))," ").concat(E(e(t.predicate))," ").concat(E(e(t.object))).concat((0,o.isDefaultGraph)(t.graph)?"":" ".concat(e(t.graph)),">>");default:throw new Error("Unexpected termType: ".concat(t.termType))}},n.escapeQuotes=E,n.unescapeQuotes=T,n.Triple=n.Quad=n.DefaultGraph=n.Variable=n.BlankNode=n.Literal=n.NamedNode=n.Term=n.default=void 0;var r,i,a=(r=e("./IRIs"))&&r.__esModule?r:{default:r},o=e("./N3Util"),s=a.default,d=s.rdf,h=s.xsd,p=0,v=/^"(.*".*)(?="[^"]*$)/,g=/^<<("(?:""|[^"])*"[^ ]*|[^ ]+) ("(?:""|[^"])*"[^ ]*|[^ ]+) ("(?:""|[^"])*"[^ ]*|[^ ]+) ?("(?:""|[^"])*"[^ ]*|[^ ]+)?>>$/,y={namedNode:function(e){return new m(e)},blankNode:function(e){return new w(e||"n3-"+p++)},variable:function(e){return new x(e)},literal:function(e,t){if("string"==typeof t)return new _('"'.concat(e,'"@').concat(t.toLowerCase()));var n=t?t.value:"";return""===n&&("boolean"==typeof e?n=h.boolean:"number"==typeof e&&(Number.isFinite(e)?n=Number.isInteger(e)?h.integer:h.double:(n=h.double,Number.isNaN(e)||(e=e>0?"INF":"-INF")))),new _(""===n||n===h.string?'"'.concat(e,'"'):'"'.concat(e,'"^^').concat(n))},defaultGraph:function(){return i},quad:I,triple:I};n.default=y;var b=function(){function e(t){S(this,e),this.id=t}return N(e,[{key:"value",get:function(){return this.id}},{key:"equals",value:function(t){return t instanceof e?this.id===t.id:!!t&&this.termType===t.termType&&this.value===t.value}},{key:"toJSON",value:function(){return{termType:this.termType,value:this.value}}}]),e}();n.Term=b;var m=function(e){u(n,e);var t=c(n);function n(){return S(this,n),t.apply(this,arguments)}return N(n,[{key:"termType",get:function(){return"NamedNode"}}]),n}(b);n.NamedNode=m;var _=function(e){u(n,e);var t=c(n);function n(){return S(this,n),t.apply(this,arguments)}return N(n,[{key:"termType",get:function(){return"Literal"}},{key:"value",get:function(){return this.id.substring(1,this.id.lastIndexOf('"'))}},{key:"language",get:function(){var e=this.id,t=e.lastIndexOf('"')+1;return t<e.length&&"@"===e[t++]?e.substr(t).toLowerCase():""}},{key:"datatype",get:function(){return new m(this.datatypeString)}},{key:"datatypeString",get:function(){var e=this.id,t=e.lastIndexOf('"')+1,n=t<e.length?e[t]:"";return"^"===n?e.substr(t+2):"@"!==n?h.string:d.langString}},{key:"equals",value:function(e){return e instanceof n?this.id===e.id:!!e&&!!e.datatype&&this.termType===e.termType&&this.value===e.value&&this.language===e.language&&this.datatype.value===e.datatype.value}},{key:"toJSON",value:function(){return{termType:this.termType,value:this.value,language:this.language,datatype:{termType:"NamedNode",value:this.datatypeString}}}}]),n}(b);n.Literal=_;var w=function(e){u(n,e);var t=c(n);function n(e){return S(this,n),t.call(this,"_:".concat(e))}return N(n,[{key:"termType",get:function(){return"BlankNode"}},{key:"value",get:function(){return this.id.substr(2)}}]),n}(b);n.BlankNode=w;var x=function(e){u(n,e);var t=c(n);function n(e){return S(this,n),t.call(this,"?".concat(e))}return N(n,[{key:"termType",get:function(){return"Variable"}},{key:"value",get:function(){return this.id.substr(1)}}]),n}(b);n.Variable=x;var k=function(e){u(n,e);var t=c(n);function n(){var e;return S(this,n),l(e,(e=t.call(this,""),i||f(e)))}return N(n,[{key:"termType",get:function(){return"DefaultGraph"}},{key:"equals",value:function(e){return this===e||!!e&&this.termType===e.termType}}]),n}(b);n.DefaultGraph=k,i=new k;var j=function(e){u(n,e);var t=c(n);function n(e,r,a,o){var s;return S(this,n),(s=t.call(this,"")).subject=e,s.predicate=r,s.object=a,s.graph=o||i,s}return N(n,[{key:"termType",get:function(){return"Quad"}},{key:"toJSON",value:function(){return{termType:this.termType,subject:this.subject.toJSON(),predicate:this.predicate.toJSON(),object:this.object.toJSON(),graph:this.graph.toJSON()}}},{key:"equals",value:function(e){return!!e&&this.subject.equals(e.subject)&&this.predicate.equals(e.predicate)&&this.object.equals(e.object)&&this.graph.equals(e.graph)}}]),n}(b);function E(e){return e.replace(v,function(e,t){return'"'.concat(t.replace(/"/g,'""'))})}function T(e){return e.replace(v,function(e,t){return'"'.concat(t.replace(/""/g,'"'))})}function I(e,t,n,r){return new j(e,t,n,r)}n.Triple=n.Quad=j},{"./IRIs":48,"./N3Util":55}],50:[function(e,t,n){(function(t){(function(){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=a(e("./IRIs")),i=a(e("queue-microtask"));function a(e){return e&&e.__esModule?e:{default:e}}var o=r.default.xsd,s=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\([^])/g,u={"\\":"\\","'":"'",'"':'"',n:"\n",r:"\r",t:"\t",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},c=/[\x00-\x20<>\\"\{\}\|\^\`]/,l={_iri:!0,_unescapedIri:!0,_simpleQuotedString:!0,_langcode:!0,_blank:!0,_newline:!0,_comment:!0,_whitespace:!0,_endOfFile:!0},f=/$0^/;n.default=function(){function e(t){if(S(this,e),this._iri=/^<((?:[^ <>{}\\]|\\[uU])+)>[ \t]*/,this._unescapedIri=/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>[ \t]*/,this._simpleQuotedString=/^"([^"\\\r\n]*)"(?=[^"])/,this._simpleApostropheString=/^'([^'\\\r\n]*)'(?=[^'])/,this._langcode=/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,this._prefix=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,this._prefixed=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?:[ \t]+|(?=\.?[,;!\^\s#()\[\]\{\}"'<>]))/,this._variable=/^\?(?:(?:[A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=[.,;!\^\s#()\[\]\{\}"'<>])/,this._blank=/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?:[ \t]+|(?=\.?[,;:\s#()\[\]\{\}"'<>]))/,this._number=/^[\-+]?(?:(\d+\.\d*|\.?\d+)[eE][\-+]?|\d*(\.)?)\d+(?=\.?[,;:\s#()\[\]\{\}"'<>])/,this._boolean=/^(?:true|false)(?=[.,;\s#()\[\]\{\}"'<>])/,this._keyword=/^@[a-z]+(?=[\s#<:])/i,this._sparqlKeyword=/^(?:PREFIX|BASE|GRAPH)(?=[\s#<])/i,this._shortPredicates=/^a(?=[\s#()\[\]\{\}"'<>])/,this._newline=/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,this._comment=/#([^\n\r]*)/,this._whitespace=/^[ \t]+/,this._endOfFile=/^(?:#[^\n\r]*)?$/,this._lineMode=!!(t=t||{}).lineMode)for(var n in this._n3Mode=!1,this)!(n in l)&&this[n]instanceof RegExp&&(this[n]=f);else this._n3Mode=!1!==t.n3;this._comments=!!t.comments,this._literalClosingPos=0}return N(e,[{key:"_tokenizeToEnd",value:function(e,t){for(var n,r=this._input,i=this._comments;;){for(var a=void 0,s=void 0;a=this._newline.exec(r);)i&&(s=this._comment.exec(a[0]))&&e(null,{line:this._line,type:"comment",value:s[1],prefix:""}),r=r.substr(a[0].length,r.length),this._line++;if(!a&&(a=this._whitespace.exec(r))&&(r=r.substr(a[0].length,r.length)),this._endOfFile.test(r))return t&&(i&&(s=this._comment.exec(r))&&e(null,{line:this._line,type:"comment",value:s[1],prefix:""}),e(r=null,{line:this._line,type:"eof",value:"",prefix:""})),this._input=r;var u=this._line,l=r[0],f="",d="",h="",p=null,v=0,g=!1;switch(l){case"^":if(r.length<3)break;if("^"!==r[1]){this._n3Mode&&(v=1,f="^");break}if(this._previousMarker="^^","<"!==(r=r.substr(2))[0]){g=!0;break}case"<":if(p=this._unescapedIri.exec(r))f="IRI",d=p[1];else if(p=this._iri.exec(r)){if(null===(d=this._unescape(p[1]))||c.test(d))return m(this);f="IRI"}else r.length>1&&"<"===r[1]?(f="<<",v=2):this._n3Mode&&r.length>1&&"="===r[1]&&(f="inverse",v=2,d=">");break;case">":r.length>1&&">"===r[1]&&(f=">>",v=2);break;case"_":((p=this._blank.exec(r))||t&&(p=this._blank.exec("".concat(r," "))))&&(f="blank",h="_",d=p[1]);break;case'"':if(p=this._simpleQuotedString.exec(r))d=p[1];else if(d=(n=this._parseLiteral(r)).value,v=n.matchLength,null===d)return m(this);null===p&&0===v||(f="literal",this._literalClosingPos=0);break;case"'":if(!this._lineMode){var y;if(p=this._simpleApostropheString.exec(r))d=p[1];else if(d=(y=this._parseLiteral(r)).value,v=y.matchLength,null===d)return m(this);null===p&&0===v||(f="literal",this._literalClosingPos=0)}break;case"?":this._n3Mode&&(p=this._variable.exec(r))&&(f="var",d=p[0]);break;case"@":"literal"===this._previousMarker&&(p=this._langcode.exec(r))?(f="langcode",d=p[1]):(p=this._keyword.exec(r))&&(f=p[0]);break;case".":if(1===r.length?t:r[1]<"0"||r[1]>"9"){f=".",v=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":(p=this._number.exec(r)||t&&(p=this._number.exec("".concat(r," "))))&&(f="literal",d=p[0],h="string"==typeof p[1]?o.double:"string"==typeof p[2]?o.decimal:o.integer);break;case"B":case"b":case"p":case"P":case"G":case"g":(p=this._sparqlKeyword.exec(r))?f=p[0].toUpperCase():g=!0;break;case"f":case"t":(p=this._boolean.exec(r))?(f="literal",d=p[0],h=o.boolean):g=!0;break;case"a":(p=this._shortPredicates.exec(r))?(f="abbreviation",d="a"):g=!0;break;case"=":this._n3Mode&&r.length>1&&(f="abbreviation",">"!==r[1]?(v=1,d="="):(v=2,d=">"));break;case"!":if(!this._n3Mode)break;case",":case";":case"[":case"]":case"(":case")":case"{":case"}":this._lineMode||(v=1,f=l);break;default:g=!0}if(g&&("@prefix"!==this._previousMarker&&"PREFIX"!==this._previousMarker||!(p=this._prefix.exec(r))?((p=this._prefixed.exec(r))||t&&(p=this._prefixed.exec("".concat(r," "))))&&(f="prefixed",h=p[1]||"",d=this._unescape(p[2])):(f="prefix",d=p[1]||"")),"^^"===this._previousMarker)switch(f){case"prefixed":f="type";break;case"IRI":f="typeIRI";break;default:f=""}if(!f)return t||!/^'''|^"""/.test(r)&&/\n|\r/.test(r)?m(this):this._input=r;var b={line:u,type:f,value:d,prefix:h};e(null,b),this.previousToken=b,this._previousMarker=f,r=r.substr(v||p[0].length,r.length)}function m(t){e(t._syntaxError(/^\S*/.exec(r)[0]))}}},{key:"_unescape",value:function(e){var t=!1,n=e.replace(s,function(e,n,r,i){if("string"==typeof n)return String.fromCharCode(Number.parseInt(n,16));if("string"==typeof r){var a=Number.parseInt(r,16);return a<=65535?String.fromCharCode(Number.parseInt(r,16)):String.fromCharCode(55296+((a-=65536)>>10),56320+(1023&a))}return i in u?u[i]:(t=!0,"")});return t?null:n}},{key:"_parseLiteral",value:function(e){if(e.length>=3){for(var t=e.match(/^(?:"""|"|'''|'|)/)[0],n=t.length,r=Math.max(this._literalClosingPos,n);(r=e.indexOf(t,r))>0;){for(var i=0;"\\"===e[r-i-1];)i++;if(i%2==0){var a=e.substring(n,r),o=a.split(/\r\n|\r|\n/).length-1,s=r+n;if(1===n&&0!==o||3===n&&this._lineMode)break;return this._line+=o,{value:this._unescape(a),matchLength:s}}r++}this._literalClosingPos=e.length-n+1}return{value:"",matchLength:0}}},{key:"_syntaxError",value:function(e){this._input=null;var t=new Error('Unexpected "'.concat(e,'" on line ').concat(this._line,"."));return t.context={token:void 0,line:this._line,previousToken:this.previousToken},t}},{key:"tokenize",value:function(e,n){var r=this;if(this._line=1,"string"==typeof e){if(this._input=e,"function"!=typeof n){var a,o=[];if(this._tokenizeToEnd(function(e,t){return e?a=e:o.push(t)},!0),a)throw a;return o}(0,i.default)(function(){return r._tokenizeToEnd(n,!0)})}else this._input="",this._pendingBuffer=null,"function"==typeof e.setEncoding&&e.setEncoding("utf8"),e.on("data",function(e){null!==r._input&&0!==e.length&&(r._pendingBuffer&&(e=t.concat([r._pendingBuffer,e]),r._pendingBuffer=null),128&e[e.length-1]?r._pendingBuffer=e:(r._input+=e,r._tokenizeToEnd(n,!1)))}),e.on("end",function(){null!==r._input&&r._tokenizeToEnd(n,!0)}),e.on("error",n)}}]),e}()}).call(this)}).call(this,e("buffer").Buffer)},{"./IRIs":48,buffer:4,"queue-microtask":59}],51:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=o(e("./N3Lexer")),i=o(e("./N3DataFactory")),a=o(e("./IRIs"));function o(e){return e&&e.__esModule?e:{default:e}}var s=0,u=function(){function e(t){S(this,e),this._contextStack=[],this._graph=null,this._setBase((t=t||{}).baseIRI),t.factory&&l(this,t.factory);var n="string"==typeof t.format?t.format.match(/\w*$/)[0].toLowerCase():"",i=/turtle/.test(n),a=/trig/.test(n),o=/triple/.test(n),s=/quad/.test(n),u=this._n3Mode=/n3/.test(n),c=o||s;(this._supportsNamedGraphs=!(i||u))||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(i||a||o||u),this._supportsRDFStar=""===n||/star|\*$/.test(n),c&&(this._resolveRelativeIRI=function(e){return null}),this._blankNodePrefix="string"!=typeof t.blankNodePrefix?"":t.blankNodePrefix.replace(/^(?!_:)/,"_:"),this._lexer=t.lexer||new r.default({lineMode:c,n3:u}),this._explicitQuantifiers=!!t.explicitQuantifiers}return N(e,[{key:"_setBase",value:function(e){if(e){var t=e.indexOf("#");t>=0&&(e=e.substr(0,t)),this._base=e,this._basePath=e.indexOf("/")<0?e:e.replace(/[^\/?]*(?:\?.*)?$/,""),e=e.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i),this._baseRoot=e[0],this._baseScheme=e[1]}else this._base="",this._basePath=""}},{key:"_saveContext",value:function(e,t,n,r,i){var a=this._n3Mode;this._contextStack.push({subject:n,predicate:r,object:i,graph:t,type:e,inverse:!!a&&this._inversePredicate,blankPrefix:a?this._prefixes._:"",quantified:a?this._quantified:null}),a&&(this._inversePredicate=!1,this._prefixes._=this._graph?"".concat(this._graph.id.substr(2),"."):".",this._quantified=Object.create(this._quantified))}},{key:"_restoreContext",value:function(){var e=this._contextStack.pop(),t=this._n3Mode;this._subject=e.subject,this._predicate=e.predicate,this._object=e.object,this._graph=e.graph,t&&(this._inversePredicate=e.inverse,this._prefixes._=e.blankPrefix,this._quantified=e.quantified)}},{key:"_readInTopContext",value:function(e){switch(e.type){case"eof":return null!==this._graph?this._error("Unclosed graph",e):(delete this._prefixes._,this._callback(null,null,this._prefixes));case"PREFIX":this._sparqlStyle=!0;case"@prefix":return this._readPrefix;case"BASE":this._sparqlStyle=!0;case"@base":return this._readBaseIRI;case"{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(e)}}},{key:"_readEntity",value:function(e,t){var n;switch(e.type){case"IRI":case"typeIRI":var r=this._resolveIRI(e.value);if(null===r)return this._error("Invalid IRI",e);n=this._namedNode(r);break;case"type":case"prefixed":var i=this._prefixes[e.prefix];if(void 0===i)return this._error('Undefined prefix "'.concat(e.prefix,':"'),e);n=this._namedNode(i+e.value);break;case"blank":n=this._blankNode(this._prefixes[e.prefix]+e.value);break;case"var":n=this._variable(e.value.substr(1));break;default:return this._error("Expected entity but got ".concat(e.type),e)}return!t&&this._n3Mode&&n.id in this._quantified&&(n=this._quantified[n.id]),n}},{key:"_readSubject",value:function(e){switch(this._predicate=null,e.type){case"[":return this._saveContext("blank",this._graph,this._subject=this._blankNode(),null,null),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this.RDF_NIL,null,null),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._graph=this._blankNode(),null,null),this._readSubject):this._error("Unexpected graph",e);case"}":return this._readPunctuation(e);case"@forSome":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORSOME,this._quantifier=this._blankNode,this._readQuantifierList):this._error('Unexpected "@forSome"',e);case"@forAll":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORALL,this._quantifier=this._variable,this._readQuantifierList):this._error('Unexpected "@forAll"',e);case"literal":if(!this._n3Mode)return this._error("Unexpected literal",e);if(0===e.prefix.length)return this._literalValue=e.value,this._completeSubjectLiteral;this._subject=this._literal(e.value,this._namedNode(e.prefix));break;case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,null,null,null),this._graph=null,this._readSubject):this._error("Unexpected RDF* syntax",e);default:if(void 0===(this._subject=this._readEntity(e)))return;if(this._n3Mode)return this._getPathReader(this._readPredicateOrNamedGraph)}return this._readPredicateOrNamedGraph}},{key:"_readPredicate",value:function(e){var t=e.type;switch(t){case"inverse":this._inversePredicate=!0;case"abbreviation":this._predicate=this.ABBREVIATIONS[e.value];break;case".":case"]":case"}":return null===this._predicate?this._error("Unexpected ".concat(t),e):(this._subject=null,"]"===t?this._readBlankNodeTail(e):this._readPunctuation(e));case";":return null!==this._predicate?this._readPredicate:this._error("Expected predicate but got ;",e);case"blank":if(!this._n3Mode)return this._error("Disallowed blank node as predicate",e);default:if(void 0===(this._predicate=this._readEntity(e)))return}return this._readObject}},{key:"_readObject",value:function(e){switch(e.type){case"literal":if(0===e.prefix.length)return this._literalValue=e.value,this._readDataTypeOrLang;this._object=this._literal(e.value,this._namedNode(e.prefix));break;case"[":return this._saveContext("blank",this._graph,this._subject,this._predicate,this._subject=this._blankNode()),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this._subject,this._predicate,this.RDF_NIL),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",e);case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,this._subject,this._predicate,null),this._graph=null,this._readSubject):this._error("Unexpected RDF* syntax",e);default:if(void 0===(this._object=this._readEntity(e)))return;if(this._n3Mode)return this._getPathReader(this._getContextEndReader())}return this._getContextEndReader()}},{key:"_readPredicateOrNamedGraph",value:function(e){return"{"===e.type?this._readGraph(e):this._readPredicate(e)}},{key:"_readGraph",value:function(e){return"{"!==e.type?this._error("Expected graph but got ".concat(e.type),e):(this._graph=this._subject,this._subject=null,this._readSubject)}},{key:"_readBlankNodeHead",value:function(e){return"]"===e.type?(this._subject=null,this._readBlankNodeTail(e)):(this._predicate=null,this._readPredicate(e))}},{key:"_readBlankNodeTail",value:function(e){if("]"!==e.type)return this._readBlankNodePunctuation(e);null!==this._subject&&this._emit(this._subject,this._predicate,this._object,this._graph);var t=null===this._predicate;return this._restoreContext(),null===this._object?t?this._readPredicateOrNamedGraph:this._readPredicateAfterBlank:this._getContextEndReader()}},{key:"_readPredicateAfterBlank",value:function(e){switch(e.type){case".":case"}":return this._subject=null,this._readPunctuation(e);default:return this._readPredicate(e)}}},{key:"_readListItem",value:function(e){var t=null,n=null,r=this._readListItem,i=this._subject,a=this._contextStack,o=a[a.length-1];switch(e.type){case"[":this._saveContext("blank",this._graph,n=this._blankNode(),this.RDF_FIRST,this._subject=t=this._blankNode()),r=this._readBlankNodeHead;break;case"(":this._saveContext("list",this._graph,n=this._blankNode(),this.RDF_FIRST,this.RDF_NIL),this._subject=null;break;case")":if(this._restoreContext(),0!==a.length&&"list"===a[a.length-1].type&&this._emit(this._subject,this._predicate,this._object,this._graph),null===this._predicate){if(r=this._readPredicate,this._subject===this.RDF_NIL)return r}else if(r=this._getContextEndReader(),this._object===this.RDF_NIL)return r;n=this.RDF_NIL;break;case"literal":0===e.prefix.length?(this._literalValue=e.value,r=this._readListItemDataTypeOrLang):(t=this._literal(e.value,this._namedNode(e.prefix)),r=this._getContextEndReader());break;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",e);default:if(void 0===(t=this._readEntity(e)))return}if(null===n&&(this._subject=n=this._blankNode()),null===i?null===o.predicate?o.subject=n:o.object=n:this._emit(i,this.RDF_REST,n,this._graph),null!==t){if(this._n3Mode&&("IRI"===e.type||"prefixed"===e.type))return this._saveContext("item",this._graph,n,this.RDF_FIRST,t),this._subject=t,this._predicate=null,this._getPathReader(this._readListItem);this._emit(n,this.RDF_FIRST,t,this._graph)}return r}},{key:"_readDataTypeOrLang",value:function(e){return this._completeObjectLiteral(e,!1)}},{key:"_readListItemDataTypeOrLang",value:function(e){return this._completeObjectLiteral(e,!0)}},{key:"_completeLiteral",value:function(e){var t=this._literal(this._literalValue);switch(e.type){case"type":case"typeIRI":var n=this._readEntity(e);if(void 0===n)return;t=this._literal(this._literalValue,n),e=null;break;case"langcode":t=this._literal(this._literalValue,e.value),e=null}return{token:e,literal:t}}},{key:"_completeSubjectLiteral",value:function(e){return this._subject=this._completeLiteral(e).literal,this._readPredicateOrNamedGraph}},{key:"_completeObjectLiteral",value:function(e,t){var n=this._completeLiteral(e);if(n)return this._object=n.literal,t&&this._emit(this._subject,this.RDF_FIRST,this._object,this._graph),null===n.token?this._getContextEndReader():(this._readCallback=this._getContextEndReader(),this._readCallback(n.token))}},{key:"_readFormulaTail",value:function(e){return"}"!==e.type?this._readPunctuation(e):(null!==this._subject&&this._emit(this._subject,this._predicate,this._object,this._graph),this._restoreContext(),null===this._object?this._readPredicate:this._getContextEndReader())}},{key:"_readPunctuation",value:function(e){var t,n=this._graph,r=this._subject,i=this._inversePredicate;switch(e.type){case"}":if(null===this._graph)return this._error("Unexpected graph closing",e);if(this._n3Mode)return this._readFormulaTail(e);this._graph=null;case".":this._subject=null,t=this._contextStack.length?this._readSubject:this._readInTopContext,i&&(this._inversePredicate=!1);break;case";":t=this._readPredicate;break;case",":t=this._readObject;break;default:if(this._supportsQuads&&null===this._graph&&void 0!==(n=this._readEntity(e))){t=this._readQuadPunctuation;break}return this._error('Expected punctuation to follow "'.concat(this._object.id,'"'),e)}if(null!==r){var a=this._predicate,o=this._object;i?this._emit(o,a,r,n):this._emit(r,a,o,n)}return t}},{key:"_readBlankNodePunctuation",value:function(e){var t;switch(e.type){case";":t=this._readPredicate;break;case",":t=this._readObject;break;default:return this._error('Expected punctuation to follow "'.concat(this._object.id,'"'),e)}return this._emit(this._subject,this._predicate,this._object,this._graph),t}},{key:"_readQuadPunctuation",value:function(e){return"."!==e.type?this._error("Expected dot to follow quad",e):this._readInTopContext}},{key:"_readPrefix",value:function(e){return"prefix"!==e.type?this._error("Expected prefix to follow @prefix",e):(this._prefix=e.value,this._readPrefixIRI)}},{key:"_readPrefixIRI",value:function(e){if("IRI"!==e.type)return this._error('Expected IRI to follow prefix "'.concat(this._prefix,':"'),e);var t=this._readEntity(e);return this._prefixes[this._prefix]=t.value,this._prefixCallback(this._prefix,t),this._readDeclarationPunctuation}},{key:"_readBaseIRI",value:function(e){var t="IRI"===e.type&&this._resolveIRI(e.value);return t?(this._setBase(t),this._readDeclarationPunctuation):this._error("Expected valid IRI to follow base declaration",e)}},{key:"_readNamedGraphLabel",value:function(e){switch(e.type){case"IRI":case"blank":case"prefixed":return this._readSubject(e),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",e)}}},{key:"_readNamedGraphBlankLabel",value:function(e){return"]"!==e.type?this._error("Invalid graph label",e):(this._subject=this._blankNode(),this._readGraph)}},{key:"_readDeclarationPunctuation",value:function(e){return this._sparqlStyle?(this._sparqlStyle=!1,this._readInTopContext(e)):"."!==e.type?this._error("Expected declaration to end with a dot",e):this._readInTopContext}},{key:"_readQuantifierList",value:function(e){var t;switch(e.type){case"IRI":case"prefixed":if(void 0!==(t=this._readEntity(e,!0)))break;default:return this._error("Unexpected ".concat(e.type),e)}return this._explicitQuantifiers?(null===this._subject?this._emit(this._graph||this.DEFAULTGRAPH,this._predicate,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH):this._emit(this._subject,this.RDF_REST,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH),this._emit(this._subject,this.RDF_FIRST,t,this.QUANTIFIERS_GRAPH)):this._quantified[t.id]=this._quantifier(this._blankNode().value),this._readQuantifierPunctuation}},{key:"_readQuantifierPunctuation",value:function(e){return","===e.type?this._readQuantifierList:(this._explicitQuantifiers&&(this._emit(this._subject,this.RDF_REST,this.RDF_NIL,this.QUANTIFIERS_GRAPH),this._subject=null),this._readCallback=this._getContextEndReader(),this._readCallback(e))}},{key:"_getPathReader",value:function(e){return this._afterPath=e,this._readPath}},{key:"_readPath",value:function(e){switch(e.type){case"!":return this._readForwardPath;case"^":return this._readBackwardPath;default:var t=this._contextStack,n=t.length&&t[t.length-1];if(n&&"item"===n.type){var r=this._subject;this._restoreContext(),this._emit(this._subject,this.RDF_FIRST,r,this._graph)}return this._afterPath(e)}}},{key:"_readForwardPath",value:function(e){var t,n,r=this._blankNode();if(void 0!==(n=this._readEntity(e)))return null===this._predicate?(t=this._subject,this._subject=r):(t=this._object,this._object=r),this._emit(t,n,r,this._graph),this._readPath}},{key:"_readBackwardPath",value:function(e){var t,n,r=this._blankNode();if(void 0!==(t=this._readEntity(e)))return null===this._predicate?(n=this._subject,this._subject=r):(n=this._object,this._object=r),this._emit(r,t,n,this._graph),this._readPath}},{key:"_readRDFStarTailOrGraph",value:function(e){return">>"!==e.type?this._supportsQuads&&null===this._graph&&void 0!==(this._graph=this._readEntity(e))?this._readRDFStarTail:this._error('Expected >> to follow "'.concat(this._object.id,'"'),e):this._readRDFStarTail(e)}},{key:"_readRDFStarTail",value:function(e){if(">>"!==e.type)return this._error("Expected >> but got ".concat(e.type),e);var t=this._quad(this._subject,this._predicate,this._object,this._graph||this.DEFAULTGRAPH);return this._restoreContext(),null===this._subject?(this._subject=t,this._readPredicate):(this._object=t,this._getContextEndReader())}},{key:"_getContextEndReader",value:function(){var e=this._contextStack;if(!e.length)return this._readPunctuation;switch(e[e.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem;case"formula":return this._readFormulaTail;case"<<":return this._readRDFStarTailOrGraph}}},{key:"_emit",value:function(e,t,n,r){this._callback(null,this._quad(e,t,n,r||this.DEFAULTGRAPH))}},{key:"_error",value:function(e,t){var n=new Error("".concat(e," on line ").concat(t.line,"."));n.context={token:t,line:t.line,previousToken:this._lexer.previousToken},this._callback(n),this._callback=c}},{key:"_resolveIRI",value:function(e){return/^[a-z][a-z0-9+.-]*:/i.test(e)?e:this._resolveRelativeIRI(e)}},{key:"_resolveRelativeIRI",value:function(e){if(!e.length)return this._base;switch(e[0]){case"#":return this._base+e;case"?":return this._base.replace(/(?:\?.*)?$/,e);case"/":return("/"===e[1]?this._baseScheme:this._baseRoot)+this._removeDotSegments(e);default:return/^[^/:]*:/.test(e)?null:this._removeDotSegments(this._basePath+e)}}},{key:"_removeDotSegments",value:function(e){if(!/(^|\/)\.\.?($|[/#?])/.test(e))return e;for(var t=e.length,n="",r=-1,i=-1,a=0,o="/";r<t;){switch(o){case":":if(i<0&&"/"===e[++r]&&"/"===e[++r])for(;(i=r+1)<t&&"/"!==e[i];)r=i;break;case"?":case"#":r=t;break;case"/":if("."===e[r+1])switch(o=e[1+ ++r],o){case"/":n+=e.substring(a,r-1),a=r+1;break;case void 0:case"?":case"#":return n+e.substring(a,r)+e.substr(r+1);case".":if(void 0===(o=e[1+ ++r])||"/"===o||"?"===o||"#"===o){if((a=(n+=e.substring(a,r-2)).lastIndexOf("/"))>=i&&(n=n.substr(0,a)),"/"!==o)return"".concat(n,"/").concat(e.substr(r+1));a=r+1}}}o=e[++r]}return n+e.substring(a)}},{key:"parse",value:function(e,t,n){var r=this;if(this._readCallback=this._readInTopContext,this._sparqlStyle=!1,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix?this._blankNodePrefix.substr(2):"b".concat(s++,"_"),this._prefixCallback=n||c,this._inversePredicate=!1,this._quantified=Object.create(null),!t){var i,a=[];if(this._callback=function(e,t){e?i=e:t&&a.push(t)},this._lexer.tokenize(e).every(function(e){return r._readCallback=r._readCallback(e)}),i)throw i;return a}this._callback=t,this._lexer.tokenize(e,function(e,t){null!==e?(r._callback(e),r._callback=c):r._readCallback&&(r._readCallback=r._readCallback(t))})}}],[{key:"_resetBlankNodePrefix",value:function(){s=0}}]),e}();function c(){}function l(e,t){var n=t.namedNode;e._namedNode=n,e._blankNode=t.blankNode,e._literal=t.literal,e._variable=t.variable,e._quad=t.quad,e.DEFAULTGRAPH=t.defaultGraph(),e.RDF_FIRST=n(a.default.rdf.first),e.RDF_REST=n(a.default.rdf.rest),e.RDF_NIL=n(a.default.rdf.nil),e.N3_FORALL=n(a.default.r.forAll),e.N3_FORSOME=n(a.default.r.forSome),e.ABBREVIATIONS={a:n(a.default.rdf.type),"=":n(a.default.owl.sameAs),">":n(a.default.log.implies)},e.QUANTIFIERS_GRAPH=n("urn:n3:quantifiers")}n.default=u,l(u.prototype,i.default)},{"./IRIs":48,"./N3DataFactory":49,"./N3Lexer":50}],52:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=r?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("./N3DataFactory")),a=e("readable-stream"),o=(r=e("./IRIs"))&&r.__esModule?r:{default:r};function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function u(e){return"string"==typeof e||e instanceof String}n.default=function(){function e(t,n){S(this,e),this._size=0,this._graphs=Object.create(null),this._id=0,this._ids=Object.create(null),this._ids["><"]=0,this._entities=Object.create(null),this._blankNodeIndex=0,n||!t||t[0]||(n=t,t=null),this._factory=(n=n||{}).factory||i.default,t&&this.addQuads(t)}return N(e,[{key:"size",get:function(){var e=this._size;if(null!==e)return e;e=0;var t,n,r=this._graphs;for(var i in r)for(var a in t=r[i].subjects)for(var o in n=t[a])e+=Object.keys(n[o]).length;return this._size=e}},{key:"_addToIndex",value:function(e,t,n,r){var i=e[t]||(e[t]={}),a=i[n]||(i[n]={}),o=r in a;return o||(a[r]=null),!o}},{key:"_removeFromIndex",value:function(e,t,n,r){var i=e[t],a=i[n];for(var o in delete a[r],a)return;for(var s in delete i[n],i)return;delete e[t]}},{key:"_findInIndex",value:function(e,t,n,r,a,o,s,u,c,l){var f,d,h,p=!t+!n+!r>1?Object.keys(this._ids):this._entities;for(var v in t&&((f=e,e={})[t]=f[t]),e){var g=p[v];if(d=e[v])for(var y in n&&((f=d,d={})[n]=f[n]),d){var b=p[y];if(h=d[y])for(var m=(r?r in h?[r]:[]:Object.keys(h)),_=0;_<m.length;_++){var w={subject:null,predicate:null,object:null};w[a]=(0,i.termFromId)(g,this._factory),w[o]=(0,i.termFromId)(b,this._factory),w[s]=(0,i.termFromId)(p[m[_]],this._factory);var x=this._factory.quad(w.subject,w.predicate,w.object,(0,i.termFromId)(u,this._factory));if(l)l.push(x);else if(c(x))return!0}}}return l}},{key:"_loop",value:function(e,t){for(var n in e)t(n)}},{key:"_loopByKey0",value:function(e,t,n){var r,i;if(r=e[t])for(i in r)n(i)}},{key:"_loopByKey1",value:function(e,t,n){var r;for(r in e)e[r][t]&&n(r)}},{key:"_loopBy2Keys",value:function(e,t,n,r){var i,a,o;if((i=e[t])&&(a=i[n]))for(o in a)r(o)}},{key:"_countInIndex",value:function(e,t,n,r){var i,a,o,s=0;for(var u in t&&((i=e,e={})[t]=i[t]),e)if(a=e[u])for(var c in n&&((i=a,a={})[n]=i[n]),a)(o=a[c])&&(r?r in o&&s++:s+=Object.keys(o).length);return s}},{key:"_getGraphs",value:function(e){if(!u(e))return this._graphs;var t={};return t[e]=this._graphs[e],t}},{key:"_uniqueEntities",value:function(e){var t=this,n=Object.create(null);return function(r){r in n||(n[r]=!0,e((0,i.termFromId)(t._entities[r],t._factory)))}}},{key:"addQuad",value:function(e,t,n,r){t||(r=e.graph,n=e.object,t=e.predicate,e=e.subject),e=(0,i.termToId)(e),t=(0,i.termToId)(t),n=(0,i.termToId)(n),r=(0,i.termToId)(r);var a=this._graphs[r];a||(a=this._graphs[r]={subjects:{},predicates:{},objects:{}},Object.freeze(a));var o=this._ids,s=this._entities;e=o[e]||(o[s[++this._id]=e]=this._id),t=o[t]||(o[s[++this._id]=t]=this._id),n=o[n]||(o[s[++this._id]=n]=this._id);var u=this._addToIndex(a.subjects,e,t,n);return this._addToIndex(a.predicates,t,n,e),this._addToIndex(a.objects,n,e,t),this._size=null,u}},{key:"addQuads",value:function(e){for(var t=0;t<e.length;t++)this.addQuad(e[t])}},{key:"import",value:function(e){var t=this;return e.on("data",function(e){t.addQuad(e)}),e}},{key:"removeQuad",value:function(e,t,n,r){t||(r=e.graph,n=e.object,t=e.predicate,e=e.subject),e=(0,i.termToId)(e),t=(0,i.termToId)(t),n=(0,i.termToId)(n),r=(0,i.termToId)(r);var a,o,s,u=this._ids,c=this._graphs;if(!((e=u[e])&&(t=u[t])&&(n=u[n])&&(a=c[r])&&(o=a.subjects[e])&&(s=o[t])&&n in s))return!1;for(e in this._removeFromIndex(a.subjects,e,t,n),this._removeFromIndex(a.predicates,t,n,e),this._removeFromIndex(a.objects,n,e,t),null!==this._size&&this._size--,a.subjects)return!0;return delete c[r],!0}},{key:"removeQuads",value:function(e){for(var t=0;t<e.length;t++)this.removeQuad(e[t])}},{key:"remove",value:function(e){var t=this;return e.on("data",function(e){t.removeQuad(e)}),e}},{key:"removeMatches",value:function(e,t,n,r){return this.remove(this.match(e,t,n,r))}},{key:"deleteGraph",value:function(e){return this.removeMatches(null,null,null,e)}},{key:"getQuads",value:function(e,t,n,r){e=e&&(0,i.termToId)(e),t=t&&(0,i.termToId)(t),n=n&&(0,i.termToId)(n),r=r&&(0,i.termToId)(r);var a,o,s,c,l=[],f=this._getGraphs(r),d=this._ids;if(u(e)&&!(o=d[e])||u(t)&&!(s=d[t])||u(n)&&!(c=d[n]))return l;for(var h in f)(a=f[h])&&(o?c?this._findInIndex(a.objects,c,o,s,"object","subject","predicate",h,null,l):this._findInIndex(a.subjects,o,s,null,"subject","predicate","object",h,null,l):s?this._findInIndex(a.predicates,s,c,null,"predicate","object","subject",h,null,l):c?this._findInIndex(a.objects,c,null,null,"object","subject","predicate",h,null,l):this._findInIndex(a.subjects,null,null,null,"subject","predicate","object",h,null,l));return l}},{key:"match",value:function(e,t,n,r){var i=this,o=new a.Readable({objectMode:!0});return o._read=function(){var a,s=w(i.getQuads(e,t,n,r));try{for(s.s();!(a=s.n()).done;){var u=a.value;o.push(u)}}catch(c){s.e(c)}finally{s.f()}o.push(null)},o}},{key:"countQuads",value:function(e,t,n,r){e=e&&(0,i.termToId)(e),t=t&&(0,i.termToId)(t),n=n&&(0,i.termToId)(n),r=r&&(0,i.termToId)(r);var a,o,s,c,l=this._getGraphs(r),f=this._ids,d=0;if(u(e)&&!(o=f[e])||u(t)&&!(s=f[t])||u(n)&&!(c=f[n]))return 0;for(var h in l)(a=l[h])&&(d+=e?n?this._countInIndex(a.objects,c,o,s):this._countInIndex(a.subjects,o,s,c):t?this._countInIndex(a.predicates,s,c,o):this._countInIndex(a.objects,c,o,s));return d}},{key:"forEach",value:function(e,t,n,r,i){this.some(function(t){return e(t),!1},t,n,r,i)}},{key:"every",value:function(e,t,n,r,i){var a=!1,o=!this.some(function(t){return a=!0,!e(t)},t,n,r,i);return a&&o}},{key:"some",value:function(e,t,n,r,a){t=t&&(0,i.termToId)(t),n=n&&(0,i.termToId)(n),r=r&&(0,i.termToId)(r),a=a&&(0,i.termToId)(a);var o,s,c,l,f=this._getGraphs(a),d=this._ids;if(u(t)&&!(s=d[t])||u(n)&&!(c=d[n])||u(r)&&!(l=d[r]))return!1;for(var h in f)if(o=f[h])if(s){if(l){if(this._findInIndex(o.objects,l,s,c,"object","subject","predicate",h,e,null))return!0}else if(this._findInIndex(o.subjects,s,c,null,"subject","predicate","object",h,e,null))return!0}else if(c){if(this._findInIndex(o.predicates,c,l,null,"predicate","object","subject",h,e,null))return!0}else if(l){if(this._findInIndex(o.objects,l,null,null,"object","subject","predicate",h,e,null))return!0}else if(this._findInIndex(o.subjects,null,null,null,"subject","predicate","object",h,e,null))return!0;return!1}},{key:"getSubjects",value:function(e,t,n){var r=[];return this.forSubjects(function(e){r.push(e)},e,t,n),r}},{key:"forSubjects",value:function(e,t,n,r){t=t&&(0,i.termToId)(t),n=n&&(0,i.termToId)(n),r=r&&(0,i.termToId)(r);var a,o,s,c=this._ids,l=this._getGraphs(r);if(e=this._uniqueEntities(e),!(u(t)&&!(o=c[t])||u(n)&&!(s=c[n])))for(r in l)(a=l[r])&&(o?s?this._loopBy2Keys(a.predicates,o,s,e):this._loopByKey1(a.subjects,o,e):s?this._loopByKey0(a.objects,s,e):this._loop(a.subjects,e))}},{key:"getPredicates",value:function(e,t,n){var r=[];return this.forPredicates(function(e){r.push(e)},e,t,n),r}},{key:"forPredicates",value:function(e,t,n,r){t=t&&(0,i.termToId)(t),n=n&&(0,i.termToId)(n),r=r&&(0,i.termToId)(r);var a,o,s,c=this._ids,l=this._getGraphs(r);if(e=this._uniqueEntities(e),!(u(t)&&!(o=c[t])||u(n)&&!(s=c[n])))for(r in l)(a=l[r])&&(o?s?this._loopBy2Keys(a.objects,s,o,e):this._loopByKey0(a.subjects,o,e):s?this._loopByKey1(a.predicates,s,e):this._loop(a.predicates,e))}},{key:"getObjects",value:function(e,t,n){var r=[];return this.forObjects(function(e){r.push(e)},e,t,n),r}},{key:"forObjects",value:function(e,t,n,r){t=t&&(0,i.termToId)(t),n=n&&(0,i.termToId)(n),r=r&&(0,i.termToId)(r);var a,o,s,c=this._ids,l=this._getGraphs(r);if(e=this._uniqueEntities(e),!(u(t)&&!(o=c[t])||u(n)&&!(s=c[n])))for(r in l)(a=l[r])&&(o?s?this._loopBy2Keys(a.subjects,o,s,e):this._loopByKey1(a.objects,o,e):s?this._loopByKey0(a.predicates,s,e):this._loop(a.objects,e))}},{key:"getGraphs",value:function(e,t,n){var r=[];return this.forGraphs(function(e){r.push(e)},e,t,n),r}},{key:"forGraphs",value:function(e,t,n,r){for(var i in this._graphs)this.some(function(t){return e(t.graph),!0},t,n,r,i)}},{key:"createBlankNode",value:function(e){var t,n;if(e)for(t=e="_:".concat(e),n=1;this._ids[t];)t=e+n++;else do{t="_:b"+this._blankNodeIndex++}while(this._ids[t]);return this._ids[t]=++this._id,this._entities[this._id]=t,this._factory.blankNode(t.substr(2))}},{key:"extractLists",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.remove,r=void 0!==n&&n,i=t.ignoreErrors,a=void 0!==i&&i,s={},u=a?function(){return!0}:function(e,t){throw new Error("".concat(e.value," ").concat(t))},c=this.getQuads(null,o.default.rdf.rest,o.default.rdf.nil,null),l=r?y(c):[];return c.forEach(function(t){for(var n,i,a=[],c=!1,f=t.graph,d=t.subject;d&&!c;){for(var h=e.getQuads(null,null,d,null),p=e.getQuads(d,null,null,null),v=void 0,g=null,y=null,b=null,m=0;m<p.length&&!c;m++)(v=p[m]).graph.equals(f)?n?c=u(d,"has non-list arcs out"):v.predicate.value===o.default.rdf.first?g?c=u(d,"has multiple rdf:first arcs"):l.push(g=v):v.predicate.value===o.default.rdf.rest?y?c=u(d,"has multiple rdf:rest arcs"):l.push(y=v):h.length?c=u(d,"can't be subject and object"):(n=v,i="subject"):c=u(d,"not confined to single graph");for(var _=0;_<h.length&&!c;++_)v=h[_],n?c=u(d,"can't have coreferences"):v.predicate.value===o.default.rdf.rest?b?c=u(d,"has incoming rdf:rest arcs"):b=v:(n=v,i="object");g?a.unshift(g.object):c=u(d,"has no list head"),d=b&&b.subject}c?r=!1:n&&(s[n[i].value]=a)}),r&&this.removeQuads(l),s}}]),e}()},{"./IRIs":48,"./N3DataFactory":49,"readable-stream":94}],53:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,i=(r=e("./N3Parser"))&&r.__esModule?r:{default:r},a=e("readable-stream");n.default=function(e){u(n,e);var t=c(n);function n(e){var r,a,o;return S(this,n),(r=t.call(this,{decodeStrings:!0}))._readableState.objectMode=!0,new i.default(e).parse({on:function(e,t){switch(e){case"data":a=t;break;case"end":o=t}}},function(e,t){e&&r.emit("error",e)||t&&r.push(t)},function(e,t){r.emit("prefix",e,t)}),r._transform=function(e,t,n){a(e),n()},r._flush=function(e){o(),e()},r}return N(n,[{key:"import",value:function(e){var t=this;return e.on("data",function(e){t.write(e)}),e.on("end",function(){t.end()}),e.on("error",function(e){t.emit("error",e)}),this}}]),n}(a.Transform)},{"./N3Parser":51,"readable-stream":94}],54:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,i=e("readable-stream"),a=(r=e("./N3Writer"))&&r.__esModule?r:{default:r};n.default=function(e){u(n,e);var t=c(n);function n(e){var r;S(this,n);var i=(r=t.call(this,{encoding:"utf8",writableObjectMode:!0}))._writer=new a.default({write:function(e,t,n){r.push(e),n&&n()},end:function(e){r.push(null),e&&e()}},e);return r._transform=function(e,t,n){i.addQuad(e,n)},r._flush=function(e){i.end(e)},r}return N(n,[{key:"import",value:function(e){var t=this;return e.on("data",function(e){t.write(e)}),e.on("end",function(){t.end()}),e.on("error",function(e){t.emit("error",e)}),e.on("prefix",function(e,n){t._writer.addPrefix(e,n)}),this}}]),n}(i.Transform)},{"./N3Writer":56,"readable-stream":94}],55:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.isNamedNode=function(e){return!!e&&"NamedNode"===e.termType},n.isBlankNode=function(e){return!!e&&"BlankNode"===e.termType},n.isLiteral=function(e){return!!e&&"Literal"===e.termType},n.isVariable=function(e){return!!e&&"Variable"===e.termType},n.isDefaultGraph=a,n.inDefaultGraph=function(e){return a(e.graph)},n.prefix=function(e,t){return o({"":e},t)("")},n.prefixes=o;var r,i=(r=e("./N3DataFactory"))&&r.__esModule?r:{default:r};function a(e){return!!e&&"DefaultGraph"===e.termType}function o(e,t){var n=Object.create(null);for(var r in e)a(r,e[r]);function a(e,r){if("string"==typeof r){var i=Object.create(null);n[e]=function(e){return i[e]||(i[e]=t.namedNode(r+e))}}else if(!(e in n))throw new Error("Unknown prefix: ".concat(e));return n[e]}return t=t||i.default,a}},{"./N3DataFactory":49}],56:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,i=(r=e("./IRIs"))&&r.__esModule?r:{default:r},a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=r?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("./N3DataFactory")),o=e("./N3Util");function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}var l=a.default.defaultGraph(),f=i.default,d=f.rdf,h=f.xsd,p=/["\\\t\n\r\b\f\u0000-\u0019\ud800-\udbff]/,v=/["\\\t\n\r\b\f\u0000-\u0019]|[\ud800-\udbff][\udc00-\udfff]/g,g={"\\":"\\\\",'"':'\\"',"\t":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"},y=function(e){u(n,e);var t=c(n);function n(){return S(this,n),t.apply(this,arguments)}return N(n,[{key:"equals",value:function(){return!1}}]),n}(a.Term);function b(e){var t=g[e];return void 0===t&&(1===e.length?(t=e.charCodeAt(0).toString(16),t="\\u0000".substr(0,6-t.length)+t):(t=(1024*(e.charCodeAt(0)-55296)+e.charCodeAt(1)+9216).toString(16),t="\\U00000000".substr(0,10-t.length)+t)),t}n.default=function(){function e(t,n){if(S(this,e),this._prefixRegex=/$0^/,t&&"function"!=typeof t.write&&(n=t,t=null),this._lists=(n=n||{}).lists,t)this._outputStream=t,this._endStream=void 0===n.end||!!n.end;else{var r="";this._outputStream={write:function(e,t,n){r+=e,n&&n()},end:function(e){e&&e(null,r)}},this._endStream=!0}this._subject=null,/triple|quad/i.test(n.format)?(this._lineMode=!0,this._writeQuad=this._writeQuadLine):(this._lineMode=!1,this._graph=l,this._baseIRI=n.baseIRI,this._prefixIRIs=Object.create(null),n.prefixes&&this.addPrefixes(n.prefixes))}return N(e,[{key:"_inDefaultGraph",get:function(){return l.equals(this._graph)}},{key:"_write",value:function(e,t){this._outputStream.write(e,"utf8",t)}},{key:"_writeQuad",value:function(e,t,n,r,i){try{r.equals(this._graph)||(this._write((null===this._subject?"":this._inDefaultGraph?".\n":"\n}\n")+(l.equals(r)?"":"".concat(this._encodeIriOrBlank(r)," {\n"))),this._graph=r,this._subject=null),e.equals(this._subject)?t.equals(this._predicate)?this._write(", ".concat(this._encodeObject(n)),i):this._write(";\n    ".concat(this._encodePredicate(this._predicate=t)," ").concat(this._encodeObject(n)),i):this._write("".concat((null===this._subject?"":".\n")+this._encodeSubject(this._subject=e)," ").concat(this._encodePredicate(this._predicate=t)," ").concat(this._encodeObject(n)),i)}catch(a){i&&i(a)}}},{key:"_writeQuadLine",value:function(e,t,n,r,i){delete this._prefixMatch,this._write(this.quadToString(e,t,n,r),i)}},{key:"quadToString",value:function(e,t,n,r){return"".concat(this._encodeSubject(e)," ").concat(this._encodeIriOrBlank(t)," ").concat(this._encodeObject(n)).concat(r&&r.value?" ".concat(this._encodeIriOrBlank(r)," .\n"):" .\n")}},{key:"quadsToString",value:function(e){var t=this;return e.map(function(e){return t.quadToString(e.subject,e.predicate,e.object,e.graph)}).join("")}},{key:"_encodeSubject",value:function(e){return"Quad"===e.termType?this._encodeQuad(e):this._encodeIriOrBlank(e)}},{key:"_encodeIriOrBlank",value:function(e){if("NamedNode"!==e.termType)return this._lists&&e.value in this._lists&&(e=this.list(this._lists[e.value])),"id"in e?e.id:"_:".concat(e.value);var t=e.value;this._baseIRI&&t.startsWith(this._baseIRI)&&(t=t.substr(this._baseIRI.length)),p.test(t)&&(t=t.replace(v,b));var n=this._prefixRegex.exec(t);return n?n[1]?this._prefixIRIs[n[1]]+n[2]:t:"<".concat(t,">")}},{key:"_encodeLiteral",value:function(e){var t=e.value;if(p.test(t)&&(t=t.replace(v,b)),e.language)return'"'.concat(t,'"@').concat(e.language);if(this._lineMode){if(e.datatype.value===h.string)return'"'.concat(t,'"')}else switch(e.datatype.value){case h.string:return'"'.concat(t,'"');case h.boolean:if("true"===t||"false"===t)return t;break;case h.integer:if(/^[+-]?\d+$/.test(t))return t;break;case h.decimal:if(/^[+-]?\d*\.\d+$/.test(t))return t;break;case h.double:if(/^[+-]?(?:\d+\.\d*|\.?\d+)[eE][+-]?\d+$/.test(t))return t}return'"'.concat(t,'"^^').concat(this._encodeIriOrBlank(e.datatype))}},{key:"_encodePredicate",value:function(e){return e.value===d.type?"a":this._encodeIriOrBlank(e)}},{key:"_encodeObject",value:function(e){switch(e.termType){case"Quad":return this._encodeQuad(e);case"Literal":return this._encodeLiteral(e);default:return this._encodeIriOrBlank(e)}}},{key:"_encodeQuad",value:function(e){var t=e.subject,n=e.predicate,r=e.object,i=e.graph;return"<<".concat(this._encodeSubject(t)," ").concat(this._encodePredicate(n)," ").concat(this._encodeObject(r)).concat((0,o.isDefaultGraph)(i)?"":" ".concat(this._encodeIriOrBlank(i)),">>")}},{key:"_blockedWrite",value:function(){throw new Error("Cannot write because the writer has been closed.")}},{key:"addQuad",value:function(e,t,n,r,i){void 0===n?this._writeQuad(e.subject,e.predicate,e.object,e.graph,t):"function"==typeof r?this._writeQuad(e,t,n,l,r):this._writeQuad(e,t,n,r||l,i)}},{key:"addQuads",value:function(e){for(var t=0;t<e.length;t++)this.addQuad(e[t])}},{key:"addPrefix",value:function(e,t,n){var r={};r[e]=t,this.addPrefixes(r,n)}},{key:"addPrefixes",value:function(e,t){if(!this._prefixIRIs)return t&&t();var n=!1;for(var r in e){var i=e[r];"string"!=typeof i&&(i=i.value),n=!0,null!==this._subject&&(this._write(this._inDefaultGraph?".\n":"\n}\n"),this._subject=null,this._graph=""),this._prefixIRIs[i]=r+=":",this._write("@prefix ".concat(r," <").concat(i,">.\n"))}if(n){var a="",o="";for(var s in this._prefixIRIs)a+=a?"|".concat(s):s,o+=(o?"|":"")+this._prefixIRIs[s];a=a.replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&"),this._prefixRegex=new RegExp("^(?:".concat(o,")[^/]*$|^(").concat(a,")([a-zA-Z][\\-_a-zA-Z0-9]*)$"))}this._write(n?"\n":"",t)}},{key:"blank",value:function(e,t){var n,r,i=e;switch(void 0===e?i=[]:e.termType?i=[{predicate:e,object:t}]:"length"in e||(i=[e]),r=i.length){case 0:return new y("[]");case 1:if(!((n=i[0]).object instanceof y))return new y("[ ".concat(this._encodePredicate(n.predicate)," ").concat(this._encodeObject(n.object)," ]"));default:for(var a="[",o=0;o<r;o++)(n=i[o]).predicate.equals(e)?a+=", ".concat(this._encodeObject(n.object)):(a+="".concat((o?";\n  ":"\n  ")+this._encodePredicate(n.predicate)," ").concat(this._encodeObject(n.object)),e=n.predicate);return new y("".concat(a,"\n]"))}}},{key:"list",value:function(e){for(var t=e&&e.length||0,n=new Array(t),r=0;r<t;r++)n[r]=this._encodeObject(e[r]);return new y("(".concat(n.join(" "),")"))}},{key:"end",value:function(e){null!==this._subject&&(this._write(this._inDefaultGraph?".\n":"\n}\n"),this._subject=null),this._write=this._blockedWrite;var t=e&&function(n,r){t=null,e(n,r)};if(this._endStream)try{return this._outputStream.end(t)}catch(n){}t&&t()}}]),e}()},{"./IRIs":48,"./N3DataFactory":49,"./N3Util":55}],57:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Lexer",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(n,"Parser",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(n,"Writer",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(n,"Store",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(n,"StreamParser",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(n,"StreamWriter",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(n,"DataFactory",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(n,"Term",{enumerable:!0,get:function(){return l.Term}}),Object.defineProperty(n,"NamedNode",{enumerable:!0,get:function(){return l.NamedNode}}),Object.defineProperty(n,"Literal",{enumerable:!0,get:function(){return l.Literal}}),Object.defineProperty(n,"BlankNode",{enumerable:!0,get:function(){return l.BlankNode}}),Object.defineProperty(n,"Variable",{enumerable:!0,get:function(){return l.Variable}}),Object.defineProperty(n,"DefaultGraph",{enumerable:!0,get:function(){return l.DefaultGraph}}),Object.defineProperty(n,"Quad",{enumerable:!0,get:function(){return l.Quad}}),Object.defineProperty(n,"Triple",{enumerable:!0,get:function(){return l.Triple}}),Object.defineProperty(n,"termFromId",{enumerable:!0,get:function(){return l.termFromId}}),Object.defineProperty(n,"termToId",{enumerable:!0,get:function(){return l.termToId}}),n.Util=void 0;var r=h(e("./N3Lexer")),i=h(e("./N3Parser")),a=h(e("./N3Writer")),o=h(e("./N3Store")),s=h(e("./N3StreamParser")),u=h(e("./N3StreamWriter")),c=d(e("./N3Util"));n.Util=c;var l=d(e("./N3DataFactory"));function f(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}function d(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=f();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=r?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}function h(e){return e&&e.__esModule?e:{default:e}}},{"./N3DataFactory":49,"./N3Lexer":50,"./N3Parser":51,"./N3Store":52,"./N3StreamParser":53,"./N3StreamWriter":54,"./N3Util":55,"./N3Writer":56}],58:[function(e,t,n){var r,i,a=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function u(e){if(r===setTimeout)return setTimeout(e,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(e){r=o}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(e){i=s}}();var c,l=[],f=!1,d=-1;function h(){f&&c&&(f=!1,c.length?l=c.concat(l):d=-1,l.length&&p())}function p(){if(!f){var e=u(h);f=!0;for(var t=l.length;t;){for(c=l,l=[];++d<t;)c&&c[d].run();d=-1,t=l.length}c=null,f=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function v(e,t){this.fun=e,this.array=t}function g(){}a.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new v(e,t)),1!==l.length||f||u(p)},v.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=g,a.addListener=g,a.once=g,a.off=g,a.removeListener=g,a.removeAllListeners=g,a.emit=g,a.prependListener=g,a.prependOnceListener=g,a.listeners=function(e){return[]},a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},{}],59:[function(e,t,n){var r;t.exports="function"==typeof queueMicrotask?queueMicrotask.bind(globalThis):function(e){return(r||(r=Promise.resolve())).then(e).catch(function(e){return setTimeout(function(){throw e},0)})}},{}],60:[function(e,t,n){"use strict";t.exports=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;S(this,e),this.prefix=t,this._existing=n,this.counter=r}return N(e,[{key:"clone",value:function(){var t=this.prefix,n=this._existing,r=this.counter;return new e(t,new Map(n),r)}},{key:"getId",value:function(e){var t=e&&this._existing.get(e);if(t)return t;var n=this.prefix+this.counter;return this.counter++,e&&this._existing.set(e,n),n}},{key:"hasId",value:function(e){return this._existing.has(e)}},{key:"getOldIds",value:function(){return y(this._existing.keys())}}]),e}()},{}],61:[function(e,t,n){"use strict";e("setimmediate");var r=self.crypto||self.msCrypto;t.exports=function(){function e(t){if(S(this,e),!r||!r.subtle)throw new Error("crypto.subtle not found.");if("sha256"===t)this.algorithm={name:"SHA-256"};else{if("sha1"!==t)throw new Error('Unsupport algorithm "'.concat(t,'".'));this.algorithm={name:"SHA-1"}}this._content=""}var t;return N(e,[{key:"update",value:function(e){this._content+=e}},{key:"digest",value:(t=_(regeneratorRuntime.mark(function e(){var t,n,i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=(new TextEncoder).encode(this._content),e.t0=Uint8Array,e.next=4,r.subtle.digest(this.algorithm,t);case 4:for(e.t1=e.sent,n=new e.t0(e.t1),i="",a=0;a<n.length;++a)i+=n[a].toString(16).padStart(2,"0");return e.abrupt("return",i);case 9:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})}]),e}()},{setimmediate:99}],62:[function(e,t,n){"use strict";var r="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString",i="http://www.w3.org/2001/XMLSchema#string",a={eoln:/(?:\r\n)|(?:\n)|(?:\r)/g};a.empty=new RegExp("^[ \\t]*$"),a.quad=new RegExp('^[ \\t]*(?:(?:<([^:]+:[^>]*)>)|(_:(?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd_0-9])(?:(?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd_0-9-\xb7\u0300-\u036f\u203f-\u2040.])*(?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd_0-9-\xb7\u0300-\u036f\u203f-\u2040]))?))[ \\t]+(?:<([^:]+:[^>]*)>)[ \\t]+(?:(?:<([^:]+:[^>]*)>)|(_:(?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd_0-9])(?:(?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd_0-9-\xb7\u0300-\u036f\u203f-\u2040.])*(?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd_0-9-\xb7\u0300-\u036f\u203f-\u2040]))?)|(?:"([^"\\\\]*(?:\\\\.[^"\\\\]*)*)"(?:(?:\\^\\^(?:<([^:]+:[^>]*)>))|(?:@([a-zA-Z]+(?:-[a-zA-Z0-9]+)*)))?))[ \\t]*(?:\\.|(?:(?:(?:<([^:]+:[^>]*)>)|(_:(?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd_0-9])(?:(?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd_0-9-\xb7\u0300-\u036f\u203f-\u2040.])*(?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd_0-9-\xb7\u0300-\u036f\u203f-\u2040]))?))[ \\t]*\\.))[ \\t]*$'),t.exports=function(){function e(){S(this,e)}return N(e,null,[{key:"parse",value:function(e){var t,n,o,u=[],c={},l=0,f=w(e.split(a.eoln));try{for(f.s();!(t=f.n()).done;){var d=t.value;if(l++,!a.empty.test(d)){var h=d.match(a.quad);if(null===h)throw new Error("N-Quads parse error on line "+l+".");var p={subject:null,predicate:null,object:null,graph:null};if(p.subject=void 0!==h[1]?{termType:"NamedNode",value:h[1]}:{termType:"BlankNode",value:h[2]},p.predicate={termType:"NamedNode",value:h[3]},void 0!==h[4]?p.object={termType:"NamedNode",value:h[4]}:void 0!==h[5]?p.object={termType:"BlankNode",value:h[5]}:(p.object={termType:"Literal",value:void 0,datatype:{termType:"NamedNode"}},void 0!==h[7]?p.object.datatype.value=h[7]:void 0!==h[8]?(p.object.datatype.value=r,p.object.language=h[8]):p.object.datatype.value=i,p.object.value=h[6].replace(s,function(e,t,n,r){if(t)switch(t){case"t":return"\t";case"b":return"\b";case"n":return"\n";case"r":return"\r";case"f":return"\f";case'"':return'"';case"'":return"'";case"\\":return"\\"}if(n)return String.fromCharCode(parseInt(n,16));if(r)throw new Error("Unsupported U escape")})),p.graph=void 0!==h[9]?{termType:"NamedNode",value:h[9]}:void 0!==h[10]?{termType:"BlankNode",value:h[10]}:{termType:"DefaultGraph",value:""},p.graph.value in c){var v,g=!0,y=c[p.graph.value],b=w(y);try{for(b.s();!(v=b.n()).done;){if((n=v.value).subject.termType===(o=p).subject.termType&&n.object.termType===o.object.termType&&n.subject.value===o.subject.value&&n.predicate.value===o.predicate.value&&n.object.value===o.object.value&&("Literal"!==n.object.termType||n.object.datatype.termType===o.object.datatype.termType&&n.object.language===o.object.language&&n.object.datatype.value===o.object.datatype.value)){g=!1;break}}}catch(m){b.e(m)}finally{b.f()}g&&(y.push(p),u.push(p))}else c[p.graph.value]=[p],u.push(p)}}}catch(m){f.e(m)}finally{f.f()}return u}},{key:"serialize",value:function(t){Array.isArray(t)||(t=e.legacyDatasetToQuads(t));var n,r=[],i=w(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;r.push(e.serializeQuad(a))}}catch(o){i.e(o)}finally{i.f()}return r.sort().join("")}},{key:"serializeQuad",value:function(e){var t=e.subject,n=e.object,a=e.graph,s="";return s+="NamedNode"===t.termType?"<".concat(t.value,">"):"".concat(t.value),s+=" <".concat(e.predicate.value,"> "),"NamedNode"===n.termType?s+="<".concat(n.value,">"):"BlankNode"===n.termType?s+=n.value:(s+='"'.concat(function(e){return e.replace(o,function(e){switch(e){case'"':return'\\"';case"\\":return"\\\\";case"\n":return"\\n";case"\r":return"\\r"}})}(n.value),'"'),n.datatype.value===r?n.language&&(s+="@".concat(n.language)):n.datatype.value!==i&&(s+="^^<".concat(n.datatype.value,">"))),"NamedNode"===a.termType?s+=" <".concat(a.value,">"):"BlankNode"===a.termType&&(s+=" ".concat(a.value)),s+=" .\n"}},{key:"legacyDatasetToQuads",value:function(e){var t=[],n={"blank node":"BlankNode",IRI:"NamedNode",literal:"Literal"},a=function(a){e[a].forEach(function(e){var o={};for(var s in e){var u=e[s],c={termType:n[u.type],value:u.value};"Literal"===c.termType&&(c.datatype={termType:"NamedNode"},"datatype"in u&&(c.datatype.value=u.datatype),"language"in u?("datatype"in u||(c.datatype.value=r),c.language=u.language):"datatype"in u||(c.datatype.value=i)),o[s]=c}o.graph="@default"===a?{termType:"DefaultGraph",value:""}:{termType:a.startsWith("_:")?"BlankNode":"NamedNode",value:a},t.push(o)})};for(var o in e)a(o);return t}}]),e}();var o=/["\\\n\r]/g,s=/(?:\\([tbnrf"'\\]))|(?:\\u([0-9A-Fa-f]{4}))|(?:\\U([0-9A-Fa-f]{8}))/g},{}],63:[function(e,t,n){"use strict";t.exports=function(){function e(t){S(this,e),this.current=t.sort(),this.done=!1,this.dir=new Map;for(var n=0;n<t.length;++n)this.dir.set(t[n],!0)}return N(e,[{key:"hasNext",value:function(){return!this.done}},{key:"next",value:function(){for(var e=this.current,t=this.dir,n=e.slice(),r=null,i=0,a=e.length,o=0;o<a;++o){var s=e[o],u=t.get(s);(null===r||s>r)&&(u&&o>0&&s>e[o-1]||!u&&o<a-1&&s>e[o+1])&&(r=s,i=o)}if(null===r)this.done=!0;else{var c=t.get(r)?i-1:i+1;e[i]=e[c],e[c]=r;var l,f=w(e);try{for(f.s();!(l=f.n()).done;){var d=l.value;d>r&&t.set(d,!t.get(d))}}catch(h){f.e(h)}finally{f.f()}}return n}}]),e}()},{}],64:[function(e,t,r){(function(r){(function(){"use strict";var i=e("./IdentifierIssuer"),a=e("./MessageDigest"),o=e("./Permuter"),s=e("./NQuads");function u(e,t){return e.hash<t.hash?-1:e.hash>t.hash?1:0}t.exports=function(){function e(){S(this,e),this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new i("_:c14n"),this.hashAlgorithm="sha256",this.quads=null}var t,c,l,f,d,h,p,v;return N(e,[{key:"main",value:(v=_(regeneratorRuntime.mark(function e(t){var r,a,o,c,l,f,d,h,p,v,g,b,m,_,x,k,S,j,N,E,T,I,R,O,A,L,M,D,P,C,F,B,U,G,V,z;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.quads=t,r=w(t);try{for(r.s();!(a=r.n()).done;)o=a.value,this._addBlankNodeQuadInfo({quad:o,component:o.subject}),this._addBlankNodeQuadInfo({quad:o,component:o.object}),this._addBlankNodeQuadInfo({quad:o,component:o.graph})}catch(q){r.e(q)}finally{r.f()}c=new Map,l=y(this.blankNodeInfo.keys()),f=0,d=w(l),e.prev=6,d.s();case 8:if((h=d.n()).done){e.next=18;break}if(p=h.value,e.t0=++f%100==0,!e.t0){e.next=14;break}return e.next=14,this._yield();case 14:return e.next=16,this._hashAndTrackBlankNode({id:p,hashToBlankNodes:c});case 16:e.next=8;break;case 18:e.next=23;break;case 20:e.prev=20,e.t1=e.catch(6),d.e(e.t1);case 23:return e.prev=23,d.f(),e.finish(23);case 26:v=y(c.keys()).sort(),g=[],b=w(v);try{for(b.s();!(m=b.n()).done;)_=m.value,(x=c.get(_)).length>1?g.push(x):this.canonicalIssuer.getId(x[0])}catch(q){b.e(q)}finally{b.f()}k=0,S=g;case 30:if(!(k<S.length)){e.next=61;break}j=S[k],N=[],E=w(j),e.prev=34,E.s();case 36:if((T=E.n()).done){e.next=48;break}if(I=T.value,!this.canonicalIssuer.hasId(I)){e.next=40;break}return e.abrupt("continue",46);case 40:return(R=new i("_:b")).getId(I),e.next=44,this.hashNDegreeQuads(I,R);case 44:O=e.sent,N.push(O);case 46:e.next=36;break;case 48:e.next=53;break;case 50:e.prev=50,e.t2=e.catch(34),E.e(e.t2);case 53:return e.prev=53,E.f(),e.finish(53);case 56:for(N.sort(u),A=0,L=N;A<L.length;A++){M=L[A],D=M.issuer.getOldIds(),P=w(D);try{for(P.s();!(C=P.n()).done;)F=C.value,this.canonicalIssuer.getId(F)}catch(q){P.e(q)}finally{P.f()}}case 58:k++,e.next=30;break;case 61:B=[],U=w(this.quads);try{for(U.s();!(G=U.n()).done;)V=G.value,(z=n({},V)).subject=this._useCanonicalId({component:z.subject}),z.object=this._useCanonicalId({component:z.object}),z.graph=this._useCanonicalId({component:z.graph}),B.push(s.serializeQuad(z))}catch(q){U.e(q)}finally{U.f()}return e.abrupt("return",(B.sort(),B.join("")));case 65:case"end":return e.stop()}},e,this,[[6,20,23,26],[34,50,53,56]])})),function(e){return v.apply(this,arguments)})},{key:"hashFirstDegreeQuads",value:(p=_(regeneratorRuntime.mark(function e(t){var n,r,i,o,u,c,l,f,d,h,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=[],r=this.blankNodeInfo.get(t),i=r.quads,o=w(i);try{for(o.s();!(u=o.n()).done;)c=u.value,(l={subject:null,predicate:c.predicate,object:null,graph:null}).subject=this.modifyFirstDegreeComponent(t,c.subject,"subject"),l.object=this.modifyFirstDegreeComponent(t,c.object,"object"),l.graph=this.modifyFirstDegreeComponent(t,c.graph,"graph"),n.push(s.serializeQuad(l))}catch(v){o.e(v)}finally{o.f()}for(n.sort(),f=new a(this.hashAlgorithm),d=0,h=n;d<h.length;d++)p=h[d],f.update(p);return e.next=8,f.digest();case 8:return r.hash=e.sent,e.abrupt("return",r.hash);case 10:case"end":return e.stop()}},e,this)})),function(e){return p.apply(this,arguments)})},{key:"hashRelatedBlankNode",value:(h=_(regeneratorRuntime.mark(function e(t,n,r,i){var o,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=this.canonicalIssuer.hasId(t)?this.canonicalIssuer.getId(t):r.hasId(t)?r.getId(t):this.blankNodeInfo.get(t).hash,s=new a(this.hashAlgorithm),e.abrupt("return",(s.update(i),"g"!==i&&s.update(this.getRelatedPredicate(n)),s.update(o),s.digest()));case 3:case"end":return e.stop()}},e,this)})),function(e,t,n,r){return h.apply(this,arguments)})},{key:"hashNDegreeQuads",value:(d=_(regeneratorRuntime.mark(function e(t,n){var r,i,s,u,c,l,f,d,h,p,v,g,b,m,_,x,k,S,j,N,E,T;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=new a(this.hashAlgorithm),e.next=3,this.createHashToRelated(t,n);case 3:i=e.sent,s=y(i.keys()).sort(),u=w(s),e.prev=6,u.s();case 8:if((c=u.n()).done){e.next=69;break}l=c.value,r.update(l),f=void 0,d="",h=new o(i.get(l)),p=0;case 14:if(!h.hasNext()){e.next=66;break}if(v=h.next(),e.t0=++p%3==0,!e.t0){e.next=20;break}return e.next=20,this._yield();case 20:g=n.clone(),b="",m=[],_=!1,x=w(v),e.prev=24,x.s();case 26:if((k=x.n()).done){e.next=33;break}if(S=k.value,this.canonicalIssuer.hasId(S)?b+=this.canonicalIssuer.getId(S):(g.hasId(S)||m.push(S),b+=g.getId(S)),!(0!==d.length&&b>d)){e.next=31;break}return _=!0,e.abrupt("break",33);case 31:e.next=26;break;case 33:e.next=38;break;case 35:e.prev=35,e.t1=e.catch(24),x.e(e.t1);case 38:return e.prev=38,x.f(),e.finish(38);case 41:if(_){e.next=64;break}j=w(m),e.prev=43,j.s();case 45:if((N=j.n()).done){e.next=55;break}return E=N.value,e.next=49,this.hashNDegreeQuads(E,g);case 49:if(T=e.sent,b+=g.getId(E),b+="<".concat(T.hash,">"),g=T.issuer,!(0!==d.length&&b>d)){e.next=53;break}return _=!0,e.abrupt("break",55);case 53:e.next=45;break;case 55:e.next=60;break;case 57:e.prev=57,e.t2=e.catch(43),j.e(e.t2);case 60:return e.prev=60,j.f(),e.finish(60);case 63:_||(0===d.length||b<d)&&(d=b,f=g);case 64:e.next=14;break;case 66:r.update(d),n=f;case 67:e.next=8;break;case 69:e.next=74;break;case 71:e.prev=71,e.t3=e.catch(6),u.e(e.t3);case 74:return e.prev=74,u.f(),e.finish(74);case 77:return e.next=79,r.digest();case 79:return e.t4=e.sent,e.t5=n,e.abrupt("return",{hash:e.t4,issuer:e.t5});case 82:case"end":return e.stop()}},e,this,[[6,71,74,77],[24,35,38,41],[43,57,60,63]])})),function(e,t){return d.apply(this,arguments)})},{key:"modifyFirstDegreeComponent",value:function(e,t){return"BlankNode"!==t.termType?t:{termType:"BlankNode",value:t.value===e?"_:a":"_:z"}}},{key:"getRelatedPredicate",value:function(e){return"<".concat(e.predicate.value,">")}},{key:"createHashToRelated",value:(f=_(regeneratorRuntime.mark(function e(t,n){var r,i,a,o,s,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=new Map,i=this.blankNodeInfo.get(t).quads,a=0,o=w(i),e.prev=3,o.s();case 5:if((s=o.n()).done){e.next=15;break}if(u=s.value,e.t0=++a%100==0,!e.t0){e.next=11;break}return e.next=11,this._yield();case 11:return e.next=13,Promise.all([this._addRelatedBlankNodeHash({quad:u,component:u.subject,position:"s",id:t,issuer:n,hashToRelated:r}),this._addRelatedBlankNodeHash({quad:u,component:u.object,position:"o",id:t,issuer:n,hashToRelated:r}),this._addRelatedBlankNodeHash({quad:u,component:u.graph,position:"g",id:t,issuer:n,hashToRelated:r})]);case 13:e.next=5;break;case 15:e.next=20;break;case 17:e.prev=17,e.t1=e.catch(3),o.e(e.t1);case 20:return e.prev=20,o.f(),e.finish(20);case 23:return e.abrupt("return",r);case 24:case"end":return e.stop()}},e,this,[[3,17,20,23]])})),function(e,t){return f.apply(this,arguments)})},{key:"_hashAndTrackBlankNode",value:(l=_(regeneratorRuntime.mark(function e(t){var n,r,i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,r=t.hashToBlankNodes,e.next=3,this.hashFirstDegreeQuads(n);case 3:i=e.sent,(a=r.get(i))?a.push(n):r.set(i,[n]);case 6:case"end":return e.stop()}},e,this)})),function(e){return l.apply(this,arguments)})},{key:"_addBlankNodeQuadInfo",value:function(e){var t=e.quad,n=e.component;if("BlankNode"===n.termType){var r=n.value,i=this.blankNodeInfo.get(r);i?i.quads.add(t):this.blankNodeInfo.set(r,{quads:new Set([t]),hash:null})}}},{key:"_addRelatedBlankNodeHash",value:(c=_(regeneratorRuntime.mark(function e(t){var n,r,i,a,o,s,u,c,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.quad,r=t.component,i=t.position,a=t.id,o=t.issuer,s=t.hashToRelated,"BlankNode"===r.termType&&r.value!==a){e.next=3;break}return e.abrupt("return");case 3:return u=r.value,e.next=6,this.hashRelatedBlankNode(u,n,o,i);case 6:c=e.sent,(l=s.get(c))?l.push(u):s.set(c,[u]);case 9:case"end":return e.stop()}},e,this)})),function(e){return c.apply(this,arguments)})},{key:"_useCanonicalId",value:function(e){var t=e.component;return"BlankNode"!==t.termType||t.value.startsWith(this.canonicalIssuer.prefix)?t:{termType:"BlankNode",value:this.canonicalIssuer.getId(t.value)}}},{key:"_yield",value:(t=_(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){return r(e)}));case 1:case"end":return e.stop()}},e)})),function(){return t.apply(this,arguments)})}]),e}()}).call(this)}).call(this,e("timers").setImmediate)},{"./IdentifierIssuer":60,"./MessageDigest":61,"./NQuads":62,"./Permuter":63,timers:20}],65:[function(e,t,r){"use strict";var i=e("./IdentifierIssuer"),a=e("./MessageDigest"),o=e("./Permuter"),s=e("./NQuads");function u(e,t){return e.hash<t.hash?-1:e.hash>t.hash?1:0}t.exports=function(){function e(){S(this,e),this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new i("_:c14n"),this.hashAlgorithm="sha256",this.quads=null}return N(e,[{key:"main",value:function(e){this.quads=e;var t,r=w(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;this._addBlankNodeQuadInfo({quad:a,component:a.subject}),this._addBlankNodeQuadInfo({quad:a,component:a.object}),this._addBlankNodeQuadInfo({quad:a,component:a.graph})}}catch(P){r.e(P)}finally{r.f()}var o,c=new Map,l=w(y(this.blankNodeInfo.keys()));try{for(l.s();!(o=l.n()).done;){var f=o.value;this._hashAndTrackBlankNode({id:f,hashToBlankNodes:c})}}catch(P){l.e(P)}finally{l.f()}var d,h=[],p=w(y(c.keys()).sort());try{for(p.s();!(d=p.n()).done;){var v=d.value,g=c.get(v);g.length>1?h.push(g):this.canonicalIssuer.getId(g[0])}}catch(P){p.e(P)}finally{p.f()}for(var b=0,m=h;b<m.length;b++){var _,x=[],k=w(m[b]);try{for(k.s();!(_=k.n()).done;){var S=_.value;if(!this.canonicalIssuer.hasId(S)){var j=new i("_:b");j.getId(S);var N=this.hashNDegreeQuads(S,j);x.push(N)}}}catch(P){k.e(P)}finally{k.f()}x.sort(u);for(var E=0,T=x;E<T.length;E++){var I,R=w(T[E].issuer.getOldIds());try{for(R.s();!(I=R.n()).done;){var O=I.value;this.canonicalIssuer.getId(O)}}catch(P){R.e(P)}finally{R.f()}}}var A,L=[],M=w(this.quads);try{for(M.s();!(A=M.n()).done;){var D=n({},A.value);D.subject=this._useCanonicalId({component:D.subject}),D.object=this._useCanonicalId({component:D.object}),D.graph=this._useCanonicalId({component:D.graph}),L.push(s.serializeQuad(D))}}catch(P){M.e(P)}finally{M.f()}return L.sort(),L.join("")}},{key:"hashFirstDegreeQuads",value:function(e){var t,n=[],r=this.blankNodeInfo.get(e),i=w(r.quads);try{for(i.s();!(t=i.n()).done;){var o=t.value,u={subject:null,predicate:o.predicate,object:null,graph:null};u.subject=this.modifyFirstDegreeComponent(e,o.subject,"subject"),u.object=this.modifyFirstDegreeComponent(e,o.object,"object"),u.graph=this.modifyFirstDegreeComponent(e,o.graph,"graph"),n.push(s.serializeQuad(u))}}catch(h){i.e(h)}finally{i.f()}n.sort();for(var c=new a(this.hashAlgorithm),l=0,f=n;l<f.length;l++){var d=f[l];c.update(d)}return r.hash=c.digest(),r.hash}},{key:"hashRelatedBlankNode",value:function(e,t,n,r){var i;i=this.canonicalIssuer.hasId(e)?this.canonicalIssuer.getId(e):n.hasId(e)?n.getId(e):this.blankNodeInfo.get(e).hash;var o=new a(this.hashAlgorithm);return o.update(r),"g"!==r&&o.update(this.getRelatedPredicate(t)),o.update(i),o.digest()}},{key:"hashNDegreeQuads",value:function(e,t){var n,r=new a(this.hashAlgorithm),i=this.createHashToRelated(e,t),s=w(y(i.keys()).sort());try{for(s.s();!(n=s.n()).done;){var u=n.value;r.update(u);for(var c=void 0,l="",f=new o(i.get(u));f.hasNext();){var d,h=f.next(),p=t.clone(),v="",g=[],b=!1,m=w(h);try{for(m.s();!(d=m.n()).done;){var _=d.value;if(this.canonicalIssuer.hasId(_)?v+=this.canonicalIssuer.getId(_):(p.hasId(_)||g.push(_),v+=p.getId(_)),0!==l.length&&v>l){b=!0;break}}}catch(N){m.e(N)}finally{m.f()}if(!b){var x,k=w(g);try{for(k.s();!(x=k.n()).done;){var S=x.value,j=this.hashNDegreeQuads(S,p);if(v+=p.getId(S),v+="<".concat(j.hash,">"),p=j.issuer,0!==l.length&&v>l){b=!0;break}}}catch(N){k.e(N)}finally{k.f()}b||(0===l.length||v<l)&&(l=v,c=p)}}r.update(l),t=c}}catch(N){s.e(N)}finally{s.f()}return{hash:r.digest(),issuer:t}}},{key:"modifyFirstDegreeComponent",value:function(e,t){return"BlankNode"!==t.termType?t:{termType:"BlankNode",value:t.value===e?"_:a":"_:z"}}},{key:"getRelatedPredicate",value:function(e){return"<".concat(e.predicate.value,">")}},{key:"createHashToRelated",value:function(e,t){var n,r=new Map,i=w(this.blankNodeInfo.get(e).quads);try{for(i.s();!(n=i.n()).done;){var a=n.value;this._addRelatedBlankNodeHash({quad:a,component:a.subject,position:"s",id:e,issuer:t,hashToRelated:r}),this._addRelatedBlankNodeHash({quad:a,component:a.object,position:"o",id:e,issuer:t,hashToRelated:r}),this._addRelatedBlankNodeHash({quad:a,component:a.graph,position:"g",id:e,issuer:t,hashToRelated:r})}}catch(o){i.e(o)}finally{i.f()}return r}},{key:"_hashAndTrackBlankNode",value:function(e){var t=e.id,n=e.hashToBlankNodes,r=this.hashFirstDegreeQuads(t),i=n.get(r);i?i.push(t):n.set(r,[t])}},{key:"_addBlankNodeQuadInfo",value:function(e){var t=e.quad,n=e.component;if("BlankNode"===n.termType){var r=n.value,i=this.blankNodeInfo.get(r);i?i.quads.add(t):this.blankNodeInfo.set(r,{quads:new Set([t]),hash:null})}}},{key:"_addRelatedBlankNodeHash",value:function(e){var t=e.quad,n=e.component,r=e.position,i=e.id,a=e.issuer,o=e.hashToRelated;if("BlankNode"===n.termType&&n.value!==i){var s=n.value,u=this.hashRelatedBlankNode(s,t,a,r),c=o.get(u);c?c.push(s):o.set(u,[s])}}},{key:"_useCanonicalId",value:function(e){var t=e.component;return"BlankNode"!==t.termType||t.value.startsWith(this.canonicalIssuer.prefix)?t:{termType:"BlankNode",value:this.canonicalIssuer.getId(t.value)}}}]),e}()},{"./IdentifierIssuer":60,"./MessageDigest":61,"./NQuads":62,"./Permuter":63}],66:[function(e,t,n){"use strict";var r=e("./URDNA2015");t.exports=function(e){u(r,e);var t,n=c(r);function r(){var e;return S(this,r),(e=n.call(this)).name="URGNA2012",e.hashAlgorithm="sha1",e}return N(r,[{key:"modifyFirstDegreeComponent",value:function(e,t,n){return"BlankNode"!==t.termType?t:"graph"===n?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:t.value===e?"_:a":"_:z"}}},{key:"getRelatedPredicate",value:function(e){return e.predicate.value}},{key:"createHashToRelated",value:(t=_(regeneratorRuntime.mark(function e(t,n){var r,i,a,o,s,u,c,l,f,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=new Map,i=this.blankNodeInfo.get(t).quads,a=0,o=w(i),e.prev=3,o.s();case 5:if((s=o.n()).done){e.next=26;break}if(u=s.value,c=void 0,l=void 0,"BlankNode"!==u.subject.termType||u.subject.value===t){e.next=12;break}l=u.subject.value,c="p",e.next=15;break;case 12:if("BlankNode"===u.object.termType&&u.object.value!==t){e.next=14;break}return e.abrupt("continue",24);case 14:l=u.object.value,c="r";case 15:if(e.t0=++a%100==0,!e.t0){e.next=19;break}return e.next=19,this._yield();case 19:return e.next=21,this.hashRelatedBlankNode(l,u,n,c);case 21:f=e.sent,(d=r.get(f))?d.push(l):r.set(f,[l]);case 24:e.next=5;break;case 26:e.next=31;break;case 28:e.prev=28,e.t1=e.catch(3),o.e(e.t1);case 31:return e.prev=31,o.f(),e.finish(31);case 34:return e.abrupt("return",r);case 35:case"end":return e.stop()}},e,this,[[3,28,31,34]])})),function(e,n){return t.apply(this,arguments)})}]),r}(r)},{"./URDNA2015":64}],67:[function(e,t,n){"use strict";var r=e("./URDNA2015Sync");t.exports=function(e){u(n,e);var t=c(n);function n(){var e;return S(this,n),(e=t.call(this)).name="URGNA2012",e.hashAlgorithm="sha1",e}return N(n,[{key:"modifyFirstDegreeComponent",value:function(e,t,n){return"BlankNode"!==t.termType?t:"graph"===n?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:t.value===e?"_:a":"_:z"}}},{key:"getRelatedPredicate",value:function(e){return e.predicate.value}},{key:"createHashToRelated",value:function(e,t){var n,r=new Map,i=w(this.blankNodeInfo.get(e).quads);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=void 0,s=void 0;if("BlankNode"===a.subject.termType&&a.subject.value!==e)s=a.subject.value,o="p";else{if("BlankNode"!==a.object.termType||a.object.value===e)continue;s=a.object.value,o="r"}var u=this.hashRelatedBlankNode(s,a,t,o),c=r.get(u);c?c.push(s):r.set(u,[s])}}catch(l){i.e(l)}finally{i.f()}return r}}]),n}(r)},{"./URDNA2015Sync":65}],68:[function(e,t,n){"use strict";var r,i=e("./URDNA2015"),a=e("./URGNA2012"),o=e("./URDNA2015Sync"),s=e("./URGNA2012Sync");try{r=e("rdf-canonize-native")}catch(c){}var u={};t.exports=u,u.NQuads=e("./NQuads"),u.IdentifierIssuer=e("./IdentifierIssuer"),u._rdfCanonizeNative=function(e){return e&&(r=e),r},u.canonize=function(){var e=_(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Array.isArray(t)||(t=u.NQuads.legacyDatasetToQuads(t)),!n.useNative){e.next=4;break}if(r){e.next=3;break}throw new Error("rdf-canonize-native not available");case 3:return e.abrupt("return",new Promise(function(e,i){return r.canonize(t,n,function(t,n){return t?i(t):e(n)})}));case 4:if("URDNA2015"!==n.algorithm){e.next=6;break}return e.abrupt("return",new i(n).main(t));case 6:if("URGNA2012"!==n.algorithm){e.next=8;break}return e.abrupt("return",new a(n).main(t));case 8:if("algorithm"in n){e.next=10;break}throw new Error("No RDF Dataset Canonicalization algorithm specified.");case 10:throw new Error("Invalid RDF Dataset Canonicalization algorithm: "+n.algorithm);case 11:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),u._canonizeSync=function(e,t){if(Array.isArray(e)||(e=u.NQuads.legacyDatasetToQuads(e)),t.useNative){if(r)return r.canonizeSync(e,t);throw new Error("rdf-canonize-native not available")}if("URDNA2015"===t.algorithm)return new o(t).main(e);if("URGNA2012"===t.algorithm)return new s(t).main(e);if(!("algorithm"in t))throw new Error("No RDF Dataset Canonicalization algorithm specified.");throw new Error("Invalid RDF Dataset Canonicalization algorithm: "+t.algorithm)}},{"./IdentifierIssuer":60,"./NQuads":62,"./URDNA2015":64,"./URDNA2015Sync":65,"./URGNA2012":66,"./URGNA2012Sync":67,"rdf-canonize-native":3}],69:[function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),i(e("./lib/BlankNode"),n),i(e("./lib/DataFactory"),n),i(e("./lib/DefaultGraph"),n),i(e("./lib/Literal"),n),i(e("./lib/NamedNode"),n),i(e("./lib/Quad"),n),i(e("./lib/Variable"),n)},{"./lib/BlankNode":70,"./lib/DataFactory":71,"./lib/DefaultGraph":72,"./lib/Literal":73,"./lib/NamedNode":74,"./lib/Quad":75,"./lib/Variable":76}],70:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.BlankNode=void 0,n.BlankNode=function(){function e(t){S(this,e),this.termType="BlankNode",this.value=t}return N(e,[{key:"equals",value:function(e){return!!e&&"BlankNode"===e.termType&&e.value===this.value}}]),e}()},{}],71:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.DataFactory=void 0;var r=e("./BlankNode"),i=e("./DefaultGraph"),a=e("./Literal"),o=e("./NamedNode"),s=e("./Quad"),u=e("./Variable"),c=0;n.DataFactory=function(){function e(t){S(this,e),this.blankNodeCounter=0,this.blankNodePrefix=(t=t||{}).blankNodePrefix||"df_".concat(c++,"_")}return N(e,[{key:"namedNode",value:function(e){return new o.NamedNode(e)}},{key:"blankNode",value:function(e){return new r.BlankNode(e||"".concat(this.blankNodePrefix).concat(this.blankNodeCounter++))}},{key:"literal",value:function(e,t){return new a.Literal(e,t)}},{key:"variable",value:function(e){return new u.Variable(e)}},{key:"defaultGraph",value:function(){return i.DefaultGraph.INSTANCE}},{key:"quad",value:function(e,t,n,r){return new s.Quad(e,t,n,r||this.defaultGraph())}},{key:"fromTerm",value:function(e){switch(e.termType){case"NamedNode":return this.namedNode(e.value);case"BlankNode":return this.blankNode(e.value);case"Literal":return e.language?this.literal(e.value,e.language):e.datatype.equals(a.Literal.XSD_STRING)?this.literal(e.value):this.literal(e.value,this.fromTerm(e.datatype));case"Variable":return this.variable(e.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(e.subject),this.fromTerm(e.predicate),this.fromTerm(e.object),this.fromTerm(e.graph))}}},{key:"fromQuad",value:function(e){return this.fromTerm(e)}},{key:"resetBlankNodeCounter",value:function(){this.blankNodeCounter=0}}]),e}()},{"./BlankNode":70,"./DefaultGraph":72,"./Literal":73,"./NamedNode":74,"./Quad":75,"./Variable":76}],72:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.DefaultGraph=void 0;var r=function(){function e(){S(this,e),this.termType="DefaultGraph",this.value=""}return N(e,[{key:"equals",value:function(e){return!!e&&"DefaultGraph"===e.termType}}]),e}();n.DefaultGraph=r,r.INSTANCE=new r},{}],73:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Literal=void 0;var r=e("./NamedNode"),i=function(){function e(t,n){S(this,e),this.termType="Literal",this.value=t,"string"==typeof n?(this.language=n,this.datatype=e.RDF_LANGUAGE_STRING):n?(this.language="",this.datatype=n):(this.language="",this.datatype=e.XSD_STRING)}return N(e,[{key:"equals",value:function(e){return!!e&&"Literal"===e.termType&&e.value===this.value&&e.language===this.language&&e.datatype.equals(this.datatype)}}]),e}();n.Literal=i,i.RDF_LANGUAGE_STRING=new r.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),i.XSD_STRING=new r.NamedNode("http://www.w3.org/2001/XMLSchema#string")},{"./NamedNode":74}],74:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.NamedNode=void 0,n.NamedNode=function(){function e(t){S(this,e),this.termType="NamedNode",this.value=t}return N(e,[{key:"equals",value:function(e){return!!e&&"NamedNode"===e.termType&&e.value===this.value}}]),e}()},{}],75:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Quad=void 0,n.Quad=function(){function e(t,n,r,i){S(this,e),this.termType="Quad",this.value="",this.subject=t,this.predicate=n,this.object=r,this.graph=i}return N(e,[{key:"equals",value:function(e){return!!e&&("Quad"===e.termType||!e.termType)&&this.subject.equals(e.subject)&&this.predicate.equals(e.predicate)&&this.object.equals(e.object)&&this.graph.equals(e.graph)}}]),e}()},{}],76:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Variable=void 0,n.Variable=function(){function e(t){S(this,e),this.termType="Variable",this.value=t}return N(e,[{key:"equals",value:function(e){return!!e&&"Variable"===e.termType&&e.value===this.value}}]),e}()},{}],77:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}(e("./lib/RdfXmlParser"))},{"./lib/RdfXmlParser":79}],78:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(e){u(n,e);var t=c(n);function n(e,r){S(this,n);var i=e.saxStream._parser;return t.call(this,e.trackPosition?"Line ".concat(i.line+1," column ").concat(i.column+1,": ").concat(r):r)}return n}(d(Error));n.ParseError=r},{}],79:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r,i=e("relative-to-absolute-iri"),a=e("sax"),o=e("stream"),s=e("./ParseError"),l=e("rdf-data-factory"),d=function(e){u(n,e);var t=c(n);function n(e){var r;return S(this,n),(r=t.call(this,{readableObjectMode:!0})).activeTagStack=[],r.nodeIds={},e&&(Object.assign(f(r),e),r.options=e),r.dataFactory||(r.dataFactory=new l.DataFactory),r.baseIRI||(r.baseIRI=""),r.defaultGraph||(r.defaultGraph=r.dataFactory.defaultGraph()),r.saxStream=a.createStream(r.strict,{xmlns:!1,position:r.trackPosition}),r.strict||(r.saxStream._parser.looseCase="toString"),r.attachSaxListeners(),r}return N(n,[{key:"import",value:function(e){var t=new o.PassThrough({readableObjectMode:!0});e.on("error",function(e){return r.emit("error",e)}),e.on("data",function(e){return t.push(e)}),e.on("end",function(){return t.push(null)});var r=t.pipe(new n(this.options));return r}},{key:"_transform",value:function(e,t,n){try{this.saxStream.write(e,t)}catch(r){return n(r)}n()}},{key:"newParseError",value:function(e){return new s.ParseError(this,e)}},{key:"valueToUri",value:function(e,t){return this.uriToNamedNode(i.resolve(e,t.baseIRI))}},{key:"uriToNamedNode",value:function(e){if(!n.isValidIri(e))throw this.newParseError("Invalid URI: ".concat(e));return this.dataFactory.namedNode(e)}},{key:"validateNcname",value:function(e){if(!n.NCNAME_MATCHER.test(e))throw this.newParseError("Not a valid NCName: ".concat(e))}},{key:"attachSaxListeners",value:function(){var e=this;this.saxStream.on("error",function(t){return e.emit("error",t)}),this.saxStream.on("opentag",this.onTag.bind(this)),this.saxStream.on("text",this.onText.bind(this)),this.saxStream.on("closetag",this.onCloseTag.bind(this)),this.saxStream.on("doctype",this.onDoctype.bind(this))}},{key:"onTag",value:function(e){var t=this.activeTagStack.length?this.activeTagStack[this.activeTagStack.length-1]:null,i=r.RESOURCE;if(t&&(t.hadChildren=!0,i=t.childrenParseType),t&&t.childrenStringTags){var a=e.name,o="";for(var s in e.attributes)o+=" ".concat(s,'="').concat(e.attributes[s],'"');t.childrenStringTags.push("<".concat(a).concat(o,">"));var u={childrenStringTags:t.childrenStringTags};return u.childrenStringEmitClosingTag="</".concat(a,">"),void this.activeTagStack.push(u)}var c={};t?(c.language=t.language,c.baseIRI=t.baseIRI):c.baseIRI=this.baseIRI,this.activeTagStack.push(c),c.ns=n.parseNamespace(e,t),i===r.RESOURCE?this.onTagResource(e,c,t,!t):this.onTagProperty(e,c,t)}},{key:"onTagResource",value:function(e,t,a,o){var s=n.expandPrefixedTerm(e.name,t.ns,this);t.childrenParseType=r.PROPERTY;var u=!0;if(s.uri===n.RDF){if(!o&&n.FORBIDDEN_NODE_ELEMENTS.indexOf(s.local)>=0)throw this.newParseError("Illegal node element name: ".concat(s.local));switch(s.local){case"RDF":t.childrenParseType=r.RESOURCE;case"Description":u=!1}}var c=[],l=[],f=null,d=!1,h=!1,p=null;for(var v in e.attributes){var g=e.attributes[v],y=n.expandPrefixedTerm(v,t.ns,this);if(a&&y.uri===n.RDF)switch(y.local){case"about":if(f)throw this.newParseError("Only one of rdf:about, rdf:nodeID and rdf:ID can be present, while ".concat(g," and ").concat(f," where found."));f=g;continue;case"ID":if(f)throw this.newParseError("Only one of rdf:about, rdf:nodeID and rdf:ID can be present, while ".concat(g," and ").concat(f," where found."));this.validateNcname(g),f="#"+g,d=!0;continue;case"nodeID":if(f)throw this.newParseError("Only one of rdf:about, rdf:nodeID and rdf:ID can be present, while ".concat(g," and ").concat(f," where found."));this.validateNcname(g),f=g,h=!0;continue;case"bagID":throw this.newParseError("rdf:bagID is not supported.");case"type":p=g;continue;case"aboutEach":throw this.newParseError("rdf:aboutEach is not supported.");case"aboutEachPrefix":throw this.newParseError("rdf:aboutEachPrefix is not supported.");case"li":throw this.newParseError("rdf:li on node elements are not supported.")}else if(y.uri===n.XML){if("lang"===y.local){t.language=""===g?null:g.toLowerCase();continue}if("base"===y.local){t.baseIRI=i.resolve(g,t.baseIRI);continue}}"xml"!==y.prefix&&y.uri&&(c.push(this.uriToNamedNode(y.uri+y.local)),l.push(g))}if(null!==f&&(t.subject=h?this.dataFactory.blankNode(f):this.valueToUri(f,t),d&&this.claimNodeId(t.subject)),t.subject||(t.subject=this.dataFactory.blankNode()),u){var b=this.uriToNamedNode(s.uri+s.local);this.emitTriple(t.subject,this.dataFactory.namedNode(n.RDF+"type"),b,a?a.reifiedStatementId:null)}if(a){if(a.predicate)if(a.childrenCollectionSubject){var m=this.dataFactory.blankNode();this.emitTriple(a.childrenCollectionSubject,a.childrenCollectionPredicate,m,a.reifiedStatementId),this.emitTriple(m,this.dataFactory.namedNode(n.RDF+"first"),t.subject,t.reifiedStatementId),a.childrenCollectionSubject=m,a.childrenCollectionPredicate=this.dataFactory.namedNode(n.RDF+"rest")}else{this.emitTriple(a.subject,a.predicate,t.subject,a.reifiedStatementId);for(var _=0;_<a.predicateSubPredicates.length;_++)this.emitTriple(t.subject,a.predicateSubPredicates[_],a.predicateSubObjects[_],null);a.predicateSubPredicates=[],a.predicateSubObjects=[],a.predicateEmitted=!0}for(var w=0;w<c.length;w++){var x=this.dataFactory.literal(l[w],t.datatype||t.language);this.emitTriple(t.subject,c[w],x,a.reifiedStatementId)}p&&this.emitTriple(t.subject,this.dataFactory.namedNode(n.RDF+"type"),this.uriToNamedNode(p),null)}}},{key:"onTagProperty",value:function(e,t,i){var a=n.expandPrefixedTerm(e.name,t.ns,this);if(t.childrenParseType=r.RESOURCE,t.subject=i.subject,a.uri===n.RDF&&"li"===a.local?(i.listItemCounter||(i.listItemCounter=1),t.predicate=this.uriToNamedNode(a.uri+"_"+i.listItemCounter++)):t.predicate=this.uriToNamedNode(a.uri+a.local),a.uri===n.RDF&&n.FORBIDDEN_PROPERTY_ELEMENTS.indexOf(a.local)>=0)throw this.newParseError("Illegal property element name: ".concat(a.local));t.predicateSubPredicates=[],t.predicateSubObjects=[];var o=!1,s=!1,u=null,c=!0,l=[],f=[];for(var d in e.attributes){var h=e.attributes[d],p=n.expandPrefixedTerm(d,t.ns,this);if(p.uri===n.RDF)switch(p.local){case"resource":if(u)throw this.newParseError("Found both rdf:resource (".concat(h,") and rdf:nodeID (").concat(u,")."));if(o)throw this.newParseError("rdf:parseType is not allowed on property elements with rdf:resource (".concat(h,")"));t.hadChildren=!0,u=h,c=!1;continue;case"datatype":if(s)throw this.newParseError("Found both non-rdf:* property attributes and rdf:datatype (".concat(h,")."));if(o)throw this.newParseError("rdf:parseType is not allowed on property elements with rdf:datatype (".concat(h,")"));t.datatype=this.valueToUri(h,t);continue;case"nodeID":if(s)throw this.newParseError("Found both non-rdf:* property attributes and rdf:nodeID (".concat(h,")."));if(t.hadChildren)throw this.newParseError("Found both rdf:resource and rdf:nodeID (".concat(h,")."));if(o)throw this.newParseError("rdf:parseType is not allowed on property elements with rdf:nodeID (".concat(h,")"));this.validateNcname(h),t.hadChildren=!0,u=h,c=!0;continue;case"bagID":throw this.newParseError("rdf:bagID is not supported.");case"parseType":if(s)throw this.newParseError("rdf:parseType is not allowed when non-rdf:* property attributes are present");if(t.datatype)throw this.newParseError("rdf:parseType is not allowed on property elements with rdf:datatype (".concat(t.datatype.value,")"));if(u)throw this.newParseError("rdf:parseType is not allowed on property elements with rdf:nodeID or rdf:resource (".concat(u,")"));if("Resource"===h){o=!0,t.childrenParseType=r.PROPERTY;var v=this.dataFactory.blankNode();this.emitTriple(t.subject,t.predicate,v,t.reifiedStatementId),t.subject=v,t.predicate=null}else"Collection"===h?(o=!0,t.hadChildren=!0,t.childrenCollectionSubject=t.subject,t.childrenCollectionPredicate=t.predicate,c=!1):"Literal"===h&&(o=!0,t.childrenTagsToString=!0,t.childrenStringTags=[]);continue;case"ID":this.validateNcname(h),t.reifiedStatementId=this.valueToUri("#"+h,t),this.claimNodeId(t.reifiedStatementId);continue}else if(p.uri===n.XML&&"lang"===p.local){t.language=""===h?null:h.toLowerCase();continue}if("xml"!==p.prefix&&"xmlns"!==p.prefix&&p.uri){if(o||t.datatype)throw this.newParseError("Found illegal rdf:* properties on property element with attribute: ".concat(h));t.hadChildren=!0,s=!0,l.push(this.uriToNamedNode(p.uri+p.local)),f.push(this.dataFactory.literal(h,t.datatype||t.language))}}if(null!==u){var g=t.subject;t.subject=c?this.dataFactory.blankNode(u):this.valueToUri(u,t),this.emitTriple(g,t.predicate,t.subject,t.reifiedStatementId);for(var y=0;y<l.length;y++)this.emitTriple(t.subject,l[y],f[y],null);t.predicateEmitted=!0}else c&&(t.predicateSubPredicates=l,t.predicateSubObjects=f,t.predicateEmitted=!1)}},{key:"emitTriple",value:function(e,t,r,i){this.push(this.dataFactory.quad(e,t,r,this.defaultGraph)),i&&(this.push(this.dataFactory.quad(i,this.dataFactory.namedNode(n.RDF+"type"),this.dataFactory.namedNode(n.RDF+"Statement"),this.defaultGraph)),this.push(this.dataFactory.quad(i,this.dataFactory.namedNode(n.RDF+"subject"),e,this.defaultGraph)),this.push(this.dataFactory.quad(i,this.dataFactory.namedNode(n.RDF+"predicate"),t,this.defaultGraph)),this.push(this.dataFactory.quad(i,this.dataFactory.namedNode(n.RDF+"object"),r,this.defaultGraph)))}},{key:"claimNodeId",value:function(e){if(!this.allowDuplicateRdfIds){if(this.nodeIds[e.value])throw this.newParseError("Found multiple occurrences of rdf:ID='".concat(e.value,"'."));this.nodeIds[e.value]=!0}}},{key:"onText",value:function(e){var t=this.activeTagStack.length?this.activeTagStack[this.activeTagStack.length-1]:null;t&&(t.childrenStringTags?t.childrenStringTags.push(e):t.predicate&&(t.text=e))}},{key:"onCloseTag",value:function(){var e=this.activeTagStack.pop();if(e.childrenStringEmitClosingTag&&e.childrenStringTags.push(e.childrenStringEmitClosingTag),e.childrenTagsToString&&(e.datatype=this.dataFactory.namedNode(n.RDF+"XMLLiteral"),e.text=e.childrenStringTags.join(""),e.hadChildren=!1),e.childrenCollectionSubject)this.emitTriple(e.childrenCollectionSubject,e.childrenCollectionPredicate,this.dataFactory.namedNode(n.RDF+"nil"),e.reifiedStatementId);else if(e.predicate)if(e.hadChildren||e.childrenParseType===r.PROPERTY){if(!e.predicateEmitted){var t=this.dataFactory.blankNode();this.emitTriple(e.subject,e.predicate,t,e.reifiedStatementId);for(var i=0;i<e.predicateSubPredicates.length;i++)this.emitTriple(t,e.predicateSubPredicates[i],e.predicateSubObjects[i],null)}}else this.emitTriple(e.subject,e.predicate,this.dataFactory.literal(e.text||"",e.datatype||e.language),e.reifiedStatementId)}},{key:"onDoctype",value:function(e){var t=this;e.replace(/<!ENTITY\s+([^\s]+)\s+["']([^"']+)["']\s*>/g,function(e,n,r){return t.saxStream._parser.ENTITIES[n]=r,""})}}],[{key:"parseNamespace",value:function(e,t){var r={},i=!1;for(var a in e.attributes)a.startsWith("xmlns")&&(5===a.length?(i=!0,r[""]=e.attributes[a]):":"===a.charAt(5)&&(i=!0,r[a.substr(6)]=e.attributes[a]));var o=t&&t.ns?t.ns:[n.DEFAULT_NS];return i?o.concat([r]):o}},{key:"expandPrefixedTerm",value:function(e,t,n){var r,i,a=e.indexOf(":");a>=0?(r=e.substr(0,a),i=e.substr(a+1)):(r="",i=e);for(var o=null,u=null,c=t.length-1;c>=0;c--){var l=t[c][r];if(l){o=l;break}u||(u=t[c][""])}if(!o){if(r&&"xmlns"!==r)throw new s.ParseError(n,"The prefix '".concat(r,"' in term '").concat(e,"' was not bound."));o=u||""}return{prefix:r,local:i,uri:o}}},{key:"isValidIri",value:function(e){return n.IRI_REGEX.test(e)}}]),n}(o.Transform);n.RdfXmlParser=d,d.IRI_REGEX=/^([A-Za-z][A-Za-z0-9+-.]*):[^ "<>{}|\\\[\]`]*$/,d.MIME_TYPE="application/rdf+xml",d.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#",d.XML="http://www.w3.org/XML/1998/namespace",d.XMLNS="http://www.w3.org/2000/xmlns/",d.DEFAULT_NS={xml:d.XML},d.FORBIDDEN_NODE_ELEMENTS=["RDF","ID","about","bagID","parseType","resource","nodeID","li","aboutEach","aboutEachPrefix"],d.FORBIDDEN_PROPERTY_ELEMENTS=["Description","RDF","ID","about","bagID","parseType","resource","nodeID","aboutEach","aboutEachPrefix"],d.NCNAME_MATCHER=/^((?:[A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF]))((?:[#\x2D\.0-9A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u037D\u037F-\u1FFF\u200C\u200D\u203F\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF]))*$/,function(e){e[e.RESOURCE=0]="RESOURCE",e[e.PROPERTY=1]="PROPERTY"}(r=n.ParseType||(n.ParseType={}))},{"./ParseError":78,"rdf-data-factory":69,"relative-to-absolute-iri":95,sax:98,stream:5}],80:[function(e,t,n){arguments[4][6][0].apply(n,arguments)},{dup:6}],81:[function(e,t,n){arguments[4][7][0].apply(n,arguments)},{"./_stream_readable":83,"./_stream_writable":85,_process:58,dup:7,inherits:24}],82:[function(e,t,n){arguments[4][8][0].apply(n,arguments)},{"./_stream_transform":84,dup:8,inherits:24}],83:[function(e,t,n){arguments[4][9][0].apply(n,arguments)},{"../errors":80,"./_stream_duplex":81,"./internal/streams/async_iterator":86,"./internal/streams/buffer_list":87,"./internal/streams/destroy":88,"./internal/streams/from":90,"./internal/streams/state":92,"./internal/streams/stream":93,_process:58,buffer:4,dup:9,events:22,inherits:24,"string_decoder/":100,util:3}],84:[function(e,t,n){arguments[4][10][0].apply(n,arguments)},{"../errors":80,"./_stream_duplex":81,dup:10,inherits:24}],85:[function(e,t,n){arguments[4][11][0].apply(n,arguments)},{"../errors":80,"./_stream_duplex":81,"./internal/streams/destroy":88,"./internal/streams/state":92,"./internal/streams/stream":93,_process:58,buffer:4,dup:11,inherits:24,"util-deprecate":101}],86:[function(e,t,n){arguments[4][12][0].apply(n,arguments)},{"./end-of-stream":89,_process:58,dup:12}],87:[function(e,t,n){arguments[4][13][0].apply(n,arguments)},{buffer:4,dup:13,util:3}],88:[function(e,t,n){arguments[4][14][0].apply(n,arguments)},{_process:58,dup:14}],89:[function(e,t,n){arguments[4][15][0].apply(n,arguments)},{"../../../errors":80,dup:15}],90:[function(e,t,n){arguments[4][16][0].apply(n,arguments)},{dup:16}],91:[function(e,t,n){arguments[4][17][0].apply(n,arguments)},{"../../../errors":80,"./end-of-stream":89,dup:17}],92:[function(e,t,n){arguments[4][18][0].apply(n,arguments)},{"../../../errors":80,dup:18}],93:[function(e,t,n){arguments[4][19][0].apply(n,arguments)},{dup:19,events:22}],94:[function(e,t,n){(n=t.exports=e("./lib/_stream_readable.js")).Stream=n,n.Readable=n,n.Writable=e("./lib/_stream_writable.js"),n.Duplex=e("./lib/_stream_duplex.js"),n.Transform=e("./lib/_stream_transform.js"),n.PassThrough=e("./lib/_stream_passthrough.js"),n.finished=e("./lib/internal/streams/end-of-stream.js"),n.pipeline=e("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":81,"./lib/_stream_passthrough.js":82,"./lib/_stream_readable.js":83,"./lib/_stream_transform.js":84,"./lib/_stream_writable.js":85,"./lib/internal/streams/end-of-stream.js":89,"./lib/internal/streams/pipeline.js":91}],95:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}(e("./lib/Resolve"))},{"./lib/Resolve":96}],96:[function(e,t,n){"use strict";function r(e){for(var t=[],n=0;n<e.length;)switch(e[n]){case"/":if("."===e[n+1])if("."===e[n+2]){if(!a(e[n+3])){t.push([]),n++;break}t.pop(),e[n+3]||t.push([]),n+=3}else{if(!a(e[n+2])){t.push([]),n++;break}e[n+2]||t.push([]),n+=2}else t.push([]),n++;break;case"#":case"?":t.length||t.push([]),t[t.length-1].push(e.substr(n)),n=e.length;break;default:t.length||t.push([]),t[t.length-1].push(e[n]),n++}return"/"+t.map(function(e){return e.join("")}).join("/")}function i(e,t){var n=t+1;t>=0?"/"===e[t+1]&&"/"===e[t+2]&&(n=t+3):"/"===e[0]&&"/"===e[1]&&(n=2);var i=e.indexOf("/",n);return i<0?e:e.substr(0,i)+r(e.substr(i))}function a(e){return!e||"#"===e||"?"===e||"/"===e}Object.defineProperty(n,"__esModule",{value:!0}),n.resolve=function(e,t){var n=(t=t||"").indexOf("#");if(n>0&&(t=t.substr(0,n)),!e.length){if(t.indexOf(":")<0)throw new Error("Found invalid baseIRI '".concat(t,"' for value '").concat(e,"'"));return t}if(e.startsWith("?")){var a=t.indexOf("?");return a>0&&(t=t.substr(0,a)),t+e}if(e.startsWith("#"))return t+e;if(!t.length){var o=e.indexOf(":");if(o<0)throw new Error("Found invalid relative IRI '".concat(e,"' for a missing baseIRI"));return i(e,o)}var s=e.indexOf(":");if(s>=0)return i(e,s);var u=t.indexOf(":");if(u<0)throw new Error("Found invalid baseIRI '".concat(t,"' for value '").concat(e,"'"));var c,l=t.substr(0,u+1);if(0===e.indexOf("//"))return l+i(e,s);if(t.indexOf("//",u)===u+1){if((c=t.indexOf("/",u+3))<0)return t.length>u+3?t+"/"+i(e,s):l+i(e,s)}else if((c=t.indexOf("/",u+1))<0)return l+i(e,s);if(0===e.indexOf("/"))return t.substr(0,c)+r(e);var f=t.substr(c),d=f.lastIndexOf("/");return d>=0&&d<f.length-1&&(f=f.substr(0,d+1),"."===e[0]&&"."!==e[1]&&"/"!==e[1]&&e[2]&&(e=e.substr(1))),e=r(e=f+e),t.substr(0,c)+e},n.removeDotSegments=r,n.removeDotSegmentsOfPath=i},{}],97:[function(e,t,n){var r=e("buffer"),i=r.Buffer;function a(e,t){for(var n in e)t[n]=e[n]}function o(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=r:(a(r,n),n.Buffer=o),o.prototype=Object.create(i.prototype),a(i,o),o.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},o.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},o.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},{buffer:4}],98:[function(e,t,n){(function(t){(function(){!function(n){n.parser=function(e,t){return new a(e,t)},n.SAXParser=a,n.SAXStream=s,n.createStream=function(e,t){return new s(e,t)},n.MAX_BUFFER_LENGTH=65536;var r,i=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function a(e,t){if(!(this instanceof a))return new a(e,t);(function(e){for(var t=0,n=i.length;t<n;t++)e[i[t]]=""})(this),this.q=this.c="",this.bufferCheckPosition=n.MAX_BUFFER_LENGTH,this.opt=t||{},this.opt.lowercase=this.opt.lowercase||this.opt.lowercasetags,this.looseCase=this.opt.lowercase?"toLowerCase":"toUpperCase",this.tags=[],this.closed=this.closedRoot=this.sawRoot=!1,this.tag=this.error=null,this.strict=!!e,this.noscript=!(!e&&!this.opt.noscript),this.state=x.BEGIN,this.strictEntities=this.opt.strictEntities,this.ENTITIES=Object.create(this.strictEntities?n.XML_ENTITIES:n.ENTITIES),this.attribList=[],this.opt.xmlns&&(this.ns=Object.create(c)),this.trackPosition=!1!==this.opt.position,this.trackPosition&&(this.position=this.line=this.column=0),S(this,"onready")}n.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(e){function t(){}return t.prototype=e,new t}),Object.keys||(Object.keys=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}),a.prototype={end:function(){I(this)},write:function(e){if(this.error)throw this.error;if(this.closed)return T(this,"Cannot write after close. Assign an onready handler.");if(null===e)return I(this);"object"==typeof e&&(e=e.toString());for(var t=0,r="";r=C(e,t++),this.c=r,r;)switch(this.trackPosition&&(this.position++,"\n"===r?(this.line++,this.column=0):this.column++),this.state){case x.BEGIN:if(this.state=x.BEGIN_WHITESPACE,"\ufeff"===r)continue;P(this,r);continue;case x.BEGIN_WHITESPACE:P(this,r);continue;case x.TEXT:if(this.sawRoot&&!this.closedRoot){for(var a=t-1;r&&"<"!==r&&"&"!==r;)(r=C(e,t++))&&this.trackPosition&&(this.position++,"\n"===r?(this.line++,this.column=0):this.column++);this.textNode+=e.substring(a,t-1)}"<"!==r||this.sawRoot&&this.closedRoot&&!this.strict?(p(r)||this.sawRoot&&!this.closedRoot||R(this,"Text data outside of root node."),"&"===r?this.state=x.TEXT_ENTITY:this.textNode+=r):(this.state=x.OPEN_WAKA,this.startTagPosition=this.position);continue;case x.SCRIPT:"<"===r?this.state=x.SCRIPT_ENDING:this.script+=r;continue;case x.SCRIPT_ENDING:"/"===r?this.state=x.CLOSE_TAG:(this.script+="<"+r,this.state=x.SCRIPT);continue;case x.OPEN_WAKA:"!"===r?(this.state=x.SGML_DECL,this.sgmlDecl=""):p(r)||(y(l,r)?(this.state=x.OPEN_TAG,this.tagName=r):"/"===r?(this.state=x.CLOSE_TAG,this.tagName=""):"?"===r?(this.state=x.PROC_INST,this.procInstName=this.procInstBody=""):(R(this,"Unencoded <"),this.startTagPosition+1<this.position&&(r=new Array(this.position-this.startTagPosition).join(" ")+r),this.textNode+="<"+r,this.state=x.TEXT));continue;case x.SGML_DECL:"[CDATA["===(this.sgmlDecl+r).toUpperCase()?(j(this,"onopencdata"),this.state=x.CDATA,this.sgmlDecl="",this.cdata=""):this.sgmlDecl+r==="--"?(this.state=x.COMMENT,this.comment="",this.sgmlDecl=""):"DOCTYPE"===(this.sgmlDecl+r).toUpperCase()?(this.state=x.DOCTYPE,(this.doctype||this.sawRoot)&&R(this,"Inappropriately located doctype declaration"),this.doctype="",this.sgmlDecl=""):">"===r?(j(this,"onsgmldeclaration",this.sgmlDecl),this.sgmlDecl="",this.state=x.TEXT):v(r)?(this.state=x.SGML_DECL_QUOTED,this.sgmlDecl+=r):this.sgmlDecl+=r;continue;case x.SGML_DECL_QUOTED:r===this.q&&(this.state=x.SGML_DECL,this.q=""),this.sgmlDecl+=r;continue;case x.DOCTYPE:">"===r?(this.state=x.TEXT,j(this,"ondoctype",this.doctype),this.doctype=!0):(this.doctype+=r,"["===r?this.state=x.DOCTYPE_DTD:v(r)&&(this.state=x.DOCTYPE_QUOTED,this.q=r));continue;case x.DOCTYPE_QUOTED:this.doctype+=r,r===this.q&&(this.q="",this.state=x.DOCTYPE);continue;case x.DOCTYPE_DTD:this.doctype+=r,"]"===r?this.state=x.DOCTYPE:v(r)&&(this.state=x.DOCTYPE_DTD_QUOTED,this.q=r);continue;case x.DOCTYPE_DTD_QUOTED:this.doctype+=r,r===this.q&&(this.state=x.DOCTYPE_DTD,this.q="");continue;case x.COMMENT:"-"===r?this.state=x.COMMENT_ENDING:this.comment+=r;continue;case x.COMMENT_ENDING:"-"===r?(this.state=x.COMMENT_ENDED,this.comment=E(this.opt,this.comment),this.comment&&j(this,"oncomment",this.comment),this.comment=""):(this.comment+="-"+r,this.state=x.COMMENT);continue;case x.COMMENT_ENDED:">"!==r?(R(this,"Malformed comment"),this.comment+="--"+r,this.state=x.COMMENT):this.state=x.TEXT;continue;case x.CDATA:"]"===r?this.state=x.CDATA_ENDING:this.cdata+=r;continue;case x.CDATA_ENDING:"]"===r?this.state=x.CDATA_ENDING_2:(this.cdata+="]"+r,this.state=x.CDATA);continue;case x.CDATA_ENDING_2:">"===r?(this.cdata&&j(this,"oncdata",this.cdata),j(this,"onclosecdata"),this.cdata="",this.state=x.TEXT):"]"===r?this.cdata+="]":(this.cdata+="]]"+r,this.state=x.CDATA);continue;case x.PROC_INST:"?"===r?this.state=x.PROC_INST_ENDING:p(r)?this.state=x.PROC_INST_BODY:this.procInstName+=r;continue;case x.PROC_INST_BODY:if(!this.procInstBody&&p(r))continue;"?"===r?this.state=x.PROC_INST_ENDING:this.procInstBody+=r;continue;case x.PROC_INST_ENDING:">"===r?(j(this,"onprocessinginstruction",{name:this.procInstName,body:this.procInstBody}),this.procInstName=this.procInstBody="",this.state=x.TEXT):(this.procInstBody+="?"+r,this.state=x.PROC_INST_BODY);continue;case x.OPEN_TAG:y(f,r)?this.tagName+=r:(O(this),">"===r?M(this):"/"===r?this.state=x.OPEN_TAG_SLASH:(p(r)||R(this,"Invalid character in tag name"),this.state=x.ATTRIB));continue;case x.OPEN_TAG_SLASH:">"===r?(M(this,!0),D(this)):(R(this,"Forward-slash in opening tag not followed by >"),this.state=x.ATTRIB);continue;case x.ATTRIB:if(p(r))continue;">"===r?M(this):"/"===r?this.state=x.OPEN_TAG_SLASH:y(l,r)?(this.attribName=r,this.attribValue="",this.state=x.ATTRIB_NAME):R(this,"Invalid attribute name");continue;case x.ATTRIB_NAME:"="===r?this.state=x.ATTRIB_VALUE:">"===r?(R(this,"Attribute without value"),this.attribValue=this.attribName,L(this),M(this)):p(r)?this.state=x.ATTRIB_NAME_SAW_WHITE:y(f,r)?this.attribName+=r:R(this,"Invalid attribute name");continue;case x.ATTRIB_NAME_SAW_WHITE:if("="===r)this.state=x.ATTRIB_VALUE;else{if(p(r))continue;R(this,"Attribute without value"),this.tag.attributes[this.attribName]="",this.attribValue="",j(this,"onattribute",{name:this.attribName,value:""}),this.attribName="",">"===r?M(this):y(l,r)?(this.attribName=r,this.state=x.ATTRIB_NAME):(R(this,"Invalid attribute name"),this.state=x.ATTRIB)}continue;case x.ATTRIB_VALUE:if(p(r))continue;v(r)?(this.q=r,this.state=x.ATTRIB_VALUE_QUOTED):(R(this,"Unquoted attribute value"),this.state=x.ATTRIB_VALUE_UNQUOTED,this.attribValue=r);continue;case x.ATTRIB_VALUE_QUOTED:if(r!==this.q){"&"===r?this.state=x.ATTRIB_VALUE_ENTITY_Q:this.attribValue+=r;continue}L(this),this.q="",this.state=x.ATTRIB_VALUE_CLOSED;continue;case x.ATTRIB_VALUE_CLOSED:p(r)?this.state=x.ATTRIB:">"===r?M(this):"/"===r?this.state=x.OPEN_TAG_SLASH:y(l,r)?(R(this,"No whitespace between attributes"),this.attribName=r,this.attribValue="",this.state=x.ATTRIB_NAME):R(this,"Invalid attribute name");continue;case x.ATTRIB_VALUE_UNQUOTED:if(!g(r)){"&"===r?this.state=x.ATTRIB_VALUE_ENTITY_U:this.attribValue+=r;continue}L(this),">"===r?M(this):this.state=x.ATTRIB;continue;case x.CLOSE_TAG:if(this.tagName)">"===r?D(this):y(f,r)?this.tagName+=r:this.script?(this.script+="</"+this.tagName,this.tagName="",this.state=x.SCRIPT):(p(r)||R(this,"Invalid tagname in closing tag"),this.state=x.CLOSE_TAG_SAW_WHITE);else{if(p(r))continue;b(l,r)?this.script?(this.script+="</"+r,this.state=x.SCRIPT):R(this,"Invalid tagname in closing tag."):this.tagName=r}continue;case x.CLOSE_TAG_SAW_WHITE:if(p(r))continue;">"===r?D(this):R(this,"Invalid characters in closing tag");continue;case x.TEXT_ENTITY:case x.ATTRIB_VALUE_ENTITY_Q:case x.ATTRIB_VALUE_ENTITY_U:var o,s;switch(this.state){case x.TEXT_ENTITY:o=x.TEXT,s="textNode";break;case x.ATTRIB_VALUE_ENTITY_Q:o=x.ATTRIB_VALUE_QUOTED,s="attribValue";break;case x.ATTRIB_VALUE_ENTITY_U:o=x.ATTRIB_VALUE_UNQUOTED,s="attribValue"}";"===r?(this[s]+=(c=void 0,m=void 0,void 0,w=void 0,_=(m=(u=this).entity).toLowerCase(),w="",u.ENTITIES[m]?u.ENTITIES[m]:u.ENTITIES[_]?u.ENTITIES[_]:("#"===(m=_).charAt(0)&&("x"===m.charAt(1)?(m=m.slice(2),w=(c=parseInt(m,16)).toString(16)):(m=m.slice(1),w=(c=parseInt(m,10)).toString(10))),m=m.replace(/^0+/,""),isNaN(c)||w.toLowerCase()!==m?(R(u,"Invalid character entity"),"&"+u.entity+";"):String.fromCodePoint(c))),this.entity="",this.state=o):y(this.entity.length?h:d,r)?this.entity+=r:(R(this,"Invalid character in entity name"),this[s]+="&"+this.entity+r,this.entity="",this.state=o);continue;default:throw new Error(this,"Unknown state: "+this.state)}var u,c,m,_,w;return this.position>=this.bufferCheckPosition&&function(e){for(var t=Math.max(n.MAX_BUFFER_LENGTH,10),r=0,a=0,o=i.length;a<o;a++){var s=e[i[a]].length;if(s>t)switch(i[a]){case"textNode":N(e);break;case"cdata":j(e,"oncdata",e.cdata),e.cdata="";break;case"script":j(e,"onscript",e.script),e.script="";break;default:T(e,"Max buffer length exceeded: "+i[a])}r=Math.max(r,s)}e.bufferCheckPosition=n.MAX_BUFFER_LENGTH-r+e.position}(this),this},resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){N(this),""!==this.cdata&&(j(this,"oncdata",this.cdata),this.cdata=""),""!==this.script&&(j(this,"onscript",this.script),this.script="")}};try{r=e("stream").Stream}catch(F){r=function(){}}var o=n.EVENTS.filter(function(e){return"error"!==e&&"end"!==e});function s(e,t){if(!(this instanceof s))return new s(e,t);r.apply(this),this._parser=new a(e,t),this.writable=!0,this.readable=!0;var n=this;this._parser.onend=function(){n.emit("end")},this._parser.onerror=function(e){n.emit("error",e),n._parser.error=null},this._decoder=null,o.forEach(function(e){Object.defineProperty(n,"on"+e,{get:function(){return n._parser["on"+e]},set:function(t){if(!t)return n.removeAllListeners(e),n._parser["on"+e]=t,t;n.on(e,t)},enumerable:!0,configurable:!1})})}(s.prototype=Object.create(r.prototype,{constructor:{value:s}})).write=function(n){if("function"==typeof t&&"function"==typeof t.isBuffer&&t.isBuffer(n)){if(!this._decoder){var r=e("string_decoder").StringDecoder;this._decoder=new r("utf8")}n=this._decoder.write(n)}return this._parser.write(n.toString()),this.emit("data",n),!0},s.prototype.end=function(e){return e&&e.length&&this.write(e),this._parser.end(),!0},s.prototype.on=function(e,t){var n=this;return n._parser["on"+e]||-1===o.indexOf(e)||(n._parser["on"+e]=function(){var t=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);t.splice(0,0,e),n.emit.apply(n,t)}),r.prototype.on.call(n,e,t)};var u="http://www.w3.org/XML/1998/namespace",c={xml:u,xmlns:"http://www.w3.org/2000/xmlns/"},l=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,f=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,d=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,h=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function p(e){return" "===e||"\n"===e||"\r"===e||"\t"===e}function v(e){return'"'===e||"'"===e}function g(e){return">"===e||p(e)}function y(e,t){return e.test(t)}function b(e,t){return!y(e,t)}var m,_,w,x=0;for(var k in n.STATE={BEGIN:x++,BEGIN_WHITESPACE:x++,TEXT:x++,TEXT_ENTITY:x++,OPEN_WAKA:x++,SGML_DECL:x++,SGML_DECL_QUOTED:x++,DOCTYPE:x++,DOCTYPE_QUOTED:x++,DOCTYPE_DTD:x++,DOCTYPE_DTD_QUOTED:x++,COMMENT_STARTING:x++,COMMENT:x++,COMMENT_ENDING:x++,COMMENT_ENDED:x++,CDATA:x++,CDATA_ENDING:x++,CDATA_ENDING_2:x++,PROC_INST:x++,PROC_INST_BODY:x++,PROC_INST_ENDING:x++,OPEN_TAG:x++,OPEN_TAG_SLASH:x++,ATTRIB:x++,ATTRIB_NAME:x++,ATTRIB_NAME_SAW_WHITE:x++,ATTRIB_VALUE:x++,ATTRIB_VALUE_QUOTED:x++,ATTRIB_VALUE_CLOSED:x++,ATTRIB_VALUE_UNQUOTED:x++,ATTRIB_VALUE_ENTITY_Q:x++,ATTRIB_VALUE_ENTITY_U:x++,CLOSE_TAG:x++,CLOSE_TAG_SAW_WHITE:x++,SCRIPT:x++,SCRIPT_ENDING:x++},n.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},n.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(n.ENTITIES).forEach(function(e){var t=n.ENTITIES[e],r="number"==typeof t?String.fromCharCode(t):t;n.ENTITIES[e]=r}),n.STATE)n.STATE[n.STATE[k]]=k;function S(e,t,n){e[t]&&e[t](n)}function j(e,t,n){e.textNode&&N(e),S(e,t,n)}function N(e){e.textNode=E(e.opt,e.textNode),e.textNode&&S(e,"ontext",e.textNode),e.textNode=""}function E(e,t){return e.trim&&(t=t.trim()),e.normalize&&(t=t.replace(/\s+/g," ")),t}function T(e,t){return N(e),e.trackPosition&&(t+="\nLine: "+e.line+"\nColumn: "+e.column+"\nChar: "+e.c),t=new Error(t),e.error=t,S(e,"onerror",t),e}function I(e){return e.sawRoot&&!e.closedRoot&&R(e,"Unclosed root tag"),e.state!==x.BEGIN&&e.state!==x.BEGIN_WHITESPACE&&e.state!==x.TEXT&&T(e,"Unexpected end"),N(e),e.c="",e.closed=!0,S(e,"onend"),a.call(e,e.strict,e.opt),e}function R(e,t){if("object"!=typeof e||!(e instanceof a))throw new Error("bad call to strictFail");e.strict&&T(e,t)}function O(e){e.strict||(e.tagName=e.tagName[e.looseCase]());var t=e.tags[e.tags.length-1]||e,n=e.tag={name:e.tagName,attributes:{}};e.opt.xmlns&&(n.ns=t.ns),e.attribList.length=0,j(e,"onopentagstart",n)}function A(e,t){var n=e.indexOf(":")<0?["",e]:e.split(":"),r=n[0],i=n[1];return t&&"xmlns"===e&&(r="xmlns",i=""),{prefix:r,local:i}}function L(e){if(e.strict||(e.attribName=e.attribName[e.looseCase]()),-1!==e.attribList.indexOf(e.attribName)||e.tag.attributes.hasOwnProperty(e.attribName))e.attribName=e.attribValue="";else{if(e.opt.xmlns){var t=A(e.attribName,!0),n=t.local;if("xmlns"===t.prefix)if("xml"===n&&e.attribValue!==u)R(e,"xml: prefix must be bound to "+u+"\nActual: "+e.attribValue);else if("xmlns"===n&&"http://www.w3.org/2000/xmlns/"!==e.attribValue)R(e,"xmlns: prefix must be bound to http://www.w3.org/2000/xmlns/\nActual: "+e.attribValue);else{var r=e.tag,i=e.tags[e.tags.length-1]||e;r.ns===i.ns&&(r.ns=Object.create(i.ns)),r.ns[n]=e.attribValue}e.attribList.push([e.attribName,e.attribValue])}else e.tag.attributes[e.attribName]=e.attribValue,j(e,"onattribute",{name:e.attribName,value:e.attribValue});e.attribName=e.attribValue=""}}function M(e,t){if(e.opt.xmlns){var n=e.tag,r=A(e.tagName);n.prefix=r.prefix,n.local=r.local,n.uri=n.ns[r.prefix]||"",n.prefix&&!n.uri&&(R(e,"Unbound namespace prefix: "+JSON.stringify(e.tagName)),n.uri=r.prefix),n.ns&&(e.tags[e.tags.length-1]||e).ns!==n.ns&&Object.keys(n.ns).forEach(function(t){j(e,"onopennamespace",{prefix:t,uri:n.ns[t]})});for(var i=0,a=e.attribList.length;i<a;i++){var o=e.attribList[i],s=o[0],u=o[1],c=A(s,!0),l=c.prefix,f=""===l?"":n.ns[l]||"",d={name:s,value:u,prefix:l,local:c.local,uri:f};l&&"xmlns"!==l&&!f&&(R(e,"Unbound namespace prefix: "+JSON.stringify(l)),d.uri=l),e.tag.attributes[s]=d,j(e,"onattribute",d)}e.attribList.length=0}e.tag.isSelfClosing=!!t,e.sawRoot=!0,e.tags.push(e.tag),j(e,"onopentag",e.tag),t||(e.state=e.noscript||"script"!==e.tagName.toLowerCase()?x.TEXT:x.SCRIPT,e.tag=null,e.tagName=""),e.attribName=e.attribValue="",e.attribList.length=0}function D(e){if(!e.tagName)return R(e,"Weird empty close tag."),e.textNode+="</>",void(e.state=x.TEXT);if(e.script){if("script"!==e.tagName)return e.script+="</"+e.tagName+">",e.tagName="",void(e.state=x.SCRIPT);j(e,"onscript",e.script),e.script=""}var t=e.tags.length,n=e.tagName;e.strict||(n=n[e.looseCase]());for(var r=n;t--&&e.tags[t].name!==r;)R(e,"Unexpected close tag");if(t<0)return R(e,"Unmatched closing tag: "+e.tagName),e.textNode+="</"+e.tagName+">",void(e.state=x.TEXT);e.tagName=n;for(var i=e.tags.length;i-- >t;){var a=e.tag=e.tags.pop();e.tagName=e.tag.name,j(e,"onclosetag",e.tagName);var o={};for(var s in a.ns)o[s]=a.ns[s];e.opt.xmlns&&a.ns!==(e.tags[e.tags.length-1]||e).ns&&Object.keys(a.ns).forEach(function(t){j(e,"onclosenamespace",{prefix:t,uri:a.ns[t]})})}0===t&&(e.closedRoot=!0),e.tagName=e.attribValue=e.attribName="",e.attribList.length=0,e.state=x.TEXT}function P(e,t){"<"===t?(e.state=x.OPEN_WAKA,e.startTagPosition=e.position):p(t)||(R(e,"Non-whitespace before first tag."),e.textNode=t,e.state=x.TEXT)}function C(e,t){var n="";return t<e.length&&(n=e.charAt(t)),n}x=n.STATE,String.fromCodePoint||(m=String.fromCharCode,_=Math.floor,w=function(){var e=16384,t=[],n=-1,r=arguments.length;if(!r)return"";for(var i="";++n<r;){var a=Number(arguments[n]);if(!isFinite(a)||a<0||a>1114111||_(a)!==a)throw RangeError("Invalid code point: "+a);a<=65535?t.push(a):t.push(55296+((a-=65536)>>10),a%1024+56320),(n+1===r||t.length>e)&&(i+=m.apply(null,t),t.length=0)}return i},Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:w,configurable:!0,writable:!0}):String.fromCodePoint=w)}(void 0===n?this.sax={}:n)}).call(this)}).call(this,e("buffer").Buffer)},{buffer:4,stream:5,string_decoder:100}],99:[function(e,t,n){(function(e,t){(function(){!function(t,n){"use strict";if(!t.setImmediate){var r,i=1,a={},o=!1,s=t.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(t);u=u&&u.setTimeout?u:t,"[object process]"==={}.toString.call(t.process)?r=function(t){e.nextTick(function(){p(t)})}:function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?(f="setImmediate$"+Math.random()+"$",d=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(f)&&p(+e.data.slice(f.length))},t.addEventListener?t.addEventListener("message",d,!1):t.attachEvent("onmessage",d),r=function(e){t.postMessage(f+e,"*")}):t.MessageChannel?((l=new MessageChannel).port1.onmessage=function(e){p(e.data)},r=function(e){l.port2.postMessage(e)}):s&&"onreadystatechange"in s.createElement("script")?(c=s.documentElement,r=function(e){var t=s.createElement("script");t.onreadystatechange=function(){p(e),t.onreadystatechange=null,c.removeChild(t),t=null},c.appendChild(t)}):r=function(e){setTimeout(p,0,e)},u.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];return a[i]={callback:e,args:t},r(i),i++},u.clearImmediate=h}var c,l,f,d;function h(e){delete a[e]}function p(e){if(o)setTimeout(p,0,e);else{var t=a[e];if(t){o=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}(t)}finally{h(e),o=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this)}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:58}],100:[function(e,t,n){"use strict";var r=e("safe-buffer").Buffer,i=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(r.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=u,this.end=c,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=l,this.end=f,t=3;break;default:return this.write=d,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function o(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"\ufffd";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"\ufffd";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"\ufffd"}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function u(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):t}function l(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function f(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function d(e){return e.toString(this.encoding)}function h(e){return e&&e.length?this.write(e):""}n.StringDecoder=a,a.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},a.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\ufffd":t},a.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var i=o(t[r]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--r<n||-2===i?0:(i=o(t[r]))>=0?(i>0&&(e.lastNeed=i-2),i):--r<n||-2===i?0:(i=o(t[r]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},a.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},{"safe-buffer":97}],101:[function(e,t,n){(function(e){(function(){function n(t){try{if(!e.localStorage)return!1}catch(r){return!1}var n=e.localStorage[t];return null!=n&&"true"===String(n).toLowerCase()}t.exports=function(e,t){if(n("noDeprecation"))return e;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}}}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],102:[function(e,t,n){"use strict";t.exports=function(e){e.prototype[Symbol.iterator]=regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this.head;case 1:if(!t){e.next=7;break}return e.next=4,t.value;case 4:t=t.next,e.next=1;break;case 7:case"end":return e.stop()}},e,this)})}},{}],103:[function(e,t,n){"use strict";function r(e){var t=this;if(t instanceof r||(t=new r),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach(function(e){t.push(e)});else if(arguments.length>0)for(var n=0,i=arguments.length;n<i;n++)t.push(arguments[n]);return t}function i(e,t,n){var r=t===e.head?new s(n,null,t,e):new s(n,t,t.next,e);return null===r.next&&(e.tail=r),null===r.prev&&(e.head=r),e.length++,r}function a(e,t){e.tail=new s(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function o(e,t){e.head=new s(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function s(e,t,n,r){if(!(this instanceof s))return new s(e,t,n,r);this.list=r,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}t.exports=r,r.Node=s,r.create=r,r.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,n=e.prev;return t&&(t.prev=n),n&&(n.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=n),e.list.length--,e.next=null,e.prev=null,e.list=null,t},r.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},r.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},r.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)a(this,arguments[e]);return this.length},r.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)o(this,arguments[e]);return this.length},r.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},r.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},r.prototype.forEach=function(e,t){t=t||this;for(var n=this.head,r=0;null!==n;r++)e.call(t,n.value,r,this),n=n.next},r.prototype.forEachReverse=function(e,t){t=t||this;for(var n=this.tail,r=this.length-1;null!==n;r--)e.call(t,n.value,r,this),n=n.prev},r.prototype.get=function(e){for(var t=0,n=this.head;null!==n&&t<e;t++)n=n.next;if(t===e&&null!==n)return n.value},r.prototype.getReverse=function(e){for(var t=0,n=this.tail;null!==n&&t<e;t++)n=n.prev;if(t===e&&null!==n)return n.value},r.prototype.map=function(e,t){t=t||this;for(var n=new r,i=this.head;null!==i;)n.push(e.call(t,i.value,this)),i=i.next;return n},r.prototype.mapReverse=function(e,t){t=t||this;for(var n=new r,i=this.tail;null!==i;)n.push(e.call(t,i.value,this)),i=i.prev;return n},r.prototype.reduce=function(e,t){var n,r=this.head;if(arguments.length>1)n=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");r=this.head.next,n=this.head.value}for(var i=0;null!==r;i++)n=e(n,r.value,i),r=r.next;return n},r.prototype.reduceReverse=function(e,t){var n,r=this.tail;if(arguments.length>1)n=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");r=this.tail.prev,n=this.tail.value}for(var i=this.length-1;null!==r;i--)n=e(n,r.value,i),r=r.prev;return n},r.prototype.toArray=function(){for(var e=new Array(this.length),t=0,n=this.head;null!==n;t++)e[t]=n.value,n=n.next;return e},r.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,n=this.tail;null!==n;t++)e[t]=n.value,n=n.prev;return e},r.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new r;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=0,a=this.head;null!==a&&i<e;i++)a=a.next;for(;null!==a&&i<t;i++,a=a.next)n.push(a.value);return n},r.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new r;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=this.length,a=this.tail;null!==a&&i>t;i--)a=a.prev;for(;null!==a&&i>e;i--,a=a.prev)n.push(a.value);return n},r.prototype.splice=function(e,t){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var n=0,r=this.head;null!==r&&n<e;n++)r=r.next;var a=[];for(n=0;r&&n<t;n++)a.push(r.value),r=this.removeNode(r);for(null===r&&(r=this.tail),r!==this.head&&r!==this.tail&&(r=r.prev),n=2;n<arguments.length;n++)r=i(this,r,arguments[n]);return a},r.prototype.reverse=function(){for(var e=this.head,t=this.tail,n=e;null!==n;n=n.prev){var r=n.prev;n.prev=n.next,n.next=r}return this.head=t,this.tail=e,this};try{e("./iterator.js")(r)}catch(u){}},{"./iterator.js":102}]},{},[1])(1)},"L1/z":function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0});var i=n("xRMx"),a=n("TrB0"),o=n("FZPO");r(n("TrB0")),r(n("FZPO"));var s=new i.DataFactory,u=new o.Translator;function c(e,t){return u.fromRdf(e,t)}u.registerHandler(new a.TypeHandlerString,a.TypeHandlerString.TYPES.map(function(e){return s.namedNode(e)}),["string"]),u.registerHandler(new a.TypeHandlerBoolean,[a.TypeHandlerBoolean.TYPE].map(function(e){return s.namedNode(e)}),["boolean"]),u.registerHandler(new a.TypeHandlerNumberDouble,a.TypeHandlerNumberDouble.TYPES.map(function(e){return s.namedNode(e)}),["number"]),u.registerHandler(new a.TypeHandlerNumberInteger,a.TypeHandlerNumberInteger.TYPES.map(function(e){return s.namedNode(e)}),["number"]),u.registerHandler(new a.TypeHandlerDate,a.TypeHandlerDate.TYPES.map(function(e){return s.namedNode(e)}),["object"]),t.fromRdf=c,t.toRdf=function(e,t){return t&&"namedNode"in t&&(t={dataFactory:t}),(t=t||{})&&!t.dataFactory&&(t.dataFactory=s),u.toRdf(e,t)},t.getTermRaw=function(e,t){return"Literal"===e.termType?c(e,t):e.value},t.getSupportedRdfDatatypes=function(){return u.getSupportedRdfDatatypes()},t.getSupportedJavaScriptPrimitives=function(){return u.getSupportedJavaScriptPrimitives()}},LvDl:function(e,t,n){(function(e){var r;(function(){var i="Expected a function",a="__lodash_placeholder__",o=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],s="[object Arguments]",u="[object Array]",c="[object Boolean]",l="[object Date]",f="[object Error]",d="[object Function]",h="[object GeneratorFunction]",p="[object Map]",v="[object Number]",g="[object Object]",y="[object RegExp]",b="[object Set]",m="[object String]",_="[object Symbol]",w="[object WeakMap]",x="[object ArrayBuffer]",k="[object DataView]",S="[object Float32Array]",j="[object Float64Array]",N="[object Int8Array]",E="[object Int16Array]",T="[object Int32Array]",I="[object Uint8Array]",R="[object Uint16Array]",O="[object Uint32Array]",A=/\b__p \+= '';/g,L=/\b(__p \+=) '' \+/g,M=/(__e\(.*?\)|\b__t\)) \+\n'';/g,D=/&(?:amp|lt|gt|quot|#39);/g,P=/[&<>"']/g,C=RegExp(D.source),F=RegExp(P.source),B=/<%-([\s\S]+?)%>/g,U=/<%([\s\S]+?)%>/g,G=/<%=([\s\S]+?)%>/g,V=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,z=/^\w*$/,q=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,K=/[\\^$.*+?()[\]{}|]/g,H=RegExp(K.source),W=/^\s+/,J=/\s/,Q=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,X=/\{\n\/\* \[wrapped with (.+)\] \*/,Y=/,? & /,Z=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,$=/[()=,{}\[\]\/\s]/,ee=/\\(\\)?/g,te=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ne=/\w*$/,re=/^[-+]0x[0-9a-f]+$/i,ie=/^0b[01]+$/i,ae=/^\[object .+?Constructor\]$/,oe=/^0o[0-7]+$/i,se=/^(?:0|[1-9]\d*)$/,ue=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ce=/($^)/,le=/['\n\r\u2028\u2029\\]/g,fe="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",de="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",he="["+de+"]",pe="["+fe+"]",ve="\\d+",ge="[a-z\\xdf-\\xf6\\xf8-\\xff]",ye="[^\\ud800-\\udfff"+de+ve+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",be="\\ud83c[\\udffb-\\udfff]",me="[^\\ud800-\\udfff]",_e="(?:\\ud83c[\\udde6-\\uddff]){2}",we="[\\ud800-\\udbff][\\udc00-\\udfff]",xe="[A-Z\\xc0-\\xd6\\xd8-\\xde]",ke="(?:"+ge+"|"+ye+")",Se="(?:"+xe+"|"+ye+")",je="(?:"+pe+"|"+be+")?",Ne="[\\ufe0e\\ufe0f]?"+je+"(?:\\u200d(?:"+[me,_e,we].join("|")+")[\\ufe0e\\ufe0f]?"+je+")*",Ee="(?:"+["[\\u2700-\\u27bf]",_e,we].join("|")+")"+Ne,Te="(?:"+[me+pe+"?",pe,_e,we,"[\\ud800-\\udfff]"].join("|")+")",Ie=RegExp("['\u2019]","g"),Re=RegExp(pe,"g"),Oe=RegExp(be+"(?="+be+")|"+Te+Ne,"g"),Ae=RegExp([xe+"?"+ge+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?(?="+[he,xe,"$"].join("|")+")",Se+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?(?="+[he,xe+ke,"$"].join("|")+")",xe+"?"+ke+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?",xe+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ve,Ee].join("|"),"g"),Le=RegExp("[\\u200d\\ud800-\\udfff"+fe+"\\ufe0e\\ufe0f]"),Me=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,De=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Pe=-1,Ce={};Ce[S]=Ce[j]=Ce[N]=Ce[E]=Ce[T]=Ce[I]=Ce["[object Uint8ClampedArray]"]=Ce[R]=Ce[O]=!0,Ce[s]=Ce[u]=Ce[x]=Ce[c]=Ce[k]=Ce[l]=Ce[f]=Ce[d]=Ce[p]=Ce[v]=Ce[g]=Ce[y]=Ce[b]=Ce[m]=Ce[w]=!1;var Fe={};Fe[s]=Fe[u]=Fe[x]=Fe[k]=Fe[c]=Fe[l]=Fe[S]=Fe[j]=Fe[N]=Fe[E]=Fe[T]=Fe[p]=Fe[v]=Fe[g]=Fe[y]=Fe[b]=Fe[m]=Fe[_]=Fe[I]=Fe["[object Uint8ClampedArray]"]=Fe[R]=Fe[O]=!0,Fe[f]=Fe[d]=Fe[w]=!1;var Be={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ue=parseFloat,Ge=parseInt,Ve="object"==typeof global&&global&&global.Object===Object&&global,ze="object"==typeof self&&self&&self.Object===Object&&self,qe=Ve||ze||Function("return this")(),Ke=t&&!t.nodeType&&t,He=Ke&&"object"==typeof e&&e&&!e.nodeType&&e,We=He&&He.exports===Ke,Je=We&&Ve.process,Qe=function(){try{return He&&He.require&&He.require("util").types||Je&&Je.binding&&Je.binding("util")}catch(e){}}(),Xe=Qe&&Qe.isArrayBuffer,Ye=Qe&&Qe.isDate,Ze=Qe&&Qe.isMap,$e=Qe&&Qe.isRegExp,et=Qe&&Qe.isSet,tt=Qe&&Qe.isTypedArray;function nt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function rt(e,t,n,r){for(var i=-1,a=null==e?0:e.length;++i<a;){var o=e[i];t(r,o,n(o),e)}return r}function it(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function at(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function ot(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function st(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}function ut(e,t){return!(null==e||!e.length)&&bt(e,t,0)>-1}function ct(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function lt(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function ft(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function dt(e,t,n,r){var i=-1,a=null==e?0:e.length;for(r&&a&&(n=e[++i]);++i<a;)n=t(n,e[i],i,e);return n}function ht(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function pt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var vt=xt("length");function gt(e,t,n){var r;return n(e,function(e,n,i){if(t(e,n,i))return r=n,!1}),r}function yt(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1}function bt(e,t,n){return t==t?function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):yt(e,_t,n)}function mt(e,t,n,r){for(var i=n-1,a=e.length;++i<a;)if(r(e[i],t))return i;return-1}function _t(e){return e!=e}function wt(e,t){var n=null==e?0:e.length;return n?jt(e,t)/n:NaN}function xt(e){return function(t){return null==t?void 0:t[e]}}function kt(e){return function(t){return null==e?void 0:e[t]}}function St(e,t,n,r,i){return i(e,function(e,i,a){n=r?(r=!1,e):t(n,e,i,a)}),n}function jt(e,t){for(var n,r=-1,i=e.length;++r<i;){var a=t(e[r]);void 0!==a&&(n=void 0===n?a:n+a)}return n}function Nt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Et(e){return e?e.slice(0,Kt(e)+1).replace(W,""):e}function Tt(e){return function(t){return e(t)}}function It(e,t){return lt(t,function(t){return e[t]})}function Rt(e,t){return e.has(t)}function Ot(e,t){for(var n=-1,r=e.length;++n<r&&bt(t,e[n],0)>-1;);return n}function At(e,t){for(var n=e.length;n--&&bt(t,e[n],0)>-1;);return n}function Lt(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}var Mt=kt({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),Dt=kt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Pt(e){return"\\"+Be[e]}function Ct(e){return Le.test(e)}function Ft(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function Bt(e,t){return function(n){return e(t(n))}}function Ut(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var s=e[n];s!==t&&s!==a||(e[n]=a,o[i++]=n)}return o}function Gt(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function Vt(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=[e,e]}),n}function zt(e){return Ct(e)?function(e){for(var t=Oe.lastIndex=0;Oe.test(e);)++t;return t}(e):vt(e)}function qt(e){return Ct(e)?function(e){return e.match(Oe)||[]}(e):function(e){return e.split("")}(e)}function Kt(e){for(var t=e.length;t--&&J.test(e.charAt(t)););return t}var Ht=kt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Wt=function e(t){var n,r=(t=null==t?qe:Wt.defaults(qe.Object(),t,Wt.pick(qe,De))).Array,J=t.Date,fe=t.Error,de=t.Function,he=t.Math,pe=t.Object,ve=t.RegExp,ge=t.String,ye=t.TypeError,be=r.prototype,me=pe.prototype,_e=t["__core-js_shared__"],we=de.prototype.toString,xe=me.hasOwnProperty,ke=0,Se=(n=/[^.]+$/.exec(_e&&_e.keys&&_e.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",je=me.toString,Ne=we.call(pe),Ee=qe._,Te=ve("^"+we.call(xe).replace(K,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Oe=We?t.Buffer:void 0,Le=t.Symbol,Be=t.Uint8Array,Ve=Oe?Oe.allocUnsafe:void 0,ze=Bt(pe.getPrototypeOf,pe),Ke=pe.create,He=me.propertyIsEnumerable,Je=be.splice,Qe=Le?Le.isConcatSpreadable:void 0,vt=Le?Le.iterator:void 0,kt=Le?Le.toStringTag:void 0,Jt=function(){try{var e=Zi(pe,"defineProperty");return e({},"",{}),e}catch(t){}}(),Qt=t.clearTimeout!==qe.clearTimeout&&t.clearTimeout,Xt=J&&J.now!==qe.Date.now&&J.now,Yt=t.setTimeout!==qe.setTimeout&&t.setTimeout,Zt=he.ceil,$t=he.floor,en=pe.getOwnPropertySymbols,tn=Oe?Oe.isBuffer:void 0,nn=t.isFinite,rn=be.join,an=Bt(pe.keys,pe),on=he.max,sn=he.min,un=J.now,cn=t.parseInt,ln=he.random,fn=be.reverse,dn=Zi(t,"DataView"),hn=Zi(t,"Map"),pn=Zi(t,"Promise"),vn=Zi(t,"Set"),gn=Zi(t,"WeakMap"),yn=Zi(pe,"create"),bn=gn&&new gn,mn={},_n=Ea(dn),wn=Ea(hn),xn=Ea(pn),kn=Ea(vn),Sn=Ea(gn),jn=Le?Le.prototype:void 0,Nn=jn?jn.valueOf:void 0,En=jn?jn.toString:void 0;function Tn(e){if(Ko(e)&&!Mo(e)&&!(e instanceof An)){if(e instanceof On)return e;if(xe.call(e,"__wrapped__"))return Ta(e)}return new On(e)}var In=function(){function e(){}return function(t){if(!qo(t))return{};if(Ke)return Ke(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function Rn(){}function On(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}function An(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Ln(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Mn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Dn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Pn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Dn;++t<n;)this.add(e[t])}function Cn(e){var t=this.__data__=new Mn(e);this.size=t.size}function Fn(e,t){var n=Mo(e),r=!n&&Lo(e),i=!n&&!r&&Fo(e),a=!n&&!r&&!i&&$o(e),o=n||r||i||a,s=o?Nt(e.length,ge):[],u=s.length;for(var c in e)!t&&!xe.call(e,c)||o&&("length"==c||i&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||aa(c,u))||s.push(c);return s}function Bn(e){var t=e.length;return t?e[Dr(0,t-1)]:void 0}function Un(e,t){return xa(gi(e),Qn(t,0,e.length))}function Gn(e){return xa(gi(e))}function Vn(e,t,n){(void 0!==n&&!Ro(e[t],n)||void 0===n&&!(t in e))&&Wn(e,t,n)}function zn(e,t,n){var r=e[t];xe.call(e,t)&&Ro(r,n)&&(void 0!==n||t in e)||Wn(e,t,n)}function qn(e,t){for(var n=e.length;n--;)if(Ro(e[n][0],t))return n;return-1}function Kn(e,t,n,r){return er(e,function(e,i,a){t(r,e,n(e),a)}),r}function Hn(e,t){return e&&yi(t,ws(t),e)}function Wn(e,t,n){"__proto__"==t&&Jt?Jt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Jn(e,t){for(var n=-1,i=t.length,a=r(i),o=null==e;++n<i;)a[n]=o?void 0:gs(e,t[n]);return a}function Qn(e,t,n){return e==e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}function Xn(e,t,n,r,i,a){var o,u=1&t,f=2&t,w=4&t;if(n&&(o=i?n(e,r,i,a):n(e)),void 0!==o)return o;if(!qo(e))return e;var A=Mo(e);if(A){if(o=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&xe.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!u)return gi(e,o)}else{var L=ta(e),M=L==d||L==h;if(Fo(e))return li(e,u);if(L==g||L==s||M&&!i){if(o=f||M?{}:ra(e),!u)return f?function(e,t){return yi(e,ea(e),t)}(e,function(e,t){return e&&yi(t,xs(t),e)}(o,e)):function(e,t){return yi(e,$i(e),t)}(e,Hn(o,e))}else{if(!Fe[L])return i?e:{};o=function(e,t,n){var r=e.constructor;switch(t){case x:return fi(e);case c:case l:return new r(+e);case k:return function(e,t){var n=t?fi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case S:case j:case N:case E:case T:case I:case"[object Uint8ClampedArray]":case R:case O:return di(e,n);case p:return new r;case v:case m:return new r(e);case y:return function(e){var t=new e.constructor(e.source,ne.exec(e));return t.lastIndex=e.lastIndex,t}(e);case b:return new r;case _:return Nn?pe(Nn.call(e)):{}}}(e,L,u)}}a||(a=new Cn);var D=a.get(e);if(D)return D;a.set(e,o),Xo(e)?e.forEach(function(r){o.add(Xn(r,t,n,r,e,a))}):Ho(e)&&e.forEach(function(r,i){o.set(i,Xn(r,t,n,i,e,a))});var P=A?void 0:(w?f?Ki:qi:f?xs:ws)(e);return it(P||e,function(r,i){P&&(r=e[i=r]),zn(o,i,Xn(r,t,n,i,e,a))}),o}function Yn(e,t,n){var r=n.length;if(null==e)return!r;for(e=pe(e);r--;){var i=n[r],a=e[i];if(void 0===a&&!(i in e)||!(0,t[i])(a))return!1}return!0}function Zn(e,t,n){if("function"!=typeof e)throw new ye(i);return ba(function(){e.apply(void 0,n)},t)}function $n(e,t,n,r){var i=-1,a=ut,o=!0,s=e.length,u=[],c=t.length;if(!s)return u;n&&(t=lt(t,Tt(n))),r?(a=ct,o=!1):t.length>=200&&(a=Rt,o=!1,t=new Pn(t));e:for(;++i<s;){var l=e[i],f=null==n?l:n(l);if(l=r||0!==l?l:0,o&&f==f){for(var d=c;d--;)if(t[d]===f)continue e;u.push(l)}else a(t,f,r)||u.push(l)}return u}Tn.templateSettings={escape:B,evaluate:U,interpolate:G,variable:"",imports:{_:Tn}},(Tn.prototype=Rn.prototype).constructor=Tn,(On.prototype=In(Rn.prototype)).constructor=On,(An.prototype=In(Rn.prototype)).constructor=An,Ln.prototype.clear=function(){this.__data__=yn?yn(null):{},this.size=0},Ln.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Ln.prototype.get=function(e){var t=this.__data__;if(yn){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return xe.call(t,e)?t[e]:void 0},Ln.prototype.has=function(e){var t=this.__data__;return yn?void 0!==t[e]:xe.call(t,e)},Ln.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=yn&&void 0===t?"__lodash_hash_undefined__":t,this},Mn.prototype.clear=function(){this.__data__=[],this.size=0},Mn.prototype.delete=function(e){var t=this.__data__,n=qn(t,e);return!(n<0||(n==t.length-1?t.pop():Je.call(t,n,1),--this.size,0))},Mn.prototype.get=function(e){var t=this.__data__,n=qn(t,e);return n<0?void 0:t[n][1]},Mn.prototype.has=function(e){return qn(this.__data__,e)>-1},Mn.prototype.set=function(e,t){var n=this.__data__,r=qn(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Dn.prototype.clear=function(){this.size=0,this.__data__={hash:new Ln,map:new(hn||Mn),string:new Ln}},Dn.prototype.delete=function(e){var t=Xi(this,e).delete(e);return this.size-=t?1:0,t},Dn.prototype.get=function(e){return Xi(this,e).get(e)},Dn.prototype.has=function(e){return Xi(this,e).has(e)},Dn.prototype.set=function(e,t){var n=Xi(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Pn.prototype.add=Pn.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Pn.prototype.has=function(e){return this.__data__.has(e)},Cn.prototype.clear=function(){this.__data__=new Mn,this.size=0},Cn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Cn.prototype.get=function(e){return this.__data__.get(e)},Cn.prototype.has=function(e){return this.__data__.has(e)},Cn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Mn){var r=n.__data__;if(!hn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Dn(r)}return n.set(e,t),this.size=n.size,this};var er=_i(ur),tr=_i(cr,!0);function nr(e,t){var n=!0;return er(e,function(e,r,i){return n=!!t(e,r,i)}),n}function rr(e,t,n){for(var r=-1,i=e.length;++r<i;){var a=e[r],o=t(a);if(null!=o&&(void 0===s?o==o&&!Zo(o):n(o,s)))var s=o,u=a}return u}function ir(e,t){var n=[];return er(e,function(e,r,i){t(e,r,i)&&n.push(e)}),n}function ar(e,t,n,r,i){var a=-1,o=e.length;for(n||(n=ia),i||(i=[]);++a<o;){var s=e[a];t>0&&n(s)?t>1?ar(s,t-1,n,r,i):ft(i,s):r||(i[i.length]=s)}return i}var or=wi(),sr=wi(!0);function ur(e,t){return e&&or(e,t,ws)}function cr(e,t){return e&&sr(e,t,ws)}function lr(e,t){return st(t,function(t){return Go(e[t])})}function fr(e,t){for(var n=0,r=(t=oi(t,e)).length;null!=e&&n<r;)e=e[Na(t[n++])];return n&&n==r?e:void 0}function dr(e,t,n){var r=t(e);return Mo(e)?r:ft(r,n(e))}function hr(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":kt&&kt in pe(e)?function(e){var t=xe.call(e,kt),n=e[kt];try{e[kt]=void 0;var r=!0}catch(a){}var i=je.call(e);return r&&(t?e[kt]=n:delete e[kt]),i}(e):function(e){return je.call(e)}(e)}function pr(e,t){return e>t}function vr(e,t){return null!=e&&xe.call(e,t)}function gr(e,t){return null!=e&&t in pe(e)}function yr(e,t,n){for(var i=n?ct:ut,a=e[0].length,o=e.length,s=o,u=r(o),c=1/0,l=[];s--;){var f=e[s];s&&t&&(f=lt(f,Tt(t))),c=sn(f.length,c),u[s]=!n&&(t||a>=120&&f.length>=120)?new Pn(s&&f):void 0}f=e[0];var d=-1,h=u[0];e:for(;++d<a&&l.length<c;){var p=f[d],v=t?t(p):p;if(p=n||0!==p?p:0,!(h?Rt(h,v):i(l,v,n))){for(s=o;--s;){var g=u[s];if(!(g?Rt(g,v):i(e[s],v,n)))continue e}h&&h.push(v),l.push(p)}}return l}function br(e,t,n){var r=null==(e=pa(e,t=oi(t,e)))?e:e[Na(Ba(t))];return null==r?void 0:nt(r,e,n)}function mr(e){return Ko(e)&&hr(e)==s}function _r(e,t,n,r,i){return e===t||(null==e||null==t||!Ko(e)&&!Ko(t)?e!=e&&t!=t:function(e,t,n,r,i,a){var o=Mo(e),d=Mo(t),h=o?u:ta(e),w=d?u:ta(t),S=(h=h==s?g:h)==g,j=(w=w==s?g:w)==g,N=h==w;if(N&&Fo(e)){if(!Fo(t))return!1;o=!0,S=!1}if(N&&!S)return a||(a=new Cn),o||$o(e)?Vi(e,t,n,r,i,a):function(e,t,n,r,i,a,o){switch(n){case k:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case x:return!(e.byteLength!=t.byteLength||!a(new Be(e),new Be(t)));case c:case l:case v:return Ro(+e,+t);case f:return e.name==t.name&&e.message==t.message;case y:case m:return e==t+"";case p:var s=Ft;case b:if(s||(s=Gt),e.size!=t.size&&!(1&r))return!1;var u=o.get(e);if(u)return u==t;r|=2,o.set(e,t);var d=Vi(s(e),s(t),r,i,a,o);return o.delete(e),d;case _:if(Nn)return Nn.call(e)==Nn.call(t)}return!1}(e,t,h,n,r,i,a);if(!(1&n)){var E=S&&xe.call(e,"__wrapped__"),T=j&&xe.call(t,"__wrapped__");if(E||T){var I=E?e.value():e,R=T?t.value():t;return a||(a=new Cn),i(I,R,n,r,a)}}return!!N&&(a||(a=new Cn),function(e,t,n,r,i,a){var o=1&n,s=qi(e),u=s.length;if(u!=qi(t).length&&!o)return!1;for(var c=u;c--;){var l=s[c];if(!(o?l in t:xe.call(t,l)))return!1}var f=a.get(e),d=a.get(t);if(f&&d)return f==t&&d==e;var h=!0;a.set(e,t),a.set(t,e);for(var p=o;++c<u;){var v=e[l=s[c]],g=t[l];if(r)var y=o?r(g,v,l,t,e,a):r(v,g,l,e,t,a);if(!(void 0===y?v===g||i(v,g,n,r,a):y)){h=!1;break}p||(p="constructor"==l)}if(h&&!p){var b=e.constructor,m=t.constructor;b==m||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof m&&m instanceof m||(h=!1)}return a.delete(e),a.delete(t),h}(e,t,n,r,i,a))}(e,t,n,r,_r,i))}function wr(e,t,n,r){var i=n.length,a=i,o=!r;if(null==e)return!a;for(e=pe(e);i--;){var s=n[i];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<a;){var u=(s=n[i])[0],c=e[u],l=s[1];if(o&&s[2]){if(void 0===c&&!(u in e))return!1}else{var f=new Cn;if(r)var d=r(c,l,u,e,t,f);if(!(void 0===d?_r(l,c,3,r,f):d))return!1}}return!0}function xr(e){return!(!qo(e)||(t=e,Se&&Se in t))&&(Go(e)?Te:ae).test(Ea(e));var t}function kr(e){return"function"==typeof e?e:null==e?Ws:"object"==typeof e?Mo(e)?Tr(e[0],e[1]):Er(e):nu(e)}function Sr(e){if(!la(e))return an(e);var t=[];for(var n in pe(e))xe.call(e,n)&&"constructor"!=n&&t.push(n);return t}function jr(e,t){return e<t}function Nr(e,t){var n=-1,i=Po(e)?r(e.length):[];return er(e,function(e,r,a){i[++n]=t(e,r,a)}),i}function Er(e){var t=Yi(e);return 1==t.length&&t[0][2]?da(t[0][0],t[0][1]):function(n){return n===e||wr(n,e,t)}}function Tr(e,t){return sa(e)&&fa(t)?da(Na(e),t):function(n){var r=gs(n,e);return void 0===r&&r===t?ys(n,e):_r(t,r,3)}}function Ir(e,t,n,r,i){e!==t&&or(t,function(a,o){if(i||(i=new Cn),qo(a))!function(e,t,n,r,i,a,o){var s=ga(e,n),u=ga(t,n),c=o.get(u);if(c)Vn(e,n,c);else{var l=a?a(s,u,n+"",e,t,o):void 0,f=void 0===l;if(f){var d=Mo(u),h=!d&&Fo(u),p=!d&&!h&&$o(u);l=u,d||h||p?Mo(s)?l=s:Co(s)?l=gi(s):h?(f=!1,l=li(u,!0)):p?(f=!1,l=di(u,!0)):l=[]:Jo(u)||Lo(u)?(l=s,Lo(s)?l=ss(s):qo(s)&&!Go(s)||(l=ra(u))):f=!1}f&&(o.set(u,l),i(l,u,r,a,o),o.delete(u)),Vn(e,n,l)}}(e,t,o,n,Ir,r,i);else{var s=r?r(ga(e,o),a,o+"",e,t,i):void 0;void 0===s&&(s=a),Vn(e,o,s)}},xs)}function Rr(e,t){var n=e.length;if(n)return aa(t+=t<0?n:0,n)?e[t]:void 0}function Or(e,t,n){t=t.length?lt(t,function(e){return Mo(e)?function(t){return fr(t,1===e.length?e[0]:e)}:e}):[Ws];var r=-1;return t=lt(t,Tt(Qi())),function(e,t){var r=e.length;for(e.sort(function(e,t){return function(e,t,n){for(var r=-1,i=e.criteria,a=t.criteria,o=i.length,s=n.length;++r<o;){var u=hi(i[r],a[r]);if(u)return r>=s?u:u*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)});r--;)e[r]=e[r].value;return e}(Nr(e,function(e,n,i){return{criteria:lt(t,function(t){return t(e)}),index:++r,value:e}}))}function Ar(e,t,n){for(var r=-1,i=t.length,a={};++r<i;){var o=t[r],s=fr(e,o);n(s,o)&&Ur(a,oi(o,e),s)}return a}function Lr(e,t,n,r){var i=r?mt:bt,a=-1,o=t.length,s=e;for(e===t&&(t=gi(t)),n&&(s=lt(e,Tt(n)));++a<o;)for(var u=0,c=t[a],l=n?n(c):c;(u=i(s,l,u,r))>-1;)s!==e&&Je.call(s,u,1),Je.call(e,u,1);return e}function Mr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==a){var a=i;aa(i)?Je.call(e,i,1):Zr(e,i)}}return e}function Dr(e,t){return e+$t(ln()*(t-e+1))}function Pr(e,t){var n="";if(!e||t<1||t>9007199254740991)return n;do{t%2&&(n+=e),(t=$t(t/2))&&(e+=e)}while(t);return n}function Cr(e,t){return ma(ha(e,t,Ws),e+"")}function Fr(e){return Bn(Rs(e))}function Br(e,t){var n=Rs(e);return xa(n,Qn(t,0,n.length))}function Ur(e,t,n,r){if(!qo(e))return e;for(var i=-1,a=(t=oi(t,e)).length,o=a-1,s=e;null!=s&&++i<a;){var u=Na(t[i]),c=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return e;if(i!=o){var l=s[u];void 0===(c=r?r(l,u,s):void 0)&&(c=qo(l)?l:aa(t[i+1])?[]:{})}zn(s,u,c),s=s[u]}return e}var Gr=bn?function(e,t){return bn.set(e,t),e}:Ws,Vr=Jt?function(e,t){return Jt(e,"toString",{configurable:!0,enumerable:!1,value:qs(t),writable:!0})}:Ws;function zr(e){return xa(Rs(e))}function qr(e,t,n){var i=-1,a=e.length;t<0&&(t=-t>a?0:a+t),(n=n>a?a:n)<0&&(n+=a),a=t>n?0:n-t>>>0,t>>>=0;for(var o=r(a);++i<a;)o[i]=e[i+t];return o}function Kr(e,t){var n;return er(e,function(e,r,i){return!(n=t(e,r,i))}),!!n}function Hr(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;r<i;){var a=r+i>>>1,o=e[a];null!==o&&!Zo(o)&&(n?o<=t:o<t)?r=a+1:i=a}return i}return Wr(e,t,Ws,n)}function Wr(e,t,n,r){var i=0,a=null==e?0:e.length;if(0===a)return 0;for(var o=(t=n(t))!=t,s=null===t,u=Zo(t),c=void 0===t;i<a;){var l=$t((i+a)/2),f=n(e[l]),d=void 0!==f,h=null===f,p=f==f,v=Zo(f);if(o)var g=r||p;else g=c?p&&(r||d):s?p&&d&&(r||!h):u?p&&d&&!h&&(r||!v):!h&&!v&&(r?f<=t:f<t);g?i=l+1:a=l}return sn(a,4294967294)}function Jr(e,t){for(var n=-1,r=e.length,i=0,a=[];++n<r;){var o=e[n],s=t?t(o):o;if(!n||!Ro(s,u)){var u=s;a[i++]=0===o?0:o}}return a}function Qr(e){return"number"==typeof e?e:Zo(e)?NaN:+e}function Xr(e){if("string"==typeof e)return e;if(Mo(e))return lt(e,Xr)+"";if(Zo(e))return En?En.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Yr(e,t,n){var r=-1,i=ut,a=e.length,o=!0,s=[],u=s;if(n)o=!1,i=ct;else if(a>=200){var c=t?null:Pi(e);if(c)return Gt(c);o=!1,i=Rt,u=new Pn}else u=t?[]:s;e:for(;++r<a;){var l=e[r],f=t?t(l):l;if(l=n||0!==l?l:0,o&&f==f){for(var d=u.length;d--;)if(u[d]===f)continue e;t&&u.push(f),s.push(l)}else i(u,f,n)||(u!==s&&u.push(f),s.push(l))}return s}function Zr(e,t){return null==(e=pa(e,t=oi(t,e)))||delete e[Na(Ba(t))]}function $r(e,t,n,r){return Ur(e,t,n(fr(e,t)),r)}function ei(e,t,n,r){for(var i=e.length,a=r?i:-1;(r?a--:++a<i)&&t(e[a],a,e););return n?qr(e,r?0:a,r?a+1:i):qr(e,r?a+1:0,r?i:a)}function ti(e,t){var n=e;return n instanceof An&&(n=n.value()),dt(t,function(e,t){return t.func.apply(t.thisArg,ft([e],t.args))},n)}function ni(e,t,n){var i=e.length;if(i<2)return i?Yr(e[0]):[];for(var a=-1,o=r(i);++a<i;)for(var s=e[a],u=-1;++u<i;)u!=a&&(o[a]=$n(o[a]||s,e[u],t,n));return Yr(ar(o,1),t,n)}function ri(e,t,n){for(var r=-1,i=e.length,a=t.length,o={};++r<i;)n(o,e[r],r<a?t[r]:void 0);return o}function ii(e){return Co(e)?e:[]}function ai(e){return"function"==typeof e?e:Ws}function oi(e,t){return Mo(e)?e:sa(e,t)?[e]:ja(us(e))}var si=Cr;function ui(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:qr(e,t,n)}var ci=Qt||function(e){return qe.clearTimeout(e)};function li(e,t){if(t)return e.slice();var n=e.length,r=Ve?Ve(n):new e.constructor(n);return e.copy(r),r}function fi(e){var t=new e.constructor(e.byteLength);return new Be(t).set(new Be(e)),t}function di(e,t){var n=t?fi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function hi(e,t){if(e!==t){var n=void 0!==e,r=null===e,i=e==e,a=Zo(e),o=void 0!==t,s=null===t,u=t==t,c=Zo(t);if(!s&&!c&&!a&&e>t||a&&o&&u&&!s&&!c||r&&o&&u||!n&&u||!i)return 1;if(!r&&!a&&!c&&e<t||c&&n&&i&&!r&&!a||s&&n&&i||!o&&i||!u)return-1}return 0}function pi(e,t,n,i){for(var a=-1,o=e.length,s=n.length,u=-1,c=t.length,l=on(o-s,0),f=r(c+l),d=!i;++u<c;)f[u]=t[u];for(;++a<s;)(d||a<o)&&(f[n[a]]=e[a]);for(;l--;)f[u++]=e[a++];return f}function vi(e,t,n,i){for(var a=-1,o=e.length,s=-1,u=n.length,c=-1,l=t.length,f=on(o-u,0),d=r(f+l),h=!i;++a<f;)d[a]=e[a];for(var p=a;++c<l;)d[p+c]=t[c];for(;++s<u;)(h||a<o)&&(d[p+n[s]]=e[a++]);return d}function gi(e,t){var n=-1,i=e.length;for(t||(t=r(i));++n<i;)t[n]=e[n];return t}function yi(e,t,n,r){var i=!n;n||(n={});for(var a=-1,o=t.length;++a<o;){var s=t[a],u=r?r(n[s],e[s],s,n,e):void 0;void 0===u&&(u=e[s]),i?Wn(n,s,u):zn(n,s,u)}return n}function bi(e,t){return function(n,r){var i=Mo(n)?rt:Kn,a=t?t():{};return i(n,e,Qi(r,2),a)}}function mi(e){return Cr(function(t,n){var r=-1,i=n.length,a=i>1?n[i-1]:void 0,o=i>2?n[2]:void 0;for(a=e.length>3&&"function"==typeof a?(i--,a):void 0,o&&oa(n[0],n[1],o)&&(a=i<3?void 0:a,i=1),t=pe(t);++r<i;){var s=n[r];s&&e(t,s,r,a)}return t})}function _i(e,t){return function(n,r){if(null==n)return n;if(!Po(n))return e(n,r);for(var i=n.length,a=t?i:-1,o=pe(n);(t?a--:++a<i)&&!1!==r(o[a],a,o););return n}}function wi(e){return function(t,n,r){for(var i=-1,a=pe(t),o=r(t),s=o.length;s--;){var u=o[e?s:++i];if(!1===n(a[u],u,a))break}return t}}function xi(e){return function(t){var n=Ct(t=us(t))?qt(t):void 0,r=n?n[0]:t.charAt(0),i=n?ui(n,1).join(""):t.slice(1);return r[e]()+i}}function ki(e){return function(t){return dt(Gs(Ls(t).replace(Ie,"")),e,"")}}function Si(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=In(e.prototype),r=e.apply(n,t);return qo(r)?r:n}}function ji(e){return function(t,n,r){var i=pe(t);if(!Po(t)){var a=Qi(n,3);t=ws(t),n=function(e){return a(i[e],e,i)}}var o=e(t,n,r);return o>-1?i[a?t[o]:o]:void 0}}function Ni(e){return zi(function(t){var n=t.length,r=n,a=On.prototype.thru;for(e&&t.reverse();r--;){var o=t[r];if("function"!=typeof o)throw new ye(i);if(a&&!s&&"wrapper"==Wi(o))var s=new On([],!0)}for(r=s?r:n;++r<n;){var u=Wi(o=t[r]),c="wrapper"==u?Hi(o):void 0;s=c&&ua(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?s[Wi(c[0])].apply(s,c[3]):1==o.length&&ua(o)?s[u]():s.thru(o)}return function(){var e=arguments,r=e[0];if(s&&1==e.length&&Mo(r))return s.plant(r).value();for(var i=0,a=n?t[i].apply(this,e):r;++i<n;)a=t[i].call(this,a);return a}})}function Ei(e,t,n,i,a,o,s,u,c,l){var f=128&t,d=1&t,h=2&t,p=24&t,v=512&t,g=h?void 0:Si(e);return function y(){for(var b=arguments.length,m=r(b),_=b;_--;)m[_]=arguments[_];if(p)var w=Ji(y),x=Lt(m,w);if(i&&(m=pi(m,i,a,p)),o&&(m=vi(m,o,s,p)),b-=x,p&&b<l){var k=Ut(m,w);return Mi(e,t,Ei,y.placeholder,n,m,k,u,c,l-b)}var S=d?n:this,j=h?S[e]:e;return b=m.length,u?m=va(m,u):v&&b>1&&m.reverse(),f&&c<b&&(m.length=c),this&&this!==qe&&this instanceof y&&(j=g||Si(j)),j.apply(S,m)}}function Ti(e,t){return function(n,r){return function(e,t,n,r){return ur(e,function(e,i,a){t(r,n(e),i,a)}),r}(n,e,t(r),{})}}function Ii(e,t){return function(n,r){var i;if(void 0===n&&void 0===r)return t;if(void 0!==n&&(i=n),void 0!==r){if(void 0===i)return r;"string"==typeof n||"string"==typeof r?(n=Xr(n),r=Xr(r)):(n=Qr(n),r=Qr(r)),i=e(n,r)}return i}}function Ri(e){return zi(function(t){return t=lt(t,Tt(Qi())),Cr(function(n){var r=this;return e(t,function(e){return nt(e,r,n)})})})}function Oi(e,t){var n=(t=void 0===t?" ":Xr(t)).length;if(n<2)return n?Pr(t,e):t;var r=Pr(t,Zt(e/zt(t)));return Ct(t)?ui(qt(r),0,e).join(""):r.slice(0,e)}function Ai(e){return function(t,n,i){return i&&"number"!=typeof i&&oa(t,n,i)&&(n=i=void 0),t=rs(t),void 0===n?(n=t,t=0):n=rs(n),function(e,t,n,i){for(var a=-1,o=on(Zt((t-e)/(n||1)),0),s=r(o);o--;)s[i?o:++a]=e,e+=n;return s}(t,n,i=void 0===i?t<n?1:-1:rs(i),e)}}function Li(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=os(t),n=os(n)),e(t,n)}}function Mi(e,t,n,r,i,a,o,s,u,c){var l=8&t;t|=l?32:64,4&(t&=~(l?64:32))||(t&=-4);var f=[e,t,i,l?a:void 0,l?o:void 0,l?void 0:a,l?void 0:o,s,u,c],d=n.apply(void 0,f);return ua(e)&&ya(d,f),d.placeholder=r,_a(d,e,t)}function Di(e){var t=he[e];return function(e,n){if(e=os(e),(n=null==n?0:sn(is(n),292))&&nn(e)){var r=(us(e)+"e").split("e");return+((r=(us(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Pi=vn&&1/Gt(new vn([,-0]))[1]==1/0?function(e){return new vn(e)}:Zs;function Ci(e){return function(t){var n=ta(t);return n==p?Ft(t):n==b?Vt(t):function(e,t){return lt(t,function(t){return[t,e[t]]})}(t,e(t))}}function Fi(e,t,n,o,s,u,c,l){var f=2&t;if(!f&&"function"!=typeof e)throw new ye(i);var d=o?o.length:0;if(d||(t&=-97,o=s=void 0),c=void 0===c?c:on(is(c),0),l=void 0===l?l:is(l),d-=s?s.length:0,64&t){var h=o,p=s;o=s=void 0}var v=f?void 0:Hi(e),g=[e,t,n,o,s,h,p,u,c,l];if(v&&function(e,t){var n=e[1],r=t[1],i=n|r;if(!(i<131||128==r&&8==n||128==r&&256==n&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n))return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var o=t[3];if(o){var s=e[3];e[3]=s?pi(s,o,t[4]):o,e[4]=s?Ut(e[3],a):t[4]}(o=t[5])&&(e[5]=(s=e[5])?vi(s,o,t[6]):o,e[6]=s?Ut(e[5],a):t[6]),(o=t[7])&&(e[7]=o),128&r&&(e[8]=null==e[8]?t[8]:sn(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i}(g,v),e=g[0],t=g[1],n=g[2],o=g[3],s=g[4],!(l=g[9]=void 0===g[9]?f?0:e.length:on(g[9]-d,0))&&24&t&&(t&=-25),t&&1!=t)y=8==t||16==t?function(e,t,n){var i=Si(e);return function a(){for(var o=arguments.length,s=r(o),u=o,c=Ji(a);u--;)s[u]=arguments[u];var l=o<3&&s[0]!==c&&s[o-1]!==c?[]:Ut(s,c);return(o-=l.length)<n?Mi(e,t,Ei,a.placeholder,void 0,s,l,void 0,void 0,n-o):nt(this&&this!==qe&&this instanceof a?i:e,this,s)}}(e,t,l):32!=t&&33!=t||s.length?Ei.apply(void 0,g):function(e,t,n,i){var a=1&t,o=Si(e);return function t(){for(var s=-1,u=arguments.length,c=-1,l=i.length,f=r(l+u),d=this&&this!==qe&&this instanceof t?o:e;++c<l;)f[c]=i[c];for(;u--;)f[c++]=arguments[++s];return nt(d,a?n:this,f)}}(e,t,n,o);else var y=function(e,t,n){var r=1&t,i=Si(e);return function t(){return(this&&this!==qe&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,n);return _a((v?Gr:ya)(y,g),e,t)}function Bi(e,t,n,r){return void 0===e||Ro(e,me[n])&&!xe.call(r,n)?t:e}function Ui(e,t,n,r,i,a){return qo(e)&&qo(t)&&(a.set(t,e),Ir(e,t,void 0,Ui,a),a.delete(t)),e}function Gi(e){return Jo(e)?void 0:e}function Vi(e,t,n,r,i,a){var o=1&n,s=e.length,u=t.length;if(s!=u&&!(o&&u>s))return!1;var c=a.get(e),l=a.get(t);if(c&&l)return c==t&&l==e;var f=-1,d=!0,h=2&n?new Pn:void 0;for(a.set(e,t),a.set(t,e);++f<s;){var p=e[f],v=t[f];if(r)var g=o?r(v,p,f,t,e,a):r(p,v,f,e,t,a);if(void 0!==g){if(g)continue;d=!1;break}if(h){if(!pt(t,function(e,t){if(!Rt(h,t)&&(p===e||i(p,e,n,r,a)))return h.push(t)})){d=!1;break}}else if(p!==v&&!i(p,v,n,r,a)){d=!1;break}}return a.delete(e),a.delete(t),d}function zi(e){return ma(ha(e,void 0,Ma),e+"")}function qi(e){return dr(e,ws,$i)}function Ki(e){return dr(e,xs,ea)}var Hi=bn?function(e){return bn.get(e)}:Zs;function Wi(e){for(var t=e.name+"",n=mn[t],r=xe.call(mn,t)?n.length:0;r--;){var i=n[r],a=i.func;if(null==a||a==e)return i.name}return t}function Ji(e){return(xe.call(Tn,"placeholder")?Tn:e).placeholder}function Qi(){var e=Tn.iteratee||Js;return e=e===Js?kr:e,arguments.length?e(arguments[0],arguments[1]):e}function Xi(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function Yi(e){for(var t=ws(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,fa(i)]}return t}function Zi(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return xr(n)?n:void 0}var $i=en?function(e){return null==e?[]:(e=pe(e),st(en(e),function(t){return He.call(e,t)}))}:au,ea=en?function(e){for(var t=[];e;)ft(t,$i(e)),e=ze(e);return t}:au,ta=hr;function na(e,t,n){for(var r=-1,i=(t=oi(t,e)).length,a=!1;++r<i;){var o=Na(t[r]);if(!(a=null!=e&&n(e,o)))break;e=e[o]}return a||++r!=i?a:!!(i=null==e?0:e.length)&&zo(i)&&aa(o,i)&&(Mo(e)||Lo(e))}function ra(e){return"function"!=typeof e.constructor||la(e)?{}:In(ze(e))}function ia(e){return Mo(e)||Lo(e)||!!(Qe&&e&&e[Qe])}function aa(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&se.test(e))&&e>-1&&e%1==0&&e<t}function oa(e,t,n){if(!qo(n))return!1;var r=typeof t;return!!("number"==r?Po(n)&&aa(t,n.length):"string"==r&&t in n)&&Ro(n[t],e)}function sa(e,t){if(Mo(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Zo(e))||z.test(e)||!V.test(e)||null!=t&&e in pe(t)}function ua(e){var t=Wi(e),n=Tn[t];if("function"!=typeof n||!(t in An.prototype))return!1;if(e===n)return!0;var r=Hi(n);return!!r&&e===r[0]}(dn&&ta(new dn(new ArrayBuffer(1)))!=k||hn&&ta(new hn)!=p||pn&&"[object Promise]"!=ta(pn.resolve())||vn&&ta(new vn)!=b||gn&&ta(new gn)!=w)&&(ta=function(e){var t=hr(e),n=t==g?e.constructor:void 0,r=n?Ea(n):"";if(r)switch(r){case _n:return k;case wn:return p;case xn:return"[object Promise]";case kn:return b;case Sn:return w}return t});var ca=_e?Go:ou;function la(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||me)}function fa(e){return e==e&&!qo(e)}function da(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in pe(n))}}function ha(e,t,n){return t=on(void 0===t?e.length-1:t,0),function(){for(var i=arguments,a=-1,o=on(i.length-t,0),s=r(o);++a<o;)s[a]=i[t+a];a=-1;for(var u=r(t+1);++a<t;)u[a]=i[a];return u[t]=n(s),nt(e,this,u)}}function pa(e,t){return t.length<2?e:fr(e,qr(t,0,-1))}function va(e,t){for(var n=e.length,r=sn(t.length,n),i=gi(e);r--;){var a=t[r];e[r]=aa(a,n)?i[a]:void 0}return e}function ga(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var ya=wa(Gr),ba=Yt||function(e,t){return qe.setTimeout(e,t)},ma=wa(Vr);function _a(e,t,n){var r=t+"";return ma(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(Q,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return it(o,function(n){var r="_."+n[0];t&n[1]&&!ut(e,r)&&e.push(r)}),e.sort()}(function(e){var t=e.match(X);return t?t[1].split(Y):[]}(r),n)))}function wa(e){var t=0,n=0;return function(){var r=un(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function xa(e,t){var n=-1,r=e.length,i=r-1;for(t=void 0===t?r:t;++n<t;){var a=Dr(n,i),o=e[a];e[a]=e[n],e[n]=o}return e.length=t,e}var ka,Sa,ja=(ka=So(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(q,function(e,n,r,i){t.push(r?i.replace(ee,"$1"):n||e)}),t},function(e){return 500===Sa.size&&Sa.clear(),e}),Sa=ka.cache,ka);function Na(e){if("string"==typeof e||Zo(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Ea(e){if(null!=e){try{return we.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Ta(e){if(e instanceof An)return e.clone();var t=new On(e.__wrapped__,e.__chain__);return t.__actions__=gi(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Ia=Cr(function(e,t){return Co(e)?$n(e,ar(t,1,Co,!0)):[]}),Ra=Cr(function(e,t){var n=Ba(t);return Co(n)&&(n=void 0),Co(e)?$n(e,ar(t,1,Co,!0),Qi(n,2)):[]}),Oa=Cr(function(e,t){var n=Ba(t);return Co(n)&&(n=void 0),Co(e)?$n(e,ar(t,1,Co,!0),void 0,n):[]});function Aa(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:is(n);return i<0&&(i=on(r+i,0)),yt(e,Qi(t,3),i)}function La(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r-1;return void 0!==n&&(i=is(n),i=n<0?on(r+i,0):sn(i,r-1)),yt(e,Qi(t,3),i,!0)}function Ma(e){return null!=e&&e.length?ar(e,1):[]}function Da(e){return e&&e.length?e[0]:void 0}var Pa=Cr(function(e){var t=lt(e,ii);return t.length&&t[0]===e[0]?yr(t):[]}),Ca=Cr(function(e){var t=Ba(e),n=lt(e,ii);return t===Ba(n)?t=void 0:n.pop(),n.length&&n[0]===e[0]?yr(n,Qi(t,2)):[]}),Fa=Cr(function(e){var t=Ba(e),n=lt(e,ii);return(t="function"==typeof t?t:void 0)&&n.pop(),n.length&&n[0]===e[0]?yr(n,void 0,t):[]});function Ba(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}var Ua=Cr(Ga);function Ga(e,t){return e&&e.length&&t&&t.length?Lr(e,t):e}var Va=zi(function(e,t){var n=null==e?0:e.length,r=Jn(e,t);return Mr(e,lt(t,function(e){return aa(e,n)?+e:e}).sort(hi)),r});function za(e){return null==e?e:fn.call(e)}var qa=Cr(function(e){return Yr(ar(e,1,Co,!0))}),Ka=Cr(function(e){var t=Ba(e);return Co(t)&&(t=void 0),Yr(ar(e,1,Co,!0),Qi(t,2))}),Ha=Cr(function(e){var t=Ba(e);return t="function"==typeof t?t:void 0,Yr(ar(e,1,Co,!0),void 0,t)});function Wa(e){if(!e||!e.length)return[];var t=0;return e=st(e,function(e){if(Co(e))return t=on(e.length,t),!0}),Nt(t,function(t){return lt(e,xt(t))})}function Ja(e,t){if(!e||!e.length)return[];var n=Wa(e);return null==t?n:lt(n,function(e){return nt(t,void 0,e)})}var Qa=Cr(function(e,t){return Co(e)?$n(e,t):[]}),Xa=Cr(function(e){return ni(st(e,Co))}),Ya=Cr(function(e){var t=Ba(e);return Co(t)&&(t=void 0),ni(st(e,Co),Qi(t,2))}),Za=Cr(function(e){var t=Ba(e);return t="function"==typeof t?t:void 0,ni(st(e,Co),void 0,t)}),$a=Cr(Wa),eo=Cr(function(e){var t=e.length,n=t>1?e[t-1]:void 0;return n="function"==typeof n?(e.pop(),n):void 0,Ja(e,n)});function to(e){var t=Tn(e);return t.__chain__=!0,t}function no(e,t){return t(e)}var ro=zi(function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,i=function(t){return Jn(t,e)};return!(t>1||this.__actions__.length)&&r instanceof An&&aa(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:no,args:[i],thisArg:void 0}),new On(r,this.__chain__).thru(function(e){return t&&!e.length&&e.push(void 0),e})):this.thru(i)}),io=bi(function(e,t,n){xe.call(e,n)?++e[n]:Wn(e,n,1)}),ao=ji(Aa),oo=ji(La);function so(e,t){return(Mo(e)?it:er)(e,Qi(t,3))}function uo(e,t){return(Mo(e)?at:tr)(e,Qi(t,3))}var co=bi(function(e,t,n){xe.call(e,n)?e[n].push(t):Wn(e,n,[t])}),lo=Cr(function(e,t,n){var i=-1,a="function"==typeof t,o=Po(e)?r(e.length):[];return er(e,function(e){o[++i]=a?nt(t,e,n):br(e,t,n)}),o}),fo=bi(function(e,t,n){Wn(e,n,t)});function ho(e,t){return(Mo(e)?lt:Nr)(e,Qi(t,3))}var po=bi(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),vo=Cr(function(e,t){if(null==e)return[];var n=t.length;return n>1&&oa(e,t[0],t[1])?t=[]:n>2&&oa(t[0],t[1],t[2])&&(t=[t[0]]),Or(e,ar(t,1),[])}),go=Xt||function(){return qe.Date.now()};function yo(e,t,n){return t=n?void 0:t,Fi(e,128,void 0,void 0,void 0,void 0,t=e&&null==t?e.length:t)}function bo(e,t){var n;if("function"!=typeof t)throw new ye(i);return e=is(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=void 0),n}}var mo=Cr(function(e,t,n){var r=1;if(n.length){var i=Ut(n,Ji(mo));r|=32}return Fi(e,r,t,n,i)}),_o=Cr(function(e,t,n){var r=3;if(n.length){var i=Ut(n,Ji(_o));r|=32}return Fi(t,r,e,n,i)});function wo(e,t,n){var r,a,o,s,u,c,l=0,f=!1,d=!1,h=!0;if("function"!=typeof e)throw new ye(i);function p(t){var n=r,i=a;return r=a=void 0,l=t,s=e.apply(i,n)}function v(e){return l=e,u=ba(y,t),f?p(e):s}function g(e){var n=e-c;return void 0===c||n>=t||n<0||d&&e-l>=o}function y(){var e=go();if(g(e))return b(e);u=ba(y,function(e){var n=t-(e-c);return d?sn(n,o-(e-l)):n}(e))}function b(e){return u=void 0,h&&r?p(e):(r=a=void 0,s)}function m(){var e=go(),n=g(e);if(r=arguments,a=this,c=e,n){if(void 0===u)return v(c);if(d)return ci(u),u=ba(y,t),p(c)}return void 0===u&&(u=ba(y,t)),s}return t=os(t)||0,qo(n)&&(f=!!n.leading,o=(d="maxWait"in n)?on(os(n.maxWait)||0,t):o,h="trailing"in n?!!n.trailing:h),m.cancel=function(){void 0!==u&&ci(u),l=0,r=c=a=u=void 0},m.flush=function(){return void 0===u?s:b(go())},m}var xo=Cr(function(e,t){return Zn(e,1,t)}),ko=Cr(function(e,t,n){return Zn(e,os(t)||0,n)});function So(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new ye(i);var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(So.Cache||Dn),n}function jo(e){if("function"!=typeof e)throw new ye(i);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}So.Cache=Dn;var No=si(function(e,t){var n=(t=1==t.length&&Mo(t[0])?lt(t[0],Tt(Qi())):lt(ar(t,1),Tt(Qi()))).length;return Cr(function(r){for(var i=-1,a=sn(r.length,n);++i<a;)r[i]=t[i].call(this,r[i]);return nt(e,this,r)})}),Eo=Cr(function(e,t){return Fi(e,32,void 0,t,Ut(t,Ji(Eo)))}),To=Cr(function(e,t){return Fi(e,64,void 0,t,Ut(t,Ji(To)))}),Io=zi(function(e,t){return Fi(e,256,void 0,void 0,void 0,t)});function Ro(e,t){return e===t||e!=e&&t!=t}var Oo=Li(pr),Ao=Li(function(e,t){return e>=t}),Lo=mr(function(){return arguments}())?mr:function(e){return Ko(e)&&xe.call(e,"callee")&&!He.call(e,"callee")},Mo=r.isArray,Do=Xe?Tt(Xe):function(e){return Ko(e)&&hr(e)==x};function Po(e){return null!=e&&zo(e.length)&&!Go(e)}function Co(e){return Ko(e)&&Po(e)}var Fo=tn||ou,Bo=Ye?Tt(Ye):function(e){return Ko(e)&&hr(e)==l};function Uo(e){if(!Ko(e))return!1;var t=hr(e);return t==f||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!Jo(e)}function Go(e){if(!qo(e))return!1;var t=hr(e);return t==d||t==h||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Vo(e){return"number"==typeof e&&e==is(e)}function zo(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function qo(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Ko(e){return null!=e&&"object"==typeof e}var Ho=Ze?Tt(Ze):function(e){return Ko(e)&&ta(e)==p};function Wo(e){return"number"==typeof e||Ko(e)&&hr(e)==v}function Jo(e){if(!Ko(e)||hr(e)!=g)return!1;var t=ze(e);if(null===t)return!0;var n=xe.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&we.call(n)==Ne}var Qo=$e?Tt($e):function(e){return Ko(e)&&hr(e)==y},Xo=et?Tt(et):function(e){return Ko(e)&&ta(e)==b};function Yo(e){return"string"==typeof e||!Mo(e)&&Ko(e)&&hr(e)==m}function Zo(e){return"symbol"==typeof e||Ko(e)&&hr(e)==_}var $o=tt?Tt(tt):function(e){return Ko(e)&&zo(e.length)&&!!Ce[hr(e)]},es=Li(jr),ts=Li(function(e,t){return e<=t});function ns(e){if(!e)return[];if(Po(e))return Yo(e)?qt(e):gi(e);if(vt&&e[vt])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[vt]());var t=ta(e);return(t==p?Ft:t==b?Gt:Rs)(e)}function rs(e){return e?1/0===(e=os(e))||-1/0===e?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function is(e){var t=rs(e),n=t%1;return t==t?n?t-n:t:0}function as(e){return e?Qn(is(e),0,4294967295):0}function os(e){if("number"==typeof e)return e;if(Zo(e))return NaN;if(qo(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=qo(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Et(e);var n=ie.test(e);return n||oe.test(e)?Ge(e.slice(2),n?2:8):re.test(e)?NaN:+e}function ss(e){return yi(e,xs(e))}function us(e){return null==e?"":Xr(e)}var cs=mi(function(e,t){if(la(t)||Po(t))yi(t,ws(t),e);else for(var n in t)xe.call(t,n)&&zn(e,n,t[n])}),ls=mi(function(e,t){yi(t,xs(t),e)}),fs=mi(function(e,t,n,r){yi(t,xs(t),e,r)}),ds=mi(function(e,t,n,r){yi(t,ws(t),e,r)}),hs=zi(Jn),ps=Cr(function(e,t){e=pe(e);var n=-1,r=t.length,i=r>2?t[2]:void 0;for(i&&oa(t[0],t[1],i)&&(r=1);++n<r;)for(var a=t[n],o=xs(a),s=-1,u=o.length;++s<u;){var c=o[s],l=e[c];(void 0===l||Ro(l,me[c])&&!xe.call(e,c))&&(e[c]=a[c])}return e}),vs=Cr(function(e){return e.push(void 0,Ui),nt(Ss,void 0,e)});function gs(e,t,n){var r=null==e?void 0:fr(e,t);return void 0===r?n:r}function ys(e,t){return null!=e&&na(e,t,gr)}var bs=Ti(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=je.call(t)),e[t]=n},qs(Ws)),ms=Ti(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=je.call(t)),xe.call(e,t)?e[t].push(n):e[t]=[n]},Qi),_s=Cr(br);function ws(e){return Po(e)?Fn(e):Sr(e)}function xs(e){return Po(e)?Fn(e,!0):function(e){if(!qo(e))return function(e){var t=[];if(null!=e)for(var n in pe(e))t.push(n);return t}(e);var t=la(e),n=[];for(var r in e)("constructor"!=r||!t&&xe.call(e,r))&&n.push(r);return n}(e)}var ks=mi(function(e,t,n){Ir(e,t,n)}),Ss=mi(function(e,t,n,r){Ir(e,t,n,r)}),js=zi(function(e,t){var n={};if(null==e)return n;var r=!1;t=lt(t,function(t){return t=oi(t,e),r||(r=t.length>1),t}),yi(e,Ki(e),n),r&&(n=Xn(n,7,Gi));for(var i=t.length;i--;)Zr(n,t[i]);return n}),Ns=zi(function(e,t){return null==e?{}:function(e,t){return Ar(e,t,function(t,n){return ys(e,n)})}(e,t)});function Es(e,t){if(null==e)return{};var n=lt(Ki(e),function(e){return[e]});return t=Qi(t),Ar(e,n,function(e,n){return t(e,n[0])})}var Ts=Ci(ws),Is=Ci(xs);function Rs(e){return null==e?[]:It(e,ws(e))}var Os=ki(function(e,t,n){return t=t.toLowerCase(),e+(n?As(t):t)});function As(e){return Us(us(e).toLowerCase())}function Ls(e){return(e=us(e))&&e.replace(ue,Mt).replace(Re,"")}var Ms=ki(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),Ds=ki(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),Ps=xi("toLowerCase"),Cs=ki(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),Fs=ki(function(e,t,n){return e+(n?" ":"")+Us(t)}),Bs=ki(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),Us=xi("toUpperCase");function Gs(e,t,n){return e=us(e),void 0===(t=n?void 0:t)?function(e){return Me.test(e)}(e)?function(e){return e.match(Ae)||[]}(e):function(e){return e.match(Z)||[]}(e):e.match(t)||[]}var Vs=Cr(function(e,t){try{return nt(e,void 0,t)}catch(n){return Uo(n)?n:new fe(n)}}),zs=zi(function(e,t){return it(t,function(t){t=Na(t),Wn(e,t,mo(e[t],e))}),e});function qs(e){return function(){return e}}var Ks=Ni(),Hs=Ni(!0);function Ws(e){return e}function Js(e){return kr("function"==typeof e?e:Xn(e,1))}var Qs=Cr(function(e,t){return function(n){return br(n,e,t)}}),Xs=Cr(function(e,t){return function(n){return br(e,n,t)}});function Ys(e,t,n){var r=ws(t),i=lr(t,r);null!=n||qo(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=lr(t,ws(t)));var a=!(qo(n)&&"chain"in n&&!n.chain),o=Go(e);return it(i,function(n){var r=t[n];e[n]=r,o&&(e.prototype[n]=function(){var t=this.__chain__;if(a||t){var n=e(this.__wrapped__),i=n.__actions__=gi(this.__actions__);return i.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,ft([this.value()],arguments))})}),e}function Zs(){}var $s=Ri(lt),eu=Ri(ot),tu=Ri(pt);function nu(e){return sa(e)?xt(Na(e)):function(e){return function(t){return fr(t,e)}}(e)}var ru=Ai(),iu=Ai(!0);function au(){return[]}function ou(){return!1}var su,uu=Ii(function(e,t){return e+t},0),cu=Di("ceil"),lu=Ii(function(e,t){return e/t},1),fu=Di("floor"),du=Ii(function(e,t){return e*t},1),hu=Di("round"),pu=Ii(function(e,t){return e-t},0);return Tn.after=function(e,t){if("function"!=typeof t)throw new ye(i);return e=is(e),function(){if(--e<1)return t.apply(this,arguments)}},Tn.ary=yo,Tn.assign=cs,Tn.assignIn=ls,Tn.assignInWith=fs,Tn.assignWith=ds,Tn.at=hs,Tn.before=bo,Tn.bind=mo,Tn.bindAll=zs,Tn.bindKey=_o,Tn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Mo(e)?e:[e]},Tn.chain=to,Tn.chunk=function(e,t,n){t=(n?oa(e,t,n):void 0===t)?1:on(is(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var a=0,o=0,s=r(Zt(i/t));a<i;)s[o++]=qr(e,a,a+=t);return s},Tn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var a=e[t];a&&(i[r++]=a)}return i},Tn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=r(e-1),n=arguments[0],i=e;i--;)t[i-1]=arguments[i];return ft(Mo(n)?gi(n):[n],ar(t,1))},Tn.cond=function(e){var t=null==e?0:e.length,n=Qi();return e=t?lt(e,function(e){if("function"!=typeof e[1])throw new ye(i);return[n(e[0]),e[1]]}):[],Cr(function(n){for(var r=-1;++r<t;){var i=e[r];if(nt(i[0],this,n))return nt(i[1],this,n)}})},Tn.conforms=function(e){return function(e){var t=ws(e);return function(n){return Yn(n,e,t)}}(Xn(e,1))},Tn.constant=qs,Tn.countBy=io,Tn.create=function(e,t){var n=In(e);return null==t?n:Hn(n,t)},Tn.curry=function e(t,n,r){var i=Fi(t,8,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return i.placeholder=e.placeholder,i},Tn.curryRight=function e(t,n,r){var i=Fi(t,16,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return i.placeholder=e.placeholder,i},Tn.debounce=wo,Tn.defaults=ps,Tn.defaultsDeep=vs,Tn.defer=xo,Tn.delay=ko,Tn.difference=Ia,Tn.differenceBy=Ra,Tn.differenceWith=Oa,Tn.drop=function(e,t,n){var r=null==e?0:e.length;return r?qr(e,(t=n||void 0===t?1:is(t))<0?0:t,r):[]},Tn.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?qr(e,0,(t=r-(t=n||void 0===t?1:is(t)))<0?0:t):[]},Tn.dropRightWhile=function(e,t){return e&&e.length?ei(e,Qi(t,3),!0,!0):[]},Tn.dropWhile=function(e,t){return e&&e.length?ei(e,Qi(t,3),!0):[]},Tn.fill=function(e,t,n,r){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&oa(e,t,n)&&(n=0,r=i),function(e,t,n,r){var i=e.length;for((n=is(n))<0&&(n=-n>i?0:i+n),(r=void 0===r||r>i?i:is(r))<0&&(r+=i),r=n>r?0:as(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},Tn.filter=function(e,t){return(Mo(e)?st:ir)(e,Qi(t,3))},Tn.flatMap=function(e,t){return ar(ho(e,t),1)},Tn.flatMapDeep=function(e,t){return ar(ho(e,t),1/0)},Tn.flatMapDepth=function(e,t,n){return n=void 0===n?1:is(n),ar(ho(e,t),n)},Tn.flatten=Ma,Tn.flattenDeep=function(e){return null!=e&&e.length?ar(e,1/0):[]},Tn.flattenDepth=function(e,t){return null!=e&&e.length?ar(e,t=void 0===t?1:is(t)):[]},Tn.flip=function(e){return Fi(e,512)},Tn.flow=Ks,Tn.flowRight=Hs,Tn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},Tn.functions=function(e){return null==e?[]:lr(e,ws(e))},Tn.functionsIn=function(e){return null==e?[]:lr(e,xs(e))},Tn.groupBy=co,Tn.initial=function(e){return null!=e&&e.length?qr(e,0,-1):[]},Tn.intersection=Pa,Tn.intersectionBy=Ca,Tn.intersectionWith=Fa,Tn.invert=bs,Tn.invertBy=ms,Tn.invokeMap=lo,Tn.iteratee=Js,Tn.keyBy=fo,Tn.keys=ws,Tn.keysIn=xs,Tn.map=ho,Tn.mapKeys=function(e,t){var n={};return t=Qi(t,3),ur(e,function(e,r,i){Wn(n,t(e,r,i),e)}),n},Tn.mapValues=function(e,t){var n={};return t=Qi(t,3),ur(e,function(e,r,i){Wn(n,r,t(e,r,i))}),n},Tn.matches=function(e){return Er(Xn(e,1))},Tn.matchesProperty=function(e,t){return Tr(e,Xn(t,1))},Tn.memoize=So,Tn.merge=ks,Tn.mergeWith=Ss,Tn.method=Qs,Tn.methodOf=Xs,Tn.mixin=Ys,Tn.negate=jo,Tn.nthArg=function(e){return e=is(e),Cr(function(t){return Rr(t,e)})},Tn.omit=js,Tn.omitBy=function(e,t){return Es(e,jo(Qi(t)))},Tn.once=function(e){return bo(2,e)},Tn.orderBy=function(e,t,n,r){return null==e?[]:(Mo(t)||(t=null==t?[]:[t]),Mo(n=r?void 0:n)||(n=null==n?[]:[n]),Or(e,t,n))},Tn.over=$s,Tn.overArgs=No,Tn.overEvery=eu,Tn.overSome=tu,Tn.partial=Eo,Tn.partialRight=To,Tn.partition=po,Tn.pick=Ns,Tn.pickBy=Es,Tn.property=nu,Tn.propertyOf=function(e){return function(t){return null==e?void 0:fr(e,t)}},Tn.pull=Ua,Tn.pullAll=Ga,Tn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Lr(e,t,Qi(n,2)):e},Tn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Lr(e,t,void 0,n):e},Tn.pullAt=Va,Tn.range=ru,Tn.rangeRight=iu,Tn.rearg=Io,Tn.reject=function(e,t){return(Mo(e)?st:ir)(e,jo(Qi(t,3)))},Tn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],a=e.length;for(t=Qi(t,3);++r<a;){var o=e[r];t(o,r,e)&&(n.push(o),i.push(r))}return Mr(e,i),n},Tn.rest=function(e,t){if("function"!=typeof e)throw new ye(i);return Cr(e,t=void 0===t?t:is(t))},Tn.reverse=za,Tn.sampleSize=function(e,t,n){return t=(n?oa(e,t,n):void 0===t)?1:is(t),(Mo(e)?Un:Br)(e,t)},Tn.set=function(e,t,n){return null==e?e:Ur(e,t,n)},Tn.setWith=function(e,t,n,r){return r="function"==typeof r?r:void 0,null==e?e:Ur(e,t,n,r)},Tn.shuffle=function(e){return(Mo(e)?Gn:zr)(e)},Tn.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&oa(e,t,n)?(t=0,n=r):(t=null==t?0:is(t),n=void 0===n?r:is(n)),qr(e,t,n)):[]},Tn.sortBy=vo,Tn.sortedUniq=function(e){return e&&e.length?Jr(e):[]},Tn.sortedUniqBy=function(e,t){return e&&e.length?Jr(e,Qi(t,2)):[]},Tn.split=function(e,t,n){return n&&"number"!=typeof n&&oa(e,t,n)&&(t=n=void 0),(n=void 0===n?4294967295:n>>>0)?(e=us(e))&&("string"==typeof t||null!=t&&!Qo(t))&&!(t=Xr(t))&&Ct(e)?ui(qt(e),0,n):e.split(t,n):[]},Tn.spread=function(e,t){if("function"!=typeof e)throw new ye(i);return t=null==t?0:on(is(t),0),Cr(function(n){var r=n[t],i=ui(n,0,t);return r&&ft(i,r),nt(e,this,i)})},Tn.tail=function(e){var t=null==e?0:e.length;return t?qr(e,1,t):[]},Tn.take=function(e,t,n){return e&&e.length?qr(e,0,(t=n||void 0===t?1:is(t))<0?0:t):[]},Tn.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?qr(e,(t=r-(t=n||void 0===t?1:is(t)))<0?0:t,r):[]},Tn.takeRightWhile=function(e,t){return e&&e.length?ei(e,Qi(t,3),!1,!0):[]},Tn.takeWhile=function(e,t){return e&&e.length?ei(e,Qi(t,3)):[]},Tn.tap=function(e,t){return t(e),e},Tn.throttle=function(e,t,n){var r=!0,a=!0;if("function"!=typeof e)throw new ye(i);return qo(n)&&(r="leading"in n?!!n.leading:r,a="trailing"in n?!!n.trailing:a),wo(e,t,{leading:r,maxWait:t,trailing:a})},Tn.thru=no,Tn.toArray=ns,Tn.toPairs=Ts,Tn.toPairsIn=Is,Tn.toPath=function(e){return Mo(e)?lt(e,Na):Zo(e)?[e]:gi(ja(us(e)))},Tn.toPlainObject=ss,Tn.transform=function(e,t,n){var r=Mo(e),i=r||Fo(e)||$o(e);if(t=Qi(t,4),null==n){var a=e&&e.constructor;n=i?r?new a:[]:qo(e)&&Go(a)?In(ze(e)):{}}return(i?it:ur)(e,function(e,r,i){return t(n,e,r,i)}),n},Tn.unary=function(e){return yo(e,1)},Tn.union=qa,Tn.unionBy=Ka,Tn.unionWith=Ha,Tn.uniq=function(e){return e&&e.length?Yr(e):[]},Tn.uniqBy=function(e,t){return e&&e.length?Yr(e,Qi(t,2)):[]},Tn.uniqWith=function(e,t){return t="function"==typeof t?t:void 0,e&&e.length?Yr(e,void 0,t):[]},Tn.unset=function(e,t){return null==e||Zr(e,t)},Tn.unzip=Wa,Tn.unzipWith=Ja,Tn.update=function(e,t,n){return null==e?e:$r(e,t,ai(n))},Tn.updateWith=function(e,t,n,r){return r="function"==typeof r?r:void 0,null==e?e:$r(e,t,ai(n),r)},Tn.values=Rs,Tn.valuesIn=function(e){return null==e?[]:It(e,xs(e))},Tn.without=Qa,Tn.words=Gs,Tn.wrap=function(e,t){return Eo(ai(t),e)},Tn.xor=Xa,Tn.xorBy=Ya,Tn.xorWith=Za,Tn.zip=$a,Tn.zipObject=function(e,t){return ri(e||[],t||[],zn)},Tn.zipObjectDeep=function(e,t){return ri(e||[],t||[],Ur)},Tn.zipWith=eo,Tn.entries=Ts,Tn.entriesIn=Is,Tn.extend=ls,Tn.extendWith=fs,Ys(Tn,Tn),Tn.add=uu,Tn.attempt=Vs,Tn.camelCase=Os,Tn.capitalize=As,Tn.ceil=cu,Tn.clamp=function(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=(n=os(n))==n?n:0),void 0!==t&&(t=(t=os(t))==t?t:0),Qn(os(e),t,n)},Tn.clone=function(e){return Xn(e,4)},Tn.cloneDeep=function(e){return Xn(e,5)},Tn.cloneDeepWith=function(e,t){return Xn(e,5,t="function"==typeof t?t:void 0)},Tn.cloneWith=function(e,t){return Xn(e,4,t="function"==typeof t?t:void 0)},Tn.conformsTo=function(e,t){return null==t||Yn(e,t,ws(t))},Tn.deburr=Ls,Tn.defaultTo=function(e,t){return null==e||e!=e?t:e},Tn.divide=lu,Tn.endsWith=function(e,t,n){e=us(e),t=Xr(t);var r=e.length,i=n=void 0===n?r:Qn(is(n),0,r);return(n-=t.length)>=0&&e.slice(n,i)==t},Tn.eq=Ro,Tn.escape=function(e){return(e=us(e))&&F.test(e)?e.replace(P,Dt):e},Tn.escapeRegExp=function(e){return(e=us(e))&&H.test(e)?e.replace(K,"\\$&"):e},Tn.every=function(e,t,n){var r=Mo(e)?ot:nr;return n&&oa(e,t,n)&&(t=void 0),r(e,Qi(t,3))},Tn.find=ao,Tn.findIndex=Aa,Tn.findKey=function(e,t){return gt(e,Qi(t,3),ur)},Tn.findLast=oo,Tn.findLastIndex=La,Tn.findLastKey=function(e,t){return gt(e,Qi(t,3),cr)},Tn.floor=fu,Tn.forEach=so,Tn.forEachRight=uo,Tn.forIn=function(e,t){return null==e?e:or(e,Qi(t,3),xs)},Tn.forInRight=function(e,t){return null==e?e:sr(e,Qi(t,3),xs)},Tn.forOwn=function(e,t){return e&&ur(e,Qi(t,3))},Tn.forOwnRight=function(e,t){return e&&cr(e,Qi(t,3))},Tn.get=gs,Tn.gt=Oo,Tn.gte=Ao,Tn.has=function(e,t){return null!=e&&na(e,t,vr)},Tn.hasIn=ys,Tn.head=Da,Tn.identity=Ws,Tn.includes=function(e,t,n,r){e=Po(e)?e:Rs(e),n=n&&!r?is(n):0;var i=e.length;return n<0&&(n=on(i+n,0)),Yo(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&bt(e,t,n)>-1},Tn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:is(n);return i<0&&(i=on(r+i,0)),bt(e,t,i)},Tn.inRange=function(e,t,n){return t=rs(t),void 0===n?(n=t,t=0):n=rs(n),function(e,t,n){return e>=sn(t,n)&&e<on(t,n)}(e=os(e),t,n)},Tn.invoke=_s,Tn.isArguments=Lo,Tn.isArray=Mo,Tn.isArrayBuffer=Do,Tn.isArrayLike=Po,Tn.isArrayLikeObject=Co,Tn.isBoolean=function(e){return!0===e||!1===e||Ko(e)&&hr(e)==c},Tn.isBuffer=Fo,Tn.isDate=Bo,Tn.isElement=function(e){return Ko(e)&&1===e.nodeType&&!Jo(e)},Tn.isEmpty=function(e){if(null==e)return!0;if(Po(e)&&(Mo(e)||"string"==typeof e||"function"==typeof e.splice||Fo(e)||$o(e)||Lo(e)))return!e.length;var t=ta(e);if(t==p||t==b)return!e.size;if(la(e))return!Sr(e).length;for(var n in e)if(xe.call(e,n))return!1;return!0},Tn.isEqual=function(e,t){return _r(e,t)},Tn.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:void 0)?n(e,t):void 0;return void 0===r?_r(e,t,void 0,n):!!r},Tn.isError=Uo,Tn.isFinite=function(e){return"number"==typeof e&&nn(e)},Tn.isFunction=Go,Tn.isInteger=Vo,Tn.isLength=zo,Tn.isMap=Ho,Tn.isMatch=function(e,t){return e===t||wr(e,t,Yi(t))},Tn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:void 0,wr(e,t,Yi(t),n)},Tn.isNaN=function(e){return Wo(e)&&e!=+e},Tn.isNative=function(e){if(ca(e))throw new fe("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return xr(e)},Tn.isNil=function(e){return null==e},Tn.isNull=function(e){return null===e},Tn.isNumber=Wo,Tn.isObject=qo,Tn.isObjectLike=Ko,Tn.isPlainObject=Jo,Tn.isRegExp=Qo,Tn.isSafeInteger=function(e){return Vo(e)&&e>=-9007199254740991&&e<=9007199254740991},Tn.isSet=Xo,Tn.isString=Yo,Tn.isSymbol=Zo,Tn.isTypedArray=$o,Tn.isUndefined=function(e){return void 0===e},Tn.isWeakMap=function(e){return Ko(e)&&ta(e)==w},Tn.isWeakSet=function(e){return Ko(e)&&"[object WeakSet]"==hr(e)},Tn.join=function(e,t){return null==e?"":rn.call(e,t)},Tn.kebabCase=Ms,Tn.last=Ba,Tn.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r;return void 0!==n&&(i=(i=is(n))<0?on(r+i,0):sn(i,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,i):yt(e,_t,i,!0)},Tn.lowerCase=Ds,Tn.lowerFirst=Ps,Tn.lt=es,Tn.lte=ts,Tn.max=function(e){return e&&e.length?rr(e,Ws,pr):void 0},Tn.maxBy=function(e,t){return e&&e.length?rr(e,Qi(t,2),pr):void 0},Tn.mean=function(e){return wt(e,Ws)},Tn.meanBy=function(e,t){return wt(e,Qi(t,2))},Tn.min=function(e){return e&&e.length?rr(e,Ws,jr):void 0},Tn.minBy=function(e,t){return e&&e.length?rr(e,Qi(t,2),jr):void 0},Tn.stubArray=au,Tn.stubFalse=ou,Tn.stubObject=function(){return{}},Tn.stubString=function(){return""},Tn.stubTrue=function(){return!0},Tn.multiply=du,Tn.nth=function(e,t){return e&&e.length?Rr(e,is(t)):void 0},Tn.noConflict=function(){return qe._===this&&(qe._=Ee),this},Tn.noop=Zs,Tn.now=go,Tn.pad=function(e,t,n){e=us(e);var r=(t=is(t))?zt(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Oi($t(i),n)+e+Oi(Zt(i),n)},Tn.padEnd=function(e,t,n){e=us(e);var r=(t=is(t))?zt(e):0;return t&&r<t?e+Oi(t-r,n):e},Tn.padStart=function(e,t,n){e=us(e);var r=(t=is(t))?zt(e):0;return t&&r<t?Oi(t-r,n)+e:e},Tn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),cn(us(e).replace(W,""),t||0)},Tn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&oa(e,t,n)&&(t=n=void 0),void 0===n&&("boolean"==typeof t?(n=t,t=void 0):"boolean"==typeof e&&(n=e,e=void 0)),void 0===e&&void 0===t?(e=0,t=1):(e=rs(e),void 0===t?(t=e,e=0):t=rs(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=ln();return sn(e+i*(t-e+Ue("1e-"+((i+"").length-1))),t)}return Dr(e,t)},Tn.reduce=function(e,t,n){var r=Mo(e)?dt:St,i=arguments.length<3;return r(e,Qi(t,4),n,i,er)},Tn.reduceRight=function(e,t,n){var r=Mo(e)?ht:St,i=arguments.length<3;return r(e,Qi(t,4),n,i,tr)},Tn.repeat=function(e,t,n){return t=(n?oa(e,t,n):void 0===t)?1:is(t),Pr(us(e),t)},Tn.replace=function(){var e=arguments,t=us(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Tn.result=function(e,t,n){var r=-1,i=(t=oi(t,e)).length;for(i||(i=1,e=void 0);++r<i;){var a=null==e?void 0:e[Na(t[r])];void 0===a&&(r=i,a=n),e=Go(a)?a.call(e):a}return e},Tn.round=hu,Tn.runInContext=e,Tn.sample=function(e){return(Mo(e)?Bn:Fr)(e)},Tn.size=function(e){if(null==e)return 0;if(Po(e))return Yo(e)?zt(e):e.length;var t=ta(e);return t==p||t==b?e.size:Sr(e).length},Tn.snakeCase=Cs,Tn.some=function(e,t,n){var r=Mo(e)?pt:Kr;return n&&oa(e,t,n)&&(t=void 0),r(e,Qi(t,3))},Tn.sortedIndex=function(e,t){return Hr(e,t)},Tn.sortedIndexBy=function(e,t,n){return Wr(e,t,Qi(n,2))},Tn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=Hr(e,t);if(r<n&&Ro(e[r],t))return r}return-1},Tn.sortedLastIndex=function(e,t){return Hr(e,t,!0)},Tn.sortedLastIndexBy=function(e,t,n){return Wr(e,t,Qi(n,2),!0)},Tn.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var n=Hr(e,t,!0)-1;if(Ro(e[n],t))return n}return-1},Tn.startCase=Fs,Tn.startsWith=function(e,t,n){return e=us(e),n=null==n?0:Qn(is(n),0,e.length),t=Xr(t),e.slice(n,n+t.length)==t},Tn.subtract=pu,Tn.sum=function(e){return e&&e.length?jt(e,Ws):0},Tn.sumBy=function(e,t){return e&&e.length?jt(e,Qi(t,2)):0},Tn.template=function(e,t,n){var r=Tn.templateSettings;n&&oa(e,t,n)&&(t=void 0),e=us(e),t=fs({},t,r,Bi);var i,a,o=fs({},t.imports,r.imports,Bi),s=ws(o),u=It(o,s),c=0,l=t.interpolate||ce,f="__p += '",d=ve((t.escape||ce).source+"|"+l.source+"|"+(l===G?te:ce).source+"|"+(t.evaluate||ce).source+"|$","g"),h="//# sourceURL="+(xe.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Pe+"]")+"\n";e.replace(d,function(t,n,r,o,s,u){return r||(r=o),f+=e.slice(c,u).replace(le,Pt),n&&(i=!0,f+="' +\n__e("+n+") +\n'"),s&&(a=!0,f+="';\n"+s+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=u+t.length,t}),f+="';\n";var p=xe.call(t,"variable")&&t.variable;if(p){if($.test(p))throw new fe("Invalid `variable` option passed into `_.template`")}else f="with (obj) {\n"+f+"\n}\n";f=(a?f.replace(A,""):f).replace(L,"$1").replace(M,"$1;"),f="function("+(p||"obj")+") {\n"+(p?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var v=Vs(function(){return de(s,h+"return "+f).apply(void 0,u)});if(v.source=f,Uo(v))throw v;return v},Tn.times=function(e,t){if((e=is(e))<1||e>9007199254740991)return[];var n=4294967295,r=sn(e,4294967295);e-=4294967295;for(var i=Nt(r,t=Qi(t));++n<e;)t(n);return i},Tn.toFinite=rs,Tn.toInteger=is,Tn.toLength=as,Tn.toLower=function(e){return us(e).toLowerCase()},Tn.toNumber=os,Tn.toSafeInteger=function(e){return e?Qn(is(e),-9007199254740991,9007199254740991):0===e?e:0},Tn.toString=us,Tn.toUpper=function(e){return us(e).toUpperCase()},Tn.trim=function(e,t,n){if((e=us(e))&&(n||void 0===t))return Et(e);if(!e||!(t=Xr(t)))return e;var r=qt(e),i=qt(t);return ui(r,Ot(r,i),At(r,i)+1).join("")},Tn.trimEnd=function(e,t,n){if((e=us(e))&&(n||void 0===t))return e.slice(0,Kt(e)+1);if(!e||!(t=Xr(t)))return e;var r=qt(e);return ui(r,0,At(r,qt(t))+1).join("")},Tn.trimStart=function(e,t,n){if((e=us(e))&&(n||void 0===t))return e.replace(W,"");if(!e||!(t=Xr(t)))return e;var r=qt(e);return ui(r,Ot(r,qt(t))).join("")},Tn.truncate=function(e,t){var n=30,r="...";if(qo(t)){var i="separator"in t?t.separator:i;n="length"in t?is(t.length):n,r="omission"in t?Xr(t.omission):r}var a=(e=us(e)).length;if(Ct(e)){var o=qt(e);a=o.length}if(n>=a)return e;var s=n-zt(r);if(s<1)return r;var u=o?ui(o,0,s).join(""):e.slice(0,s);if(void 0===i)return u+r;if(o&&(s+=u.length-s),Qo(i)){if(e.slice(s).search(i)){var c,l=u;for(i.global||(i=ve(i.source,us(ne.exec(i))+"g")),i.lastIndex=0;c=i.exec(l);)var f=c.index;u=u.slice(0,void 0===f?s:f)}}else if(e.indexOf(Xr(i),s)!=s){var d=u.lastIndexOf(i);d>-1&&(u=u.slice(0,d))}return u+r},Tn.unescape=function(e){return(e=us(e))&&C.test(e)?e.replace(D,Ht):e},Tn.uniqueId=function(e){var t=++ke;return us(e)+t},Tn.upperCase=Bs,Tn.upperFirst=Us,Tn.each=so,Tn.eachRight=uo,Tn.first=Da,Ys(Tn,(su={},ur(Tn,function(e,t){xe.call(Tn.prototype,t)||(su[t]=e)}),su),{chain:!1}),Tn.VERSION="4.17.21",it(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){Tn[e].placeholder=Tn}),it(["drop","take"],function(e,t){An.prototype[e]=function(n){n=void 0===n?1:on(is(n),0);var r=this.__filtered__&&!t?new An(this):this.clone();return r.__filtered__?r.__takeCount__=sn(n,r.__takeCount__):r.__views__.push({size:sn(n,4294967295),type:e+(r.__dir__<0?"Right":"")}),r},An.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),it(["filter","map","takeWhile"],function(e,t){var n=t+1,r=1==n||3==n;An.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Qi(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}}),it(["head","last"],function(e,t){var n="take"+(t?"Right":"");An.prototype[e]=function(){return this[n](1).value()[0]}}),it(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");An.prototype[e]=function(){return this.__filtered__?new An(this):this[n](1)}}),An.prototype.compact=function(){return this.filter(Ws)},An.prototype.find=function(e){return this.filter(e).head()},An.prototype.findLast=function(e){return this.reverse().find(e)},An.prototype.invokeMap=Cr(function(e,t){return"function"==typeof e?new An(this):this.map(function(n){return br(n,e,t)})}),An.prototype.reject=function(e){return this.filter(jo(Qi(e)))},An.prototype.slice=function(e,t){e=is(e);var n=this;return n.__filtered__&&(e>0||t<0)?new An(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),void 0!==t&&(n=(t=is(t))<0?n.dropRight(-t):n.take(t-e)),n)},An.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},An.prototype.toArray=function(){return this.take(4294967295)},ur(An.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),i=Tn[r?"take"+("last"==t?"Right":""):t],a=r||/^find/.test(t);i&&(Tn.prototype[t]=function(){var t=this.__wrapped__,o=r?[1]:arguments,s=t instanceof An,u=o[0],c=s||Mo(t),l=function(e){var t=i.apply(Tn,ft([e],o));return r&&f?t[0]:t};c&&n&&"function"==typeof u&&1!=u.length&&(s=c=!1);var f=this.__chain__,d=!!this.__actions__.length,h=a&&!f,p=s&&!d;if(!a&&c){t=p?t:new An(this);var v=e.apply(t,o);return v.__actions__.push({func:no,args:[l],thisArg:void 0}),new On(v,f)}return h&&p?e.apply(this,o):(v=this.thru(l),h?r?v.value()[0]:v.value():v)})}),it(["pop","push","shift","sort","splice","unshift"],function(e){var t=be[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Tn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(Mo(i)?i:[],e)}return this[n](function(n){return t.apply(Mo(n)?n:[],e)})}}),ur(An.prototype,function(e,t){var n=Tn[t];if(n){var r=n.name+"";xe.call(mn,r)||(mn[r]=[]),mn[r].push({name:t,func:n})}}),mn[Ei(void 0,2).name]=[{name:"wrapper",func:void 0}],An.prototype.clone=function(){var e=new An(this.__wrapped__);return e.__actions__=gi(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=gi(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=gi(this.__views__),e},An.prototype.reverse=function(){if(this.__filtered__){var e=new An(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},An.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Mo(e),r=t<0,i=n?e.length:0,a=function(e,t,n){for(var r=-1,i=n.length;++r<i;){var a=n[r],o=a.size;switch(a.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=sn(t,e+o);break;case"takeRight":e=on(e,t-o)}}return{start:e,end:t}}(0,i,this.__views__),o=a.start,s=a.end,u=s-o,c=r?s:o-1,l=this.__iteratees__,f=l.length,d=0,h=sn(u,this.__takeCount__);if(!n||!r&&i==u&&h==u)return ti(e,this.__actions__);var p=[];e:for(;u--&&d<h;){for(var v=-1,g=e[c+=t];++v<f;){var y=l[v],b=y.type,m=(0,y.iteratee)(g);if(2==b)g=m;else if(!m){if(1==b)continue e;break e}}p[d++]=g}return p},Tn.prototype.at=ro,Tn.prototype.chain=function(){return to(this)},Tn.prototype.commit=function(){return new On(this.value(),this.__chain__)},Tn.prototype.next=function(){void 0===this.__values__&&(this.__values__=ns(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?void 0:this.__values__[this.__index__++]}},Tn.prototype.plant=function(e){for(var t,n=this;n instanceof Rn;){var r=Ta(n);r.__index__=0,r.__values__=void 0,t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t},Tn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof An){var t=e;return this.__actions__.length&&(t=new An(this)),(t=t.reverse()).__actions__.push({func:no,args:[za],thisArg:void 0}),new On(t,this.__chain__)}return this.thru(za)},Tn.prototype.toJSON=Tn.prototype.valueOf=Tn.prototype.value=function(){return ti(this.__wrapped__,this.__actions__)},Tn.prototype.first=Tn.prototype.head,vt&&(Tn.prototype[vt]=function(){return this}),Tn}();qe._=Wt,void 0===(r=(function(){return Wt}).call(t,n,t,e))||(e.exports=r)}).call(this)}).call(this,n("YuTi")(e))},MrT7:function(e,t,n){"use strict";var i,a,o,u,c;function l(e,t,n,r){return new(n||(n=Promise))(function(i,a){function o(e){try{u(r.next(e))}catch(t){a(t)}}function s(e){try{u(r.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(o,s)}u((r=r.apply(e,t||[])).next())})}n.r(t);var f=n("JFj6");function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function v(e,t,n){return(v=p()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&d(i,n.prototype),i}).apply(null,arguments)}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e,t){if(!e)throw new Error("math.gl assertion ".concat(t))}Math;var m=1/180*Math.PI,_={};function x(e){return Math.round(e/_.EPSILON)*_.EPSILON}function k(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.precision,r=void 0===n?_.precision||4:n;return e=x(e),"".concat(parseFloat(e.toPrecision(r)))}function j(e){return Array.isArray(e)||ArrayBuffer.isView(e)&&!(e instanceof DataView)}function E(e){return function(e,t){return function(e,t,n){if(j(e)){n=n||((i=e).clone?i.clone():new Array(i.length));for(var r=0;r<n.length&&r<e.length;++r)n[r]=t(e[r]);return n}var i;return t(e)}(e,function(e){return e*m},void 0)}(e)}function T(e,t,n){var r=_.EPSILON;n&&(_.EPSILON=n);try{if(e===t)return!0;if(j(e)&&j(t)){if(e.length!==t.length)return!1;for(var i=0;i<e.length;++i)if(!T(e[i],t[i]))return!1;return!0}return e&&e.equals?e.equals(t):t&&t.equals?t.equals(e):!(!Number.isFinite(e)||!Number.isFinite(t))&&Math.abs(e-t)<=_.EPSILON*Math.max(1,Math.abs(e),Math.abs(t))}finally{_.EPSILON=r}}function I(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e,t,n){return t&&R(e.prototype,t),n&&R(e,n),e}function A(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}_.EPSILON=1e-12,_.debug=!1,_.precision=4,_.printTypes=!1,_.printDegrees=!1,_.printRowMajor=!0;var L=n("ge0l"),M=n.n(L);function D(e,t){return!t||"object"!==M()(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,t){if(e.length!==t)return!1;for(var n=0;n<e.length;++n)if(!Number.isFinite(e[n]))return!1;return!0}function F(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(_.debug&&!C(e,t))throw new Error("math.gl: ".concat(n," some fields set to invalid numbers'"));return e}var B={};function U(e,t){B[e]||(B[e]=!0,console.warn("".concat(e," has been removed in version ").concat(t,", see upgrade guide for more information")))}function G(e){var t="function"==typeof Map?new Map:void 0;return(G=function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return v(e,arguments,P(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),d(n,e)})(e)}var V,z=function(e){A(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=P(t);if(n){var i=P(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return D(this,e)});function i(){return I(this,i),r.apply(this,arguments)}return O(i,[{key:"toString",value:function(){var e="[";if(_.printRowMajor){e+="row-major:";for(var t=0;t<this.RANK;++t)for(var n=0;n<this.RANK;++n)e+=" ".concat(this[n*this.RANK+t])}else{e+="column-major:";for(var r=0;r<this.ELEMENTS;++r)e+=" ".concat(this[r])}return e+"]"}},{key:"getElementIndex",value:function(e,t){return t*this.RANK+e}},{key:"getElement",value:function(e,t){return this[t*this.RANK+e]}},{key:"setElement",value:function(e,t,n){return this[t*this.RANK+e]=function(e){if(!Number.isFinite(e))throw new Error("Invalid number ".concat(e));return e}(n),this}},{key:"getColumn",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Array(this.RANK).fill(-0),n=e*this.RANK,r=0;r<this.RANK;++r)t[r]=this[n+r];return t}},{key:"setColumn",value:function(e,t){for(var n=e*this.RANK,r=0;r<this.RANK;++r)this[n+r]=t[r];return this}}]),i}(function(e){A(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=P(t);if(n){var i=P(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return D(this,e)});function i(){return I(this,i),r.apply(this,arguments)}return O(i,[{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"from",value:function(e){return Array.isArray(e)?this.copy(e):this.fromObject(e)}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<this.ELEMENTS;++n)this[n]=e[n+t];return this.check()}},{key:"to",value:function(e){return e===this?this:j(e)?this.toArray(e):this.toObject(e)}},{key:"toTarget",value:function(e){return e?this.to(e):this}},{key:"toArray",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<this.ELEMENTS;++n)e[t+n]=this[n];return e}},{key:"toFloat32Array",value:function(){return new Float32Array(this)}},{key:"toString",value:function(){return this.formatString(_)}},{key:"formatString",value:function(e){for(var t="",n=0;n<this.ELEMENTS;++n)t+=(n>0?", ":"")+k(this[n],e);return"".concat(e.printTypes?this.constructor.name:"","[").concat(t,"]")}},{key:"equals",value:function(e){if(!e||this.length!==e.length)return!1;for(var t=0;t<this.ELEMENTS;++t)if(!T(this[t],e[t]))return!1;return!0}},{key:"exactEquals",value:function(e){if(!e||this.length!==e.length)return!1;for(var t=0;t<this.ELEMENTS;++t)if(this[t]!==e[t])return!1;return!0}},{key:"negate",value:function(){for(var e=0;e<this.ELEMENTS;++e)this[e]=-this[e];return this.check()}},{key:"lerp",value:function(e,t,n){void 0===n&&(n=t,t=e,e=this);for(var r=0;r<this.ELEMENTS;++r){var i=e[r];this[r]=i+n*(t[r]-i)}return this.check()}},{key:"min",value:function(e){for(var t=0;t<this.ELEMENTS;++t)this[t]=Math.min(e[t],this[t]);return this.check()}},{key:"max",value:function(e){for(var t=0;t<this.ELEMENTS;++t)this[t]=Math.max(e[t],this[t]);return this.check()}},{key:"clamp",value:function(e,t){for(var n=0;n<this.ELEMENTS;++n)this[n]=Math.min(Math.max(this[n],e[n]),t[n]);return this.check()}},{key:"add",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0,i=t;r<i.length;r++)for(var a=i[r],o=0;o<this.ELEMENTS;++o)this[o]+=a[o];return this.check()}},{key:"subtract",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0,i=t;r<i.length;r++)for(var a=i[r],o=0;o<this.ELEMENTS;++o)this[o]-=a[o];return this.check()}},{key:"scale",value:function(e){if(Array.isArray(e))return this.multiply(e);for(var t=0;t<this.ELEMENTS;++t)this[t]*=e;return this.check()}},{key:"sub",value:function(e){return this.subtract(e)}},{key:"setScalar",value:function(e){for(var t=0;t<this.ELEMENTS;++t)this[t]=e;return this.check()}},{key:"addScalar",value:function(e){for(var t=0;t<this.ELEMENTS;++t)this[t]+=e;return this.check()}},{key:"subScalar",value:function(e){return this.addScalar(-e)}},{key:"multiplyScalar",value:function(e){for(var t=0;t<this.ELEMENTS;++t)this[t]*=e;return this.check()}},{key:"divideScalar",value:function(e){return this.scale(1/e)}},{key:"clampScalar",value:function(e,t){for(var n=0;n<this.ELEMENTS;++n)this[n]=Math.min(Math.max(this[n],e),t);return this.check()}},{key:"multiplyByScalar",value:function(e){return this.scale(e)}},{key:"check",value:function(){if(_.debug&&!this.validate())throw new Error("math.gl: ".concat(this.constructor.name," some fields set to invalid numbers'"));return this}},{key:"validate",value:function(){for(var e=this.length===this.ELEMENTS,t=0;t<this.ELEMENTS;++t)e=e&&Number.isFinite(this[t]);return e}},{key:"ELEMENTS",get:function(){return b(!1),0}},{key:"RANK",get:function(){return b(!1),0}},{key:"elements",get:function(){return this}}]),i}(G(Array))),q="undefined"!=typeof Float32Array?Float32Array:Array;function K(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=t[4],u=t[5],c=t[6],l=t[7],f=t[8],d=t[9],h=t[10],p=t[11],v=t[12],g=t[13],y=t[14],b=t[15],m=n[0],_=n[1],w=n[2],x=n[3];return e[0]=m*r+_*s+w*f+x*v,e[1]=m*i+_*u+w*d+x*g,e[2]=m*a+_*c+w*h+x*y,e[3]=m*o+_*l+w*p+x*b,e[4]=(m=n[4])*r+(_=n[5])*s+(w=n[6])*f+(x=n[7])*v,e[5]=m*i+_*u+w*d+x*g,e[6]=m*a+_*c+w*h+x*y,e[7]=m*o+_*l+w*p+x*b,e[8]=(m=n[8])*r+(_=n[9])*s+(w=n[10])*f+(x=n[11])*v,e[9]=m*i+_*u+w*d+x*g,e[10]=m*a+_*c+w*h+x*y,e[11]=m*o+_*l+w*p+x*b,e[12]=(m=n[12])*r+(_=n[13])*s+(w=n[14])*f+(x=n[15])*v,e[13]=m*i+_*u+w*d+x*g,e[14]=m*a+_*c+w*h+x*y,e[15]=m*o+_*l+w*p+x*b,e}function H(e,t,n){var r=n[0],i=n[1],a=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*a,e[9]=t[9]*a,e[10]=t[10]*a,e[11]=t[11]*a,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function W(e,t,n,r,i){var a,o=1/Math.tan(t/2);return e[0]=o/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=i&&i!==1/0?(e[10]=(i+r)*(a=1/(r-i)),e[14]=2*i*r*a):(e[10]=-1,e[14]=-2*r),e}function J(e,t,n,r){var i,a,o,s,u,c,l,f,d,h,p=t[0],v=t[1],g=t[2],y=r[0],b=r[1],m=r[2],_=n[0],w=n[1],x=n[2];return Math.abs(p-_)<1e-6&&Math.abs(v-w)<1e-6&&Math.abs(g-x)<1e-6?function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}(e):(l=p-_,f=v-w,d=g-x,i=b*(d*=h=1/Math.hypot(l,f,d))-m*(f*=h),a=m*(l*=h)-y*d,o=y*f-b*l,(h=Math.hypot(i,a,o))?(i*=h=1/h,a*=h,o*=h):(i=0,a=0,o=0),s=f*o-d*a,u=d*i-l*o,c=l*a-f*i,(h=Math.hypot(s,u,c))?(s*=h=1/h,u*=h,c*=h):(s=0,u=0,c=0),e[0]=i,e[1]=s,e[2]=l,e[3]=0,e[4]=a,e[5]=u,e[6]=f,e[7]=0,e[8]=o,e[9]=c,e[10]=d,e[11]=0,e[12]=-(i*p+a*v+o*g),e[13]=-(s*p+u*v+c*g),e[14]=-(l*p+f*v+d*g),e[15]=1,e)}Math,Math,Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)}),V=new q(2),q!=Float32Array&&(V[0]=0,V[1]=0),function(){var e=new q(3);q!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0)}(),function(){var e=new q(4);q!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0)}();var Q=Object.freeze([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),X=Object.freeze([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Y=Object.freeze({COL0ROW0:0,COL0ROW1:1,COL0ROW2:2,COL0ROW3:3,COL1ROW0:4,COL1ROW1:5,COL1ROW2:6,COL1ROW3:7,COL2ROW0:8,COL2ROW1:9,COL2ROW2:10,COL2ROW3:11,COL3ROW0:12,COL3ROW1:13,COL3ROW2:14,COL3ROW3:15}),Z={},$=function(e){A(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=P(t);if(n){var i=P(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return D(this,e)});function i(e){var t;return I(this,i),t=r.call(this,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0),1===arguments.length&&Array.isArray(e)?t.copy(e):t.identity(),t}return O(i,[{key:"INDICES",get:function(){return Y}},{key:"ELEMENTS",get:function(){return 16}},{key:"RANK",get:function(){return 4}}],[{key:"IDENTITY",get:function(){return Z.IDENTITY=Z.IDENTITY||Object.freeze(new i(Q)),Z.IDENTITY}},{key:"ZERO",get:function(){return Z.ZERO=Z.ZERO||Object.freeze(new i(X)),Z.ZERO}}]),O(i,[{key:"copy",value:function(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=e[3],this[4]=e[4],this[5]=e[5],this[6]=e[6],this[7]=e[7],this[8]=e[8],this[9]=e[9],this[10]=e[10],this[11]=e[11],this[12]=e[12],this[13]=e[13],this[14]=e[14],this[15]=e[15],this.check()}},{key:"set",value:function(e,t,n,r,i,a,o,s,u,c,l,f,d,h,p,v){return this[0]=e,this[1]=t,this[2]=n,this[3]=r,this[4]=i,this[5]=a,this[6]=o,this[7]=s,this[8]=u,this[9]=c,this[10]=l,this[11]=f,this[12]=d,this[13]=h,this[14]=p,this[15]=v,this.check()}},{key:"setRowMajor",value:function(e,t,n,r,i,a,o,s,u,c,l,f,d,h,p,v){return this[0]=e,this[1]=i,this[2]=u,this[3]=d,this[4]=t,this[5]=a,this[6]=c,this[7]=h,this[8]=n,this[9]=o,this[10]=l,this[11]=p,this[12]=r,this[13]=s,this[14]=f,this[15]=v,this.check()}},{key:"toRowMajor",value:function(e){return e[0]=this[0],e[1]=this[4],e[2]=this[8],e[3]=this[12],e[4]=this[1],e[5]=this[5],e[6]=this[9],e[7]=this[13],e[8]=this[2],e[9]=this[6],e[10]=this[10],e[11]=this[14],e[12]=this[3],e[13]=this[7],e[14]=this[11],e[15]=this[15],e}},{key:"identity",value:function(){return this.copy(Q)}},{key:"fromQuaternion",value:function(e){return function(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=n+n,s=r+r,u=i+i,c=n*o,l=r*o,f=r*s,d=i*o,h=i*s,p=i*u,v=a*o,g=a*s,y=a*u;e[0]=1-f-p,e[1]=l+y,e[2]=d-g,e[3]=0,e[4]=l-y,e[5]=1-c-p,e[6]=h+v,e[7]=0,e[8]=d+g,e[9]=h-v,e[10]=1-c-f,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1}(this,e),this.check()}},{key:"frustum",value:function(e){var t=e.left,n=e.right,r=e.bottom,a=e.top,o=e.near,s=e.far;return s===1/0?i._computeInfinitePerspectiveOffCenter(this,t,n,r,a,o):function(e,t,n,r,i,a,o){var s=1/(n-t),u=1/(i-r),c=1/(a-o);e[0]=2*a*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*a*u,e[6]=0,e[7]=0,e[8]=(n+t)*s,e[9]=(i+r)*u,e[10]=(o+a)*c,e[11]=-1,e[12]=0,e[13]=0,e[14]=o*a*2*c,e[15]=0}(this,t,n,r,a,o,s),this.check()}},{key:"lookAt",value:function(e,t,n){if(1===arguments.length){var r=e;e=r.eye,t=r.center,n=r.up}return J(this,e,t=t||[0,0,0],n=n||[0,1,0]),this.check()}},{key:"ortho",value:function(e){var t=e.near,n=e.far;return function(e,t,n,r,i,a,o){var s=1/(t-n),u=1/(r-i),c=1/(a-o);e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*u,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*c,e[11]=0,e[12]=(t+n)*s,e[13]=(i+r)*u,e[14]=(o+a)*c,e[15]=1}(this,e.left,e.right,e.bottom,e.top,void 0===t?.1:t,void 0===n?500:n),this.check()}},{key:"orthographic",value:function(e){var t=e.fovy,n=void 0===t?45*Math.PI/180:t,r=e.aspect,a=void 0===r?1:r,o=e.focalDistance,s=void 0===o?1:o,u=e.near,c=void 0===u?.1:u,l=e.far,f=void 0===l?500:l;if(n>2*Math.PI)throw Error("radians");var d=s*Math.tan(n/2),h=d*a;return(new i).ortho({left:-h,right:h,bottom:-d,top:d,near:c,far:f})}},{key:"perspective",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.fovy,n=void 0===t?void 0:t,r=e.fov,i=void 0===r?45*Math.PI/180:r,a=e.aspect,o=void 0===a?1:a,s=e.near,u=void 0===s?.1:s,c=e.far,l=void 0===c?500:c;if((n=n||i)>2*Math.PI)throw Error("radians");return W(this,n,o,u,l),this.check()}},{key:"determinant",value:function(){return((t=(e=this)[0])*(o=e[5])-(n=e[1])*(a=e[4]))*((f=e[10])*(g=e[15])-(d=e[11])*(v=e[14]))-(t*(s=e[6])-(r=e[2])*a)*((l=e[9])*g-d*(p=e[13]))+(t*(u=e[7])-(i=e[3])*a)*(l*v-f*p)+(n*s-r*o)*((c=e[8])*g-d*(h=e[12]))-(n*u-i*o)*(c*v-f*h)+(r*u-i*s)*(c*p-l*h);var e,t,n,r,i,a,o,s,u,c,l,f,d,h,p,v,g}},{key:"getScale",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[-0,-0,-0];return e[0]=Math.sqrt(this[0]*this[0]+this[1]*this[1]+this[2]*this[2]),e[1]=Math.sqrt(this[4]*this[4]+this[5]*this[5]+this[6]*this[6]),e[2]=Math.sqrt(this[8]*this[8]+this[9]*this[9]+this[10]*this[10]),e}},{key:"getTranslation",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[-0,-0,-0];return e[0]=this[12],e[1]=this[13],e[2]=this[14],e}},{key:"getRotation",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.getScale(t||[-0,-0,-0]),r=1/n[0],i=1/n[1],a=1/n[2];return e[0]=this[0]*r,e[1]=this[1]*i,e[2]=this[2]*a,e[3]=0,e[4]=this[4]*r,e[5]=this[5]*i,e[6]=this[6]*a,e[7]=0,e[8]=this[8]*r,e[9]=this[9]*i,e[10]=this[10]*a,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},{key:"getRotationMatrix3",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[-0,-0,-0,-0,-0,-0,-0,-0,-0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.getScale(t||[-0,-0,-0]),r=1/n[0],i=1/n[1],a=1/n[2];return e[0]=this[0]*r,e[1]=this[1]*i,e[2]=this[2]*a,e[3]=this[4]*r,e[4]=this[5]*i,e[5]=this[6]*a,e[6]=this[8]*r,e[7]=this[9]*i,e[8]=this[10]*a,e}},{key:"transpose",value:function(){return function(e,t){if(e===t){var n=t[1],r=t[2],i=t[3],a=t[6],o=t[7],s=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=n,e[6]=t[9],e[7]=t[13],e[8]=r,e[9]=a,e[11]=t[14],e[12]=i,e[13]=o,e[14]=s}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15]}(this,this),this.check()}},{key:"invert",value:function(){return function(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],s=t[5],u=t[6],c=t[7],l=t[8],f=t[9],d=t[10],h=t[11],p=t[12],v=t[13],g=t[14],y=t[15],b=n*s-r*o,m=n*u-i*o,_=n*c-a*o,w=r*u-i*s,x=r*c-a*s,k=i*c-a*u,S=l*v-f*p,j=l*g-d*p,N=l*y-h*p,E=f*g-d*v,T=f*y-h*v,I=d*y-h*g,R=b*I-m*T+_*E+w*N-x*j+k*S;R&&(e[0]=(s*I-u*T+c*E)*(R=1/R),e[1]=(i*T-r*I-a*E)*R,e[2]=(v*k-g*x+y*w)*R,e[3]=(d*x-f*k-h*w)*R,e[4]=(u*N-o*I-c*j)*R,e[5]=(n*I-i*N+a*j)*R,e[6]=(g*_-p*k-y*m)*R,e[7]=(l*k-d*_+h*m)*R,e[8]=(o*T-s*N+c*S)*R,e[9]=(r*N-n*T-a*S)*R,e[10]=(p*x-v*_+y*b)*R,e[11]=(f*_-l*x-h*b)*R,e[12]=(s*j-o*E-u*S)*R,e[13]=(n*E-r*j+i*S)*R,e[14]=(v*m-p*w-g*b)*R,e[15]=(l*w-f*m+d*b)*R)}(this,this),this.check()}},{key:"multiplyLeft",value:function(e){return K(this,e,this),this.check()}},{key:"multiplyRight",value:function(e){return K(this,this,e),this.check()}},{key:"rotateX",value:function(e){return function(e,t,n){var r=Math.sin(n),i=Math.cos(n),a=t[4],o=t[5],s=t[6],u=t[7],c=t[8],l=t[9],f=t[10],d=t[11];t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=a*i+c*r,e[5]=o*i+l*r,e[6]=s*i+f*r,e[7]=u*i+d*r,e[8]=c*i-a*r,e[9]=l*i-o*r,e[10]=f*i-s*r,e[11]=d*i-u*r}(this,this,e),this.check()}},{key:"rotateY",value:function(e){return function(e,t,n){var r=Math.sin(n),i=Math.cos(n),a=t[0],o=t[1],s=t[2],u=t[3],c=t[8],l=t[9],f=t[10],d=t[11];t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=a*i-c*r,e[1]=o*i-l*r,e[2]=s*i-f*r,e[3]=u*i-d*r,e[8]=a*r+c*i,e[9]=o*r+l*i,e[10]=s*r+f*i,e[11]=u*r+d*i}(this,this,e),this.check()}},{key:"rotateZ",value:function(e){return function(e,t,n){var r=Math.sin(n),i=Math.cos(n),a=t[0],o=t[1],s=t[2],u=t[3],c=t[4],l=t[5],f=t[6],d=t[7];t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=a*i+c*r,e[1]=o*i+l*r,e[2]=s*i+f*r,e[3]=u*i+d*r,e[4]=c*i-a*r,e[5]=l*i-o*r,e[6]=f*i-s*r,e[7]=d*i-u*r}(this,this,e),this.check()}},{key:"rotateXYZ",value:function(e){var t,n=(3,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),3!==n.length);r=!0);}catch(u){i=!0,a=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}}(t)||function(e,t){if(e){if("string"==typeof e)return g(e,3);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,3):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=n[1],i=n[2];return this.rotateX(n[0]).rotateY(r).rotateZ(i)}},{key:"rotateAxis",value:function(e,t){return function(e,t,n,r){var i,a,o,s,u,c,l,f,d,h,p,v,g,y,b,m,_,w,x,k,S,j,N,E,T=r[0],I=r[1],R=r[2],O=Math.hypot(T,I,R);O<1e-6||(T*=O=1/O,I*=O,R*=O,i=Math.sin(n),a=Math.cos(n),u=t[1],c=t[2],l=t[3],d=t[5],h=t[6],p=t[7],g=t[9],y=t[10],b=t[11],x=T*I*(o=1-a)-R*i,k=I*I*o+a,S=R*I*o+T*i,j=T*R*o+I*i,N=I*R*o-T*i,E=R*R*o+a,e[0]=(s=t[0])*(m=T*T*o+a)+(f=t[4])*(_=I*T*o+R*i)+(v=t[8])*(w=R*T*o-I*i),e[1]=u*m+d*_+g*w,e[2]=c*m+h*_+y*w,e[3]=l*m+p*_+b*w,e[4]=s*x+f*k+v*S,e[5]=u*x+d*k+g*S,e[6]=c*x+h*k+y*S,e[7]=l*x+p*k+b*S,e[8]=s*j+f*N+v*E,e[9]=u*j+d*N+g*E,e[10]=c*j+h*N+y*E,e[11]=l*j+p*N+b*E,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]))}(this,this,e,t),this.check()}},{key:"scale",value:function(e){return Array.isArray(e)?H(this,this,e):H(this,this,[e,e,e]),this.check()}},{key:"translate",value:function(e){return function(e,t,n){var r,i,a,o,s,u,c,l,f,d,h,p,v=n[0],g=n[1],y=n[2];t===e?(e[12]=t[0]*v+t[4]*g+t[8]*y+t[12],e[13]=t[1]*v+t[5]*g+t[9]*y+t[13],e[14]=t[2]*v+t[6]*g+t[10]*y+t[14],e[15]=t[3]*v+t[7]*g+t[11]*y+t[15]):(i=t[1],a=t[2],o=t[3],s=t[4],u=t[5],c=t[6],l=t[7],f=t[8],d=t[9],h=t[10],p=t[11],e[0]=r=t[0],e[1]=i,e[2]=a,e[3]=o,e[4]=s,e[5]=u,e[6]=c,e[7]=l,e[8]=f,e[9]=d,e[10]=h,e[11]=p,e[12]=r*v+s*g+f*y+t[12],e[13]=i*v+u*g+d*y+t[13],e[14]=a*v+c*g+h*y+t[14],e[15]=o*v+l*g+p*y+t[15])}(this,this,e),this.check()}},{key:"transform",value:function(e,t){return 4===e.length?(F(t=function(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3];return e[0]=n[0]*r+n[4]*i+n[8]*a+n[12]*o,e[1]=n[1]*r+n[5]*i+n[9]*a+n[13]*o,e[2]=n[2]*r+n[6]*i+n[10]*a+n[14]*o,e[3]=n[3]*r+n[7]*i+n[11]*a+n[15]*o,e}(t||[-0,-0,-0,-0],e,this),4),t):this.transformAsPoint(e,t)}},{key:"transformAsPoint",value:function(e,t){switch(e.length){case 2:t=function(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[4]*i+n[12],e[1]=n[1]*r+n[5]*i+n[13],e}(t||[-0,-0],e,this);break;case 3:t=function(e,t,n){var r=t[0],i=t[1],a=t[2],o=n[3]*r+n[7]*i+n[11]*a+n[15];return e[0]=(n[0]*r+n[4]*i+n[8]*a+n[12])/(o=o||1),e[1]=(n[1]*r+n[5]*i+n[9]*a+n[13])/o,e[2]=(n[2]*r+n[6]*i+n[10]*a+n[14])/o,e}(t||[-0,-0,-0],e,this);break;default:throw new Error("Illegal vector")}return F(t,e.length),t}},{key:"transformAsVector",value:function(e,t){switch(e.length){case 2:t=function(e,t,n){var r=t[0],i=t[1],a=n[3]*r+n[7]*i||1;return e[0]=(n[0]*r+n[4]*i)/a,e[1]=(n[1]*r+n[5]*i)/a,e}(t||[-0,-0],e,this);break;case 3:t=function(e,t,n){var r=t[0],i=t[1],a=t[2],o=n[3]*r+n[7]*i+n[11]*a||1;return e[0]=(n[0]*r+n[4]*i+n[8]*a)/o,e[1]=(n[1]*r+n[5]*i+n[9]*a)/o,e[2]=(n[2]*r+n[6]*i+n[10]*a)/o,e}(t||[-0,-0,-0],e,this);break;default:throw new Error("Illegal vector")}return F(t,e.length),t}},{key:"makeRotationX",value:function(e){return this.identity().rotateX(e)}},{key:"makeTranslation",value:function(e,t,n){return this.identity().translate([e,t,n])}},{key:"transformPoint",value:function(e,t){return U("Matrix4.transformPoint","3.0"),this.transformAsPoint(e,t)}},{key:"transformVector",value:function(e,t){return U("Matrix4.transformVector","3.0"),this.transformAsPoint(e,t)}},{key:"transformDirection",value:function(e,t){return U("Matrix4.transformDirection","3.0"),this.transformAsVector(e,t)}}],[{key:"_computeInfinitePerspectiveOffCenter",value:function(e,t,n,r,i,a){var o=2*a/(i-r),s=(n+t)/(n-t),u=(i+r)/(i-r),c=-2*a;return e[0]=2*a/(n-t),e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o,e[6]=0,e[7]=0,e[8]=s,e[9]=u,e[10]=-1,e[11]=-1,e[12]=0,e[13]=0,e[14]=c,e[15]=0,e}}]),i}(z),ee=n("HXBs"),te=n("mtbl"),ne=n.n(te),re=n("YXac"),ie=n("l/hW"),ae=n.n(ie),oe=n("LvDl"),se=n("L1/z"),ue=f.Util.prefixes({ccf:"http://purl.org/ccf/latest/ccf.owl#",entity:"http://purl.org/ccf/latest/ccf-entity.owl#",obo:"http://purl.obolibrary.org/obo/",uberon:"http://purl.obolibrary.org/obo/UBERON_",lmha:"http://purl.obolibrary.org/obo/LMHA_",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",dc:"http://purl.org/dc/elements/1.1/"},f.DataFactory),ce={x:ue("rdf"),type:ue("rdf")("type")},le={x:ue("rdfs"),label:ue("rdfs")("label"),comment:ue("rdfs")("comment"),isDefinedBy:ue("rdfs")("isDefinedBy"),seeAlso:ue("rdfs")("seeAlso")},fe=ue("entity")("id"),de={x:ue("entity"),id:fe,label:le.label,description:le.comment,link:le.seeAlso,sex:ue("entity")("sex"),age:ue("entity")("age"),bmi:ue("entity")("bmi"),Male:f.DataFactory.literal("Male"),Female:f.DataFactory.literal("Female"),consortiumName:ue("entity")("consortium_name"),providerName:ue("entity")("provider_name"),providerUUID:ue("entity")("provider_uuid"),donor:ue("entity")("has_donor"),sections:ue("entity")("has_tissue_section"),datasets:ue("entity")("has_dataset"),sampleType:ue("entity")("sample_type"),TissueBlock:f.DataFactory.literal("Tissue Block"),TissueSection:f.DataFactory.literal("Tissue Section"),NonStandard:f.DataFactory.literal("Non-standard"),sectionCount:ue("entity")("section_count"),sectionSize:ue("entity")("section_size"),sectionUnits:ue("entity")("section_units"),sectionNumber:ue("entity")("section_number"),spatialEntity:ue("entity")("has_spatial_entity"),ontologyTerms:ue("entity")("has_ontology_term"),technology:ue("entity")("technology"),thumbnail:ue("entity")("has_thumbnail")},he=ue("ccf"),pe={x:he,ontologyNode:{label:he("ccf_preferred_label"),parent:he("ccf_part_of"),children:he("ccf_part_of"),rui_rank:he("ccf_rui_rank"),synonymLabels:f.DataFactory.namedNode("http://www.geneontology.org/formats/oboInOwl#hasExactSynonym")},spatial:{Female:he("VHFemale"),Male:he("VHMale"),BothSexes:he("VHBothSexes"),FemaleOrgans:he("VHFemaleOrgans"),MaleOrgans:he("VHMaleOrgans")},SpatialObjectReference:he("SpatialObjectReference"),SpatialEntity:he("SpatialEntity"),SpatialPlacement:he("SpatialPlacement"),spatialObjectReference:{file:he("has_object_file"),file_format:he("has_object_file_format"),file_subpath:he("has_object_file_subpath")},extractionSet:{label:le.label,rui_rank:he("ccf_rui_rank")},spatialEntity:{label:le.label,comment:le.comment,creator:ue("dc")("creator"),creator_first_name:he("creator_first_name"),creator_last_name:he("creator_last_name"),creator_orcid:he("creator_orcid"),creation_date:he("creation_date"),updated_date:he("updated_date"),ccf_annotations:he("ccf_annotation"),representation_of:he("ccf_representation_of"),reference_organ:he("anatomical_structure_of"),extraction_set_for:he("extraction_set_for"),extraction_set:he("extraction_site_for"),sex:he("has_sex"),side:he("has_side"),rui_rank:he("ccf_rui_rank"),slice_thickness:he("ccf_slice_thickness"),slice_count:he("ccf_slice_count"),x_dimension:he("has_x_dimension"),y_dimension:he("has_y_dimension"),z_dimension:he("has_z_dimension"),dimension_units:he("has_dimension_units"),object:he("has_object_reference")},spatialPlacement:{source:he("has_placement_source"),target:he("has_placement_target"),placement_date:he("has_placement_date"),x_scaling:he("has_x_scaling"),y_scaling:he("has_y_scaling"),z_scaling:he("has_z_scaling"),scaling_units:he("has_scaling_units"),x_rotation:he("has_x_rotation"),y_rotation:he("has_y_rotation"),z_rotation:he("has_z_rotation"),w_rotation:he("has_theta_rotation"),rotation_order:he("has_rotation_order"),rotation_units:he("has_rotation_units"),x_translation:he("has_x_translation"),y_translation:he("has_y_translation"),z_translation:he("has_z_translation"),translation_units:he("has_translation_units")}},ve={x:ue("uberon")},ge={x:ue("lmha")},ye={body:ve.x("0013702"),heart:ve.x("0000948"),lung:ge.x("00211"),left_lung:ve.x("0002168"),right_lung:ve.x("0002167"),kidney:ve.x("0002113"),left_kidney:ve.x("0004538"),right_kidney:ve.x("0004539"),spleen:ve.x("0002106"),large_intestine:ve.x("0001155"),small_intestine:ve.x("0002108"),rectum:ve.x("0001052"),liver:ve.x("0002107"),bladder:ve.x("0001255"),ureter:ve.x("0000056"),left_ureter:ve.x("0001223"),right_ureter:ve.x("0001222"),thymus:ve.x("0002370"),lymph_node:ve.x("0000029")};function be(e){var t={};return Object.entries(e).forEach(function(e){var n=r(e,2),i=n[0],a=n[1];t[a.id]=i}),t}var me={spatialObjectReference:be(pe.spatialObjectReference),spatialEntity:be(pe.spatialEntity),spatialPlacement:be(pe.spatialPlacement)};function _e(e,t,n,r){var i={"@id":t,"@type":n};return e.some(function(e){var t=r[e.predicate.id];if(t){var n="Literal"===e.object.termType?Object(se.fromRdf)(e.object):e.object.id;Object(oe.set)(i,t,n)}return!1},f.DataFactory.namedNode(t),null,null,null),i}function we(e,t){return _e(e,t,"SpatialObjectReference",me.spatialObjectReference)}function xe(e,t){var n=_e(e,t,"ExtractionSet",me.spatialEntity);return n.extractionSites=Object(oe.sortBy)(e.getSubjects(pe.spatialEntity.extraction_set,t,null).map(function(t){return ke(e,t.id)}),["rui_rank"]),n}function ke(e,t){var n=_e(e,t,"SpatialEntity",me.spatialEntity);return n.object&&(n.object=we(e,n.object)),n.ccf_annotations&&(n.ccf_annotations=e.getObjects(t,pe.spatialEntity.ccf_annotations,null).map(function(e){return e.id})),e.forSubjects(function(e){return n.entityId=e.id},de.spatialEntity,t,null),n}function Se(e,t){var n,r=t;switch(r.translation_units){case"centimeter":n=.01;break;case"millimeter":n=.001;break;case"meter":default:n=1}var i=[r.x_translation,r.y_translation,r.z_translation].map(function(e){return e*n}),a=[r.x_rotation,r.y_rotation,r.z_rotation].map(E),o=ae()(Object(re.fromEuler)(a[1],a[0],a[2],"XYZ").toVector()),s=[r.x_scaling,r.y_scaling,r.z_scaling];return e.translate(i).rotateXYZ(o).scale(s)}var je,Ne=function(){function e(t){S(this,e),this.db=t,this.createGraph()}return N(e,[{key:"createGraph",value:function(){var e=this;this.graph=new ee.DirectedGraph;var t=this.db.store;t.forSubjects(function(n){e.addSpatialObjectReference(we(t,n.id))},ce.type,pe.SpatialObjectReference,null),t.forSubjects(function(n){e.addSpatialEntity(ke(t,n.id))},ce.type,pe.SpatialEntity,null),t.forSubjects(function(n){e.addSpatialPlacement(function(e,t){var n=_e(e,t,"SpatialPlacement",me.spatialPlacement);return n.source&&(n.source=ke(e,n.source)),n.target&&(n.target=ke(e,n.target)),n}(t,n.id))},ce.type,pe.SpatialPlacement,null)}},{key:"addSpatialEntity",value:function(e){this.graph.mergeNode(e["@id"],{type:"SpatialEntity",object:e})}},{key:"addSpatialObjectReference",value:function(e){this.graph.mergeNode(e["@id"],{type:"SpatialObjectReference",object:e})}},{key:"addSpatialPlacement",value:function(e){this.graph.mergeDirectedEdge(e.source["@id"],e.target["@id"],{type:"SpatialPlacement",placement:e})}},{key:"getTransformationMatrix",value:function(e,t){if(e===t)return new $($.IDENTITY);if(this.graph.hasNode(e)&&this.graph.hasNode(t)){var n=new $($.IDENTITY),r=ne()(this.graph,e,t);if(r&&r.length>0){r.reverse();var i,a="",o=w(r);try{for(o.s();!(i=o.n()).done;){var s=i.value;a&&Se(n,this.graph.getEdgeAttribute(s,a,"placement")),a=s}}catch(u){o.e(u)}finally{o.f()}return n}}}}]),e}(),Ee=function(){function e(t){S(this,e),this.db=t}return N(e,[{key:"getSpatialEntity",value:function(e){return ke(this.db.store,e)}},{key:"getExtractionSets",value:function(e){return function(e,t){return Object(oe.sortBy)(e.getSubjects(pe.spatialEntity.extraction_set_for,t,null).map(function(t){return xe(e,t.id)}),["rui_rank"])}(this.db.store,e)}},{key:"getExtractionSet",value:function(e){return xe(this.db.store,e)}},{key:"getAnatomicalStructures",value:function(e){return function(e,t){return Object(oe.sortBy)(e.getSubjects(pe.spatialEntity.reference_organ,t,null).map(function(t){return ke(e,t.id)}).filter(function(e){return e["@id"]!==t}),["rui_rank"])}(this.db.store,e)}},{key:"getReferenceOrgans",value:function(){return e=this.db.store,t=[],e.forEach(function(n){n.subject.id===n.object.id&&t.push(ke(e,n.subject.id))},null,pe.spatialEntity.reference_organ,null,null),Object(oe.sortBy)(t,["rui_rank"]);var e,t}},{key:"getReferenceBody",value:function(e){var t;switch(null==e?void 0:e.sex){case"Male":t=pe.spatial.Male.id;break;case"Female":t=pe.spatial.Female.id;break;case"Both":default:t=pe.spatial.BothSexes.id}return this.getSpatialEntity(t)}},{key:"getReferenceOrganSets",value:function(e){var t=this,n=this.getReferenceOrgans();switch(null==e?void 0:e.sex){case"Male":n=n.filter(function(e){return"Male"===e.sex});break;case"Female":n=n.filter(function(e){return"Female"===e.sex})}return n=n.map(function(e){return[[e],t.getAnatomicalStructures(e["@id"])]}).reduce(function(e,t){var n=r(t,2),i=n[0],a=n[1];return e.concat(a.length>0?a:i)},[])}},{key:"getReferenceSceneNodes",value:function(e){var t=this,n=this.getReferenceBody(e),r=y(this.getReferenceOrganSets(e).map(function(e){var r="http://purl.obolibrary.org/obo/UBERON_0002097"===e.representation_of;return t.getSceneNode(e,n,{color:[255,255,255,255],opacity:r?.5:.2,unpickable:!0,_lighting:"pbr",zoomBasedOpacity:!r})}));return(null==e?void 0:e.debug)&&(r=r.concat([this.getSceneNode(this.getSpatialEntity(pe.x("VHRightKidney").id),n,{color:[0,0,255,127.5],wireframe:!0}),this.getSceneNode(this.getSpatialEntity(pe.x("VHLeftKidney").id),n,{color:[255,0,0,127.5],wireframe:!0}),this.getSceneNode(this.getSpatialEntity(pe.x("VHSpleenCC1").id),n,{color:[0,255,0,127.5],wireframe:!0}),this.getSceneNode(this.getSpatialEntity(pe.x("VHSpleenCC2").id),n,{color:[0,255,0,127.5],wireframe:!0}),this.getSceneNode(this.getSpatialEntity(pe.x("VHSpleenCC3").id),n,{color:[0,255,0,127.5],wireframe:!0})])),r.filter(function(e){return void 0!==e})}},{key:"getEntitySceneNodes",value:function(e){var t=this,n=this.getReferenceBody(e);return this.db.getSpatialEntities(e).map(function(e){return t.getSceneNode(e,n,{color:[255,255,255,229.5]})}).filter(function(e){return void 0!==e})}},{key:"getSceneNode",value:function(e,t){var n,r,i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=e.object&&(null===(n=e.object.file_format)||void 0===n?void 0:n.startsWith("model/gltf")),s=this.db.graph.getTransformationMatrix(o&&e.object?e.object["@id"]:e["@id"],t["@id"]);if(s){if(o)s=new $($.IDENTITY).rotateX(E(90)).multiplyLeft(s);else{var u;switch(e.dimension_units){case"centimeter":u=.01;break;case"millimeter":u=.001;break;case"meter":default:u=1}var c=[e.x_dimension,e.y_dimension,e.z_dimension].map(function(e){return e*u/2});s.scale(c)}return Object.assign({"@id":e["@id"],"@type":"SpatialSceneNode",entityId:e.entityId||void 0,ccf_annotations:e.ccf_annotations||void 0,representation_of:e.representation_of||void 0,reference_organ:e.reference_organ||void 0,scenegraph:o?null===(r=e.object)||void 0===r?void 0:r.file:void 0,scenegraphNode:o?null===(i=e.object)||void 0===i?void 0:i.file_subpath:void 0,transformMatrix:s,tooltip:e.label},a)}}},{key:"getScene",value:function(e){return[].concat(y(this.getReferenceSceneNodes(e)),y(this.getEntitySceneNodes(e)))}}]),e}(),Te="https://entity.api.hubmapconsortium.org/entities/",Ie=new Set(["VAN0003-LK-32-21-AF_preIMS_registered_thumbnail.jpg","VAN0003-LK-32-21-IMS_NegMode_multilayer_thumbnail.jpg","VAN0003-LK-32-21-IMS_PosMode_multilayer_thumbnail.jpg","VAN0003-LK-32-21-PAS_registered_thumbnail.jpg","VAN0003-LK-32-22-AF_preMxIF_registered_thumbnail.jpg","VAN0003-LK-32-22-MxIF_cyc1_registered_thumbnail.jpg","VAN0003-LK-32-22-MxIF_cyc2_registered_thumbnail.jpg","VAN0003-LK-32-22-MxIF_cyc3_registered_thumbnail.jpg","VAN0005-RK-1-1-AF_preIMS_registered_thumbnail.jpg","VAN0005-RK-1-1-IMS_NegMode_multilayer_thumbnail.jpg","VAN0005-RK-1-1-IMS_PosMode_multilayer_thumbnail.jpg","VAN0005-RK-1-1-PAS_registered_thumbnail.jpg","VAN0005-RK-4-172-AF_preIMS_registered_thumbnail.jpg","VAN0005-RK-4-172-IMS_NegMode_multilayer_thumbnail.jpg","VAN0005-RK-4-172-IMS_PosMode_multilayer_thumbnail.jpg","VAN0005-RK-4-172-PAS_registered_thumbnail.jpg","VAN0006-LK-2-85-AF_preIMS_registered_thumbnail.jpg","VAN0006-LK-2-85-IMS_NegMode_multilayer_thumbnail.jpg","VAN0006-LK-2-85-IMS_PosMode_multilayer_thumbnail.jpg","VAN0006-LK-2-85-PAS_registered_thumbnail.jpg","VAN0006-LK-2-86-AF_preMxIF_registered_thumbnail.jpg","VAN0006-LK-2-86-MxIF_cyc1_registered_thumbnail.jpg","VAN0006-LK-2-86-MxIF_cyc2_registered_thumbnail.jpg","VAN0006-LK-2-86-MxIF_cyc3_registered_thumbnail.jpg","VAN0007-LK-203-103-AF_preIMS_registered_thumbnail.jpg","VAN0007-LK-203-103-IMS_NegMode_multilayer_thumbnail.jpg","VAN0007-LK-203-103-IMS_PosMode_multilayer_thumbnail.jpg","VAN0007-LK-203-103-PAS_registered_thumbnail.jpg","VAN0008-RK-403-100-AF_preIMS_registered_thumbnail.jpg","VAN0008-RK-403-100-IMS_NegMode_multilayer_thumbnail.jpg","VAN0008-RK-403-100-IMS_PosMode_multilayer_thumbnail.jpg","VAN0008-RK-403-100-PAS_registered_thumbnail.jpg","VAN0008-RK-403-101-AF_preMxIF_registered_thumbnail.jpg","VAN0008-RK-403-101-MxIF_cyc1_registered_thumbnail.jpg","VAN0008-RK-403-101-MxIF_cyc2_registered_thumbnail.jpg","VAN0008-RK-403-101-MxIF_cyc3_registered_thumbnail.jpg","VAN0009-LK-102-7-AF_preIMS_registered_thumbnail.jpg","VAN0009-LK-102-7-IMS_NegMode_multilayer_thumbnail.jpg","VAN0009-LK-102-7-IMS_PosMode_multilayer_thumbnail.jpg","VAN0009-LK-102-7-PAS_registered_thumbnail.jpg","VAN0010-LK-155-40-AF_preIMS_registered_thumbnail.jpg","VAN0010-LK-155-40-IMS_NegMode_multilayer_thumbnail.jpg","VAN0010-LK-155-40-IMS_PosMode_multilayer_thumbnail.jpg","VAN0010-LK-155-40-PAS_registered_thumbnail.jpg","VAN0011-RK-3-10-AF_preIMS_registered_thumbnail.jpg","VAN0011-RK-3-10-IMS_NegMode_multilayer_thumbnail.jpg","VAN0011-RK-3-10-IMS_PosMode_multilayer_thumbnail.jpg","VAN0011-RK-3-10-PAS_registered_thumbnail.jpg","VAN0011-RK-3-11-AF_preMxIF_registered_thumbnail.jpg","VAN0011-RK-3-11-MxIF_cyc1_registered_thumbnail.jpg","VAN0011-RK-3-11-MxIF_cyc2_registered_thumbnail.jpg","VAN0011-RK-3-11-MxIF_cyc3_registered_thumbnail.jpg","VAN0012-RK-103-75-AF_preIMS_registered_thumbnail.jpg","VAN0012-RK-103-75-IMS_NegMode_multilayer_thumbnail.jpg","VAN0012-RK-103-75-IMS_PosMode_multilayer_thumbnail.jpg","VAN0012-RK-103-75-PAS_registered_thumbnail.jpg","VAN0012-RK-103-76-AF_preMxIF_registered_thumbnail.jpg","VAN0012-RK-103-76-MxIF_cyc1_registered_thumbnail.jpg","VAN0012-RK-103-76-MxIF_cyc2_registered_thumbnail.jpg","VAN0012-RK-103-76-MxIF_cyc3_registered_thumbnail.jpg","VAN0013-LK-202-96-AF_preIMS_registered_thumbnail.jpg","VAN0013-LK-202-96-IMS_NegMode_multilayer_thumbnail.jpg","VAN0013-LK-202-96-IMS_PosMode_multilayer_thumbnail.jpg","VAN0013-LK-202-96-PAS_registered_thumbnail.jpg","VAN0013-LK-202-97-AF_preMxIF_registered_thumbnail.jpg","VAN0013-LK-202-97-MxIF_cyc1_registered_thumbnail.jpg","VAN0013-LK-202-97-MxIF_cyc2_registered_thumbnail.jpg","VAN0013-LK-202-97-MxIF_cyc3_registered_thumbnail.jpg","VAN0014-LK-203-108-AF_preIMS_registered_thumbnail.jpg","VAN0014-LK-203-108-IMS_NegMode_multilayer_thumbnail.jpg","VAN0014-LK-203-108-IMS_PosMode_multilayer_thumbnail.jpg","VAN0014-LK-203-108-PAS_registered_thumbnail.jpg","VAN0016-LK-202-89-AF_preIMS_registered_thumbnail.jpg","VAN0016-LK-202-89-IMS_NegMode_multilayer_thumbnail.jpg","VAN0016-LK-202-89-IMS_PosMode_multilayer_thumbnail.jpg","VAN0016-LK-202-89-PAS_registered_thumbnail.jpg","VAN0003-LK-32-21-AF_preIMS_registered_thumbnail.jpg","VAN0003-LK-32-21-IMS_NegMode_multilayer_thumbnail.jpg","VAN0003-LK-32-21-IMS_PosMode_multilayer_thumbnail.jpg","VAN0003-LK-32-21-PAS_registered_thumbnail.jpg","VAN0003-LK-32-22-AF_preMxIF_registered_thumbnail.jpg","VAN0003-LK-32-22-MxIF_cyc1_registered_thumbnail.jpg","VAN0003-LK-32-22-MxIF_cyc2_registered_thumbnail.jpg","VAN0003-LK-32-22-MxIF_cyc3_registered_thumbnail.jpg","VAN0005-RK-1-1-AF_preIMS_registered_thumbnail.jpg","VAN0005-RK-1-1-IMS_NegMode_multilayer_thumbnail.jpg","VAN0005-RK-1-1-IMS_PosMode_multilayer_thumbnail.jpg","VAN0005-RK-1-1-PAS_registered_thumbnail.jpg","VAN0005-RK-4-172-AF_preIMS_registered_thumbnail.jpg","VAN0005-RK-4-172-IMS_NegMode_multilayer_thumbnail.jpg","VAN0005-RK-4-172-IMS_PosMode_multilayer_thumbnail.jpg","VAN0005-RK-4-172-PAS_registered_thumbnail.jpg","VAN0006-LK-2-85-AF_preIMS_registered_thumbnail.jpg","VAN0006-LK-2-85-IMS_NegMode_multilayer_thumbnail.jpg","VAN0006-LK-2-85-IMS_PosMode_multilayer_thumbnail.jpg","VAN0006-LK-2-85-PAS_registered_thumbnail.jpg","VAN0006-LK-2-86-AF_preMxIF_registered_thumbnail.jpg","VAN0006-LK-2-86-MxIF_cyc1_registered_thumbnail.jpg","VAN0006-LK-2-86-MxIF_cyc2_registered_thumbnail.jpg","VAN0006-LK-2-86-MxIF_cyc3_registered_thumbnail.jpg","VAN0007-LK-203-103-AF_preIMS_registered_thumbnail.jpg","VAN0007-LK-203-103-IMS_NegMode_multilayer_thumbnail.jpg","VAN0007-LK-203-103-IMS_PosMode_multilayer_thumbnail.jpg","VAN0007-LK-203-103-PAS_registered_thumbnail.jpg","VAN0008-RK-403-100-AF_preIMS_registered_thumbnail.jpg","VAN0008-RK-403-100-IMS_NegMode_multilayer_thumbnail.jpg","VAN0008-RK-403-100-IMS_PosMode_multilayer_thumbnail.jpg","VAN0008-RK-403-100-PAS_registered_thumbnail.jpg","VAN0008-RK-403-101-AF_preMxIF_registered_thumbnail.jpg","VAN0008-RK-403-101-MxIF_cyc1_registered_thumbnail.jpg","VAN0008-RK-403-101-MxIF_cyc2_registered_thumbnail.jpg","VAN0008-RK-403-101-MxIF_cyc3_registered_thumbnail.jpg","VAN0011-RK-3-10-AF_preIMS_registered_thumbnail.jpg","VAN0011-RK-3-10-IMS_NegMode_multilayer_thumbnail.jpg","VAN0011-RK-3-10-IMS_PosMode_multilayer_thumbnail.jpg","VAN0011-RK-3-10-PAS_registered_thumbnail.jpg","VAN0011-RK-3-11-AF_preMxIF_registered_thumbnail.jpg","VAN0011-RK-3-11-MxIF_cyc1_registered_thumbnail.jpg","VAN0011-RK-3-11-MxIF_cyc2_registered_thumbnail.jpg","VAN0011-RK-3-11-MxIF_cyc3_registered_thumbnail.jpg","VAN0012-RK-103-75-AF_preIMS_registered_thumbnail.jpg","VAN0012-RK-103-75-IMS_NegMode_multilayer_thumbnail.jpg","VAN0012-RK-103-75-IMS_PosMode_multilayer_thumbnail.jpg","VAN0012-RK-103-75-PAS_registered_thumbnail.jpg","VAN0012-RK-103-76-AF_preMxIF_registered_thumbnail.jpg","VAN0012-RK-103-76-MxIF_cyc1_registered_thumbnail.jpg","VAN0012-RK-103-76-MxIF_cyc2_registered_thumbnail.jpg","VAN0012-RK-103-76-MxIF_cyc3_registered_thumbnail.jpg"]),Re={"HBM558.SRZG.629":"HBM558.SRZG.629_UFL0002-SP-3-4-1.jpg","HBM562.NTMH.548":"HBM562.NTMH.548_UFL0006-SP-1-2-1.jpg","HBM685.KHRQ.684":"HBM685.KHRQ.684_UFL0008-LY07-1-1.jpg","HBM278.SFQW.627":"HBM278.SFQW.627_UFL0008-LY09-1-1.jpg","HBM427.SMGB.866":"HBM427.SMGB.866_UFL0004-SP-1-4-1.jpg","HBM432.LLCF.677":"HBM432.LLCF.677_UFL0001-SP-2-5-1.jpg","HBM586.ZSVS.996":"HBM586.ZSVS.996_UFL0008-SP-1-1-1.jpg","HBM285.XMBT.542":"HBM285.XMBT.542_UFL0006-TH-1-3-1.jpg","HBM289.BWJW.663":"HBM289.BWJW.663_UFL0006-TH-1-2-1.jpg","HBM255.SRPR.985":"HBM255.SRPR.985_UFL0005-TH-2-2-1.jpg","HBM799.WXHD.535":"HBM799.WXHD.535_UFL0009-LY02-1-1.jpg","HBM294.RZFN.624":"HBM294.RZFN.624_UFL0005-TH-1-1-1.jpg","HBM383.TRQG.424":"HBM383.TRQG.424_UFL0006-SP-1-3-1.jpg","HBM647.MFQB.496":"HBM647.MFQB.496_UFL0001-SP-1-2-1.jpg","HBM237.GGPR.739":"HBM237.GGPR.739_UFL0006-LY01-1-1.jpg","HBM288.TPBD.654":"HBM288.TPBD.654_UFL0003-SP-2-2-1.jpg","HBM974.NDXT.675":"HBM974.NDXT.675_UFL0008-TH-2-2-1.jpg","HBM589.SLVV.423":"HBM589.SLVV.423_UFL0008-LY10-1-1.jpg","HBM794.RLFN.358":"HBM794.RLFN.358_UFL0006-LY03-1-1.jpg","HBM372.BQSR.778":"HBM372.BQSR.778_UFL0007-SP-1-1-1.jpg","HBM499.TKDW.458":"HBM499.TKDW.458_UFL0009-LY03-1-1.jpg","HBM342.PRQB.739":"HBM342.PRQB.739_UFL0003-LY06-1-1.jpg","HBM633.CLVN.674":"HBM633.CLVN.674_UFL0003-SP-3-6-1.jpg","HBM343.JQKM.578":"HBM343.JQKM.578_UFL0009-LY01-1-1.jpg","HBM987.XGTH.368":"HBM987.XGTH.368_UFL0002-SP-2-4-1.jpg","HBM964.CWCP.788":"HBM964.CWCP.788_UFL0006-LY02-2-1.jpg","HBM244.TJLK.223":"HBM244.TJLK.223_UFL0003-SP-1-4-1.jpg","HBM646.FSBQ.966":"HBM646.FSBQ.966_UFL0007-SP-2-2-1.jpg","HBM572.GXSB.234":"HBM572.GXSB.234_UFL0003-SP-3-2-1.jpg","HBM772.TKGJ.794":"HBM772.TKGJ.794_UFL0008-SP-2-1-1.jpg","HBM239.CBWR.263":"HBM239.CBWR.263_UFL0008-SP-1-2-1.jpg","HBM992.NRTT.383":"HBM992.NRTT.383_UFL0006-SP-1-1-1.jpg","HBM283.DQXD.546":"HBM283.DQXD.546_UFL0003-SP-1-2-1.jpg","HBM795.JHND.856":"HBM795.JHND.856_UFL0007-SP-1-2-1.jpg","HBM267.BZKT.867":"HBM267.BZKT.867_UFL0003-SP-2-6-1.jpg","HBM838.DLMJ.782":"HBM838.DLMJ.782_UFL0008-TH-1-1-1.jpg","HBM337.FSXL.564":"HBM337.FSXL.564_UFL0001-SP-3-8-2.jpg","HBM355.JDLK.244":"HBM355.JDLK.244_UFL0004-SP-2-4-1.jpg","HBM599.PSZG.737":"HBM599.PSZG.737_UFL0006-LY02-1-1.jpg"},Oe={"03b3d854-ed44-11e8-8bce-0e368f3075e8":"TMC-UCSD","07a29e4c-ed43-11e8-b56a-0e8017bdda58":"TMC-Florida","308f5ffc-ed43-11e8-b56a-0e8017bdda58":"TMC-CalTech","5bd084c8-edc2-11e8-802f-0e368f3075e8":"HBM-TestingGroup","73bb26e4-ed43-11e8-8f19-0a7c1eab007a":"TMC-Vanderbilt","def5fd76-ed43-11e8-b56a-0e8017bdda58":"TMC-Stanford"},Ae=(je={},Object.entries(ye).forEach(function(e){var t=r(e,2),n=t[0],i=t[1];return je[n]=i.id}),je),Le={BL:[Ae.body,Ae.bladder],RK:[Ae.body,Ae.kidney,Ae.right_kidney],LK:[Ae.body,Ae.kidney,Ae.left_kidney],HT:[Ae.body,Ae.heart],LI:[Ae.body,Ae.large_intestine],SI:[Ae.body,Ae.small_instestine],LL:[Ae.body,Ae.lung,Ae.left_lung],RL:[Ae.body,Ae.lung,Ae.right_lung],LY:[Ae.body,Ae.lymph_node],SP:[Ae.body,Ae.spleen],TH:[Ae.body,Ae.thymus],UR:[Ae.body,Ae.ureter],LV:[Ae.body,Ae.liver],OT:[Ae.body]},Me={"@base":"http://purl.org/ccf/latest/ccf-entity.owl#","@vocab":"http://purl.org/ccf/latest/ccf-entity.owl#",ccf:"http://purl.org/ccf/latest/ccf.owl#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",label:"rdfs:label",description:"rdfs:comment",link:{"@id":"rdfs:seeAlso","@type":"@id"},samples:{"@reverse":"has_donor"},sections:{"@id":"has_tissue_section","@type":"@id"},datasets:{"@id":"has_dataset","@type":"@id"},rui_location:{"@id":"has_spatial_entity","@type":"@id"},ontologyTerms:{"@id":"has_ontology_term","@type":"@id"},thumbnail:{"@id":"has_thumbnail"}},De=function(){function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3?arguments[3]:void 0;if(S(this,e),this.data=t,this.bad=!1,this["@type"]="Sample",this.sample_type="Tissue Block","Sample"===this.data.entity_type){var o=this.data.descendants||[],s=(this.data.ancestors||[]).find(function(e){return"Donor"===e.entity_type});this.donor=this.getDonor(s,i);var u=this.getRuiLocation(t,s);u?this.rui_location=u:this.bad=!0;var c=new Date(t.last_modified_timestamp).toLocaleDateString(),l=Oe[t.group_uuid]||t.group_name,f=t.created_by_user_displayname;this["@id"]=Te+t.uuid,this.label="Registered ".concat(c,", ").concat(f,", ").concat(l),this.link="".concat(i,"browse/sample/").concat(t.uuid);var d={},h=[];this.sections=h;var p=[];this.datasets=p;var v,g=w(o.filter(function(e){return"Sample"===e.entity_type}));try{for(g.s();!(v=g.n()).done;){var y=v.value,b=this.getSection(y,t,i);d[y.hubmap_display_id]=b,h.push(b),b.section_number=b.section_number||h.length}}catch(R){g.e(R)}finally{g.f()}var m,_=w(o);try{for(_.s();!(m=_.n()).done;){var x=m.value;if("Dataset"===x.entity_type){var k=this.getDataset(x,r,i,a),j=Object(oe.get)(x,["metadata","metadata","tissue_id"]);d[j]?null===(n=d[j].datasets)||void 0===n||n.push(k):p.push(k)}}}catch(R){_.e(R)}finally{_.f()}var N=u||{},E="".concat(N.x_dimension," x ").concat(N.y_dimension," x ").concat(N.z_dimension," ").concat(N.dimension_units);this.section_count=N.slice_count||h.length;var T=parseFloat((N.slice_thickness||(N.z_dimension||0)/Math.max(this.section_count,1)).toFixed(1));this.section_size=T;var I=N.dimension_units||"millimeter";this.section_units=I,this.description="".concat(E,", ").concat(T," ").concat(I,", ").concat(t.specimen_type,", ").concat(this.section_count," Sections"),h.forEach(function(e,t){e.description="".concat(N.x_dimension," x ").concat(N.y_dimension," x ").concat(T," ").concat(I,", ").concat(T," ").concat(I,", ").concat(e.description),e.section_number=t+1})}else this.bad=!0}return N(e,[{key:"getSection",value:function(e,t,n){var r=new Date(e.last_modified_timestamp).toLocaleDateString();return{"@id":Te+e.uuid,"@type":"Sample",label:"Registered ".concat(r,", ").concat(e.created_by_user_displayname,", ").concat(Oe[e.group_uuid]||e.group_name),description:"".concat(t.specimen_type),link:"".concat(n,"browse/sample/").concat(e.uuid),sample_type:"Tissue Section",section_number:1,samples:[],datasets:[]}}},{key:"getDataset",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3?arguments[3]:void 0,a=new Date(e.last_modified_timestamp).toLocaleDateString(),o=Oe[e.group_uuid]||e.group_name,s=e.created_by_user_displayname,u=[].concat(y(e.data_types),[Object(oe.get)(e,["metadata","metadata","assay_type"],"")]),c=u.join("|").toLowerCase(),l="assets/icons/ico-unknown.svg";return-1!==c.indexOf("10x")?(t="10x",l="assets/icons/ico-bulk-10x.svg"):-1!==c.indexOf("af")?(t="AF",l="assets/icons/ico-spatial-af.svg"):-1!==c.indexOf("codex")?(t="CODEX",l="assets/icons/ico-spatial-codex.svg"):-1!==c.indexOf("imc")?(t="IMC",l="assets/icons/ico-spatial-imc.svg"):-1!==c.indexOf("lc")&&-1===c.indexOf("af")?(t="LC",l="assets/icons/ico-bulk-lc.svg"):t=-1!==c.indexOf("maldi")?"MALDI":-1!==c.indexOf("pas")?"PAS":"OTHER",l=this.getDatasetThumbnail(e,n,i)||l,{"@id":Te+e.uuid,"@type":"Dataset",label:"Registered ".concat(a,", ").concat(s,", ").concat(o),description:"Data/Assay Types: ".concat(u.join(", ")),link:"".concat(r,"browse/dataset/").concat(e.uuid),technology:t,thumbnail:l}}},{key:"getDatasetThumbnail",value:function(e,t,n){if("73bb26e4-ed43-11e8-8f19-0a7c1eab007a"===e.group_uuid){var r=Object(oe.get)(e,"metadata.files",[]).filter(function(e){return/\.(ome\.tif|ome\.tiff)$/.test(e.rel_path)}).filter(function(e){return!/(multilayer\.ome\.tif|\_ac\.ome\.tif)/.test(e.rel_path)}).filter(function(e){return Ie.has(e.rel_path.split("/").slice(-1)[0].split("?")[0].replace(".ome.tif","_thumbnail.jpg"))}).map(function(r){return"".concat(t,"/").concat(e.uuid,"/").concat(r.rel_path)+(n?"?token=".concat(n):"")});if(r.length>0){var i=r[0].split("/").slice(-1)[0].split("?")[0].replace(".ome.tif","_thumbnail.jpg");if(Ie.has(i))return"assets/thumbnails/TMC-Vanderbilt/DR1/".concat(i)}}else if("07a29e4c-ed43-11e8-b56a-0e8017bdda58"===e.group_uuid){var a=Re[e.display_doi];if(a)return"assets/thumbnails/TMC-Florida/".concat(a)}}},{key:"getDonor",value:function(e,t){var n,r=(e.description||"").toLowerCase();r.includes("female")?n="Female":r.includes("male")&&(n="Male");var i,a,o=r.match(/age\ ([0-9]+)/);o&&(i=Object(oe.toNumber)(o[1]));var s,u=w(Object(oe.get)(e,"metadata.organ_donor_data",[]));try{for(u.s();!(s=u.n()).done;){var c=s.value;"Feminine gender"===c.preferred_term||"Female"===c.preferred_term?n="Female":"Masculine gender"===c.preferred_term||"Male"===c.preferred_term?n="Male":"Current chronological age"===c.preferred_term||"Age"===c.preferred_term?i=Object(oe.toNumber)(c.data_value):"Body mass index"===c.preferred_term&&(a=Object(oe.toNumber)(c.data_value))}}catch(h){u.e(h)}finally{u.f()}var l="";n&&i&&(l+="".concat(n,", Age ").concat(i),a&&(l+=", BMI ".concat(a.toFixed(1))));var f=new Date(e.last_modified_timestamp).toLocaleDateString(),d=Oe[e.group_uuid]||e.group_name;return{"@id":Te+e.uuid,"@type":"Donor",label:l,description:"Entered ".concat(f,", ").concat(e.created_by_user_displayname,", ").concat(d),link:"".concat(t,"browse/donor/").concat(e.uuid),age:i,sex:n,bmi:a,consortium_name:"HuBMAP",provider_name:d,provider_uuid:e.group_uuid,samples:[]}}},{key:"getRuiLocation",value:function(e,t){var n,r=(e.ancestors||[]).find(function(e){return"Sample"===e.entity_type&&"organ"===e.specimen_type}),i=Le[null==r?void 0:r.organ]||[Ae.body],a=e.rui_location;return a&&("string"==typeof a&&(a=JSON.parse(a)),a.alignment_id?console.log("Detected a deprecated rui_location",e.uuid):a["@id"]&&(n=a)),n&&(n.ccf_annotations=i.concat(n.ccf_annotations||[])),n}},{key:"getTissueBlock",value:function(){return Object(oe.omit)(Object.assign({},this),["data","bad","donor"])}},{key:"toJsonLd",value:function(){return Object.assign(Object.assign({},this.donor),{samples:[this.getTissueBlock()]})}}]),e}();function Pe(e,t,n){var r=new Map,i=new Set;e.some(function(e){var n;return t.has(e.subject.id)&&(i.add(e.object.id),r.has(e.object.id)?null===(n=r.get(e.object.id))||void 0===n||n.push(e.subject.id):r.set(e.object.id,[e.subject.id])),!1},null,de.donor,null,null);var a,o=n(i),s=new Set,u=w(o);try{for(u.s();!(a=u.n()).done;){var c,l=a.value,f=w(r.get(l)||[]);try{for(f.s();!(c=f.n()).done;){var d=c.value;s.add(d)}}catch(h){f.e(h)}finally{f.f()}}}catch(h){u.e(h)}finally{u.f()}return s}function Ce(e,t){return function(n){return e.has(n.id)?t.add(n.id):void 0}}var Fe=(s(i={},pe.ontologyNode.label.id,"label"),s(i,pe.ontologyNode.parent.id,"parent"),s(i,pe.ontologyNode.synonymLabels.id,"synonymLabels"),i);function Be(e,t){var n=f.DataFactory.namedNode(t),r={"@id":t,"@type":"OntologyTreeNode",id:t,parent:"",children:[],synonymLabels:[]};return e.some(function(e){var t=Fe[e.predicate.id];if(t){var n="Literal"===e.object.termType?Object(se.fromRdf)(e.object):e.object.id;"synonymLabels"===t?r.synonymLabels.push(n):Object(oe.set)(r,t,n)}return!1},n,null,null,null),r.children=e.getSubjects(pe.ontologyNode.children,n,null).map(function(e){return e.id}),r}var Ue=(s(a={},de.label.id,"label"),s(a,de.description.id,"description"),s(a,de.link.id,"link"),a),Ge=Object.assign(Object.assign({},Ue),s({},de.providerName.id,"providerName")),Ve=Object.assign(Object.assign({},Ue),(s(o={},de.technology.id,"technology"),s(o,de.thumbnail.id,"thumbnail"),o)),ze=Object.assign(Object.assign({},Ue),(s(u={},de.sampleType.id,"sampleType"),s(u,de.sectionNumber.id,"sectionNumber"),s(u,de.datasets.id,"datasets"),u)),qe=Object.assign(Object.assign({},Ue),(s(c={},de.sampleType.id,"sampleType"),s(c,de.sectionCount.id,"sectionCount"),s(c,de.sectionSize.id,"sectionSize"),s(c,de.sectionUnits.id,"sectionUnits"),s(c,de.donor.id,"donor"),s(c,de.spatialEntity.id,"spatialEntityId"),s(c,de.sections.id,"sections"),s(c,de.datasets.id,"datasets"),c));function Ke(e,t){var n={"@id":t,"@type":"Dataset"};return e.some(function(e){var t=Ve[e.predicate.id];if(t){var r="Literal"===e.object.termType?Object(se.fromRdf)(e.object):e.object.id;Object(oe.set)(n,t,r)}return!1},f.DataFactory.namedNode(t),null,null,null),n}var He={ccfOwlUrl:"https://purl.org/ccf/latest/ccf.owl",ccfContextUrl:"https://purl.org/ccf/latest/ccf-context.jsonld",hubmapDataService:"static",hubmapPortalUrl:"https://portal.hubmapconsortium.org/",hubmapDataUrl:"",hubmapAssetsUrl:"https://assets.hubmapconsortium.org"},We=Symbol("Comlink.proxy"),Je=Symbol("Comlink.endpoint"),Qe=Symbol("Comlink.releaseProxy"),Xe=Symbol("Comlink.thrown"),Ye=function(e){return"object"==typeof e&&null!==e||"function"==typeof e},Ze=new Map([["proxy",{canHandle:function(e){return Ye(e)&&e[We]},serialize:function(e){var t=new MessageChannel,n=t.port1,r=t.port2;return $e(e,n),[r,[r]]},deserialize:function(e){return e.start(),nt(e,[],void 0)}}],["throw",{canHandle:function(e){return Ye(e)&&Xe in e},serialize:function(e){var t=e.value;return[t instanceof Error?{isError:!0,value:{message:t.message,name:t.name,stack:t.stack}}:{isError:!1,value:t},[]]},deserialize:function(e){if(e.isError)throw Object.assign(new Error(e.value.message),e.value);throw e.value}}]]);function $e(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:self;t.addEventListener("message",function n(i){if(i&&i.data){var a,o=Object.assign({path:[]},i.data),u=o.id,c=o.type,l=o.path,f=(i.data.argumentList||[]).map(ot);try{var d=l.slice(0,-1).reduce(function(e,t){return e[t]},e),p=l.reduce(function(e,t){return e[t]},e);switch(c){case 0:a=p;break;case 1:d[l.slice(-1)[0]]=ot(i.data.value),a=!0;break;case 2:a=p.apply(d,f);break;case 3:a=function(e){return Object.assign(e,s({},We,!0))}(h(p,y(f)));break;case 4:var v=new MessageChannel,g=v.port1,b=v.port2;$e(e,b),a=function(e,t){return it.set(e,t),e}(g,[g]);break;case 5:a=void 0}}catch(m){a=s({value:m},Xe,0)}Promise.resolve(a).catch(function(e){return s({value:e},Xe,0)}).then(function(e){var i=r(at(e),2),a=i[0],o=i[1];t.postMessage(Object.assign(Object.assign({},a),{id:u}),o),5===c&&(t.removeEventListener("message",n),et(t))})}}),t.start&&t.start()}function et(e){(function(e){return"MessagePort"===e.constructor.name})(e)&&e.close()}function tt(e){if(e)throw new Error("Proxy has been released and is not useable")}function nt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},i=!1,a=new Proxy(n,{get:function(n,r){if(tt(i),r===Qe)return function(){return st(e,{type:5,path:t.map(function(e){return e.toString()})}).then(function(){et(e),i=!0})};if("then"===r){if(0===t.length)return{then:function(){return a}};var o=st(e,{type:0,path:t.map(function(e){return e.toString()})}).then(ot);return o.then.bind(o)}return nt(e,[].concat(y(t),[r]))},set:function(n,a,o){tt(i);var s=r(at(o),2),u=s[0],c=s[1];return st(e,{type:1,path:[].concat(y(t),[a]).map(function(e){return e.toString()}),value:u},c).then(ot)},apply:function(n,a,o){tt(i);var s=t[t.length-1];if(s===Je)return st(e,{type:4}).then(ot);if("bind"===s)return nt(e,t.slice(0,-1));var u=r(rt(o),2),c=u[0],l=u[1];return st(e,{type:2,path:t.map(function(e){return e.toString()}),argumentList:c},l).then(ot)},construct:function(n,a){tt(i);var o=r(rt(a),2),s=o[0],u=o[1];return st(e,{type:3,path:t.map(function(e){return e.toString()}),argumentList:s},u).then(ot)}});return a}function rt(e){var t,n=e.map(at);return[n.map(function(e){return e[0]}),(t=n.map(function(e){return e[1]}),Array.prototype.concat.apply([],t))]}var it=new WeakMap;function at(e){var t,n=w(Ze);try{for(n.s();!(t=n.n()).done;){var i=r(t.value,2),a=i[0],o=i[1];if(o.canHandle(e)){var s=r(o.serialize(e),2);return[{type:3,name:a,value:s[0]},s[1]]}}}catch(u){n.e(u)}finally{n.f()}return[{type:0,value:e},it.get(e)||[]]}function ot(e){switch(e.type){case 3:return Ze.get(e.name).deserialize(e.value);case 0:return e.value}}function st(e,t,n){return new Promise(function(r){var i=new Array(4).fill(0).map(function(){return Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)}).join("-");e.addEventListener("message",function t(n){n.data&&n.data.id&&n.data.id===i&&(e.removeEventListener("message",t),r(n.data))}),e.start&&e.start(),e.postMessage(Object.assign({id:i},t),n)})}$e(new(function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He;S(this,e),this.options=t,this.store=new f.Store(void 0,{factory:f.DataFactory}),this.graph=new Ne(this),this.scene=new Ee(this)}return N(e,[{key:"connect",value:function(e){return l(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e&&(this.options=e),this.initializing||(this.initializing=this.doConnect()),t.next=4,this.initializing;case 4:return t.abrupt("return",this.store.size>0);case 5:case"end":return t.stop()}},t,this)}))}},{key:"doConnect",value:function(){return l(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=[],!(n=this.options.ccfOwlUrl).endsWith(".n3store.json")){e.next=8;break}return e.next=4,fetch(n).then(function(e){return e.text()}).catch(function(e){return console.log("Couldn't locate serialized store.")});case 4:(r=e.sent)&&(this.store=Object(f.deserializeN3Store)(r,f.DataFactory)),e.next=9;break;case 8:n.endsWith(".n3")?t.push(Object(f.addN3ToStore)(this.options.ccfOwlUrl,this.store)):t.push(Object(f.addRdfXmlToStore)(this.options.ccfOwlUrl,this.store));case 9:return this.options.hubmapDataUrl&&(this.options.hubmapDataUrl.endsWith(".jsonld")?t.push(Object(f.addJsonLdToStore)(this.options.hubmapDataUrl,this.store)):t.push(function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return l(this,void 0,void 0,regeneratorRuntime.mark(function o(){var s,u;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if("static"!==n){o.next=6;break}return o.next=3,fetch(t).then(function(e){return e.ok?e.json():void 0}).catch(function(){});case 3:s=o.sent,o.next=12;break;case 6:if("search-api"!==n){o.next=12;break}return u={"Content-type":"application/json"},r&&r.length>0&&(u.Authorization="Bearer ".concat(r)),o.next=11,fetch(t,{method:"POST",headers:u,body:JSON.stringify({version:!0,size:1e4,_source:{excludes:["donor","immediate_ancestors","immediate_descendants","origin_sample","portal_metadata_upload_files","portal_uploaded_image_files","ancestor_ids","descendant_ids"]},stored_fields:["*"],script_fields:{},docvalue_fields:[],query:{exists:{field:"rui_location"}}})}).then(function(e){return e.ok?e.json():void 0}).catch(function(){});case 11:s=o.sent;case 12:if(!s){o.next=17;break}return o.next=15,Object(f.addJsonLdToStore)(function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3?arguments[3]:void 0,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o={},s=Object(oe.get)(e,"hits.hits",[]).map(function(e){return Object(oe.get)(e,"_source",{})}).map(function(e){return new De(e,n,r,i).toJsonLd()}),u=w(s);try{for(u.s();!(t=u.n()).done;){var c=t.value,l=c["@id"];o[l]?o[l].samples.push(c.samples[0]):o[l]=c}}catch(d){u.e(d)}finally{u.f()}var f=Object.values(o);return a&&(function(e){var t,n=[],r=0,i=w(e.filter(function(e){return e.samples.length>1}));try{for(i.s();!(t=i.n()).done;){for(var a=t.value,o=a.samples,s=function(e){var t=o[e]["@id"];n=n.concat(o[e].datasets);var i,a=w(o[e].sections);try{for(a.s();!(i=a.n()).done;){var s=i.value;n=n.concat(s.datasets)}}catch(d){a.e(d)}finally{a.f()}for(var u=e+1;u<o.length;u++)o[u].sections.find(function(e){return e["@id"]===t})&&(o[e].deleteMe=!0,r++)},u=0;u<o.length;u++)s(u);a.samples=o.filter(function(e){return!0!==e.deleteMe})}}catch(d){i.e(d)}finally{i.f()}r>0&&console.log("\u26a0 ".concat(r," sections identified as blocks"))}(f),console.log(f.map(function(e){return Object.assign({"@context":Me},e)}))),{"@context":Me,"@graph":f}}(s,i,a,r),e);case 15:o.next=18;break;case 17:console.warn("Unable to load ".concat(t," as HuBMAP Data"));case 18:case"end":return o.stop()}},o)}))}(this.store,this.options.hubmapDataUrl,this.options.hubmapDataService,this.options.hubmapToken,this.options.hubmapAssetsUrl,this.options.hubmapPortalUrl)),t.push(Object(f.addJsonLdToStore)("assets/kpmp/data/rui_locations.jsonld",this.store).catch(function(e){return console.log("Couldn't locate KPMP data.")}))),e.next=12,Promise.all(t);case 12:return e.next=14,new Promise(function(e){return setTimeout(e,500)});case 14:this.graph.createGraph();case 15:case"end":return e.stop()}},e,this)}))}},{key:"getIds",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){var n,r,i,a,o,s=function(e){var t=new Set;return e.forSubjects(function(e){return t.add(e.id)},de.spatialEntity,null,null),t}(e);if(s.size>0&&(s=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=new Set;if(e.forSubjects(Ce(t,r),de.spatialEntity,null,null),!n){var i=new Set;return t.forEach(function(e){return r.has(e)?void 0:i.add(e)}),i}return r}(e,s)),s.size>0&&("Male"===t.sex||"Female"===t.sex)){var u=t.sex;s=Pe(e,s,function(t){return function(e,t,n){var r=new Set;return e.forSubjects(Ce(t,r),de.sex,de[n],null),r}(e,t,u)})}if(s.size>0&&(null===(n=t.tmc)||void 0===n?void 0:n.length)>0&&(s=Pe(e,s,function(n){return function(e,t,n){var r,i=new Set,a=w(n);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=f.DataFactory.literal(o);e.forSubjects(Ce(t,i),de.providerName,s,null)}}catch(u){a.e(u)}finally{a.f()}return i}(e,n,t.tmc)})),s.size>0&&(null===(r=t.technologies)||void 0===r?void 0:r.length)>0&&(s=function(e,t,n){var r=new Map,i=new Set,a=new Set;e.some(function(e){return t.has(e.subject.id)&&a.add(e.object.id),!1},null,de.sections,null,null),e.some(function(e){var n;return(t.has(e.subject.id)||a.has(e.subject.id))&&(i.add(e.object.id),r.has(e.object.id)?null===(n=r.get(e.object.id))||void 0===n||n.push(e.subject.id):r.set(e.object.id,[e.subject.id])),!1},null,de.datasets,null,null);var o,s=n(i),u=new Set,c=w(s);try{for(c.s();!(o=c.n()).done;){var l,f=o.value,d=w(r.get(f)||[]);try{for(d.s();!(l=d.n()).done;){var h=l.value;u.add(h)}}catch(p){d.e(p)}finally{d.f()}}}catch(p){c.e(p)}finally{c.f()}return u}(e,s,function(n){return function(e,t,n){var r,i=new Set,a=w(n);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=f.DataFactory.literal(o);e.forSubjects(Ce(t,i),de.technology,s,null)}}catch(u){a.e(u)}finally{a.f()}return i}(e,n,t.technologies)})),s.size>0&&(null===(i=t.ontologyTerms)||void 0===i?void 0:i.length)>0&&(s=function(e,t,n){var r=new Map,i=new Set;e.some(function(e){var n;return t.has(e.subject.id)&&(i.add(e.object.id),r.has(e.object.id)?null===(n=r.get(e.object.id))||void 0===n||n.push(e.subject.id):r.set(e.object.id,[e.subject.id])),!1},null,de.spatialEntity,null,null);var a,o=n(i),s=new Set,u=w(o);try{for(u.s();!(a=u.n()).done;){var c,l=a.value,f=w(r.get(l)||[]);try{for(f.s();!(c=f.n()).done;){var d=c.value;s.add(d)}}catch(h){f.e(h)}finally{f.f()}}}catch(h){u.e(h)}finally{u.f()}return s}(e,s,function(n){return function(e,t,n){var r,i=new Set,a=w(n);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=f.DataFactory.namedNode(o);e.forSubjects(Ce(t,i),pe.spatialEntity.ccf_annotations,s,null)}}catch(u){a.e(u)}finally{a.f()}return i}(e,n,t.ontologyTerms)})),s.size>0&&2===(null===(a=t.ageRange)||void 0===a?void 0:a.length)&&Object(oe.isFinite)(t.ageRange[0])&&Object(oe.isFinite)(t.ageRange[1])){var c=Math.max.apply(Math,y(t.ageRange)),l=Math.min.apply(Math,y(t.ageRange));1===l&&110===c||(s=Pe(e,s,function(t){return function(e,t,n,r){var i=new Set;return e.some(function(e){if(t.has(e.subject.id)){var a=Object(se.fromRdf)(e.object);a>=n&&a<=r&&i.add(e.subject.id)}return!1},null,de.age,null,null),i}(e,t,l,c)}))}if(s.size>0&&2===(null===(o=t.bmiRange)||void 0===o?void 0:o.length)&&Object(oe.isFinite)(t.bmiRange[0])&&Object(oe.isFinite)(t.bmiRange[1])){var d=Math.max.apply(Math,y(t.bmiRange)),h=Math.min.apply(Math,y(t.bmiRange));13===h&&83===d||(s=Pe(e,s,function(t){return function(e,t,n,r){var i=new Set;return e.some(function(e){if(t.has(e.subject.id)){var a=Object(se.fromRdf)(e.object);a>=n&&a<=r&&i.add(e.subject.id)}return!1},null,de.bmi,null,null),i}(e,t,h,d)}))}return s}(this.store,e)}},{key:"get",value:function(e){return this.store.getQuads(f.DataFactory.namedNode(e),null,null,null)}},{key:"search",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return y(this.getIds(t)).map(function(t){return e.get(t)})}},{key:"getSpatialEntities",value:function(e){var t=this;return e=Object.assign(Object.assign({},e),{hasSpatialEntity:!0}),y(this.getIds(e)).map(function(e){return n=t.store,r=e,(i=n.getObjects(f.DataFactory.namedNode(r),de.spatialEntity,null)).length>0?ke(n,i[0].id):void 0;var n,r,i})}},{key:"getTissueBlockResults",value:function(e){return l(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(e=Object.assign(Object.assign({},e),{hasSpatialEntity:!0}),y(this.getIds(e)).map(function(e){return t=n.store,i={"@id":r=e,"@type":"Sample",sections:[],datasets:[]},t.some(function(e){var n=qe[e.predicate.id];if(n){var r="Literal"===e.object.termType?Object(se.fromRdf)(e.object):e.object.id;if("sections"===n){var a=function(e,t){var n={"@id":t,"@type":"Sample",datasets:[]};return e.some(function(t){var r=ze[t.predicate.id];if(r){var i="Literal"===t.object.termType?Object(se.fromRdf)(t.object):t.object.id;if("datasets"===r){var a=Ke(e,i);n[r].push(a)}else Object(oe.set)(n,r,i)}return!1},f.DataFactory.namedNode(t),null,null,null),n}(t,r);i[n].push(a)}else if("datasets"===n){var o=Ke(t,r);i[n].push(o)}else"donor"===n?i[n]=function(e,t){var n={"@id":t,"@type":"Donor"};return e.some(function(e){var t=Ge[e.predicate.id];if(t){var r="Literal"===e.object.termType?Object(se.fromRdf)(e.object):e.object.id;Object(oe.set)(n,t,r)}return!1},f.DataFactory.namedNode(t),null,null,null),n}(t,r):Object(oe.set)(i,n,r)}return!1},f.DataFactory.namedNode(r),null,null,null),i;var t,r,i})));case 1:case"end":return t.stop()}},t,this)}))}},{key:"getAggregateResults",value:function(e){return l(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",function(e,t){var n=new Set;t.some(function(t){return e.has(t.subject.id)&&n.add(t.object.id),!1},null,de.donor,null,null);var i=new Set;t.some(function(e){return n.has(e.subject.id)&&i.add(e.object.id),!1},null,de.providerUUID,null,null);var a=new Set;t.forSubjects(function(t){e.has(t.id)&&a.add(t.id)},de.spatialEntity,null,null);var o=new Set;t.some(function(e){return a.has(e.subject.id)&&o.add(e.object.id),!1},null,de.sections,null,null);var s=new Set;return t.some(function(e){var t=e.subject;return(a.has(t.id)||o.has(t.id))&&s.add(e.object.id),!1},null,de.datasets,null,null),Object.entries({"Tissue Data Providers":i.size,Donors:n.size,"Tissue Blocks":a.size,"Tissue Sections":o.size,"Tissue Datasets":s.size}).map(function(e){var t=r(e,2);return{label:t[0],count:t[1]}})}(this.getIds(e),this.store));case 1:case"end":return t.stop()}},t,this)}))}},{key:"getOntologyTermOccurences",value:function(e){return l(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",function(e,t){var n=new Map;t.some(function(t){return e.has(t.subject.id)&&(n.has(t.object.id)?n.get(t.object.id).push(t.subject.id):n.set(t.object.id,[t.subject.id])),!1},null,de.spatialEntity,null,null);var r={};return t.some(function(e){var t,i;if(n.has(e.subject.id)){var a=null!==(i=null===(t=n.get(e.subject.id))||void 0===t?void 0:t.length)&&void 0!==i?i:0;r[e.object.id]=a+(r[e.object.id]||0)}return!1},null,pe.spatialEntity.ccf_annotations,null,null),r}(this.getIds(e),this.store));case 1:case"end":return t.stop()}},t,this)}))}},{key:"getOntologyTreeModel",value:function(){return l(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",function(e){var t={root:ye.body.id,nodes:{}},n=new Set;e.some(function(e){return n.add(e.subject.id),n.add(e.predicate.id),!1},null,pe.ontologyNode.parent,null,null);var r,i=w(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;t.nodes[a]=Be(e,a)}}catch(o){i.e(o)}finally{i.f()}return t}(this.store));case 1:case"end":return e.stop()}},e,this)}))}},{key:"getReferenceOrgans",value:function(){return l(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.scene.getReferenceOrgans());case 1:case"end":return e.stop()}},e,this)}))}},{key:"getScene",value:function(e){return l(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(this.graph.createGraph(),this.scene.getScene(e)));case 1:case"end":return t.stop()}},t,this)}))}}]),e}()))},PDru:function(e,t){var n="undefined"!=typeof ArrayBuffer,r="undefined"!=typeof Symbol;function i(e,t){var i,a,o,s,u;if(!e)throw new Error("obliterator/forEach: invalid iterable.");if("function"!=typeof t)throw new Error("obliterator/forEach: expecting a callback.");if(Array.isArray(e)||n&&ArrayBuffer.isView(e)||"string"==typeof e||"[object Arguments]"===e.toString())for(o=0,s=e.length;o<s;o++)t(e[o],o);else if("function"!=typeof e.forEach)if(r&&Symbol.iterator in e&&"function"!=typeof e.next&&(e=e[Symbol.iterator]()),"function"!=typeof e.next)for(a in e)e.hasOwnProperty(a)&&t(e[a],a);else for(i=e,o=0;!0!==(u=i.next()).done;)t(u.value,o),o++;else e.forEach(t)}i.forEachWithNullKeys=function(e,t){var i,a,o,s,u;if(!e)throw new Error("obliterator/forEachWithNullKeys: invalid iterable.");if("function"!=typeof t)throw new Error("obliterator/forEachWithNullKeys: expecting a callback.");if(Array.isArray(e)||n&&ArrayBuffer.isView(e)||"string"==typeof e||"[object Arguments]"===e.toString())for(o=0,s=e.length;o<s;o++)t(e[o],null);else if(e instanceof Set)e.forEach(function(e){t(e,null)});else if("function"!=typeof e.forEach)if(r&&Symbol.iterator in e&&"function"!=typeof e.next&&(e=e[Symbol.iterator]()),"function"!=typeof e.next)for(a in e)e.hasOwnProperty(a)&&t(e[a],a);else for(i=e,o=0;!0!==(u=i.next()).done;)t(u.value,null),o++;else e.forEach(t)},e.exports=i},Pmum:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultGraph=void 0;var r=function(){function e(){S(this,e),this.termType="DefaultGraph",this.value=""}return N(e,[{key:"equals",value:function(e){return!!e&&"DefaultGraph"===e.termType}}]),e}();t.DefaultGraph=r,r.INSTANCE=new r},TrB0:function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n("8Xj3")),r(n("+2nh")),r(n("cTvG")),r(n("mMj5")),r(n("6smP"))},YXac:function(e,t,n){var r;!function(n){"use strict";function i(e,t){var n=Math.abs(e),r=Math.abs(t);return 0===e?Math.log(r):0===t?Math.log(n):n<3e3&&r<3e3?.5*Math.log(e*e+t*t):Math.log(e/Math.cos(Math.atan2(t,e)))}var a={w:1,x:0,y:0,z:0};function o(e,t,n,r,i){if(void 0!==i)return e.w=t,e.x=n,e.y=r,void(e.z=i);if("object"==typeof t&&void 0===r){if("w"in t||"x"in t||"y"in t||"z"in t)return e.w=t.w||0,e.x=t.x||0,e.y=t.y||0,void(e.z=t.z||0);if("re"in t&&"im"in t)return e.w=t.re,e.x=t.im,e.y=0,void(e.z=0);if(4===t.length)return e.w=t[0],e.x=t[1],e.y=t[2],void(e.z=t[3]);if(3===t.length)return e.w=0,e.x=t[0],e.y=t[1],void(e.z=t[2]);throw new Error("Invalid object")}if("string"!=typeof t||void 0!==r)void 0===t&&e!==a?(e.w=1,e.x=e.y=e.z=0):(e.w=t||0,n&&3===n.length?(e.x=n[0],e.y=n[1],e.z=n[2]):(e.x=n||0,e.y=r||0,e.z=i||0));else{var o=t.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),s=1,u=0,c={i:"x",j:"y",k:"z"};if(null===o)throw new Error("Parse error");e.w=e.x=e.y=e.z=0;for(var l=0;l<o.length;l++){var f=o[l],d=o[l+1];if(" "===f||"\t"===f||"\n"===f);else if("+"===f)s++;else if("-"===f)u++;else{if(s+u===0)throw new Error("Parse error"+f);var h=c[f];if(void 0!==h)" "===d||isNaN(d)?f="1":(f=d,l++);else{if(isNaN(f))throw new Error("Parser error");void 0!==(h=c[d])&&l++}e[h||"w"]+=parseFloat((u%2?"-":"")+f),s=u=0}}if(s+u>0)throw new Error("Parser error")}}function s(e,t,n){var r="";return 0!==e&&(""!==n?r+=e<0?" - ":" + ":e<0&&(r+="-"),1===(e=Math.abs(e))&&""!==t||(r+=e),r+=t),r}function u(e,t,n,r){if(!(this instanceof u))return new u(e,t,n,r);o(this,e,t,n,r)}u.prototype={w:1,x:0,y:0,z:0,add:function(e,t,n,r){return o(a,e,t,n,r),new u(this.w+a.w,this.x+a.x,this.y+a.y,this.z+a.z)},sub:function(e,t,n,r){return o(a,e,t,n,r),new u(this.w-a.w,this.x-a.x,this.y-a.y,this.z-a.z)},neg:function(){return new u(-this.w,-this.x,-this.y,-this.z)},norm:function(){var e=this.w,t=this.x,n=this.y,r=this.z;return Math.sqrt(e*e+t*t+n*n+r*r)},normSq:function(){var e=this.w,t=this.x,n=this.y,r=this.z;return e*e+t*t+n*n+r*r},normalize:function(){var e=this.w,t=this.x,n=this.y,r=this.z,i=Math.sqrt(e*e+t*t+n*n+r*r);return i<u.EPSILON?u.ZERO:new u(e*(i=1/i),t*i,n*i,r*i)},mul:function(e,t,n,r){o(a,e,t,n,r);var i=this.w,s=this.x,c=this.y,l=this.z,f=a.w,d=a.x,h=a.y,p=a.z;return new u(i*f-s*d-c*h-l*p,i*d+s*f+c*p-l*h,i*h+c*f+l*d-s*p,i*p+l*f+s*h-c*d)},scale:function(e){return new u(this.w*e,this.x*e,this.y*e,this.z*e)},dot:function(e,t,n,r){return o(a,e,t,n,r),this.w*a.w+this.x*a.x+this.y*a.y+this.z*a.z},inverse:function(){var e=this.w,t=this.x,n=this.y,r=this.z,i=e*e+t*t+n*n+r*r;return 0===i?u.ZERO:new u(e*(i=1/i),-t*i,-n*i,-r*i)},div:function(e,t,n,r){o(a,e,t,n,r);var i=this.w,s=this.x,c=this.y,l=this.z,f=a.w,d=a.x,h=a.y,p=a.z,v=f*f+d*d+h*h+p*p;return 0===v?u.ZERO:new u((i*f+s*d+c*h+l*p)*(v=1/v),(s*f-i*d-c*p+l*h)*v,(c*f-i*h-l*d+s*p)*v,(l*f-i*p-s*h+c*d)*v)},conjugate:function(){return new u(this.w,-this.x,-this.y,-this.z)},exp:function(){var e=this.w,t=this.x,n=this.y,r=this.z,i=Math.sqrt(t*t+n*n+r*r),a=Math.exp(e),o=a/i*Math.sin(i);return 0===i?new u(a,0,0,0):new u(a*Math.cos(i),t*o,n*o,r*o)},log:function(){var e=this.w,t=this.x,n=this.y,r=this.z;if(0===n&&0===r)return new u(i(e,t),Math.atan2(t,e),0,0);var a=t*t+n*n+r*r+e*e,o=Math.sqrt(t*t+n*n+r*r),s=Math.atan2(o,e)/o;return new u(.5*Math.log(a),t*s,n*s,r*s)},pow:function(e,t,n,r){if(o(a,e,t,n,r),0===a.y&&0===a.z){if(1===a.w&&0===a.x)return this;if(0===a.w&&0===a.x)return u.ONE;if(0===this.y&&0===this.z){var s=this.w,c=this.x;if(0===s&&0===c)return u.ZERO;var l=Math.atan2(c,s),f=i(s,c);if(0===a.x){if(0===c&&s>=0)return new u(Math.pow(s,a.w),0,0,0);if(0===s)switch(a.w%4){case 0:return new u(Math.pow(c,a.w),0,0,0);case 1:return new u(0,Math.pow(c,a.w),0,0);case 2:return new u(-Math.pow(c,a.w),0,0,0);case 3:return new u(0,-Math.pow(c,a.w),0,0)}}return s=Math.exp(a.w*f-a.x*l),c=a.x*f+a.w*l,new u(s*Math.cos(c),s*Math.sin(c),0,0)}}return this.log().mul(a).exp()},equals:function(e,t,n,r){o(a,e,t,n,r);var i=u.EPSILON;return Math.abs(a.w-this.w)<i&&Math.abs(a.x-this.x)<i&&Math.abs(a.y-this.y)<i&&Math.abs(a.z-this.z)<i},isFinite:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){return isFinite(this.w)&&isFinite(this.x)&&isFinite(this.y)&&isFinite(this.z)}),isNaN:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){return isNaN(this.w)||isNaN(this.x)||isNaN(this.y)||isNaN(this.z)}),toString:function(){var e=this.w,t=this.x,n=this.y,r=this.z,i="";return isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)?"NaN":(i=s(e,"",i),i+=s(t,"i",i),i+=s(n,"j",i),""===(i+=s(r,"k",i))?"0":i)},real:function(){return this.w},imag:function(){return[this.x,this.y,this.z]},toVector:function(){return[this.w,this.x,this.y,this.z]},toMatrix:function(e){var t=this.w,n=this.x,r=this.y,i=this.z,a=t*t+n*n+r*r+i*i,o=0===a?0:2/a,s=o*t*n,u=o*t*r,c=o*t*i,l=o*n*n,f=o*n*r,d=o*n*i,h=o*r*r,p=o*r*i,v=o*i*i;return e?[[1-(h+v),f-c,d+u],[f+c,1-(l+v),p-s],[d-u,p+s,1-(l+h)]]:[1-(h+v),f-c,d+u,f+c,1-(l+v),p-s,d-u,p+s,1-(l+h)]},toMatrix4:function(e){var t=this.w,n=this.x,r=this.y,i=this.z,a=t*t+n*n+r*r+i*i,o=0===a?0:2/a,s=o*t*n,u=o*t*r,c=o*t*i,l=o*n*n,f=o*n*r,d=o*n*i,h=o*r*r,p=o*r*i,v=o*i*i;return e?[[1-(h+v),f-c,d+u,0],[f+c,1-(l+v),p-s,0],[d-u,p+s,1-(l+h),0],[0,0,0,1]]:[1-(h+v),f-c,d+u,0,f+c,1-(l+v),p-s,0,d-u,p+s,1-(l+h),0,0,0,0,1]},clone:function(){return new u(this)},rotateVector:function(e){var t=this.w,n=this.x,r=this.y,i=this.z,a=e[0],o=e[1],s=e[2],u=-n*a-r*o-i*s,c=t*a+r*s-i*o,l=t*o+i*a-n*s,f=t*s+n*o-r*a;return[c*t-u*n-l*i+f*r,l*t-u*r-f*n+c*i,f*t-u*i-c*r+l*n]},slerp:function(e,t,n,r){o(a,e,t,n,r);var i=this.w,s=this.x,c=this.y,l=this.z,f=a.w,d=a.x,h=a.y,p=a.z,v=i*f+s*d+c*h+l*p;if(v<0&&(i=-i,s=-s,c=-c,l=-l,v=-v),v>.9995)return function(e){return new u(i+e*(f-i),s+e*(d-s),c+e*(h-c),l+e*(p-l)).normalize()};var g=Math.acos(v),y=Math.sin(g);return function(e){var t=g*e,n=Math.sin(t),r=Math.cos(t)-v*n/y,a=n/y;return new u(r*i+a*f,r*s+a*d,r*c+a*h,r*l+a*p)}}},u.ZERO=new u(0,0,0,0),u.ONE=new u(1,0,0,0),u.I=new u(0,1,0,0),u.J=new u(0,0,1,0),u.K=new u(0,0,0,1),u.EPSILON=1e-16,u.fromAxisAngle=function(e,t){var n=.5*t,r=e[0],i=e[1],a=e[2],o=Math.sin(n),s=Math.cos(n),c=o/Math.sqrt(r*r+i*i+a*a);return new u(s,r*c,i*c,a*c)},u.fromBetweenVectors=function(e,t){var n=e[0],r=e[1],i=e[2],a=t[0],o=t[1],s=t[2],c=n*a+r*o+i*s,l=r*s-i*o,f=i*a-n*s,d=n*o-r*a;return new u(c+Math.sqrt(c*c+l*l+f*f+d*d),l,f,d).normalize()},u.fromEuler=function(e,t,n,r){var i=.5*t,a=.5*n,o=.5*e,s=Math.cos(i),c=Math.cos(a),l=Math.cos(o),f=Math.sin(i),d=Math.sin(a),h=Math.sin(o);return void 0===r||"ZXY"===r?new u(s*c*l-f*d*h,f*c*l-s*d*h,s*d*l+f*c*h,s*c*h+f*d*l):"XYZ"===r?new u(s*c*l-f*d*h,f*c*l+s*d*h,s*d*l-f*c*h,s*c*h+f*d*l):"YXZ"===r?new u(s*c*l+f*d*h,f*c*l+s*d*h,s*d*l-f*c*h,s*c*h-f*d*l):"ZYX"===r?new u(s*c*l+f*d*h,f*c*l-s*d*h,s*d*l+f*c*h,s*c*h-f*d*l):"YZX"===r?new u(s*c*l-f*d*h,f*c*l+s*d*h,s*d*l+f*c*h,s*c*h-f*d*l):"XZY"===r?new u(s*c*l+f*d*h,f*c*l-s*d*h,s*d*l-f*c*h,s*c*h+f*d*l):null},void 0===(r=(function(){return u}).apply(t,[]))||(e.exports=r)}()},YuTi:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},cJZx:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BlankNode=void 0,t.BlankNode=function(){function e(t){S(this,e),this.termType="BlankNode",this.value=t}return N(e,[{key:"equals",value:function(e){return!!e&&"BlankNode"===e.termType&&e.value===this.value}}]),e}()},cTvG:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("FZPO"),i=function(){function e(){S(this,e)}return N(e,[{key:"fromRdf",value:function(e,t){var n=parseFloat(e.value);return t&&isNaN(n)&&r.Translator.incorrectRdfDataType(e),n}},{key:"toRdf",value:function(t,n){var r=n.datatype,i=n.dataFactory;return r=r||i.namedNode(e.TYPES[0]),isNaN(t)?i.literal("NaN",r):isFinite(t)?t%1==0?null:i.literal(t.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),r):i.literal(t>0?"INF":"-INF",r)}}]),e}();t.TypeHandlerNumberDouble=i,i.TYPES=["http://www.w3.org/2001/XMLSchema#double","http://www.w3.org/2001/XMLSchema#decimal","http://www.w3.org/2001/XMLSchema#float"]},g5aj:function(e,t,n){var r=n("04/w"),i=n("PDru");function a(){this.clear()}a.prototype.clear=function(){this.items=[],this.offset=0,this.size=0},a.prototype.enqueue=function(e){return this.items.push(e),++this.size},a.prototype.dequeue=function(){if(this.size){var e=this.items[this.offset];return 2*++this.offset>=this.items.length&&(this.items=this.items.slice(this.offset),this.offset=0),this.size--,e}},a.prototype.peek=function(){if(this.size)return this.items[this.offset]},a.prototype.forEach=function(e,t){t=arguments.length>1?t:this;for(var n=this.offset,r=0,i=this.items.length;n<i;n++,r++)e.call(t,this.items[n],r,this)},a.prototype.toArray=function(){return this.items.slice(this.offset)},a.prototype.values=function(){var e=this.items,t=this.offset;return new r(function(){if(t>=e.length)return{done:!0};var n=e[t];return t++,{value:n,done:!1}})},a.prototype.entries=function(){var e=this.items,t=this.offset,n=0;return new r(function(){if(t>=e.length)return{done:!0};var r=e[t];return t++,{value:[n++,r],done:!1}})},"undefined"!=typeof Symbol&&(a.prototype[Symbol.iterator]=a.prototype.values),a.prototype.toString=function(){return this.toArray().join(",")},a.prototype.toJSON=function(){return this.toArray()},a.prototype.inspect=function(){var e=this.toArray();return Object.defineProperty(e,"constructor",{value:a,enumerable:!1}),e},"undefined"!=typeof Symbol&&(a.prototype[Symbol.for("nodejs.util.inspect.custom")]=a.prototype.inspect),a.from=function(e){var t=new a;return i(e,function(e){t.enqueue(e)}),t},a.of=function(){return a.from(arguments)},e.exports=a},gCan:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Quad=void 0,t.Quad=function(){function e(t,n,r,i){S(this,e),this.termType="Quad",this.value="",this.subject=t,this.predicate=n,this.object=r,this.graph=i}return N(e,[{key:"equals",value:function(e){return!!e&&("Quad"===e.termType||!e.termType)&&this.subject.equals(e.subject)&&this.predicate.equals(e.predicate)&&this.object.equals(e.object)&&this.graph.equals(e.graph)}}]),e}()},ge0l:function(e,t){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(e.exports=n=function(e){return typeof e},e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.default=e.exports,e.exports.__esModule=!0),n(t)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},jOAU:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Literal=void 0;var r=n("mTX8"),i=function(){function e(t,n){S(this,e),this.termType="Literal",this.value=t,"string"==typeof n?(this.language=n,this.datatype=e.RDF_LANGUAGE_STRING):n?(this.language="",this.datatype=n):(this.language="",this.datatype=e.XSD_STRING)}return N(e,[{key:"equals",value:function(e){return!!e&&"Literal"===e.termType&&e.value===this.value&&e.language===this.language&&e.datatype.equals(this.datatype)}}]),e}();t.Literal=i,i.RDF_LANGUAGE_STRING=new r.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),i.XSD_STRING=new r.NamedNode("http://www.w3.org/2001/XMLSchema#string")},"l/hW":function(e,t,n){"use strict";e.exports=function(e){var t=e[0],n=e[1],r=e[2],i=e[3];return[Math.atan2(2*(t*n+r*i),1-2*(n*n+r*r)),Math.asin(2*(t*r-i*n)),Math.atan2(2*(t*i+n*r),1-2*(r*r+i*i))]}},mMj5:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("FZPO"),i=function(){function e(){S(this,e)}return N(e,[{key:"fromRdf",value:function(e,t){var n=parseInt(e.value,10);return t&&(isNaN(n)||e.value.indexOf(".")>=0)&&r.Translator.incorrectRdfDataType(e),n}},{key:"toRdf",value:function(t,n){var r=n.datatype,i=n.dataFactory;return i.literal(String(t),r||i.namedNode(t<=e.MAX_INT&&t>=e.MIN_INT?e.TYPES[0]:e.TYPES[1]))}}]),e}();t.TypeHandlerNumberInteger=i,i.TYPES=["http://www.w3.org/2001/XMLSchema#integer","http://www.w3.org/2001/XMLSchema#long","http://www.w3.org/2001/XMLSchema#int","http://www.w3.org/2001/XMLSchema#byte","http://www.w3.org/2001/XMLSchema#short","http://www.w3.org/2001/XMLSchema#negativeInteger","http://www.w3.org/2001/XMLSchema#nonNegativeInteger","http://www.w3.org/2001/XMLSchema#nonPositiveInteger","http://www.w3.org/2001/XMLSchema#positiveInteger","http://www.w3.org/2001/XMLSchema#unsignedByte","http://www.w3.org/2001/XMLSchema#unsignedInt","http://www.w3.org/2001/XMLSchema#unsignedLong","http://www.w3.org/2001/XMLSchema#unsignedShort"],i.MAX_INT=2147483647,i.MIN_INT=-2147483648},mTX8:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NamedNode=void 0,t.NamedNode=function(){function e(t){S(this,e),this.termType="NamedNode",this.value=t}return N(e,[{key:"equals",value:function(e){return!!e&&"NamedNode"===e.termType&&e.value===this.value}}]),e}()},mtbl:function(e,t,n){var r=n("tXxl"),i=n("g5aj"),a=n("x4yT");function o(e,t,n){if(!r(e))throw new Error("graphology-shortest-path: invalid graphology instance.");if(arguments.length<3)throw new Error("graphology-shortest-path: invalid number of arguments. Expecting at least 3.");if(!e.hasNode(t))throw new Error('graphology-shortest-path: the "'+t+'" source node does not exist in the given graph.');if(!e.hasNode(n))throw new Error('graphology-shortest-path: the "'+n+'" target node does not exist in the given graph.');if((t=""+t)==(n=""+n))return[t];var i=e.inboundNeighbors.bind(e),a=e.outboundNeighbors.bind(e),o={},s={};o[t]=null,s[n]=null;var u,c,l,f,d,h,p,v,g=[t],y=[n],b=!1;e:for(;g.length&&y.length;)if(g.length<=y.length){for(u=g,g=[],d=0,p=u.length;d<p;d++)for(h=0,v=(l=a(c=u[d])).length;h<v;h++)if((f=l[h])in o||(g.push(f),o[f]=c),f in s){b=!0;break e}}else for(u=y,y=[],d=0,p=u.length;d<p;d++)for(h=0,v=(l=i(c=u[d])).length;h<v;h++)if((f=l[h])in s||(y.push(f),s[f]=c),f in o){b=!0;break e}if(!b)return null;for(var m=[];f;)m.unshift(f),f=o[f];for(f=s[m[m.length-1]];f;)m.push(f),f=s[f];return m.length?m:null}function s(e,t){if(!r(e))throw new Error("graphology-shortest-path: invalid graphology instance.");if(arguments.length<2)throw new Error("graphology-shortest-path: invalid number of arguments. Expecting at least 2.");if(!e.hasNode(t))throw new Error('graphology-shortest-path: the "'+t+'" source node does not exist in the given graph.');var n,i,a,o,s,u,c={},l={};for(c[t=""+t]=!0,l[t]=[t];Object.keys(c).length;)for(a in n=c,c={},n)for(s=0,u=(i=e.outboundNeighbors(a)).length;s<u;s++)l[o=i[s]]||(l[o]=l[a].concat(o),c[o]=!0);return l}function u(e,t,n){if(!r(t))throw new Error("graphology-shortest-path: invalid graphology instance.");if(!t.hasNode(n))throw new Error('graphology-shortest-path: the "'+n+'" source node does not exist in the given graph.');n=""+n;var i=new Set,o={},s=0;o[n]=0;for(var u,c,l,f=[n];0!==f.length;){var d=[];for(u=0,c=f.length;u<c;u++)i.has(l=f[u])||(i.add(l),a(d,t[e](l)),o[l]=s);s++,f=d}return o}var c=u.bind(null,"outboundNeighbors"),l=u.bind(null,"neighbors");function f(e,t,n){return arguments.length<3?s(e,t):o(e,t,n)}f.bidirectional=o,f.singleSource=s,f.singleSourceLength=c,f.undirectedSingleSourceLength=l,f.brandes=function(e,t){t=""+t;var n,r,a,o,s,u,c,l,f,d=[],h={},p={},v=e.nodes();for(u=0,l=v.length;u<l;u++)h[o=v[u]]=[],p[o]=0;var g={};p[t]=1,g[t]=0;for(var y=i.of(t);y.size;)for(o=y.dequeue(),d.push(o),n=g[o],r=p[o],c=0,f=(a=e.outboundNeighbors(o)).length;c<f;c++)(s=a[c])in g||(y.enqueue(s),g[s]=n+1),g[s]===n+1&&(p[s]+=r,h[s].push(o));return[d,h,p]},e.exports=f},oioK:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Variable=void 0,t.Variable=function(){function e(t){S(this,e),this.termType="Variable",this.value=t}return N(e,[{key:"equals",value:function(e){return!!e&&"Variable"===e.termType&&e.value===this.value}}]),e}()},tXxl:function(e,t){e.exports=function(e){return null!==e&&"object"==typeof e&&"function"==typeof e.addUndirectedEdgeWithKey&&"function"==typeof e.dropNode&&"boolean"==typeof e.multi}},x4yT:function(e,t){e.exports=function(e,t){var n=t.length;if(0!==n){var r=e.length;e.length+=n;for(var i=0;i<n;i++)e[r+i]=t[i]}}},xRMx:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n("cJZx"),t),i(n("E/GK"),t),i(n("Pmum"),t),i(n("jOAU"),t),i(n("mTX8"),t),i(n("gCan"),t),i(n("oioK"),t)}})}();